{"version":3,"sources":["utils/NavigationClient.js","authConfig.js","constants/modalType.constants.js","constants/userRoles.constants.js","constants/loadingMessages.constants.js","constants/global.constants.js","components/LoadingIndicator/Circle.js","components/LoadingIndicator/Wrapper.js","components/LoadingIndicator/index.js","utils/showConfirmBox.js","views/Modal/constants.js","views/Modal/actions.js","helpers/history.js","helpers/validators.js","utils/HeadersCall.js","services/operat.service.js","services/operator.service.js","services/order.service.js","utils/addNotification.js","services/operatFiles.service.js","services/operatorFiles.service.js","services/operatType.service.js","services/user.service.js","services/admin.service.js","services/client.service.js","services/clientFiles.service.js","services/landRegister.service.js","services/map.service.js","views/History/HistoryRow.jsx","utils/capitalizeFirstLetter.js","views/History/constants.js","views/History/reducer.js","views/History/selectors.js","views/History/actions.js","views/App/constants.js","views/App/reducer.js","views/App/selectors.js","utils/checkStore.js","utils/history.js","views/Market/constants.js","views/Market/reducer.js","views/Modal/reducer.js","views/User/constants.js","views/User/reducer.js","views/Operat/constants.js","views/Operat/reducer.js","views/Users/constants.js","views/Users/reducer.js","utils/DateFormat.js","views/Chat/constants.js","views/Chat/reducer.js","views/Subscriptions/constants.js","views/Subscriptions/reducer.js","reducers.js","utils/reducerInjectors.js","utils/injectReducer.js","utils/request.js","views/Modal/timeout.js","views/History/saga.js","utils/constants.js","utils/sagaInjectors.js","utils/injectSaga.js","components/NewOperatForm/index.js","components/Filters/Operat.js","components/ShowIdCheckbox/index.js","views/History/History.jsx","views/Maps/MapWithMarker.jsx","views/Maps/MapToPrewiew.jsx","views/Common/OrderInfoUncontrolledCollapse.jsx","views/Chat/actions.js","views/Common/UserInfo.jsx","components/NewOfferForm/index.js","components/Filters/OrderProposition.js","views/Market/PropositionList.jsx","views/Market/AnnouncedOrder.jsx","utils/validateLandRegisterCode.js","components/NewOrderForm/index.js","views/Market/PaidOrder.jsx","views/Market/ReservedOrder.jsx","components/ReviewForm/index.js","views/Market/SignedOrder.jsx","components/Filters/Market.js","views/Market/selectors.js","views/Market/actions.js","views/Market/saga.js","views/App/actions.js","views/Market/Market.jsx","views/Operat/actions.js","views/Operat/CsvComponent.jsx","assets/img/exclamation.svg","views/Operat/InfoForAdmin.jsx","views/Operat/InputArea.jsx","views/Common/ImageDropzone.jsx","views/Operat/ImageCarousel.jsx","views/Operat/ReactstrapImageGallery.jsx","views/Operat/PhotoArea.jsx","views/Operat/selectors.js","views/Operat/saga.js","views/Operat/Weights.jsx","utils/fixPercentValue.js","views/Operat/Protocol.jsx","views/Operat/Create.jsx","views/User/UserImageDropzone.jsx","views/User/UserUploadedFiles.jsx","views/User/UserFilesTab.jsx","views/User/EditUser.jsx","assets/img/damir-bosnjak.jpg","components/Tables/ReadonlyTable.js","views/User/UserProfileTab.jsx","assets/img/default-avatar.png","components/OperatorTrainingForm/index.js","views/User/OperatorTrainingsTab.jsx","views/User/actions.js","views/User/selectors.js","views/User/saga.js","views/User/Users.jsx","views/Users/selectors.js","views/Users/actions.js","views/Users/saga.js","components/Filters/Users.js","views/Users/Users.jsx","views/Logout/index.js","views/Subscriptions/selectors.js","views/Subscriptions/actions.js","views/Subscriptions/saga.js","views/Subscriptions/SubscriptionRow.jsx","views/Subscriptions/Subscriptions.jsx","routes/operator.routes.js","views/EmptyUser/EmptyUser.jsx","components/Navbars/MessageBell.jsx","components/Navbars/SettingsItem.jsx","components/Navbars/NameItem.jsx","i18n.js","components/Navbars/Language.jsx","components/Sidebar/Sidebar.jsx","layouts/GeneralLayout.jsx","components/Navbars/DemoNavbar.jsx","components/Footer/Footer.jsx","logo.svg","components/FixedPlugin/FixedPlugin.jsx","components/FixedPlugin/ScrollButton.jsx","routes/admin.routes.js","routes/client.routes.js","routes/empty.routes.js","views/Login.jsx","services/certificate.service.js","views/Modal/NewCertificateForm.jsx","views/Modal/Modals.collection.js","views/Modal/selectors.js","views/Modal/LoadingModal.jsx","views/App/saga.js","views/Chat/selectors.js","views/Chat/saga.js","views/Chat/Chat.js","views/App/App.jsx","index.js","configureStore.js"],"names":["CustomNavigationClient","history","url","options","relativePath","replace","window","location","origin","noHistory","this","push","NavigationClient","b2cPolicies","signUpSignIn","process","forgotPassword","editProfile","authority","msalConfig","auth","clientId","knownAuthorities","split","redirectUri","postLogoutRedirectUri","navigateToLoginRequestUrl","cache","cacheLocation","storeAuthStateInCookie","system","loggerOptions","loggerCallback","level","message","containsPii","LogLevel","Error","console","error","Info","info","Verbose","debug","Warning","warn","loginRequest","scopes","modalTypeConstants","userRolesConstants","loadingMessagesConstants","globalConstants","circleFadeDelay","keyframes","Circle","props","CirclePrimitive","styled","div","rotate","delay","Wrapper","LoadingIndicator","showConfirmBox","title","okFunction","confirm","confirmText","cancelText","confirmColor","cancelColor","MODAL_SHOW_LOADING_SCREEN","MODAL_HIDE_LOADING_SCREEN","showLoadingScreen","type","data","payload","showModal","hideLoadingScreen","createBrowserHistory","validators","validatePositiveNumbers","evt","regex","theEvent","event","key","keyCode","which","String","fromCharCode","val","target","value","clipboardData","getData","test","classList","remove","tcl","add","setTimeout","returnValue","preventDefault","callForHeader","account","msalInstance","getActiveAccount","request","acquireTokenSilent","catch","log","acquireTokenRedirect","then","tokenResponse","response","idTokenClaims","exp","auth_time","localStorage","setItem","idToken","headers","Headers","bearer","append","content","apiUrl","operatService","get","createOperat","getFile","generateOperat","signPdf","copyOperat","sendOperat","getByOrderId","postReview","getOperatReview","obstructOperat","addAttachments","id","includeOc","includeDiploma","files","formData","FormData","forEach","x","requestOptions","method","body","fetch","handleResponse","JSON","stringify","certificatePassword","orderId","review","operatId","text","startsWith","parse","ok","status","Promise","reject","statusText","pageCount","operatorService","getOperatorData","getOperators","promote","updateOper","getOperatorReviews","getOperatorTrainings","addTraining","deleteTraining","operatorId","training","promotion","orderService","getOperatorOrders","reserveOrder","getSingleOrder","guidOrder","guidOperator","addNotification","Store","insert","container","animationIn","animationOut","dismiss","duration","showIcon","operatFilesService","getFormatedFilesByOperat","getFilesByOperat","sendJSONFile","sendCSVFile","sendPICTUREFile","copyOperatParams","copyOperatCsv","copyOperatPhotos","uploadOwnGenerated","removeSingleFile","copyOperatWeights","useCache","fromId","toId","file","fileName","replaceAll","filter","Object","prototype","hasOwnProperty","call","length","element","idx","name","blb","Blob","input","weights","jsonToCSV","resolve","json","items","map","item","header","keys","i","weight","find","property","isNaN","max","Math","apply","ratings","parseInt","rate","join","row","fieldName","operatorFilesService","getOperatorFiles","sendOperatorFile","removeOperatorFileByName","getFileBlob","getFileByFilename","filename","responseType","resp","handleDownloadResponse","blob","URL","createObjectURL","link","document","createElement","href","setAttribute","appendChild","click","parentNode","removeChild","operatTypeService","getTypeParams","userService","getUserType","adminService","getAdminDataById","updateUserInfo","clientService","createNewClient","getClientData","updateClient","newClient","clientFilesService","getFiles","landRegisterService","check","code","encodeURIComponent","mapService","address","zoom","HistoryRow","t","useTranslation","dispatch","useDispatch","useState","operat","setOperat","useHistory","inputFile","useRef","inputFileSigned","useEffect","handleLoadOperatOrder","redirectToOperatPage","search","URLSearchParams","set","pathname","toString","operatOrder","loading","color","onClick","disabled","isOwnGenerated","style","width","result","handleLoadOperats","handleSetActiveOperat","err","translate","current","shouldBeValidated","placement","ref","display","accept","onChange","handleUploadOwnGeneratedOperat","currentTarget","includes","toLowerCase","item2","open","reload","alert","handleUploadSignedOperat","sendFunction","handleSendPdf","handleRemoveOperat","capitalizeFirstLetter","string","charAt","toUpperCase","slice","LOAD_OPERATS","OPERATS_LOADED","LOAD_OPERATS_ERROR","REMOVE_OPERAT","SET_ACTIVE_OPERAT","CREATE_OPERAT","SELECT_OPERAT_TYPE","SET_PAGE_NUMBER","LOAD_OPERAT_ORDER","OPERAT_ORDER_LOADED","LOAD_OPERAT_ORDER_ERROR","SEND_PDF","UPLOAD_OWN_GENERATED","SET_OPERATS_FILTERS","SET_OPERATS_SORT_PARAMETERS","UPLOAD_SIGNED_OPERAT","initialState","activeOperat","selectedOperatType","operats","sortFieldName","sortDirection","filters","createdDateTimeFrom","createdDateTimeTo","pageNumber","operatsPageReducer","state","action","produce","draft","selectOperatsPage","operatsPage","makeSelectActiveOperat","createSelector","makeSelectOperats","loadOperats","operatsLoaded","operatOrderLoaded","LOAD_OPERAT_TYPES","OPERAT_TYPES_LOADED","LOAD_OPERAT_TYPES_ERROR","LOAD_USER","USER_LOADED","LOAD_USER_ERROR","LOAD_EKW_DATA","EKW_DATA_LOADED","LOAD_PUBLIC_SETTINGS","PUBLIC_SETTINGS_LOADED","operatTypes","user","userType","ekw","regions","multipliers","publicSettings","globalReducer","selectGlobal","global","makeSelectUser","makeSelectOperatTypes","checkStore","store","shape","isFunction","subscribe","getState","replaceReducer","runSaga","injectedReducers","isObject","injectedSagas","invariant","conformsTo","LOAD_ORDERS","SET_ORDERS_PAGE_NUMBER","ORDERS_LOADED","LOAD_ORDERS_ERROR","SAVE_ORDER","ORDER_SAVED","SAVE_ORDER_ERROR","REPLACE_ORDER","ORDER_REPLACED","LOAD_PROPOSITIONS","PROPOSITIONS_LOADED","LOAD_PROPOSITIONS_ERROR","SAVE_PROPOSITION","RESERVE_ORDER_AND_PROPOSITION","UNRESERVE_PROPOSITION","SET_PROPOSITION_ID","PROPOSITION_REPLACED","REMOVE_ORDER","SET_ACTIVE_ORDER","ORDER_REMOVED","SET_ORDER_SORT_PARAMETERS","SET_ORDER_FILTERS","SET_PROPOSITIONS_SORT_PARAMETERS","SET_PROPOSITIONS_FILTER","CLEAR_PROPOSITION_FILTERS","PAY_FOR_OPERAT","activeOrder","description","operators","hasOperator","locationPostCode","lattitudeLongtitude","requeiresZbpList","isPrivate","shouldBeValidate","createdDateTime","orders","propositions","priceFrom","priceTo","upTillDateFrom","upTillDateTo","saveOrder","propositionId","marketPageReducer","concat","modalReducer","LOAD_TRAININGS","TRAININGS_LOADED","LOAD_TRAININGS_ERROR","LOAD_OPERATOR_PROFILE_DATA","OPERATOR_PROFILE_DATA_LOADED","LOAD_OPERATOR_PROFILE_DATA_ERROR","ADD_TRAINING","REMOVE_TRAINING","operatorProfileData","trainings","operatCount","reviews","diploma","operator","userReducer","FILES_CLEAR_STATE","FILES_GET_OPERAT","FILES_PUT_OPERAT","FILES_GET_INPUT","FILES_GET_PROTOCOL","FILES_GET_CSV","FILES_GET_BY_OPERAT","FILES_LOADED","FILES_EDIT_OPERAT","FILES_LOAD_EMPTY_OPERAT","FILES_LOAD_OPERAT_TYPE","FILES_ADD_LINE_TO_CSV","FILES_REMOVE_LINE_FROM_CSV","FILES_LOAD_EMPTY_INPUT","FILES_LOAD_EMPTY_PROTOCOL","FILES_LOAD_EMPTY_PHOTO","FILES_LOAD_PHOTO_FILE_TO_GALLERY","FILES_SEND_PHOTOS","FILES_ADD_LINES_TO_CSV_FROM_CSV","FILES_PUT_PROTOCOL","LOAD_OPERAT_INITIAL_WEIGHTS","REMOVE_PHOTOS","REMOVE_PHOTO_FILES","DOWNLOAD_FROM_EKW","GENERATE_OPERAT","GENERATE_PROTOCOL","REMOVE_OPERAT_FROM_GENERATED","SET_ALL_VALID","SAVE_INPUT_AREA","SAVE_PROTOCOL_AREA","CSV_EDIT_CELL","SAVE_WEIGHTS_AREA","FILES_GET_WEIGHTS","FILES_PUT_WEIGHTS","OPERAT_UPDATE_LIST","OPERAT_UPDATE_PROTOCOL_LIST","ADD_NEW_WEIGHT","PUT_RATE","ADD_NEW_RATE","REMOVE_WEIGHTS","REMOVE_RATINGS","SET_OPERAT","SAVE_CSV_AREA","operatTypeId","csv","photo","protocol","operatReducer","ex","updateList","src","list","del","splice","listIdx","kw","cellIndex","findIndex","cellToEdit","dataField","newValue","uuidv4","participation","justification","rateText","rowIndex","operatInfo","newRow","newRows","rows","some","shift","item1","generated","entries","obj","j","isValid","indexes","found","columnToChange","LOAD_USERS","USERS_LOADED","LOAD_USERS_ERROR","SET_USER_TYPE","PROMOTE_USER","SET_USER_SORT_PARAMETERS","SET_USERS_PAGE_NUMBER","SET_USER_FILTERS","users","mail","usersPageReducer","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","toDateString","monthNames","hours","getHours","minutes","getMinutes","seconds","getSeconds","LOAD_MESSAGES_WITH_USER","SET_CURRENTLY_CHAT_WITH","SET_CONNECTION","SET_MESSAGES_WITH_USER","LOAD_CONVERSATIONS","MARK_CONVERSATION_AS_READ","MARK_CONVERSATION_AS_UNREAD","SET_CHAT_IS_OPEN","TOGGLE_MESSAGE_VISIBLE","MARK_MESSAGES_AS_SEEN","OPEN_CHAT","connection","messages","currentlyChatWith","conversations","chatIsOpen","markConversationAs","userId","client","index","indexOf","unread","chatReducer","author","messageId","isStatusVisible","isDateVisible","LOAD_OPERATORS_INFO","OPERATORS_INFO_LOADED","LOAD_OPERATORS_INFO_ERROR","SET_SUBSCRIPTION_PAGE_NUMBER","SET_OPERATORS_INFO_SORT_PARAMETER","SET_OPERATORS_INFO_FILTERS","SET_CURRENT_OPERATOR","UPDATE_SUBSCRIPTION","CREATE_SUBSCRIPTION","RESET_SUBSCRIPTIONS","operatorsInfo","currentOperator","subscriptionsReducer","createReducer","rootReducer","combineReducers","router","connectRouter","marketPage","modal","usersPage","chat","subscriptions","injectReducerFactory","reducer","isString","isEmpty","Reflect","has","getInjectors","injectReducer","useInjectReducer","context","React","useContext","ReactReduxContext","parseJSON","checkStatus","handleRequestWithTimeout","requestUrl","race","timeout","getOperats","removeOperat","saveOperat","getOperatOrder","sendPdf","uploadOperat","uploadOwnGeneratedOperat","uploadSignedOperat","globalData","select","put","timeElapsed","now","today","formElement","querySelector","toLocaleString","Authorization","getItem","order","sendToPrincipal","emails","takeLatest","DAEMON","ONCE_TILL_UNMOUNT","allowedModes","checkKey","checkDescriptor","descriptor","saga","mode","injectSagaFactory","args","newDescriptor","hasSaga","task","ejectSagaFactory","cancel","injectSaga","ejectSaga","useInjectSaga","injectors","NewOperatForm","operatType","setOperatType","onSubmit","e","handleCreateOperat","required","className","handleSelectOperatType","placeholder","for","OperatFilters","handleSetOperatFilters","setCreatedDateTimeFrom","setCreatedDateTimeTo","ShowIdCheckbox","setIsIdHidden","isIdHidden","label","sm","size","checked","mapStateToProps","createStructuredSelector","withConnect","connect","setActiveOperat","selectOperatType","handleSetPageNumber","setPageNumber","handleSetOperatSortParameters","compose","memo","useSelector","isFiltersVisible","setIsFiltersVisible","isNewOperatFormVisible","setIsNewOperatFormVisible","isAdmin","sortable","onSort","field","sortFunc","a","b","rowA","rowB","sort","columns","hidden","editable","headerStyle","align","headerAlign","formatter","cellContent","defaultChecked","inProcess","colum","colIndex","textAlign","isOpen","md","v","Operat","Pagination","count","page","newPage","bootstrap4","keyField","striped","hover","condensed","bordered","expandRow","onlyOneExpanding","onExpand","isExpand","renderer","MapWithMarker","lat","lng","center","setCenter","loadedCoords","setLoadedCoords","locationInfo","latlng","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","handleApiLoaded","maps","geocoder","Geocoder","infowindow","InfoWindow","geocode","results","setZoom","geometry","marker","Marker","draggable","makeMarkerDraggable","setContent","formatted_address","setCoords","geocodeAddress","geocodeFromLocation","height","bootstrapURLKeys","REACT_APP_GOOGLE_API_KEY","defaultCenter","defaultZoom","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","addListener","MapToPrewiew","cords","OrderInfoUncontrolledCollapse","cordsList","latitudeLongitude","parseFloat","toggler","orderSubject","valuationScope","propertyIdentification","trigger","setCurrentlyChatWith","markConversationAsRead","setChatIsOpen","UserInfo","setUser","loggedInUser","role","admin","finally","createRow","phone","nameWithTitle","NewOffer","price","setPrice","maxDate","setMaxDate","hide","min","onKeyPress","OrderPropositionFilters","handleSetPropositionFilters","setUpTillDateFrom","setUpTillDateTo","setPriceFrom","setPriceTo","isButtonDisabled","accounts","isOperator","isAnyReserved","reservationStatus","isReserved","oid","isMineOrder","PropositionList","useMsal","handleSetPropositionsSortParameters","handleLoadPropositions","avgOperatorRating","edit","isHalf","ceil","activeColor","flip","toFixed","handleSetPropositionId","handleReserveOrderAndProposition","handleUnreserveProposition","OrderProposition","AnnouncedOrder","sendedOffers","setSendedOffers","userInfo","setUserInfo","offer","setOffer","marginBottom","handleSaveProposition","validateLandRegisterCode","ekwData","splitted","controlSum","NewOrderForm","setName","setDescription","setAddress","authorizedExperts","setAuthorizedExperts","setLatlng","setLocationPostCode","setShouldBeValidated","setOrderSubject","setValuationScope","landRegisterCode","setLandRegisterCode","setPropertyIdentification","isEkwInvalid","setIsEkwInvalid","wrongEkwMessage","setWrongEkwMessage","validationResult","addOrder","mask","inputProps","pattern","tabIndex","autoComplete","opacity","invalid","textTransform","dangerouslySetInnerHTML","__html","PaidOrder","notifyRegister","marginTop","ReservedOrder","isClient","handlePayForOperat","ReviewForm","rating","setRating","comment","setComment","finished","setFinished","offset","animation","variant","addReview","elements","SignedOrder","downloadSignedOperat","res","isObstructed","MarketFilters","handleSetOrderFilters","selectMarketPage","makeSelectOrders","makeSelectActiveOrder","makeSelectPropositionId","makeSelectPropositions","loadOrders","ordersLoaded","replaceOrder","orderReplaced","loadPropositions","propositionsLoaded","propositionReplaced","proposition","getOrders","replaceOrderSaga","getPropositions","saveProposition","reserveOrderAndProposition","replaceProposition","unreserveProposition","removeOrder","payForOperat","dashboardData","requiresZbpList","getElementById","upTillDate","requestURL","takeEvery","loadOperatTypes","operatTypesLoaded","loadUser","loadUserError","loadEkwData","loadPublicSettings","handleSaveOrder","setPropositionId","handleSetOrdersPageNumber","setOrdersPageNumber","handleSetActiveOrder","setActiveOrder","handleRemoveOrder","handleReplaceOrder","handleLoadOperatTypes","handleLoadUser","handleSetOrderSortParameters","setOrderSortParameters","handleLoadEkwData","handleLoadPublicSettings","newOrder","setNewOrder","newOrderButton","isFiltersOpen","setIsFiltersOpen","renderSwitch","expanded","setExpanded","innerRef","Market","substring","wordBreak","loadFileToGallery","removePhotos","removePhotoFiles","loadOperatEmptyInput","loadOperatInitialWeights","loadOperatEmptyPhoto","updateProtocolList","getFormatedFiles","filesLoaded","loadOperatWeights","generateNewRowsForCSVFromCSV","lines","Data","CenaTransakcyjna","RodzajRynku","UdzialWPrawie","PowierzchniaLokalu","Adres","KondygnacjaLokalu","KondygnacjaBudynku","LiczbaIzb","csvJSON","currentline","trim","editCsvCell","updateWeights","updateRatings","CsvComponent","_path","_path2","operatTypeParams","operatState","selectedRows","setSelectedRows","csvToRead","setCsvToRead","baseColumnProps","createRenderer","editorProps","column","columnIndex","colName","EditComponent","onUpdate","cols","editorRenderer","csvItems","loadOperatCSV","dataJson","cellEdit","cellEditFactory","ExportCSVButton","CSVExport","processCSV","str","EXPECTED_COUNT_OF_COLUMNS","match","requiredColumns","showWarning","addLinesToCSVFromCSV","setValue","onBlur","mess","handleTableChange","rowId","exportCSV","onlyExportSelection","exportAll","csvProps","reader","FileReader","onload","readAsText","submit","dataType","wrapperClasses","baseProps","remote","selectRow","clickToEdit","clickToSelect","onSelect","isSelect","allRows","onSelectAll","tabIndexCell","onTableChange","InfoForAdmin","isInfoVisible","setIsInfoVisible","_excluded","_extends","assign","bind","arguments","source","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgExclamation","_ref","svgRef","titleId","xmlns","fill","viewBox","ForwardRef","InputArea","listInputData","setListInputData","loadOperatInput","applyMacros","loadInitialDataFromOrder","temp","kwIndex","kwNrIndex","default","given_name","family_name","handleChangeValue","updateValue","dataItem","genItem","reset","button","class","overflowWrap","tooltip","landRegisterValidationResult","validateAndShowErrors","ImageDropzone","flex","flexDirection","alignItems","padding","borderWidth","borderRadius","borderColor","borderStyle","outline","onDrop","useCallback","acceptedFiles","fileNames","newFile","File","fileData","enableBtn","useDropzone","multiple","getRootProps","getInputProps","ImageCarousel","next","animating","activeIndex","images","nextIndex","setState","previous","goToIndex","newIndex","setAnimating","currentIndex","slides","image","onExiting","onExited","alt","onClickHandler","direction","directionText","Component","ReactstrapImageGallery","toggleModal","isModalOpen","showModalImage","imageId","imagesToShow","tempImagesArray","hasMore","toggle","limit","PhotoArea","disabledBtns","setDisableBtns","mapPhotos","finded","p","isSendPhotosButtonDisabled","every","handlePhotosDelete","prev","boxShadow","handleSendPhotos","img","saveAs","selectOperat","makeSelectId","makeSelectWeights","saveWeightsArea","saveCsvArea","handleRequest","saveInputArea","saveProtocolArea","generateProtocol","sendPhotos","fetchFormatedFiles","reduce","partialSum","photosToSend","photosGlobalStateId","all","photosToRefresh","fixPercentValue","selectedWeight","selectWeight","selectedWeightIndex","setRowIndex","innerCols","selectedInnerRows","setSelectedInnerRows","clickToExpand","dateField","blurToSave","ProtocolArea","startTimeRef","endTimeRef","loadOperatProtocol","updateProtocol","createInput","startHour","startMinutes","endHour","endMinutes","Create","setOrder","setOperatTypeParams","useLocation","params","operatRes","orderRes","Array","isArray","inputArea","setInputArea","csvArea","setCsvArea","photoArea","setPhotoArea","protocolArea","setProtocolArea","weightsArea","setWeightsArea","isAllFilled","createGenerateOperatInfo","Weights","Protocol","UserImageDropzone","uploadedFile","setUploadedFile","toBigWarning","prevState","maxLength","condition","acceptedExt","minSize","maxSize","sendFile","exactFile","generateRows","scope","fileType","send","UserUploadedFiles","operatorFiles","setOperatorFile","deleteFile","UserProfileTab","sendNew","setSendNew","showSendStamp","setShowSendStamp","showSendDiploma","setShowSendDiploma","showSendOc","setShowSendOc","showFiles","setShowFiles","EditUser","licenceNumber","inZbpList","degree","firstName","lastName","city","postalCode","street","isOper","updateStates","tag","readOnly","htmlFor","defaultValue","bsSize","update","sendUpdate","ReadonlyTable","deleteAction","openAccordion","setOpenAccordion","fakeImg","targetId","accordionId","fontSize","createInZpbInformation","OperatorTrainingForm","OperatorTrainingsTab","handleLoadTrainings","handleAddTraining","handleRemoveTraining","loadTrainings","trainingsLoaded","loadOperatorProfileDataError","selectUser","getTrainings","getOperatorProfileData","removeTraining","userData","userUrl","handleLoadOperatorProfileData","loadOperatorProfileData","activeTab","setActiveTab","createNavItem","tabNr","classnames","active","tab","tabs","tabId","UserFilesTab","selectUsersPage","makeSelectUserType","makeSelectUsers","loadUsers","loadUsersError","getUsers","promoteUser","watch","UsersFilters","handleSetUserFilters","username","setUsername","email","setEmail","handleSetUserType","handleLoadUsers","handlePromoteUser","handleSetUsersPageNumber","handleSetUsersSortParameters","isDropdownOpen","setIsDropdownOpen","userTypes","caret","canPromote","Logout","instance","logout","selectSubscription","makeSelectOperatorsInfo","loadOperatorsInfo","loadOperatorsInfoError","createSubscription","getOperatorsInfo","updateSubscription","sendAndHandleRequest","resetSubscriptions","margin5px","margin","saveButtonStyle","float","SubscriptionRow","subscription","handleUpdateSubscription","isActive","setIsActive","canRenew","setCanRenew","nrOfOperats","setNrOfOperats","maxNrOfOperats","setMaxNumberOfOperats","nrOfGenerations","setNrOfGenerations","maxNrOfGenerations","setMaxNrOfGenerations","editedSubscription","submitUpdateSubscriptionForm","_","step","handleLoadOperatorsInfo","handleSetSubscriptionPageNumber","handleSetOperatorsInfoSortParameter","handleSetOperatorsInfoFilters","handleSetCurrentOperator","handleCreateSubscription","handleResetSubscriptions","areFiltersVisible","setAreFiltersVisible","undefined","hasSubscription","nonExpandable","expandColumnPosition","showExpandColumn","expandByColumnOnly","expandColumnRenderer","rowKey","expandable","expandHeaderColumnRenderer","isAnyExpands","operatorRoutes","path","icon","component","History","Users","EmptyUser","exist","streetAddress","MessageBell","setOpen","nav","right","SettingsItem","logoutResponse","LogoutHandler","NameItem","resources","en","common","pl","commonPl","i18n","use","initReactI18next","init","interpolation","escapeValue","Language","ps","language","setLanguage","selec","changeLanguage","Header","dropdownOpen","sidebarToggle","createRef","brandName","prop","documentElement","innerWidth","addEventListener","updateColor","expand","openSidebar","getBrand","navbar","to","Footer","fluid","Sidebar","activeRoute","sidebar","routeName","platform","PerfectScrollbar","suppressScrollX","suppressScrollY","destroy","bgColor","logo","routes","pro","activeClassName","FixedPlugin","toggleColorPicker","isColorPickerOpen","classes","handleClick","triangle","mainBgColor","onChangeComplete","handleMainBgClick","hex","backgroundColor","handleBgClick","handleActiveClick","ScrollButton","visible","setVisible","getWrapper","toggleVisible","scrolled","scrollTop","GeneralLayout","setBackgroundColor","mainBackgroundColor","setMainBackgroundColor","setActiveColor","mainPanel","setRoutes","chooseRouteByUserType","User","Subscriptions","adminRoutes","clientRoutes","DemoNavbar","Login","isAuthenticated","useIsAuthenticated","loginRedirect","setActiveAccount","certificateService","generateCertificate","setCertificatePassword","repeatPassword","setRepeatPassword","nameLastName","dto","certificateSignDate","addCertificate","Modals","createModalFooter","createModalBodyWithFooter","createSignOperatModalFooter","password","NewCertificateForm","createModalBody","setOperats","currentOperat","listGroup","overflow","maxHeight","setEmails","sendToOwner","setSendToOwner","marginLeft","bankAccount","companyName","companyAddress","submitCreateSubscriptionForm","ModifySubscriptionFooter","isLoading","setIsLoading","setFiles","setIncludeOc","setIncludeDiploma","sentFiles","setSentFiles","filteredFiles","loadFiles","buttonsComponent","onClose","fileLimitExceededWarning","filesWithoutIds","fileRejections","uniqueFilesCount","y","filesToAdd","filesToAddWithIds","countBefore","countAfter","showSentAttachments","setShowSentAttachments","SentAttachmentsTable","handleDeleteItem","handleDownloadItem","selectModal","handleShowLoadingScreen","handleHideLoadingScreen","renderModal","getOperatTypes","getUser","getEkwData","getPublicSettings","regionsUrl","weightsUrl","multipliersUrl","selectChat","openChat","handleLoadMessagesWithUser","loadMessagesWithUser","handleSetMessagesWithUser","setMessagesWithUser","handleSetConnection","handleSetCurrentlyChatWith","handleLoadConversations","handleMarkConversationAsRead","handleMarkConversationAsUnread","markConversationAsUnread","handleSetChatIsOpen","handleToggleMessageVisible","toggleMessageVisible","handleMarkMessagesAsSeen","markMessagesAsSeen","handleOpenChat","usersOffcanvasOpen","setUsersOffcanvasOpen","setUsers","setConnection","joinRoom","HubConnectionBuilder","withUrl","configureLogging","Information","build","on","newMess","returnObjects","onclose","start","invoke","fetchData","sendMessage","emoji","cursor","fontWeight","pill","onMessageWasSent","agentProfile","teamName","newMessagesCount","onMessageClick","messageList","showEmoji","MainContent","callbackId","addEventCallback","eventType","EventType","LOGIN_FAILURE","errorMessage","interactionType","InteractionType","Redirect","Popup","loginPopup","LOGIN_SUCCESS","pca","getAllAccounts","tfp","removeEventCallback","Pages","render","navigationClient","setNavigationClient","PublicClientApplication","composeEnhancers","reduxSagaMonitorOptions","sagaMiddleware","createSagaMiddleware","middlewares","routerMiddleware","enhancers","applyMiddleware","loadState","serializedState","saveState","peristedState","createStore","run","configureStore","AppProvider","StrictMode","I18nextProvider","ReactDOM"],"mappings":"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","file":"static/js/main.df94d408.chunk.js","sourcesContent":["import { NavigationClient } from '@azure/msal-browser'\n\n/**\n * This is an example for overriding the default function MSAL uses to navigate to other urls in your webpage\n */\nexport class CustomNavigationClient extends NavigationClient {\n  constructor (history) {\n    super()\n    this.history = history\n  }\n\n  /**\n     * Navigates to other pages within the same web application\n     * You can use the useHistory hook provided by react-router-dom to take advantage of client-side routing\n     * @param url\n     * @param options\n     */\n  async navigateInternal (url, options) {\n    const relativePath = url.replace(window.location.origin, '')\n    if (options.noHistory) {\n      this.history.replace(relativePath)\n    } else {\n      this.history.push(relativePath)\n    }\n\n    return false\n  }\n}\n","import { LogLevel } from '@azure/msal-browser'\n\nexport const b2cPolicies = {\n  names: {\n    signUpSignIn: process.env.REACT_APP_ADB2C_SIGNUP_SIGNIN_POLICY,\n    forgotPassword: process.env.REACT_APP_ADB2C_FORGOT_PASSWORD_POLICY,\n    editProfile: process.env.REACT_APP_ADB2C_EDIT_PROFILE_POLICY\n  },\n  authorities: {\n    signUpSignIn: {\n      authority: process.env.REACT_APP_ADB2C_SIGNUP_SIGNIN_AUTHORITY\n    },\n    forgotPassword: {\n      authority: process.env.REACT_APP_ADB2C_FORGOT_PASSWORD_AUTHORITY\n    },\n    editProfile: {\n      authority: process.env.REACT_APP_ADB2C_EDIT_PROFILE_AUTHORITY\n    }\n  },\n  authorityDomain: process.env.REACT_APP_ADB2C_AUTHORITY_DOMAIN\n}\n\nexport const msalConfig = {\n\n  auth: {\n    clientId: process.env.REACT_APP_ADB2C_CLIENT_ID, // This is the ONLY mandatory field that you need to supply.\n    authority: process.env.REACT_APP_ADB2C_AUTHORITY, // Use a sign-up/sign-in user-flow as a default authority\n    knownAuthorities: process.env.REACT_APP_ADB2C_KNOWN_AUTHORITIES.split(','), // Mark your B2C tenant's domain as trusted.\n    redirectUri: process.env.REACT_APP_ADB2C_REDIRECT_URI, // Points to window.location.origin. You must register this URI on Azure Portal/App Registration.\n    postLogoutRedirectUri: process.env.REACT_APP_ADB2C_POST_LOGOUT_REDIRECT_URI, // Indicates the page to navigate after logout.\n    navigateToLoginRequestUrl: true // If \"true\", will navigate back to the original request location before processing the auth code response.\n  },\n  cache: {\n    cacheLocation: 'localStorage', // This configures where your cache will be stored\n    storeAuthStateInCookie: false // Set this to \"true\" if you are having issues on IE11 or Edge\n  },\n  system: {\n    loggerOptions: {\n      loggerCallback: (level, message, containsPii) => {\n        if (containsPii) {\n          return\n        }\n        switch (level) {\n          case LogLevel.Error:\n            console.error(message)\n            return\n          case LogLevel.Info:\n            console.info(message)\n            return\n          case LogLevel.Verbose:\n            console.debug(message)\n            return\n          case LogLevel.Warning:\n            console.warn(message)\n            break\n          default:\n        }\n      }\n    }\n  }\n}\n\n/**\n * Scopes you add here will be prompted for user consent during sign-in.\n * By default, MSAL.js will add OIDC scopes (openid, profile, email) to any login request.\n * For more information about OIDC scopes, visit:\n * https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-permissions-and-consent#openid-connect-scopes\n */\n// Add here scopes for id token to be used at MS Identity Platform endpoints.\nexport const loginRequest = {\n  scopes: /* [\"User.Read\"] */[]\n}\n\n// export const editProfile = {\n//     authority: process.env.REACT_APP_ADB2C_EDIT_PROFILE_AUTHORITY,\n// };\n\n// export const policyNames = {\n//     signUpSignIn: process.env.REACT_APP_ADB2C_SIGNUP_SIGNIN_POLICY\n// };\n","export const modalTypeConstants = {\n  SHOW_NO_DATA: 'SHOW_NO_DATA',\n  CONFIRM_SEND_PROPOSITION: 'CONFIRM_SEND_PROPOSITION',\n  TOO_MUCH_OPERATOR_FILES: 'TOO_MUCH_OPERATOR_FILES',\n  PROMOTE_USER_ERROR: 'PROMOTE_USER_ERROR',\n  SEND_OPERAT_CONFIRMATION: 'SEND_OPERAT_CONFIRMATION',\n  SIGN_OPERAT: 'SIGN_OPERAT',\n  OWN_CERTIFICATE: 'OWN_CERTIFICATE',\n  NEW_CERTIFICATE: 'NEW_CERTIFICATE',\n  ERROR_MESSAGE: 'ERROR_MESSAGE',\n  LOADING: 'LOADING',\n  OPERATS_LIST_MODAL: 'OPERATS_LIST_MODAL',\n  SEND_OPERAT_MODAL: 'SEND_OPERAT_MODAL',\n  PAY_FOR_OPERAT: 'PAY_FOR_OPERAT_MODAL',\n  CREATE_SUBSCRIPTION_FORM: 'CREATE_SUBSCRIPTION_FORM',\n  CREATE_SUBSCRIPTION_SUCCESSFUL: 'CREATE_SUBSCRIPTION_SUCCESFUL',\n  CONFIRM_RESET_SUBSCRIPTIONS: 'CONFIRM_RESET_SUBSCRIPTIONS',\n  RESET_SUBSCRIPTIONS_SUCCESSFUL: 'RESET_SUBSCRIPTIONS_SUCCESSFUL',\n  ADD_ATTACHMENTS: 'ADD_ATTACHMENTS',\n  ATTACHMENTS_OPTIONS: 'ATTACHMENT_OPTIONS',\n  CONFIRM_SUCCESS: 'CONFIRM_SUCCESS',\n  CONFIRM_ERROR: 'CONFIRM_ERROR'\n}\n","export const userRolesConstants = {\n  OPERATOR: 'operator',\n  CLIENT: 'client',\n  ADMIN: 'admin'\n}\n","export const loadingMessagesConstants = {\n  LOADING_DATA: 'Proszę czekać, trwa ładowanie danych',\n  SEND_OFFER: 'Proszę czekać, trwa wysyłanie Twojej oferty',\n  DELETE_OPERAT: 'Proszę czekać, trwa usuwanie operatu',\n  DELETE_ORDER: 'Proszę czekać, trwa usuwanie zlecenia',\n  SAVE_OPERAT: 'Proszę czekać, trwa zapisywanie operatu',\n  SAVE_USER_DATA: 'Proszę czekać, trwa zapisywanie danych użytkownika',\n  SING_OPERAT: 'Proszę czekać, trwa podpisywanie operatu',\n  GENERATE_CERTIFICATE: 'Proszę czekać, trwa generowanie certyfikatu',\n  DELETE_FILE: 'Proszę czekać, trwa usuwanie pliku',\n  GENERATE_OPERAT: 'Proszę czekać, trwa generowanie operatu',\n  DOWNLOAD_OPERAT: 'Proszę czekać, trwa pobieranie operatu',\n  SEND_PHOTOS: 'Proszę czekać, trwa wysyłanie zdjęć',\n  DELETE_PHOTOS: 'Proszę czekać, trwa usuwanie zdjęć',\n  OPERATOR_PROFILE: 'Proszę czekać, trwa wczytywanie profilu operatora',\n  ADD_REVIEW: 'Proszę czekać, trwa wysyłanie opinii',\n  ADD_TRAINING: 'Proszę czekać, trwa dodawanie szkolenia',\n  DELETE_TRAINING: 'Proszę czekać, trwa usuwanie szkolenia'\n}\n","export const globalConstants = {\n  EMPTY_GUID: '00000000-0000-0000-0000-000000000000'\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled, { keyframes } from 'styled-components'\n\nconst circleFadeDelay = keyframes`\n  0%,\n  39%,\n  100% {\n    opacity: 0;\n  }\n\n  40% {\n    opacity: 1;\n  }\n`\n\nfunction Circle (props) {\n  const CirclePrimitive = styled.div`\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    ${props.rotate &&\n    `\n      -webkit-transform: rotate(${props.rotate}deg);\n      -ms-transform: rotate(${props.rotate}deg);\n      transform: rotate(${props.rotate}deg);\n    `} &:before {\n      content: '';\n      display: block;\n      margin: 0 auto;\n      width: 15%;\n      height: 15%;\n      background-color: #999;\n      border-radius: 100%;\n      animation: ${circleFadeDelay} 1.2s infinite ease-in-out both;\n      ${props.delay &&\n      `\n        -webkit-animation-delay: ${props.delay}s;\n        animation-delay: ${props.delay}s;\n      `};\n    }\n  `\n  return <CirclePrimitive />\n}\n\nCircle.propTypes = {\n  delay: PropTypes.number,\n  rotate: PropTypes.number\n}\n\nexport default Circle\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  margin: 2em auto;\n  width: 40px;\n  height: 40px;\n  position: relative;\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport Circle from './Circle'\nimport Wrapper from './Wrapper'\n\nfunction LoadingIndicator () {\n  return (\n    <Wrapper>\n      <Circle />\n      <Circle rotate={30} delay={-1.1} />\n      <Circle rotate={60} delay={-1} />\n      <Circle rotate={90} delay={-0.9} />\n      <Circle rotate={120} delay={-0.8} />\n      <Circle rotate={150} delay={-0.7} />\n      <Circle rotate={180} delay={-0.6} />\n      <Circle rotate={210} delay={-0.5} />\n      <Circle rotate={240} delay={-0.4} />\n      <Circle rotate={270} delay={-0.3} />\n      <Circle rotate={300} delay={-0.2} />\n      <Circle rotate={330} delay={-0.1} />\n    </Wrapper>\n  )\n}\n\nexport default LoadingIndicator\n","import confirm from 'reactstrap-confirm'\n\nexport const showConfirmBox = async (message, title, okFunction) => {\n  const result = await confirm({\n    title: <>{title}</>,\n    message,\n    confirmText: 'Usuń',\n    cancelText: 'Anuluj',\n    confirmColor: 'danger',\n    cancelColor: 'link text-primary'\n  })\n  if (result) {\n    okFunction()\n  }\n}\n","export const MODAL_SHOW_LOADING_SCREEN = 'MODAL_SHOW_LOADING_SCREEN'\nexport const MODAL_HIDE_LOADING_SCREEN = 'MODAL_HIDE_LOADING_SCREEN'\n","import { MODAL_HIDE_LOADING_SCREEN, MODAL_SHOW_LOADING_SCREEN } from './constants'\n\nexport function showLoadingScreen (type, data) {\n  return {\n    type: MODAL_SHOW_LOADING_SCREEN,\n    payload: { showModal: true, type, data }\n  }\n}\n\nexport function hideLoadingScreen () {\n  return {\n    type: MODAL_HIDE_LOADING_SCREEN\n  }\n}\n","import { createBrowserHistory } from 'history'\n\nexport const history = createBrowserHistory()\n","export const validators = {\n  validatePositiveNumbers\n}\n\nfunction validatePositiveNumbers (evt, regex) {\n  if (evt == null || regex == null) {\n    return\n  }\n  const theEvent = evt || window.event\n  let key = theEvent.keyCode || theEvent.which\n  key = String.fromCharCode(key)\n  let val = theEvent.target.value + key\n  if (theEvent.type === 'paste') {\n    val = window.event.clipboardData.getData('text/plain')\n  }\n\n  if (regex.test(val)) {\n    theEvent.target.classList.remove('validate')\n  } else {\n    const tcl = theEvent.target.classList\n    tcl.add('validate')\n    setTimeout(function () {\n      tcl.remove('validate')\n    }, 400)\n    theEvent.returnValue = false\n    if (theEvent.preventDefault) {\n      theEvent.preventDefault()\n    }\n  }\n};\n","import { loginRequest } from '../authConfig'\nimport { msalInstance } from '../index'\nimport { history } from 'helpers'\nexport const shouldRefreshToken = () => {\n  const currentUnixTimeInSeconds = parseInt(new Date().getTime() / 1000)\n  const tokenWillExpireSoon = localStorage.getItem('idToken') && localStorage.getItem('idTokenExp') && parseInt(localStorage.getItem('idTokenExp')) < currentUnixTimeInSeconds + 60\n  return !localStorage.getItem('idToken') || !localStorage.getItem('idTokenExp') || tokenWillExpireSoon\n}\nexport async function callForHeader (type) {\n  const account = msalInstance.getActiveAccount()\n  if (!account) {\n    throw Error('No active account! Verify a user has been signed in and setActiveAccount has been called.')\n  }\n\n  const request = {\n    ...loginRequest,\n    account\n  }\n\n  const response = await msalInstance.acquireTokenSilent(request).catch(error => {\n    // fallback to interaction when silent call fails\n    console.log(error)\n    return msalInstance.acquireTokenRedirect(request).then(tokenResponse => {\n      return tokenResponse\n    }).catch(error => {\n      history.push('/logout')\n      console.log(error)\n    })\n  })\n  if (response.idTokenClaims.exp < response.idTokenClaims.auth_time) { history.push('/logout') }\n  localStorage.setItem('idToken', response.idToken)\n  localStorage.setItem('idTokenExp', response.idTokenClaims.exp)\n\n  const headers = new Headers()\n  const bearer = `Bearer ${response.idToken}`\n  headers.append('Authorization', bearer)\n\n  let content\n  switch (type) {\n    case 'json':\n      content = 'application/json'\n      headers.append('Content-Type', content)\n      break\n    case 'plain':\n      content = 'text/plain;charset=UTF-8'\n      headers.append('Content-Type', content)\n      break\n    default:\n      break\n  }\n\n  return headers\n}\n","import { callForHeader } from '../utils/HeadersCall'\n\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const operatService = {\n  get,\n  createOperat,\n  getFile,\n  generateOperat,\n  signPdf,\n  copyOperat,\n  sendOperat,\n  getByOrderId,\n  postReview,\n  getOperatReview,\n  obstructOperat,\n  addAttachments\n}\n\nasync function addAttachments (id, includeOc, includeDiploma, files) {\n  const formData = new FormData()\n  formData.append('includeoc', includeOc)\n  formData.append('includediploma', includeDiploma)\n  files.forEach(x => formData.append('additionalattachments', x))\n  // formData.append(\"additionalattachments\", JSON.stringify(files))\n\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader(),\n    body: formData\n  }\n\n  return window.fetch(`${apiUrl}/Operat/id/${id}/add-attachments`, requestOptions)\n}\n\nasync function get (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(`${apiUrl}/Operat/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function getFile (url) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(url, requestOptions).then(handleResponse)\n}\n\nasync function createOperat (body) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(body)\n  }\n  return window.fetch(`${apiUrl}/Operat`, requestOptions).then(handleResponse)\n}\n\nasync function generateOperat (id) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n  return await window.fetch(`${apiUrl}/Operat/id/${id}/generate`, requestOptions).then(handleResponse)\n}\n\nasync function signPdf (id, certificatePassword) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(certificatePassword)\n  }\n  return await window.fetch(`${apiUrl}/Operat/id/${id}/sign`, requestOptions).then(handleResponse)\n}\n\nasync function copyOperat (id) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Operat/id/${id}/copy`, requestOptions).then(handleResponse)\n}\n\nasync function sendOperat (id) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Operat/id/${id}/send`, requestOptions).then(handleResponse)\n}\n\nasync function getByOrderId (orderId) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await fetch(`${apiUrl}/Operat/orderid/${orderId}`, requestOptions).then(handleResponse)\n}\n\nasync function postReview (review) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(review)\n  }\n\n  return await fetch(`${apiUrl}/Operat/review`, requestOptions).then(handleResponse)\n}\n\nasync function getOperatReview (operatId) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/Operat/${operatId}/review`, requestOptions).then(handleResponse)\n}\n\nasync function obstructOperat (operatId) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/Operat/id/${operatId}/obstructed/trigger`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    let data = ''\n    if (text.startsWith('Data')) {\n      data = text\n    } else {\n      data = text && JSON.parse(text)\n    }\n    if (!response.ok) {\n      if (response.status === 404 || response.status === 500) {\n        return []\n      }\n      return Promise.reject(data || response.statusText)\n    }\n    const pageCount = response.headers.get('X-Page-Count')\n    pageCount && localStorage.setItem('pageCount', pageCount)\n    return data\n  })\n}\n","import { callForHeader } from 'utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const operatorService = {\n  getOperatorData,\n  getOperators,\n  promote,\n  updateOper,\n  getOperatorReviews,\n  getOperatorTrainings,\n  addTraining,\n  deleteTraining\n}\n\nasync function getOperatorData (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Operator/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function getOperators () {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n  return await window.fetch(`${apiUrl}/Operator`, requestOptions).then(handleResponse)\n}\n\nasync function promote (clientId) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader()\n  }\n\n  return await window.fetch(`${apiUrl}/Operator/promote/clientid/${clientId}`, requestOptions).then((response) => handleResponse(response, true))\n}\n\nasync function updateOper (body) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(body)\n  }\n\n  return await fetch(`${apiUrl}/Operator/by-repo`, requestOptions).then((response) => handleResponse(response))\n}\n\nasync function getOperatorReviews (operatorId) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader()\n  }\n  return await fetch(`${apiUrl}/Operator/${operatorId}/review`, requestOptions).then(handleResponse)\n}\n\nasync function getOperatorTrainings (operatorId) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader()\n  }\n  return await fetch(`${apiUrl}/Operator/${operatorId}/training`, requestOptions).then(handleResponse)\n}\n\nasync function addTraining (training) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(training)\n  }\n\n  return await fetch(`${apiUrl}/Operator/training`, requestOptions).then(handleResponse)\n}\n\nasync function deleteTraining (training) {\n  const requestOptions = {\n    method: 'DELETE',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/Operator/training/${training}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response, promotion = false) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 400 && promotion) {\n        return response.status\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n\n    return data\n  })\n}\n","import { callForHeader } from '../utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const orderService = {\n  getOperatorOrders,\n  reserveOrder,\n  getSingleOrder\n}\n\nasync function reserveOrder (guidOrder, guidOperator) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(`${apiUrl}/Order/${guidOrder}/reserve/${guidOperator}`, requestOptions).then(handleResponse)\n}\n\nasync function getSingleOrder (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(`${apiUrl}/Order/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function getOperatorOrders (guidOperator) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Order/announced/${guidOperator}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 404) {\n        return []\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n    const pageCount = response.headers.get('X-Page-Count')\n    pageCount && localStorage.setItem('pageCount', pageCount)\n    return data\n  }).then(data => { return data })\n}\n","import { Store } from 'react-notifications-component'\n\nexport const addNotification = (title, message, type) => {\n  Store.addNotification({\n    title,\n    message,\n    type,\n    insert: 'top',\n    container: 'top-right',\n    animationIn: ['animate__animated', 'animate__fadeIn'],\n    animationOut: ['animate__animated', 'animate__fadeOut'],\n    dismiss: {\n      duration: 5000,\n      showIcon: true\n    }\n  })\n}\n","import { addNotification } from 'utils/addNotification'\nimport { callForHeader } from '../utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const operatFilesService = {\n  getFormatedFilesByOperat,\n  getFilesByOperat,\n  getFile,\n  sendJSONFile,\n  sendCSVFile,\n  sendPICTUREFile,\n  copyOperatParams,\n  copyOperatCsv,\n  copyOperatPhotos,\n  uploadOwnGenerated,\n  removeSingleFile,\n  copyOperatWeights\n}\n\nasync function getFormatedFilesByOperat (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(`${apiUrl}/OperatFiles/id/${id}/formated`, requestOptions).then(handleResponse)\n}\n\nasync function getFilesByOperat (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/OperatFiles/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function getFile (url, useCache = false) {\n  const headers = new Headers()\n  headers.append('Cache-Control', 'no-cache')\n  const requestOptions = useCache === true\n    ? {\n        method: 'GET'\n      }\n    : {\n        method: 'GET',\n        headers: headers\n      }\n  return await window.fetch(url, requestOptions).then(handleResponse)\n}\n\nasync function copyOperatParams (fromId, toId) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/OperatFiles/id/${fromId}/copy/params/id/${toId}`, requestOptions).then(handleResponse)\n}\n\nasync function copyOperatCsv (fromId, toId) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/OperatFiles/id/${fromId}/copy/csv/id/${toId}`, requestOptions).then(handleResponse)\n}\n\nasync function copyOperatWeights (fromId, toId) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/OperatFiles/id/${fromId}/copy/weights/id/${toId}`, requestOptions).then(handleResponse)\n}\n\nasync function uploadOwnGenerated (id, file) {\n  const data = new FormData()\n  data.append('file', file)\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader(),\n    body: data\n  }\n\n  return await fetch(`${apiUrl}/OperatFiles/id/${id}/own`, requestOptions).then(handleResponse)\n}\n\nasync function removeSingleFile (id, fileName) {\n  const requestOptions = {\n    method: 'DELETE',\n    headers: await callForHeader()\n  }\n\n  return await fetch(`${apiUrl}/OperatFiles/id/${id}/filename/${fileName.replaceAll('/', '%252F')}`, requestOptions).then(handleResponse)\n}\n\nasync function copyOperatPhotos (fromId, toId) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/OperatFiles/id/${fromId}/copy/pic/id/${toId}`, requestOptions).then(handleResponse)\n}\n\nasync function sendPICTUREFile (data, id) {\n  data = data.filter(x => Object.prototype.hasOwnProperty.call(x, 'file'))\n  if (data.length === 0) {\n    return\n  }\n  const formData = new FormData()\n  data.forEach((element, idx) => {\n    formData.append(`file${idx}`, element.file, element.file.name)\n  })\n\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader(),\n    body: formData\n  }\n\n  return await window.fetch(`${apiUrl}/OperatFiles/upload2/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function sendJSONFile (data, id) {\n  const formData = new FormData()\n  const blb = new Blob([JSON.stringify({ input: data })], { type: 'application/json' })\n  formData.append('file', blb, 'params.json')\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader(),\n    body: formData\n  }\n\n  return await window.fetch(`${apiUrl}/OperatFiles/upload/${id}/convert`, requestOptions).then(handleResponse)\n}\n\nasync function sendCSVFile (data, id, weights) {\n  const formData = new FormData()\n  if (!jsonToCSV(data, weights)) {\n    return Promise.resolve()\n  }\n  const blb = new Blob([jsonToCSV(data, weights)], { type: 'text/csv' })\n  formData.append('file', blb, 'data.csv')\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader(),\n    body: formData\n  }\n\n  return await window.fetch(`${apiUrl}/OperatFiles/upload/${id}`, requestOptions).then(handleResponse)\n}\n\nfunction jsonToCSV (json, weights) {\n  const items = json.map(item => { delete item.id; return item })\n  const header = items[0] ? Object.keys(items[0]) : ['Data', 'CenaTransakcyjna', 'RodzajRynku', 'UdzialWPrawie', 'PowierzchniaLokalu', 'Adres', 'KondygnacjaLokalu', 'KondygnacjaBudynku', 'LiczbIzb']\n  for (let i = 0; i < items.length; i++) {\n    for (const property in items[i]) {\n      const weight = weights.find(x => x.name === property)\n      if (weight) {\n        if (!isNaN(items[i][property])) {\n          const max = Math.max.apply(Math, weight.ratings.map(x => parseInt(x.rate)))\n          if (parseInt(items[i][property]) > max) {\n            addNotification('', 'Błąd w linii: ' + (i + 1), 'danger')\n            return false\n          }\n        }\n      }\n    }\n  }\n  const csv = [\n    header.join(';'), // header row first\n    ...items.map(row => header.map(fieldName => row[fieldName]).join(';'))\n  ].join('\\r\\n')\n\n  return csv\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    let data = ''\n    if (text.startsWith('Data')) {\n      data = text\n    } else {\n      data = text && JSON.parse(text)\n    }\n    if (!response.ok) {\n      if (response.status === 404) {\n        // TODO auto logout if 404 response returned from api\n        return []\n      }\n\n      if (response.status === 500) {\n        // TODO auto logout if 500 response returned from api\n        return []\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n\n    return data\n  })\n}\n","import { callForHeader } from '../utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const operatorFilesService = {\n  getOperatorFiles,\n  sendOperatorFile,\n  removeOperatorFileByName,\n  getFileBlob,\n  getFileByFilename\n}\n\nasync function getFileBlob (url, filename) {\n  const requestOptions = {\n    method: 'GET',\n    responseType: 'blob'\n  }\n  return window.fetch(url, requestOptions).then(resp => handleDownloadResponse(resp, filename))\n}\n\nasync function getFileByFilename (id, filename) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader()\n  }\n  return fetch(`${apiUrl}/OperatorFiles/id/${id}/filename/${filename}`, requestOptions).then(handleResponse)\n}\n\nasync function sendOperatorFile (id, data, fileName = null) {\n  const url = fileName ? `${apiUrl}/OperatorFiles/upload/${id}/filename/${fileName}` : `${apiUrl}/OperatorFiles/upload/${id}`\n  const formData = new FormData()\n\n  formData.append('file', data.file, data.file.name)\n\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader(),\n    body: formData\n  }\n\n  return await window.fetch(url, requestOptions).then(handleResponse)\n}\n\nasync function getOperatorFiles (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader()\n  }\n\n  return await window.fetch(`${apiUrl}/OperatorFiles/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function removeOperatorFileByName (id, name) {\n  const requestOptions = {\n    method: 'DELETE',\n    headers: await callForHeader()\n  }\n\n  return await window.fetch(`${apiUrl}/OperatorFiles/id/${id}/filename/${name}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 404) {\n        return []\n      }\n      if (response.status === 500) {\n        return []\n      }\n\n      if (response.status === 400) {\n        return [data]\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n    return data\n  })\n}\n\nfunction handleDownloadResponse (response, filename) {\n  return response.blob()\n    .then((blob) => {\n      // Create blob link to download\n      const url = window.URL.createObjectURL(\n        new Blob([blob])\n      )\n      const link = document.createElement('a')\n      link.href = url\n      link.setAttribute(\n        'download',\n        filename\n      )\n\n      // Append to html link element page\n      document.body.appendChild(link)\n\n      // Start download\n      link.click()\n\n      // Clean up and remove the link\n      link.parentNode.removeChild(link)\n    }\n    )\n}\n","import { callForHeader } from '../utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const operatTypeService = {\n  getTypeParams\n}\n\nasync function getTypeParams (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(`${apiUrl}/OperatType/id/${id}/params`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    let data = ''\n    if (text.startsWith('Data')) {\n      data = text\n    } else {\n      if (text.startsWith('\"{')) {\n        text = text\n          .replace('\"{', '{')\n          .replace('}\"', '}')\n          .replace(/\\s+/g, ' ')\n          .replace(/\\\\n/g, '')\n          .replace(/\\\\\"/g, '\"')\n        data = JSON.parse(text)\n      } else {\n        data = text && JSON.parse(text)\n      }\n    }\n    if (!response.ok) {\n      if (response.status === 404) {\n        // TODO auto logout if 404 response returned from api\n        return []\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n\n    return data\n  })\n}\n","import { callForHeader } from 'utils/HeadersCall'\n\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const userService = {\n  getUserType\n}\n\nasync function getUserType (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader()\n  }\n\n  return await window.fetch(`${apiUrl}/User/id/${id}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n    const pageCount = response.headers.get('X-Page-Count')\n    pageCount && localStorage.setItem('pageCount', pageCount)\n    return data\n  }).then(data => { return data })\n}\n","import { callForHeader } from 'utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const adminService = {\n  getAdminDataById,\n  promote,\n  updateUserInfo\n}\n\nasync function updateUserInfo (body) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(body)\n  }\n\n  return await window.fetch(`${apiUrl}/Admin/by-repo`, requestOptions).then(handleResponse)\n}\n\nasync function getAdminDataById (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Admin/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function promote (operatorId) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader()\n  }\n\n  return await window.fetch(`${apiUrl}/Admin/promote/operatorid/${operatorId}`, requestOptions).then((response) => handleResponse(response, true))\n}\n\nfunction handleResponse (response, promotion = false) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 400 && promotion) {\n        return response.status\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n\n    return data\n  })\n}\n","import { callForHeader } from '../utils/HeadersCall'\n\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const clientService = {\n  getAdminDataById,\n  createNewClient,\n  getClientData,\n  updateClient\n}\n\nasync function updateClient (body) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(body)\n  }\n\n  return await fetch(`${apiUrl}/Client/by-repo`, requestOptions).then((response) => handleResponse(response))\n}\n\nasync function getClientData (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/Client/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function createNewClient (newClient) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(newClient)\n  }\n\n  return await window.fetch(`${apiUrl}/Client`, requestOptions).then(handleResponse)\n}\n\nasync function getAdminDataById (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Client/id/${id}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 400) {\n        // TODO auto logout if 400 response returned from api\n        return []\n      }\n      if (response.status === 404) {\n        // TODO auto logout if 404 response returned from api\n        return false\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n    return data\n  })\n}\n","import { callForHeader } from '../utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const clientFilesService = {\n  getFiles\n}\n\nasync function getFiles (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(`${apiUrl}/ClientFiles/id/${id}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 404) {\n        return []\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n    return data\n  }).then(data => { return data })\n}\n","import { callForHeader } from '../utils/HeadersCall'\n\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const landRegisterService = {\n  get,\n  check\n}\n\nasync function get (code) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  const url = encodeURIComponent(`${apiUrl}/LandRegister/data/${code}`)\n  return await fetch(url, requestOptions).then((response) => handleResponse(response))\n}\n\nasync function check (code) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await fetch(`${apiUrl}/LandRegister/check/${code}`, requestOptions).then((response) => handleResponse(response))\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      const error = (data && data) || response.statusText\n      return Promise.reject(error)\n    }\n    return data\n  })\n}\n","import { callForHeader } from 'utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const mapService = {\n  get\n}\n\nasync function get (address, type, zoom = 15) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Map/img?address=${address}&type=${type}&zoom=${zoom}`, requestOptions).then(response => response.blob())\n}\n","import LoadingIndicator from 'components/LoadingIndicator'\nimport React, { useEffect, useState, useRef } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router'\nimport { Button, Col, Row, UncontrolledTooltip } from 'reactstrap'\nimport { showConfirmBox } from 'utils/showConfirmBox'\nimport { hideLoadingScreen, showLoadingScreen } from 'views/Modal/actions'\nimport { modalTypeConstants } from '../../constants'\nimport { operatFilesService, operatService } from '../../services'\nfunction HistoryRow (props) {\n  const { t } = useTranslation('common')\n  const dispatch = useDispatch()\n  const [operat, setOperat] = useState(null)\n  const history = useHistory()\n  const inputFile = useRef(null)\n  const inputFileSigned = useRef(null)\n  useEffect(() => {\n    setOperat(props.row)\n    props.handleLoadOperatOrder()\n    // eslint-disable-next-line\n  }, [])\n\n  const downloadOperat = () => {\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'downloadOperat', translate: true }))\n    operatFilesService.getFilesByOperat(operat.id).then(response => {\n      for (const file of response) {\n        if (file.item2.includes('signed.pdf') || file.item2.includes('unsigned.pdf')) {\n          dispatch(hideLoadingScreen())\n          let childWindow = window.open(file.item2, '_blank');\n          childWindow.location.reload(); \n          return\n        }\n      }\n      dispatch(hideLoadingScreen())\n      alert('nie znaleziono pliku pdf')\n    })\n  }\n\n  const signPdf = () => {\n    dispatch(showLoadingScreen(modalTypeConstants.SIGN_OPERAT))\n  }\n\n  const redirectToOperatPage = (id) => {\n    const search = new URLSearchParams()\n    search.set('id', id || operat.id)\n    history.push({ pathname: '/create', search: search.toString() })\n  }\n\n  return (\n    <div>\n      {props.operatOrder.loading\n        ? <LoadingIndicator />\n        : <div>\n          <Row>\n            <Col>\n              <Button\n                color='info'\n                type='submit'\n                onClick={() => {\n                  redirectToOperatPage()\n                }}\n                disabled={operat && operat.isOwnGenerated}\n                style={{ width: '100%' }}\n              >\n                {t('history.table.buttons.showOperat')}\n              </Button>\n            </Col>\n            <Col>\n              <Button\n                color='info' type='submit' onClick={() => {\n                  operatService.copyOperat(operat.id).then(result => {\n                    props.handleLoadOperats()\n                    props.handleSetActiveOperat(result)\n                    redirectToOperatPage(result.id)\n                  }).catch(err => {\n                    if (typeof (err) === 'object' && err.hasOwnProperty('status') && err.status === 402) {\n                      dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'unactiveSubscription', translate: true }))\n                    } else {\n                      dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'operatCopyFailed', translate: true }))\n                    }\n                  })\n                }}\n                disabled={operat && operat.isOwnGenerated}\n                style={{ width: '100%' }}\n              >\n                {t('history.table.buttons.copy')}\n              </Button>\n            </Col>\n            <Col>\n              <Button\n                color='info' type='file' onClick={() => inputFile.current.click()} disabled={props.operatOrder.operatOrder.shouldBeValidated && props.operatOrder.operatOrder.shouldBeValidated}\n                id='upload-own-generated-btn'\n                style={{ width: '100%' }}\n              >\n                Wgraj operat\n              </Button>\n            </Col>\n            <UncontrolledTooltip\n              placement='top'\n              target='upload-own-generated-btn'\n            >\n              Przycisk służy do wgrywania własnego operatu, wygenerowanego poza platformą Aoperat.\n            </UncontrolledTooltip>\n            <input\n              type='file'\n              id='file-upload-own-operat'\n              ref={inputFile}\n              style={{ display: 'none' }}\n              accept='.pdf'\n              onChange={(event) => props.handleUploadOwnGeneratedOperat(operat.id, event.currentTarget.files[0])}\n            />\n            <Col>\n              <Button\n                disabled={operat && !['generated', 'signed'].includes(operat.status.toLowerCase())}\n                color='info' onClick={() => {\n                  downloadOperat()\n                }}\n                style={{ width: '100%' }}\n              >\n                {t('history.table.buttons.download')}\n              </Button>\n            </Col>\n          </Row>\n          <br />\n          <Row>\n            <Col>\n              <Button\n                disabled={operat && operat.status.toLowerCase() !== 'generated'} color='info'\n                onClick={() => { dispatch(showLoadingScreen(modalTypeConstants.ATTACHMENTS_OPTIONS, { id: operat.id })) }}\n                style={{ width: '100%' }}\n              >\n                Zarządzaj załącznikami\n              </Button>\n            </Col>\n            <Col>\n              <Button disabled={operat && operat.status.toLowerCase() !== 'generated'} color='info' type='submit' onClick={() => { signPdf() }} style={{ width: '100%' }}>\n                {t('history.table.buttons.sign')}\n              </Button>\n            </Col>\n            <Col>\n              <Button\n                color='info' type='file' onClick={() => inputFileSigned.current.click()} disabled={operat && operat.status.toLowerCase() !== 'generated'}\n                id='upload-signed-btn'\n                style={{ width: '100%' }}\n              >\n                {t('history.table.buttons.uploadSigned')}\n              </Button>\n            </Col>\n            <UncontrolledTooltip\n              placement='top'\n              target='upload-signed-btn'\n            >\n              Przycisk służy do wgrywania podpisanego operatu, po uprzednim wygenerowaniu go w platformie Aoperat i podpisaniu go np. poprzez profil zaufany.\n            </UncontrolledTooltip>\n            <input\n              type='file'\n              id='file-upload-signed-operat'\n              ref={inputFileSigned}\n              style={{ display: 'none' }}\n              accept='.pdf'\n              onChange={(event) => props.handleUploadSignedOperat(operat.id, event.currentTarget.files[0])}\n            />\n            <Col>\n              <Button disabled={operat && operat.status.toLowerCase() !== 'signed'} color='info' type='submit' onClick={() => { dispatch(showLoadingScreen(modalTypeConstants.SEND_OPERAT_MODAL, { operat: props.row, sendFunction: props.handleSendPdf })) }} style={{ width: '100%' }}>\n                {t('history.table.buttons.send')}\n              </Button>\n            </Col>\n\n          </Row>\n          <br />\n          <Row>\n            <Col>\n              <Button color='danger' onClick={() => showConfirmBox(t('history.table.confirm.message'), t('history.table.confirm.warning'), () => props.handleRemoveOperat())} style={{ width: '100%' }}>\n                {t('history.table.buttons.delete')}\n              </Button>\n            </Col>\n            <Col />\n            <Col />\n            <Col />\n          </Row>\n        </div>}\n    </div>\n\n  )\n}\n\nexport default HistoryRow\n","export const capitalizeFirstLetter = (string) => {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n","export const LOAD_OPERATS = 'LOAD_OPERATS'\nexport const OPERATS_LOADED = 'OPERATS_LOADED'\nexport const LOAD_OPERATS_ERROR = 'LOAD_OPERATS_ERROR'\nexport const REMOVE_OPERAT = 'REMOVE_OPERAT'\nexport const SET_ACTIVE_OPERAT = 'SET_ACTIVE_OPERAT'\nexport const CREATE_OPERAT = 'CREATE_OPERAT'\nexport const SELECT_OPERAT_TYPE = 'SELECT_OPERAT_TYPE'\nexport const SET_PAGE_NUMBER = 'SET_PAGE_NUMBER'\nexport const LOAD_OPERAT_ORDER = 'LOAD_OPERAT_ORDER'\nexport const OPERAT_ORDER_LOADED = 'OPERAT_ORDER_LOADED'\nexport const LOAD_OPERAT_ORDER_ERROR = 'LOAD_OPERAT_ORDER_ERROR'\nexport const SEND_PDF = 'SEND_PDF'\nexport const UPLOAD_OWN_GENERATED = 'UPLOAD_OWN_GENERATED'\nexport const SET_OPERATS_FILTERS = 'SET_OPERATS_FILTERS'\nexport const SET_OPERATS_SORT_PARAMETERS = 'SET_OPERATS_SORT_PARAMETERS'\nexport const UPLOAD_SIGNED_OPERAT = 'UPLOAD_SIGNED_OPERAT'\n","/* eslint-disable default-param-last */\nimport produce from 'immer'\nimport { capitalizeFirstLetter } from 'utils/capitalizeFirstLetter'\nimport {\n  LOAD_OPERATS, LOAD_OPERATS_ERROR, LOAD_OPERAT_ORDER,\n  LOAD_OPERAT_ORDER_ERROR, OPERATS_LOADED, OPERAT_ORDER_LOADED,\n  SELECT_OPERAT_TYPE, SET_ACTIVE_OPERAT, SET_PAGE_NUMBER,\n  SET_OPERATS_FILTERS, SET_OPERATS_SORT_PARAMETERS\n} from './constants'\n\nexport const initialState = {\n  activeOperat: {\n\n  },\n  operatOrder: {\n    loading: false,\n    error: false,\n    operatOrder: {}\n  },\n  selectedOperatType: {\n\n  },\n  operats: {\n    loading: false,\n    error: false,\n    sortFieldName: 'CreatedDateTime',\n    sortDirection: 'desc',\n    filters: {\n      createdDateTimeFrom: '',\n      createdDateTimeTo: ''\n    },\n    operats: []\n  },\n  pageNumber: 1\n\n}\n\n/* eslint-disable default-case, no-param-reassign */\nconst operatsPageReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case LOAD_OPERATS:\n        draft.operats.operats = []\n        draft.operats.loading = true\n        draft.operats.error = false\n        break\n      case LOAD_OPERATS_ERROR:\n        draft.operats.loading = false\n        draft.operats.error = action.payload\n        break\n      case OPERATS_LOADED:\n        draft.operats.operats = action.payload\n        draft.operats.loading = false\n        draft.operats.error = false\n        break\n      case SET_ACTIVE_OPERAT:\n        draft.activeOperat = action.payload\n        break\n      case SELECT_OPERAT_TYPE:\n        draft.selectedOperatType = action.payload\n        break\n      case SET_PAGE_NUMBER:\n        draft.pageNumber = action.payload\n        break\n      case LOAD_OPERAT_ORDER:\n        draft.operatOrder.operatOrder = {}\n        draft.operatOrder.loading = true\n        draft.operatOrder.error = false\n        break\n      case OPERAT_ORDER_LOADED:\n        draft.operatOrder.operatOrder = action.payload\n        draft.operatOrder.error = false\n        draft.operatOrder.loading = false\n        break\n      case LOAD_OPERAT_ORDER_ERROR:\n        draft.operatOrder.loading = false\n        draft.operatOrder.error = action.payload\n        break\n      case SET_OPERATS_FILTERS:\n        draft.operats.filters = action.payload\n        break\n      case SET_OPERATS_SORT_PARAMETERS:\n        draft.operats.sortFieldName = capitalizeFirstLetter(action.payload)\n        draft.operats.sortDirection = draft.operats.sortDirection === 'asc' ? 'desc' : 'asc'\n        break\n    }\n  })\n\nexport default operatsPageReducer\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectOperatsPage = (state) => state.operatsPage || initialState\n\nconst makeSelectActiveOperat = () =>\n  createSelector(selectOperatsPage, (state) => state.activeOperat)\n\nconst makeSelectOperats = () =>\n  createSelector(selectOperatsPage, (state) => state.operats)\n\nconst makeSelectSelectedOperatType = () =>\n  createSelector(selectOperatsPage, (state) => state.selectedOperatType)\nconst makeSelectPageNumber = () =>\n  createSelector(selectOperatsPage, (state) => state.pageNumber)\n\nconst makeSelectOperatOrder = () =>\n  createSelector(selectOperatsPage, (state) => state.operatOrder)\n\nexport {\n  selectOperatsPage,\n  makeSelectActiveOperat,\n  makeSelectOperats,\n  makeSelectSelectedOperatType,\n  makeSelectPageNumber,\n  makeSelectOperatOrder\n}\n","import {\n  CREATE_OPERAT, LOAD_OPERATS, LOAD_OPERATS_ERROR,\n  UPLOAD_OWN_GENERATED, SEND_PDF, LOAD_OPERAT_ORDER,\n  LOAD_OPERAT_ORDER_ERROR, OPERATS_LOADED, OPERAT_ORDER_LOADED,\n  REMOVE_OPERAT, SELECT_OPERAT_TYPE, SET_ACTIVE_OPERAT,\n  SET_PAGE_NUMBER, SET_OPERATS_FILTERS,\n  SET_OPERATS_SORT_PARAMETERS,\n  UPLOAD_SIGNED_OPERAT\n} from './constants'\n\nexport function loadOperats () {\n  return {\n    type: LOAD_OPERATS\n  }\n}\n\nexport function operatsLoaded (operats) {\n  return {\n    type: OPERATS_LOADED,\n    payload: operats\n  }\n}\n\nexport function loadOperatsError (error) {\n  return {\n    type: LOAD_OPERATS_ERROR,\n    payload: error\n  }\n}\n\nexport function removeOperat () {\n  return {\n    type: REMOVE_OPERAT\n  }\n}\n\nexport function setActiveOperat (operat) {\n  return {\n    type: SET_ACTIVE_OPERAT,\n    payload: operat\n  }\n}\n\nexport function createOperat () {\n  return {\n    type: CREATE_OPERAT\n  }\n}\n\nexport function selectOperatType (operatType) {\n  return {\n    type: SELECT_OPERAT_TYPE,\n    payload: operatType\n  }\n}\n\nexport function setPageNumber (pageNumber) {\n  return {\n    type: SET_PAGE_NUMBER,\n    payload: pageNumber\n  }\n}\n\nexport function loadOperatOrder () {\n  return {\n    type: LOAD_OPERAT_ORDER\n  }\n}\n\nexport function operatOrderLoaded (operatOrder) {\n  return {\n    type: OPERAT_ORDER_LOADED,\n    payload: operatOrder\n  }\n}\n\nexport function loadOperatOrderError (error) {\n  return {\n    type: LOAD_OPERAT_ORDER_ERROR,\n    payload: error\n  }\n}\n\nexport function sendPdf (id, emails, sendToPrincipal) {\n  return {\n    type: SEND_PDF,\n    id,\n    emails,\n    sendToPrincipal\n  }\n}\n\nexport function uploadOwnGeneratedOperat (id, file) {\n  return {\n    type: UPLOAD_OWN_GENERATED,\n    id,\n    file\n  }\n}\n\nexport function uploadSignedOperat (id, file) {\n  return {\n    type: UPLOAD_SIGNED_OPERAT,\n    id,\n    file\n  }\n}\n\nexport function setOperatFilters (payload) {\n  return {\n    type: SET_OPERATS_FILTERS,\n    payload\n  }\n}\n\nexport function setOperatSortParameters (payload) {\n  return {\n    type: SET_OPERATS_SORT_PARAMETERS,\n    payload\n  }\n}\n","export const SET_USER_ID = 'SET_USER_ID'\nexport const LOAD_OPERAT_TYPES = 'LOAD_OPERAT_TYPES'\nexport const OPERAT_TYPES_LOADED = 'OPERAT_TYPES_LOADED'\nexport const LOAD_OPERAT_TYPES_ERROR = 'LOAD_OPERAT_TYPES_ERROR'\nexport const LOAD_USER = 'LOAD_USER'\nexport const USER_LOADED = 'USER_LOADED'\nexport const LOAD_USER_ERROR = 'LOAD_USER_ERROR'\nexport const LOAD_EKW_DATA = 'LOAD_EKW_DATA'\nexport const EKW_DATA_LOADED = 'EKW_DATA_LOADED'\nexport const LOAD_PUBLIC_SETTINGS = 'LOAD_PUBLIC_SETTINGS'\nexport const PUBLIC_SETTINGS_LOADED = 'PUBLIC_SETTINGS_LOADED'\nexport const SET_NOTIFY_REGISTER = 'SET_NOTIFY_REGISTER'\n","/* eslint-disable default-param-last */\nimport produce from 'immer'\nimport {\n  EKW_DATA_LOADED,\n  LOAD_OPERAT_TYPES,\n  LOAD_OPERAT_TYPES_ERROR,\n  LOAD_USER,\n  LOAD_USER_ERROR,\n  OPERAT_TYPES_LOADED,\n  PUBLIC_SETTINGS_LOADED,\n  USER_LOADED\n} from './constants'\n\nexport const initialState = {\n  operatTypes: {\n    loading: false,\n    error: false,\n    operatTypes: []\n  },\n  user: {\n    userType: '',\n    loading: false,\n    error: false,\n    user: {}\n  },\n  ekw: {\n    regions: [],\n    weights: [],\n    multipliers: []\n  },\n  publicSettings: {}\n}\n\n/* eslint-disable default-case, no-param-reassign */\nconst globalReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case LOAD_OPERAT_TYPES:\n        draft.operatTypes.operatTypes = []\n        draft.operatTypes.error = false\n        draft.operatTypes.loading = true\n        break\n      case OPERAT_TYPES_LOADED:\n        draft.operatTypes.operatTypes = action.payload\n        draft.operatTypes.loading = false\n        draft.operatTypes.error = false\n        break\n      case LOAD_OPERAT_TYPES_ERROR:\n        draft.operatTypes.loading = false\n        draft.operatTypes.error = action.payload\n        break\n      case LOAD_USER:\n        draft.user.loading = true\n        draft.user.error = false\n        draft.user.user = {}\n        draft.user.userType = ''\n        break\n      case USER_LOADED:\n        draft.user.userType = action.payload.userType\n        draft.user.user = action.payload.user\n        draft.user.loading = false\n        draft.user.error = false\n        break\n      case LOAD_USER_ERROR:\n        draft.user.loading = false\n        draft.user.error = action.payload\n        break\n      case EKW_DATA_LOADED:\n        draft.ekw = action.payload\n        break\n      case PUBLIC_SETTINGS_LOADED:\n        draft.publicSettings = action.payload\n        break\n    }\n  })\nexport default globalReducer\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectGlobal = (state) => state.global || initialState\n\nconst makeSelectUser = () =>\n  createSelector(selectGlobal, (state) => state.user)\n\nconst makeSelectOperatTypes = () =>\n  createSelector(selectGlobal, (state) => state.operatTypes)\n\nconst makeSelectEkw = () =>\n  createSelector(selectGlobal, state => state.ekw)\n\nconst makeSelectPublicSettings = () =>\n  createSelector(selectGlobal, state => state.publicSettings)\n\nexport {\n  selectGlobal,\n  makeSelectUser,\n  makeSelectOperatTypes,\n  makeSelectEkw,\n  makeSelectPublicSettings\n}\n","import { conformsTo, isFunction, isObject } from 'lodash'\nimport invariant from 'invariant'\n\n/**\n * Validate the shape of redux store\n */\nexport default function checkStore (store) {\n  const shape = {\n    dispatch: isFunction,\n    subscribe: isFunction,\n    getState: isFunction,\n    replaceReducer: isFunction,\n    runSaga: isFunction,\n    injectedReducers: isObject,\n    injectedSagas: isObject\n  }\n  invariant(\n    conformsTo(store, shape),\n    '(app/utils...) injectors: Expected a valid redux store'\n  )\n}\n","import { createBrowserHistory } from 'history'\nconst history = createBrowserHistory()\nexport default history\n","export const LOAD_ORDERS = 'LOAD_ORDERS'\nexport const SET_ORDERS_PAGE_NUMBER = 'SET_ORDERS_PAGE_NUMBER'\nexport const ORDERS_LOADED = 'ORDERS_LOADED'\nexport const LOAD_ORDERS_ERROR = 'LOAD_ORDERS_ERROR'\nexport const SAVE_ORDER = 'SAVE_ORDER'\nexport const ORDER_SAVED = 'ORDER_SAVED'\nexport const SAVE_ORDER_ERROR = 'SAVE_ORDER_ERROR'\nexport const REPLACE_ORDER = 'REPLACE_ORDER'\nexport const ORDER_REPLACED = 'ORDER_REPLACED'\nexport const LOAD_PROPOSITIONS = 'LOAD_PROPOSITIONS'\nexport const PROPOSITIONS_LOADED = 'PROPOSITIONS_LOADED'\nexport const LOAD_PROPOSITIONS_ERROR = 'LOAD_PROPOSITIONS_ERROR'\nexport const SAVE_PROPOSITION = 'SAVE_PROPOSITION'\nexport const RESERVE_ORDER_AND_PROPOSITION = 'RESERVE_ORDER_AND_PROPOSITION'\nexport const UNRESERVE_PROPOSITION = 'UNRESERVE_PROPOSITION'\nexport const SET_PROPOSITION_ID = 'SET_PROPOSITION_ID'\nexport const PROPOSITION_REPLACED = 'PROPOSITION_REPLACED'\nexport const REMOVE_ORDER = 'REMOVE_ORDER'\nexport const SET_ACTIVE_ORDER = 'SET_ACTIVE_ORDER'\nexport const ORDER_REMOVED = 'ORDER_REMOVED'\nexport const SET_ORDER_SORT_PARAMETERS = 'SET_ORDER_SORT_PARAMETERS'\nexport const SET_ORDER_FILTERS = 'SET_ORDER_FILTERS'\nexport const SET_PROPOSITIONS_SORT_PARAMETERS = 'SET_PROPOSITIONS_SORT_PARAMETERS'\nexport const SET_PROPOSITIONS_FILTER = 'SET_PROPOSITIONS_FILTER'\nexport const CLEAR_PROPOSITION_FILTERS = 'CLEAR_PROPOSITION_FILTERS'\nexport const PAY_FOR_OPERAT = 'PAY_FOR_OPERAT'\n","/* eslint-disable default-param-last */\nimport produce from 'immer'\nimport { capitalizeFirstLetter } from 'utils/capitalizeFirstLetter'\nimport {\n  LOAD_ORDERS, SET_ORDERS_PAGE_NUMBER, ORDERS_LOADED,\n  LOAD_ORDERS_ERROR,\n  SAVE_ORDER, ORDER_SAVED, SAVE_ORDER_ERROR, ORDER_REPLACED,\n  LOAD_PROPOSITIONS, PROPOSITIONS_LOADED, LOAD_PROPOSITIONS_ERROR,\n  SET_PROPOSITION_ID, PROPOSITION_REPLACED, SET_ACTIVE_ORDER, ORDER_REMOVED,\n  SET_ORDER_SORT_PARAMETERS, SET_ORDER_FILTERS, SET_PROPOSITIONS_SORT_PARAMETERS,\n  SET_PROPOSITIONS_FILTER,\n  CLEAR_PROPOSITION_FILTERS\n} from './constants'\n\nexport const initialState = {\n  activeOrder: {\n    clientId: '',\n    status: '',\n    description: '',\n    operators: [],\n    hasOperator: false,\n    location: '',\n    locationPostCode: '',\n    lattitudeLongtitude: '',\n    requeiresZbpList: false,\n    isPrivate: false,\n    shouldBeValidate: false,\n    name: '',\n    createdDateTime: '',\n    id: ''\n  },\n  orders: {\n    loading: false,\n    error: false,\n    pageNumber: 1,\n    sortFieldName: null,\n    sortDirection: 'desc',\n    filters: {\n      locationPostCode: ''\n    },\n    orders: []\n  },\n  propositions: {\n    loading: false,\n    error: false,\n    sortFieldName: null,\n    sortDirection: 'desc',\n    filters: {\n      priceFrom: '',\n      priceTo: '',\n      upTillDateFrom: '',\n      upTillDateTo: ''\n    },\n    propositions: []\n  },\n  saveOrder: {\n    loading: false,\n    error: false\n  },\n  propositionId: ''\n}\n\n/* eslint-disable default-case, no-param-reassign */\nconst marketPageReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case SET_ORDER_SORT_PARAMETERS:\n        draft.orders.sortFieldName = capitalizeFirstLetter(action.fieldName)\n        draft.orders.sortDirection = draft.orders.sortDirection === 'asc' ? 'desc' : 'asc'\n        break\n      case LOAD_ORDERS:\n        draft.orders.orders = []\n        draft.orders.loading = true\n        draft.orders.error = false\n        break\n      case ORDERS_LOADED:\n        draft.orders.loading = false\n        draft.orders.orders = action.payload\n        draft.orders.error = false\n        break\n      case LOAD_ORDERS_ERROR:\n        draft.orders.loading = false\n        draft.orders.error = action.payload\n        break\n      case SET_ORDERS_PAGE_NUMBER:\n        draft.orders.pageNumber = action.payload\n        break\n      case SAVE_ORDER:\n        draft.saveOrder.error = false\n        draft.saveOrder.loading = true\n        break\n      case ORDER_SAVED:\n        draft.saveOrder.error = false\n        draft.saveOrder.loading = false\n        break\n      case SAVE_ORDER_ERROR:\n        draft.saveOrder.error = action.payload\n        draft.saveOrder.loading = false\n        break\n      case ORDER_REPLACED:\n        draft.activeOrder = action.payload\n        draft.orders.orders = [action.payload].concat(state.orders.orders.filter(x => x.id !== action.payload.id))\n        break\n      case LOAD_PROPOSITIONS:\n        draft.propositions.loading = true\n        draft.propositions.error = false\n        draft.propositions.propositions = []\n        break\n      case PROPOSITIONS_LOADED:\n        draft.propositions.loading = false\n        draft.propositions.error = false\n        draft.propositions.propositions = action.payload\n        break\n      case LOAD_PROPOSITIONS_ERROR:\n        draft.propositions.loading = false\n        draft.propositions.error = action.payload\n        break\n      case SET_PROPOSITION_ID:\n        draft.propositionId = action.payload\n        break\n      case PROPOSITION_REPLACED:\n        draft.propositions.propositions = state.propositions.propositions.filter(x => x.id !== action.payload.id).concat(action.payload)\n        break\n      case ORDER_REMOVED:\n        draft.orders.orders = state.orders.orders.filter(x => x.id !== action.payload)\n        break\n      case SET_ACTIVE_ORDER:\n        draft.activeOrder = action.payload\n        break\n      case SET_ORDER_FILTERS:\n        draft.orders.filters = action.payload\n        break\n      case SET_PROPOSITIONS_SORT_PARAMETERS:\n        draft.propositions.sortFieldName = capitalizeFirstLetter(action.payload)\n        draft.propositions.sortDirection = draft.propositions.sortDirection === 'asc' ? 'desc' : 'asc'\n        break\n      case SET_PROPOSITIONS_FILTER:\n        draft.propositions.filters = action.payload\n        break\n      case CLEAR_PROPOSITION_FILTERS:\n        draft.propositions.filters = initialState.propositions.filters\n        break\n    }\n  })\nexport default marketPageReducer\n","/* eslint-disable default-param-last */\nimport produce from 'immer'\nimport {\n  MODAL_SHOW_LOADING_SCREEN, MODAL_HIDE_LOADING_SCREEN\n} from './constants'\n\nexport const initialState = {\n  showModal: false,\n  type: '',\n  data: {}\n}\n\n/* eslint-disable default-case, no-param-reassign */\nconst modalReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case MODAL_SHOW_LOADING_SCREEN:\n        draft.showModal = true\n        draft.type = action.payload.type\n        draft.data = action.payload.data\n        break\n      case MODAL_HIDE_LOADING_SCREEN:\n        draft.showModal = false\n        draft.type = ''\n        draft.data = {}\n        break\n    }\n  })\nexport default modalReducer\n","export const SET_TRAININGS = 'SET_TRAININGS'\nexport const LOAD_TRAININGS = 'LOAD_TRAININGS'\nexport const TRAININGS_LOADED = 'TRAININGS_LOADED'\nexport const LOAD_TRAININGS_ERROR = 'LOAD_TRAININGS_ERROR'\nexport const LOAD_OPERATOR_PROFILE_DATA = 'LOAD_OPERATOR_PROFILE_DATA'\nexport const OPERATOR_PROFILE_DATA_LOADED = 'OPERATOR_PROFILE_DATA_LOADED'\nexport const LOAD_OPERATOR_PROFILE_DATA_ERROR = 'LOAD_OPERATOR_PROFILE_DATA_ERROR'\nexport const ADD_TRAINING = 'ADD_TRAINING'\nexport const REMOVE_TRAINING = 'REMOVE_TRAINING'\n","import { LOAD_TRAININGS, TRAININGS_LOADED, LOAD_TRAININGS_ERROR, LOAD_OPERATOR_PROFILE_DATA, LOAD_OPERATOR_PROFILE_DATA_ERROR, OPERATOR_PROFILE_DATA_LOADED } from './constants'\nimport produce from 'immer'\n\nexport const initialState = {\n  operatorId: '',\n  operatorProfileData: {\n    loading: false,\n    error: false,\n    trainings: [],\n    operatCount: 0,\n    reviews: [],\n    diploma: '',\n    operator: {}\n  },\n  trainings: {\n    loading: false,\n    error: false,\n    trainings: []\n  }\n}\n\nconst userReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    // eslint-disable-next-line default-case\n    switch (action.type) {\n      case LOAD_TRAININGS:\n        draft.trainings.trainings = []\n        draft.trainings.error = false\n        draft.trainings.loading = true\n        break\n      case TRAININGS_LOADED:\n        draft.trainings.trainings = action.payload\n        draft.trainings.error = false\n        draft.trainings.loading = false\n        break\n      case LOAD_TRAININGS_ERROR:\n        draft.trainings.error = action.payload\n        draft.trainings.loading = false\n        break\n      case LOAD_OPERATOR_PROFILE_DATA:\n        draft.operatorProfileData.loading = true\n        draft.operatorProfileData.error = false\n        draft.operatorProfileData.trainings = []\n        draft.operatorProfileData.operatCount = 0\n        draft.operatorProfileData.reviews = []\n        draft.operatorProfileData.diploma = ''\n        draft.operatorProfileData.operator = {}\n        break\n      case OPERATOR_PROFILE_DATA_LOADED:\n        draft.operatorProfileData.loading = false\n        draft.operatorProfileData.error = false\n        draft.operatorProfileData.trainings = action.payload.trainings\n        draft.operatorProfileData.operatCount = action.payload.operatCount\n        draft.operatorProfileData.reviews = action.payload.reviews\n        draft.operatorProfileData.diploma = action.payload.diploma\n        draft.operatorProfileData.operator = action.payload.operator\n        break\n      case LOAD_OPERATOR_PROFILE_DATA_ERROR:\n        draft.operatorProfileData.error = action.payload\n        draft.operatorProfileData.loading = false\n        break\n    }\n  })\nexport default userReducer\n","export const FILES_CLEAR_STATE = 'FILES_CLEAR_STATE'\nexport const FILES_GET_OPERAT = 'FILES_GET_OPERAT'\nexport const FILES_PUT_OPERAT = 'FILES_PUT_OPERAT'\nexport const FILES_GET_INPUT = 'FILES_GET_INPUT'\nexport const FILES_GET_PROTOCOL = 'FILES_GET_PROTOCOL'\nexport const FILES_GET_CSV = 'FILES_GET_CSV'\nexport const FILES_GET_BY_OPERAT = 'FILES_GET_BY_OPERAT'\nexport const FILES_LOADED = 'FILES_LOADED'\nexport const FILES_EDIT_OPERAT = 'FILES_EDIT_OPERAT'\nexport const FILES_LOAD_EMPTY_OPERAT = 'FILES_LOAD_EMPTY_OPERAT'\nexport const FILES_LOAD_OPERAT_TYPE = 'FILES_LOAD_OPERAT_TYPE'\nexport const FILES_ADD_LINE_TO_CSV = 'FILES_ADD_LINE_TO_CSV'\nexport const FILES_REMOVE_LINE_FROM_CSV = 'FILES_REMOVE_LINE_FROM_CSV'\nexport const FILES_LOAD_EMPTY_INPUT = 'FILES_LOAD_EMPTY_INPUT'\nexport const FILES_LOAD_EMPTY_PROTOCOL = 'FILES_LOAD_EMPTY_PROTOCOL'\nexport const FILES_LOAD_EMPTY_PHOTO = 'FILES_LOAD_EMPTY_PHOTO'\nexport const FILES_LOAD_PHOTO_FILE_TO_GALLERY = 'FILES_LOAD_PHOTO_FILE_TO_GALLERY'\nexport const FILES_SEND_PHOTOS = 'FILES_SEND_PHOTOS'\nexport const FILES_ADD_LINES_TO_CSV_FROM_CSV = 'FILES_ADD_LINES_TO_CSV_FROM_CSV'\nexport const FILES_PUT_PROTOCOL = 'FILES_PUT_PROTOCOL'\nexport const LOAD_OPERAT_INITIAL_WEIGHTS = 'LOAD_OPERAT_INITIAL_WEIGHTS'\nexport const REMOVE_PHOTOS = 'REMOVE_PHOTOS'\nexport const REMOVE_PHOTO_FILES = 'REMOVE_PHOTO_FILES'\nexport const FILE_SEND_PHOTOS = 'FILES_SEND_PHOTOS'\nexport const DOWNLOAD_FROM_EKW = 'DOWNLOAD_FROM_EKW'\nexport const GENERATE_OPERAT = 'GENERATE_OPERAT'\nexport const GENERATE_PROTOCOL = 'GENERATE_PROTOCOL'\nexport const REMOVE_OPERAT_FROM_GENERATED = 'REMOVE_OPERAT_FROM_GENERATED'\nexport const SET_ALL_VALID = 'SET_ALL_VALID'\nexport const CALL_SET_ALL_VALID = 'CALL_SET_ALL_VALID'\nexport const SAVE_INPUT_AREA = 'SAVE_INPUT_AREA'\nexport const SAVE_PROTOCOL_AREA = 'SAVE_PROTOCOL_AREA'\nexport const CSV_EDIT_CELL = 'CSV_EDIT_CELL'\nexport const SAVE_WEIGHTS_AREA = 'SAVE_WEIGHTS_AREA'\nexport const FILES_GET_WEIGHTS = 'FILES_GET_WEIGHTS'\nexport const FILES_PUT_WEIGHTS = 'FILES_PUT_WEIGHTS'\nexport const OPERAT_UPDATE_LIST = 'OPERAT_UPDATE_LIST'\nexport const OPERAT_UPDATE_PROTOCOL_LIST = 'OPERAT_UPDATE_PROTOCOL_LIST'\nexport const ADD_NEW_WEIGHT = 'ADD_NEW_WEIGHT'\nexport const PUT_RATE = 'PUT_RATE'\nexport const ADD_NEW_RATE = 'ADD_NEW_RATE'\nexport const REMOVE_WEIGHTS = 'REMOVE_WEIGHTS'\nexport const REMOVE_RATINGS = 'REMOVE_RATINGS'\nexport const SET_OPERAT = 'SET_OPERAT'\nexport const SAVE_CSV_AREA = 'SAVE_CSV_AREA'\n","import { DOWNLOAD_FROM_EKW, LOAD_OPERAT_INITIAL_WEIGHTS, FILES_PUT_PROTOCOL, SET_OPERAT, ADD_NEW_RATE, REMOVE_WEIGHTS, FILES_LOADED, REMOVE_RATINGS, FILES_PUT_WEIGHTS, PUT_RATE, ADD_NEW_WEIGHT, CSV_EDIT_CELL, FILES_ADD_LINES_TO_CSV_FROM_CSV, FILES_ADD_LINE_TO_CSV, FILES_CLEAR_STATE, FILES_EDIT_OPERAT, FILES_GET_CSV, FILES_GET_INPUT, FILES_GET_OPERAT, FILES_LOAD_EMPTY_INPUT, FILES_LOAD_EMPTY_OPERAT, FILES_LOAD_EMPTY_PHOTO, FILES_LOAD_OPERAT_TYPE, FILES_LOAD_PHOTO_FILE_TO_GALLERY, FILES_PUT_OPERAT, FILES_REMOVE_LINE_FROM_CSV, REMOVE_OPERAT_FROM_GENERATED, REMOVE_PHOTOS, REMOVE_PHOTO_FILES, SET_ALL_VALID, FILES_GET_WEIGHTS, OPERAT_UPDATE_LIST, FILES_LOAD_EMPTY_PROTOCOL, FILES_GET_PROTOCOL, OPERAT_UPDATE_PROTOCOL_LIST } from './constants'\nimport { v4 as uuidv4 } from 'uuid'\n\nimport produce from 'immer'\nexport const initialState = {\n  operatTypeId: '',\n  id: '',\n  files: {},\n  csv: [],\n  disabled: true,\n  input: [],\n  weights: [],\n  photo: {},\n  operat: {},\n  protocol: []\n}\n\nconst operatReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    let ekw = ''\n    try {\n      ekw = action.payload && action.payload.ekw && JSON.parse(action.payload.ekw)\n    } catch (ex) {\n      ekw = ''\n    }\n\n    const updateList = (src) => {\n      let list = src[action.payload.id].data[action.payload.idx].value\n      if (action.payload.del) {\n        list.splice(action.payload.listIdx, 1)\n      } else {\n        list = [...list, action.payload.value]\n      }\n      src[action.payload.id].data[action.payload.idx].value = list\n    }\n    const input = draft.input\n    const kw = action.payload && action.payload.name && input.find(x => x.name === action.payload.name)\n    // eslint-disable-next-line default-case\n    switch (action.type) {\n      case SET_OPERAT:\n        draft.operat = action.payload\n        break\n      case FILES_CLEAR_STATE:\n        draft.input = []\n        draft.disabled = false\n        draft.id = ''\n        draft.photo = []\n        draft.csv = []\n        draft.files = []\n        draft.weights = []\n        draft.protocol = []\n        break\n      case FILES_PUT_OPERAT:\n        draft.input[action.payload.id].data[action.payload.idx].value = action.payload.value\n        break\n      case FILES_PUT_PROTOCOL:\n        draft.protocol[action.payload.id].data[action.payload.idx].value = action.payload.value\n        break\n      case OPERAT_UPDATE_LIST:\n        updateList(draft.input)\n        break\n      case OPERAT_UPDATE_PROTOCOL_LIST:\n        updateList(draft.protocol)\n        break\n      case FILES_PUT_WEIGHTS: {\n        const cellIndex = draft.weights.findIndex(row => row.name === action.payload.name)\n        const cellToEdit = draft.weights[cellIndex]\n        cellToEdit[action.payload.dataField] = action.payload.newValue\n        draft.weights[cellIndex] = cellToEdit\n        break\n      }\n      case ADD_NEW_WEIGHT: {\n        draft.weights = [...draft.weights, {\n          name: uuidv4(),\n          description: 'opis',\n          participation: 20,\n          rate: 0,\n          justification: '',\n          ratings: [\n            {\n              rate: 0,\n              rateText: 'ocena',\n              description: 'opis'\n            }\n          ]\n        }]\n        break\n      }\n      case ADD_NEW_RATE: {\n        draft.weights[action.payload.rowIndex].ratings = [...draft.weights[action.payload.rowIndex].ratings, {\n          id: uuidv4(),\n          rate: draft.weights[action.payload.rowIndex].ratings.length === 0 ? 0 : Math.max.apply(Math, draft.weights[action.payload.rowIndex].ratings.map(x => parseInt(x.rate))) + 1,\n          rateText: 'ocena',\n          description: 'opis'\n        }]\n        break\n      }\n      case PUT_RATE: {\n        const cellIndex = draft.weights[action.payload.rowIndex].ratings.findIndex(row => row.rate === action.payload.rate)\n        const cellToEdit = draft.weights[action.payload.rowIndex].ratings[cellIndex]\n        cellToEdit[action.payload.dataField] = action.payload.newValue\n        draft.weights[action.payload.rowIndex].ratings[cellIndex] = cellToEdit\n        break\n      }\n      case FILES_GET_OPERAT:\n        draft.disabled = action.payload.disabled\n        draft.id = action.payload.id\n        draft.input = action.payload.files\n        break\n      case FILES_LOAD_OPERAT_TYPE:\n        draft.input = action.payload.input\n        draft.photo = action.payload.photo\n        break\n      case FILES_LOAD_EMPTY_PHOTO:\n        draft.photo = action.payload\n        break\n      case FILES_LOAD_EMPTY_INPUT:\n        draft.input = action.payload\n        break\n      case FILES_LOAD_EMPTY_PROTOCOL:\n        draft.protocol = action.payload\n        break\n      case LOAD_OPERAT_INITIAL_WEIGHTS:\n        draft.weights = action.payload\n        break\n      case FILES_GET_INPUT:\n        draft.input = action.payload.input\n        break\n      case FILES_GET_PROTOCOL:\n        draft.protocol = action.payload.protocol\n        break\n      case FILES_GET_WEIGHTS:\n        draft.weights = action.payload.weights\n        break\n      case FILES_GET_CSV:\n        draft.csv = action.payload.csv\n        break\n      case FILES_LOADED:\n        draft.id = action.payload.id\n        draft.files = action.payload.files\n        draft.operatInfo = action.payload.operatInfo\n        draft.disabled = true\n        draft.operatTypeId = action.payload.operatTypeId\n        break\n      case FILES_LOAD_EMPTY_OPERAT:\n        draft.disabled = action.payload.disabled\n        draft.id = action.payload.id\n        break\n      case FILES_EDIT_OPERAT:\n        draft.disabled = action.payload.disabled\n        break\n      case FILES_ADD_LINE_TO_CSV:\n        draft.csv = draft.csv.concat(action.payload.newRow)\n        break\n      case FILES_ADD_LINES_TO_CSV_FROM_CSV:\n        draft.csv = draft.csv.concat(action.payload.newRows)\n        break\n      case FILES_REMOVE_LINE_FROM_CSV:\n        draft.csv = draft.csv.filter(item => !action.payload.rows.includes(item.id))\n        break\n      case FILES_LOAD_PHOTO_FILE_TO_GALLERY:\n        if (!draft.photo.data[action.payload.id].data.some(x => x.id && x.id === action.payload.files.id)) {\n          draft.photo.data[action.payload.id].data.shift()\n          draft.photo.data[action.payload.id].data.push(action.payload.files)\n        }\n        break\n      case REMOVE_PHOTOS:\n        for (const i of draft.photo.data[action.payload.id].data) {\n          delete i.file\n          delete i.url\n          draft.files.photo = draft.files.photo.filter(x => x.item1 !== i.title)\n        }\n        break\n      case REMOVE_PHOTO_FILES:\n        for (const i of draft.photo.data[action.payload.id].data) {\n          delete i.file\n        }\n        break\n      case REMOVE_OPERAT_FROM_GENERATED:\n        draft.generated = draft.generated.filter(item => item.id !== action.payload)\n        break\n      case DOWNLOAD_FROM_EKW:\n        Object.entries(ekw).forEach(key => {\n          kw.data = kw.data.map(obj => obj.name === key ? { ...obj, value: ekw[key] } : obj)\n        })\n        draft.input = input.map(x => x.name === action.payload.name ? kw : x)\n        break\n      case SET_ALL_VALID:\n        for (let i = 0; i < draft.input.length; i++) {\n          if (draft.input[i].data) {\n            for (let j = 0; j < draft.input[i].data.length; j++) {\n              if (typeof draft.input[i].data[j].isValid !== 'undefined') {\n                draft.input[i].data[j].isValid = true\n              }\n            }\n          }\n        }\n        break\n      case REMOVE_WEIGHTS:\n      {\n        let indexes = []\n        for (let i = 0; i < action.payload.indexes.length; i++) {\n          indexes = [...indexes, draft.weights.findIndex(x => x.name === action.payload.indexes[i])]\n        }\n        for (let i = 0; i < indexes.length; i++) {\n          draft.weights.splice(indexes[i] - i, 1)\n        }\n        break\n      }\n      case REMOVE_RATINGS:\n      {\n        const ratings = [...draft.weights[action.payload.rowIndex].ratings]\n        let indexes = []\n        for (let i = 0; i < action.payload.indexes.length; i++) {\n          indexes = [...indexes, ratings.findIndex(x => x.id === action.payload.indexes[i])]\n        }\n        for (let i = 0; i < indexes.length; i++) {\n          ratings.splice(indexes[i] - i, 1)\n        }\n        for (let i = 0; i < ratings.length; i++) {\n          ratings[i].rate = i\n        }\n        draft.weights[action.payload.rowIndex].ratings = ratings\n        break\n      }\n      case CSV_EDIT_CELL:\n      {\n        const found = draft.csv.find(x => x.id === action.id)\n        if (found) {\n          found[action.columnToChange] = action.newValue\n        }\n        break\n      }\n    }\n  })\n\nexport default operatReducer\n","export const LOAD_USERS = 'LOAD_USERS'\nexport const USERS_LOADED = 'USERS_LOADED'\nexport const LOAD_USERS_ERROR = 'LOAD_USERS_ERROR'\nexport const SET_USER_TYPE = 'SET_USER_TYPE'\nexport const PROMOTE_USER = 'PROMOTE_USER'\nexport const SET_USER_SORT_PARAMETERS = 'SET_USER_SORT_PARAMETERS'\nexport const SET_USERS_PAGE_NUMBER = 'SET_USERS_PAGE_NUMBER'\nexport const SET_USER_FILTERS = 'SET_USER_FILTERS'\n","/* eslint-disable default-param-last */\nimport produce from 'immer'\nimport { capitalizeFirstLetter } from 'utils/capitalizeFirstLetter'\nimport {\n  LOAD_USERS, USERS_LOADED, LOAD_USERS_ERROR, SET_USER_TYPE, SET_USER_SORT_PARAMETERS, SET_USERS_PAGE_NUMBER, SET_USER_FILTERS\n} from './constants'\n\nexport const initialState = {\n  userType: 'client',\n  users: {\n    loading: false,\n    error: false,\n    pageNumber: 1,\n    sortFieldName: null,\n    sortDirection: 'desc',\n    users: [],\n    filters: {\n      mail: '',\n      name: ''\n    }\n  }\n}\n\n/* eslint-disable default-case, no-param-reassign */\nconst usersPageReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case SET_USER_TYPE:\n        draft.userType = action.payload\n        break\n      case LOAD_USERS:\n        draft.users.loading = true\n        draft.users.error = false\n        break\n      case USERS_LOADED:\n        draft.users.loading = false\n        draft.users.users = action.payload\n        break\n      case LOAD_USERS_ERROR:\n        draft.users.loading = false\n        draft.users.error = action.payload\n        break\n      case SET_USER_SORT_PARAMETERS:\n        draft.users.sortFieldName = capitalizeFirstLetter(action.payload)\n        draft.users.sortDirection = draft.users.sortDirection === 'asc' ? 'desc' : 'asc'\n        break\n      case SET_USERS_PAGE_NUMBER:\n        draft.users.pageNumber = action.payload\n        break\n      case SET_USER_FILTERS:\n        draft.users.filters = action.payload\n        break\n    }\n  })\n\nexport default usersPageReducer\n","export const formatDate = (date) => {\n  const d = new Date(date)\n  let month = '' + (d.getMonth() + 1)\n  let day = '' + d.getDate()\n  const year = d.getFullYear()\n\n  if (month.length < 2) { month = '0' + month }\n  if (day.length < 2) { day = '0' + day }\n\n  return [year, month, day].join('-')\n}\n\nexport const toDateString = (date, monthNames) => {\n  console.log(monthNames)\n  const d = new Date(date)\n  let month = '' + (d.getMonth() + 1)\n  let day = '' + d.getDate()\n  const year = d.getFullYear()\n  let hours = '' + d.getHours()\n  let minutes = '' + d.getMinutes()\n  let seconds = '' + d.getSeconds()\n\n  if (month.length < 2) { month = '0' + month }\n  if (day.length < 2) { day = '0' + day }\n  if (hours.length < 2) { hours = '0' + hours }\n  if (minutes.length < 2) { minutes = '0' + minutes }\n  if (seconds.length < 2) { seconds = '0' + seconds }\n  return `${day} ${monthNames[d.getMonth()]} ${year}, ${hours}:${minutes}:${seconds}`\n}\n","export const LOAD_MESSAGES_WITH_USER = 'LOAD_MESSAGES_WITH_USER'\nexport const SET_CURRENTLY_CHAT_WITH = 'SET_CURRENTLY_CHAT_WITH'\nexport const SET_CONNECTION = 'SET_CONNECTION'\nexport const SET_MESSAGES_WITH_USER = 'SET_MESSAGES_WITH_USER'\nexport const LOAD_CONVERSATIONS = 'LOAD_CONVERSATIONS'\nexport const SET_CONVERSATION = 'SET_CONVERSATION'\nexport const MARK_CONVERSATION_AS_READ = 'MARK_CONVERSATION_AS_READ'\nexport const MARK_CONVERSATION_AS_UNREAD = 'MARK_CONVERSATION_AS_UNREAD'\nexport const SET_CHAT_IS_OPEN = 'SET_CHAT_IS_OPEN'\nexport const TOGGLE_MESSAGE_VISIBLE = 'TOGGLE_MESSAGE_VISIBLE'\nexport const MARK_MESSAGES_AS_SEEN = 'MARK_MESSAGES_AS_SEEN'\nexport const OPEN_CHAT = 'OPEN_CHAT'\n","/* eslint-disable default-param-last */\nimport produce from 'immer'\nimport { toDateString } from 'utils/DateFormat'\nimport {\n  LOAD_MESSAGES_WITH_USER,\n  SET_CURRENTLY_CHAT_WITH,\n  SET_CONNECTION,\n  SET_MESSAGES_WITH_USER,\n  LOAD_CONVERSATIONS,\n  MARK_CONVERSATION_AS_READ,\n  MARK_CONVERSATION_AS_UNREAD,\n  SET_CHAT_IS_OPEN,\n  TOGGLE_MESSAGE_VISIBLE,\n  MARK_MESSAGES_AS_SEEN\n} from './constants'\n\nexport const initialState = {\n  connection: {},\n  messages: {},\n  currentlyChatWith: {},\n  conversations: [],\n  chatIsOpen: false\n}\n\nconst markConversationAs = (draft, userId, status) => {\n  const found = draft.conversations.find(x => x.client.id === userId)\n  if (!found) return\n  const index = draft.conversations.indexOf(found)\n  found.unread = status\n  draft.conversations[index] = found\n}\n/* eslint-disable default-case, no-param-reassign */\nconst chatReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case LOAD_MESSAGES_WITH_USER:\n        draft.messages[action.userId] = action.messages.map(x => ({ ...x, date: toDateString(x.date, action.monthNames) }))\n        break\n      case SET_CURRENTLY_CHAT_WITH:\n        draft.currentlyChatWith = action.payload\n        break\n      case SET_CONNECTION:\n        draft.connection = action.payload\n        break\n      case SET_MESSAGES_WITH_USER:\n        draft.messages[action.userId] = Object.prototype.hasOwnProperty.call(draft.messages, action.userId) ? draft.messages[action.userId] = [...draft.messages[action.userId], action.message] : [action.message]\n        break\n      case LOAD_CONVERSATIONS:\n        draft.conversations = action.payload\n        break\n      case MARK_CONVERSATION_AS_READ:\n        markConversationAs(draft, action.payload, false)\n        break\n      case MARK_CONVERSATION_AS_UNREAD:\n        markConversationAs(draft, action.payload, true)\n        break\n      case SET_CHAT_IS_OPEN:\n        draft.chatIsOpen = action.payload\n        break\n      case MARK_MESSAGES_AS_SEEN:\n        for (let i = 0; i < draft.messages[action.userId].length; i++) {\n          if (draft.messages[action.userId][i].author === 'me') {\n            draft.messages[action.userId][i].status = 'seen'\n          }\n        }\n        break\n      case TOGGLE_MESSAGE_VISIBLE:\n        for (let i = 0; i < draft.messages[action.userId].length; i++) {\n          if (draft.messages[action.userId][i].id === action.messageId) { continue }\n          draft.messages[action.userId][i].isStatusVisible = false\n          draft.messages[action.userId][i].isDateVisible = false\n        }\n        var found = draft.messages[action.userId].find(x => x.id === action.messageId)\n        if (!found) break\n        found.isStatusVisible = !found.isStatusVisible\n        found.isDateVisible = !found.isDateVisible\n        break\n    }\n  })\nexport default chatReducer\n","export const LOAD_OPERATORS_INFO = 'LOAD_OPERATORS_INFO'\nexport const OPERATORS_INFO_LOADED = 'OPERATORS_INFO_LOADED'\nexport const LOAD_OPERATORS_INFO_ERROR = 'LOAD_OPERATORS_INFO_ERROR'\nexport const SET_SUBSCRIPTION_PAGE_NUMBER = 'SET_SUBSCRIPTION_PAGE_NUMBER'\nexport const SET_OPERATORS_INFO_SORT_PARAMETER = 'SET_OPERATORS_INFO_SORT_PARAMETER'\nexport const SET_OPERATORS_INFO_FILTERS = 'SET_OPERATORS_INFO_FILTERS'\nexport const SET_CURRENT_OPERATOR = 'SET_CURRENT_OPERATOR'\nexport const UPDATE_SUBSCRIPTION = 'UPDATE_SUBSCRIPTION'\nexport const CREATE_SUBSCRIPTION = 'CREATE_SUBSCRIPTION'\nexport const RESET_SUBSCRIPTIONS = 'RESET_SUBSCRIPTIONS'\n","\nimport produce from 'immer'\nimport { LOAD_OPERATORS_INFO, LOAD_OPERATORS_INFO_ERROR, OPERATORS_INFO_LOADED, SET_OPERATORS_INFO_FILTERS, SET_OPERATORS_INFO_SORT_PARAMETER, SET_SUBSCRIPTION_PAGE_NUMBER, SET_CURRENT_OPERATOR } from './constants'\nimport { capitalizeFirstLetter } from 'utils/capitalizeFirstLetter'\n\nexport const initialState = {\n  operatorsInfo: {\n    loading: false,\n    error: false,\n    data: [],\n    pageNumber: 1,\n    sortFieldName: null,\n    sortDirection: 'desc',\n    filters: {\n      mail: '',\n      name: ''\n    }\n  },\n  currentOperator: {\n    id: '',\n    name: ''\n  }\n}\n\nconst subscriptionsReducer = (state = initialState, action) => produce(state, (draft) => {\n  // eslint-disable-next-line default-case\n  switch (action.type) {\n    case LOAD_OPERATORS_INFO:\n      draft.operatorsInfo.data = []\n      draft.operatorsInfo.error = false\n      draft.operatorsInfo.loading = true\n      break\n    case OPERATORS_INFO_LOADED:\n      draft.operatorsInfo.data = action.payload\n      draft.operatorsInfo.error = false\n      draft.operatorsInfo.loading = false\n      break\n    case LOAD_OPERATORS_INFO_ERROR:\n      draft.operatorsInfo.data = []\n      draft.operatorsInfo.loading = false\n      draft.operatorsInfo.error = action.payload\n      break\n    case SET_SUBSCRIPTION_PAGE_NUMBER:\n      draft.operatorsInfo.pageNumber = action.payload\n      break\n    case SET_OPERATORS_INFO_SORT_PARAMETER:\n      draft.operatorsInfo.sortDirection =\n        draft.operatorsInfo.sortDirection === 'asc' ? 'desc' : 'asc'\n      draft.operatorsInfo.sortFieldName = capitalizeFirstLetter(action.payload)\n      break\n    case SET_OPERATORS_INFO_FILTERS:\n      draft.operatorsInfo.filters = action.payload\n      break\n    case SET_CURRENT_OPERATOR:\n      draft.currentOperator = action.payload\n      break\n  }\n})\n\nexport default subscriptionsReducer\n","/**\n * Combine all reducers in this file and export the combined reducers.\n */\n\nimport { combineReducers } from 'redux'\nimport { connectRouter } from 'connected-react-router'\n\nimport history from 'utils/history'\nimport marketPageReducer from 'views/Market/reducer'\nimport globalReducer from 'views/App/reducer'\nimport operatsPageReducer from 'views/History/reducer'\nimport modalReducer from 'views/Modal/reducer'\nimport userReducer from 'views/User/reducer'\nimport operatReducer from 'views/Operat/reducer'\nimport usersPageReducer from 'views/Users/reducer'\nimport chatReducer from 'views/Chat/reducer'\nimport subscriptionsReducer from 'views/Subscriptions/reducer'\n/**\n  * Merges the main reducer with the router state and dynamically injected reducers\n  */\nexport default function createReducer (injectedReducers = {}) {\n  const rootReducer = combineReducers({\n    router: connectRouter(history),\n    ...injectedReducers,\n    marketPage: marketPageReducer,\n    operatsPage: operatsPageReducer,\n    global: globalReducer,\n    modal: modalReducer,\n    user: userReducer,\n    operat: operatReducer,\n    usersPage: usersPageReducer,\n    chat: chatReducer,\n    subscriptions: subscriptionsReducer\n  })\n\n  return rootReducer\n}\n","import invariant from 'invariant'\nimport { isEmpty, isFunction, isString } from 'lodash'\n\nimport checkStore from './checkStore'\nimport createReducer from '../reducers'\n\nexport function injectReducerFactory (store, isValid) {\n  return function injectReducer (key, reducer) {\n    if (!isValid) checkStore(store)\n\n    invariant(\n      isString(key) && !isEmpty(key) && isFunction(reducer),\n      '(app/utils...) injectReducer: Expected `reducer` to be a reducer function'\n    )\n\n    // Check `store.injectedReducers[key] === reducer` for hot reloading when a key is the same but a reducer is different\n    if (\n      Reflect.has(store.injectedReducers, key) &&\n      store.injectedReducers[key] === reducer\n    ) { return }\n\n    store.injectedReducers[key] = reducer // eslint-disable-line no-param-reassign\n    store.replaceReducer(createReducer(store.injectedReducers))\n  }\n}\n\nexport default function getInjectors (store) {\n  checkStore(store)\n\n  return {\n    injectReducer: injectReducerFactory(store, true)\n  }\n}\n","/* eslint-disable */\n\nimport React from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { ReactReduxContext } from 'react-redux';\n\nimport getInjectors from './reducerInjectors';\n\n/**\n * Dynamically injects a reducer\n *\n * @param {string} key A key of the reducer\n * @param {function} reducer A reducer that will be injected\n *\n */\nexport default ({ key, reducer }) =>\n  (WrappedComponent) => {\n    class ReducerInjector extends React.Component {\n      //static WrappedComponent = WrappedComponent;\n\n      //static contextType = ReactReduxContext;\n\n      static displayName = `withReducer(${\n        WrappedComponent.displayName || WrappedComponent.name || 'Component'\n      })`;\n\n      constructor(props, context) {\n        super(props, context);\n\n        getInjectors(context.store).injectReducer(key, reducer);\n      }\n\n      render() {\n        return <WrappedComponent {...this.props} />;\n      }\n    }\n\n    return hoistNonReactStatics(ReducerInjector, WrappedComponent);\n  };\n\nconst useInjectReducer = ({ key, reducer }) => {\n  const context = React.useContext(ReactReduxContext);\n  React.useEffect(() => {\n    getInjectors(context.store).injectReducer(key, reducer);\n  }, []);\n};\n\nexport { useInjectReducer };\n","import { history } from '../helpers'\n/**\n * Parses the JSON returned by a network request\n *\n * @param  {object} response A response from a network request\n *\n * @return {object}          The parsed JSON from the request\n */\nfunction parseJSON (response) {\n  if (response.status === 204 || response.status === 205) {\n    return null\n  }\n  console.log(response)\n\n  const pageCount = response.headers.get('X-Page-Count')\n  response.url.toLowerCase().includes('pagenumber') && pageCount && localStorage.setItem('pageCount', pageCount)\n  return response.json()\n}\n\n/**\n   * Checks if a network request came back fine, and throws an error if not\n   *\n   * @param  {object} response   A response from a network request\n   *\n   * @return {object|undefined} Returns either the response, or throws an error\n   */\nasync function checkStatus (response) {\n  if (response.status === 401) {\n    history.push('/logout')\n  }\n  if (response.status >= 200 && response.status < 300) {\n    return response\n  }\n\n  const error = new Error(response.statusText)\n  const json = await response.json()\n  if (json.error) {\n    error.message = json.error.message\n  }\n  if (json.message) {\n    error.message = json.message\n  }\n\n  error.response = response\n  throw error\n}\n\n/**\n   * Requests a URL, returning a promise\n   *\n   * @param  {string} url       The URL we want to request\n   * @param  {object} [options] The options we want to pass to \"fetch\"\n   *\n   * @return {object}           The response data\n   */\nexport default function request (url, options) {\n  return fetch(process.env.REACT_APP_API_URL + url, options)\n    .then(checkStatus)\n    .then(parseJSON)\n}\n","import request from 'utils/request'\nimport { call, delay, race } from 'redux-saga/effects'\n\nconst delayTime = 2 * 60 * 1000\n\nexport function * handleRequestWithTimeout (requestUrl, requestOptions) {\n  const { result, timeout } = yield race({\n    result: call(request, requestUrl, requestOptions),\n    timeout: delay(delayTime)\n  })\n\n  if (timeout) {\n    throw new Error('Timeout of 120 sec exceeded')\n  }\n\n  return result\n}\n","import { globalConstants, modalTypeConstants } from '../../constants'\nimport { call, put, select, takeLatest } from 'redux-saga/effects'\nimport request from 'utils/request'\nimport { makeSelectUser } from 'views/App/selectors'\nimport { loadOperatOrderError, loadOperats, loadOperatsError, operatOrderLoaded, operatsLoaded } from './actions'\nimport { CREATE_OPERAT, LOAD_OPERAT_ORDER, LOAD_OPERATS, REMOVE_OPERAT, SEND_PDF, UPLOAD_OWN_GENERATED, UPLOAD_SIGNED_OPERAT } from './constants'\n\nimport { makeSelectActiveOperat, makeSelectOperats, makeSelectPageNumber, makeSelectSelectedOperatType } from './selectors'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { callForHeader } from 'utils/HeadersCall'\nimport { addNotification } from 'utils/addNotification'\nimport { handleRequestWithTimeout } from 'views/Modal/timeout'\n\nexport function * getOperats () {\n  const pageNumber = yield select(makeSelectPageNumber())\n  const operats = yield select(makeSelectOperats())\n  let requestUrl\n  requestUrl = '/Operat/my?pageNumber=' + pageNumber\n  if (operats.filters.createdDateTimeFrom !== '') {\n    requestUrl += `&createdDateTimeFrom=${operats.filters.createdDateTimeFrom}`\n  }\n  if (operats.filters.createdDateTimeTo !== '') {\n    requestUrl += `&createdDateTimeTo=${operats.filters.createdDateTimeTo}`\n  }\n  if (operats.sortFieldName) {\n    requestUrl += `&fieldName=${operats.sortFieldName}&direction=${operats.sortDirection}`\n  }\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const operats = yield call(request, requestUrl, options)\n    yield put(operatsLoaded(operats))\n  } catch (err) {\n    yield put(loadOperatsError(err))\n  }\n}\n\nexport function * removeOperat () {\n  const activeOperat = yield select(makeSelectActiveOperat())\n  const requestUrl = `/Operat/id/${activeOperat.id}`\n  const headers = yield call(callForHeader)\n  const options = { method: 'DELETE', headers }\n  try {\n    yield call(request, requestUrl, options)\n    yield put(loadOperats())\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport function * saveOperat () {\n  const requestUrl = '/Operat'\n  const selectedOperatType = yield select(makeSelectSelectedOperatType())\n  const user = yield select(makeSelectUser())\n  const userId = user.user.id\n  const headers = yield call(callForHeader, 'json')\n  const timeElapsed = Date.now()\n  const today = new Date(timeElapsed)\n  const formElement = document.querySelector('#new-operat-form')\n  const data = new FormData(formElement)\n  const body = {\n    name: data.get('operat-name') === '' ? `${selectedOperatType.name + ' : ' + today.toLocaleString()}` : data.get('operat-name'),\n    orderId: globalConstants.EMPTY_GUID,\n    operatorId: userId,\n    operatTypeId: selectedOperatType.id\n  }\n  const options = { method: 'POST', headers, body: JSON.stringify(body) }\n  try {\n    yield call(request, requestUrl, options)\n    yield put(loadOperats())\n  } catch (err) {\n    if (err.response.status === 402) {\n      yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'unactiveSubscription', translate: true }))\n    } else {\n      yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'createOperatFailed', translate: true }))\n    }\n  }\n}\n\nexport function * getOperatOrder () {\n  const activeOperat = yield select(makeSelectActiveOperat())\n  if (activeOperat.orderId === globalConstants.EMPTY_GUID) {\n    yield put(operatOrderLoaded({}))\n    return\n  }\n  const requestUrl = '/Order/id/' + activeOperat.orderId\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'GET', headers }\n  try {\n    const order = yield call(request, requestUrl, options)\n    yield put(operatOrderLoaded(order))\n  } catch (err) {\n    yield put(loadOperatOrderError(err))\n  }\n}\n\nexport function * sendPdf (action) {\n  let requestUrl = `/Operat/id/${action.id}/send?sendToPrincipal=${action.sendToPrincipal}`\n  for (let i = 0; i < action.emails.length; i++) {\n    requestUrl += `&emails=${action.emails[i]}`\n  }\n  const headers = {\n    'Content-type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'POST', headers }\n  try {\n    yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'sendingOperat', translate: true }))\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(hideLoadingScreen())\n  } catch (err) {\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'sendingFailed', translate: true }))\n    console.log(err)\n  }\n}\n\nexport function * uploadOperat (requestUrl, action) {\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const data = new FormData()\n  data.append('file', action.file)\n  const options = { method: 'POST', headers, body: data }\n  try {\n    yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'loadingOperat', translate: true }))\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(loadOperats())\n    yield put(hideLoadingScreen())\n    yield call(addNotification, 'Informacja', 'Operat został pomyślnie wgrany na platformę Aoperat.', 'info')\n  } catch (err) {\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'loadingFailed', translate: true }))\n    console.log(err)\n  }\n}\n\nexport function * uploadOwnGeneratedOperat (action) {\n  const requestUrl = `/OperatFiles/id/${action.id}/own`\n  yield call(uploadOperat, requestUrl, action)\n}\n\nexport function * uploadSignedOperat (action) {\n  const requestUrl = `/OperatFiles/id/${action.id}/upload-signed`\n  yield call(uploadOperat, requestUrl, action)\n}\n\nexport default function * globalData () {\n  yield takeLatest(LOAD_OPERATS, getOperats)\n  yield takeLatest(REMOVE_OPERAT, removeOperat)\n  yield takeLatest(CREATE_OPERAT, saveOperat)\n  yield takeLatest(LOAD_OPERAT_ORDER, getOperatOrder)\n  yield takeLatest(SEND_PDF, sendPdf)\n  yield takeLatest(UPLOAD_OWN_GENERATED, uploadOwnGeneratedOperat)\n  yield takeLatest(UPLOAD_SIGNED_OPERAT, uploadSignedOperat)\n}\n","export const RESTART_ON_REMOUNT = '@@saga-injector/restart-on-remount'\nexport const DAEMON = '@@saga-injector/daemon'\nexport const ONCE_TILL_UNMOUNT = '@@saga-injector/once-till-unmount'\n","/* eslint-disable */\n\nimport invariant from 'invariant';\nimport { isEmpty, isFunction, isString, conformsTo } from 'lodash';\n\nimport checkStore from './checkStore';\nimport { DAEMON, ONCE_TILL_UNMOUNT, RESTART_ON_REMOUNT } from './constants';\n\nconst allowedModes = [RESTART_ON_REMOUNT, DAEMON, ONCE_TILL_UNMOUNT];\n\nconst checkKey = (key) =>\n  invariant(\n    isString(key) && !isEmpty(key),\n    '(app/utils...) injectSaga: Expected `key` to be a non empty string',\n  );\n\nconst checkDescriptor = (descriptor) => {\n  const shape = {\n    saga: isFunction,\n    mode: (mode) => isString(mode) && allowedModes.includes(mode),\n  };\n  invariant(\n    conformsTo(descriptor, shape),\n    '(app/utils...) injectSaga: Expected a valid saga descriptor',\n  );\n};\n\nexport function injectSagaFactory(store, isValid) {\n  return function injectSaga(key, descriptor = {}, args) {\n    if (!isValid) checkStore(store);\n\n    const newDescriptor = {\n      ...descriptor,\n      mode: descriptor.mode || DAEMON,\n    };\n    const { saga, mode } = newDescriptor;\n\n    checkKey(key);\n    checkDescriptor(newDescriptor);\n\n    let hasSaga = Reflect.has(store.injectedSagas, key);\n\n    if (process.env.NODE_ENV !== 'production') {\n      const oldDescriptor = store.injectedSagas[key];\n      // enable hot reloading of daemon and once-till-unmount sagas\n      if (hasSaga && oldDescriptor.saga !== saga) {\n        oldDescriptor.task.cancel();\n        hasSaga = false;\n      }\n    }\n\n    if (\n      !hasSaga ||\n      (hasSaga && mode !== DAEMON && mode !== ONCE_TILL_UNMOUNT)\n    ) {\n      /* eslint-disable no-param-reassign */\n      store.injectedSagas[key] = {\n        ...newDescriptor,\n        task: store.runSaga(saga, args),\n      };\n      /* eslint-enable no-param-reassign */\n    }\n  };\n}\n\nexport function ejectSagaFactory(store, isValid) {\n  return function ejectSaga(key) {\n    if (!isValid) checkStore(store);\n\n    checkKey(key);\n\n    if (Reflect.has(store.injectedSagas, key)) {\n      const descriptor = store.injectedSagas[key];\n      if (descriptor.mode && descriptor.mode !== DAEMON) {\n        descriptor.task.cancel();\n        // Clean up in production; in development we need `descriptor.saga` for hot reloading\n        if (process.env.NODE_ENV === 'production') {\n          // Need some value to be able to detect `ONCE_TILL_UNMOUNT` sagas in `injectSaga`\n          store.injectedSagas[key] = 'done'; // eslint-disable-line no-param-reassign\n        }\n      }\n    }\n  };\n}\n\nexport default function getInjectors(store) {\n  checkStore(store);\n\n  return {\n    injectSaga: injectSagaFactory(store, true),\n    ejectSaga: ejectSagaFactory(store, true),\n  };\n}\n","/* eslint-disable */\n\nimport React from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { ReactReduxContext } from 'react-redux';\n\nimport getInjectors from './sagaInjectors';\n\n/**\n * Dynamically injects a saga, passes component's props as saga arguments\n *\n * @param {string} key A key of the saga\n * @param {function} saga A root saga that will be injected\n * @param {string} [mode] By default (constants.DAEMON) the saga will be started\n * on component mount and never canceled or started again. Another two options:\n *   - constants.RESTART_ON_REMOUNT — the saga will be started on component mount and\n *   cancelled with `task.cancel()` on component unmount for improved performance,\n *   - constants.ONCE_TILL_UNMOUNT — behaves like 'RESTART_ON_REMOUNT' but never runs it again.\n *\n */\nexport default ({ key, saga, mode }) =>\n  (WrappedComponent) => {\n    class InjectSaga extends React.Component {\n      //static WrappedComponent = WrappedComponent;\n\n      //static contextType = ReactReduxContext;\n\n      static displayName = `withSaga(${\n        WrappedComponent.displayName || WrappedComponent.name || 'Component'\n      })`;\n\n      constructor(props, context) {\n        super(props, context);\n\n        this.injectors = getInjectors(context.store);\n\n        this.injectors.injectSaga(key, { saga, mode }, this.props);\n      }\n\n      componentWillUnmount() {\n        this.injectors.ejectSaga(key);\n      }\n\n      render() {\n        return <WrappedComponent {...this.props} />;\n      }\n    }\n\n    return hoistNonReactStatics(InjectSaga, WrappedComponent);\n  };\n\nconst useInjectSaga = ({ key, saga, mode }) => {\n  const context = React.useContext(ReactReduxContext);\n  React.useEffect(() => {\n    const injectors = getInjectors(context.store);\n    injectors.injectSaga(key, { saga, mode });\n\n    return () => {\n      injectors.ejectSaga(key);\n    };\n  }, []);\n};\n\nexport { useInjectSaga };\n","import React, { useState } from 'react'\nimport {\n  Button,\n  Form,\n  FormGroup, Input, Label\n} from 'reactstrap'\n\nexport const NewOperatForm = (props) => {\n  const [operatType, setOperatType] = useState('')\n\n  return (\n    <Form\n      id='new-operat-form' onSubmit={(e) => {\n        e.preventDefault()\n        props.handleCreateOperat()\n      }}\n    >\n      <Input\n        type='select' required className='dark-select' id='operat-type-select' value={operatType.id ? operatType.id : ''} onChange={(e) => {\n          if (e.target.value === 'CLEAR') {\n            setOperatType('')\n          } else {\n            props.handleSelectOperatType(props.operatTypes.operatTypes.find(x => x.id === e.target.value))\n            setOperatType(props.operatTypes.operatTypes.find(x => x.id === e.target.value))\n          }\n        }} style={{ width: '100%' }} placeholder='wybierz typ operatu'\n      >\n        <option value='' disabled>Wybierz rodzaj operatu</option>\n        {props.operatTypes.operatTypes.map((element) => {\n          return (\n            <option key={element.id} value={element.id}>{element.name}</option>\n          )\n        })}\n        <option value='CLEAR'>---Kasuj wybór---</option>\n      </Input>\n      <FormGroup>\n        <Label for='operat-name'>\n          Nazwa operatu\n        </Label>\n        <Input type='text' id='operat-name' name='operat-name' />\n      </FormGroup>\n      <Button type='submit' color='success'>Stwórz operat</Button>\n    </Form>\n  )\n}\n\nexport default NewOperatForm\n","import React, { useState } from 'react'\nimport {\n  Card,\n  CardBody,\n  Input,\n  Button,\n  Form\n} from 'reactstrap'\n\nexport const OperatFilters = ({ handleSetOperatFilters }) => {\n  const [createdDateTimeFrom, setCreatedDateTimeFrom] = useState('')\n  const [createdDateTimeTo, setCreatedDateTimeTo] = useState('')\n  const handleClear = () => {\n    setCreatedDateTimeFrom('')\n    setCreatedDateTimeTo('')\n    handleSetOperatFilters({ createdDateTimeFrom: '', createdDateTimeTo: '' })\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    handleSetOperatFilters({ createdDateTimeFrom, createdDateTimeTo })\n  }\n  return (\n    <Card>\n      <CardBody>\n        <Form onSubmit={handleSubmit}>\n          <label for='filter-operat-created-date-time-from'>\n            Data utworzenia od\n          </label>\n          <Input\n            type='date' placeholder='Data utworzenia od' id='filter-operat-created-date-time-from' name='filter-operat-created-date-time-from' onChange={(e) => {\n              setCreatedDateTimeFrom(e.target.value)\n            }} value={createdDateTimeFrom}\n          />\n          <label for='filter-operat-created-date-time-to'>\n            Data utworzenia do\n          </label>\n          <Input\n            type='date' placeholder='Data utworzenia do' id='filter-operat-created-date-time-to' name='filter-operat-created-date-time-to' onChange={(e) => {\n              setCreatedDateTimeTo(e.target.value)\n            }} value={createdDateTimeTo}\n          />\n          <Button onClick={handleClear}>Wyczyść</Button>\n          <Button type='submit' color='success'>Filtruj</Button>\n        </Form>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default OperatFilters\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Col, FormGroup, Input, Label } from 'reactstrap'\nconst ShowIdCheckbox = ({ setIsIdHidden, isIdHidden, label }) => {\n  return (\n    <FormGroup>\n      <Col sm={{ size: 10 }}>\n        <FormGroup>\n          <Label\n            for='authorizedExperts' sm={10} onClick={() => {\n              setIsIdHidden(!isIdHidden)\n            }}\n          >\n            <Input\n              name='show-operat-id'\n              id='show-operat-id'\n              type='checkbox'\n              checked={!isIdHidden}\n              onChange={() => {\n                setIsIdHidden(!isIdHidden)\n              }}\n            />\n            {label}\n          </Label>\n        </FormGroup>\n      </Col>\n    </FormGroup>\n  )\n}\n\nShowIdCheckbox.propTypes = {\n  setIsIdHidden: PropTypes.func.isRequired,\n  isIdHidden: PropTypes.bool.isRequired,\n  label: PropTypes.string.isRequired\n}\n\nexport default ShowIdCheckbox\n","import React, { memo, useEffect, useState } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Col, Row, Button, Collapse, Card, CardBody\n} from 'reactstrap'\nimport { userRolesConstants } from '../../constants'\nimport HistoryRow from './HistoryRow'\nimport Pagination from '@mui/material/Pagination'\nimport { useHistory } from 'react-router'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectOperatOrder, makeSelectOperats } from './selectors'\nimport { createOperat, loadOperatOrder, loadOperats, removeOperat, selectOperatType, sendPdf, setActiveOperat, setOperatFilters, setOperatSortParameters, setPageNumber, uploadOwnGeneratedOperat, uploadSignedOperat } from './actions'\nimport { connect, useSelector } from 'react-redux'\nimport { compose } from 'redux'\nimport { makeSelectOperatTypes } from 'views/App/selectors'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport NewOperatForm from 'components/NewOperatForm'\nimport OperatFilters from 'components/Filters/Operat'\nimport ShowIdCheckbox from 'components/ShowIdCheckbox'\nconst key = 'operatsPage'\nfunction History (props) {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const { t } = useTranslation('common')\n  const history = useHistory()\n  const user = useSelector(state => state.global.user)\n  const [isIdHidden, setIsIdHidden] = useState(true)\n  const [isFiltersVisible, setIsFiltersVisible] = useState(false)\n  const [isNewOperatFormVisible, setIsNewOperatFormVisible] = useState(false)\n  const isAdmin = user.userType === userRolesConstants.ADMIN\n  useEffect(() => {\n    const search = new URLSearchParams(history.location.search)\n    if (!search.get('pageNumber')) { props.handleSetPageNumber('1') }\n    // eslint-disable-next-line\n  }, [])\n  useEffect(() => {\n    props.handleLoadOperats()\n    // eslint-disable-next-line\n  }, [history.location.search, props.operats.filters, props.operats.sortDirection, props.operats.sortFieldName])\n  const sortable = {\n    onSort: (field, order) => {\n      props.handleSetOperatSortParameters(field)\n    },\n    sortFunc: (a, b, order, dataField, rowA, rowB) => {\n\n    },\n    sort: true\n  }\n  const columns = [\n    {\n      dataField: 'id',\n      text: 'ID',\n      hidden: isIdHidden\n    },\n    {\n      dataField: 'inProcess',\n      text: t('history.table.headers.inProgress'),\n      editable: false,\n      headerStyle: { width: '15%' },\n      align: 'center',\n      headerAlign: 'center',\n      formatter: (cellContent, row) => (\n        <label>\n          <input type='checkbox' defaultChecked={row.inProcess} />\n        </label>\n      )\n    },\n    {\n      dataField: 'createdDateTime',\n      text: t('history.table.headers.applicationDate'),\n      align: 'center',\n      headerAlign: 'center',\n      editable: false,\n      ...sortable,\n      formatter: (cellContent, row) => <div>{cellContent.split('T')[0]}</div>,\n      headerStyle: (colum, colIndex) => {\n        return { width: '15%', textAlign: 'center' }\n      }\n    },\n    {\n      dataField: 'name',\n      ...sortable,\n      sort: true,\n      text: t('history.table.headers.informations'),\n      headerAlign: 'center',\n      align: 'center',\n      editable: false\n    }\n  ]\n\n  const expandRow = () => {\n    return {\n      onlyOneExpanding: true,\n      onExpand: (row, isExpand, rowIndex, e) => {\n        props.handleSetActiveOperat(row)\n      },\n      renderer: (row) => (\n        <HistoryRow\n          row={row} history={props.history}\n          handleRemoveOperat={props.handleRemoveOperat} handleLoadOperats={props.handleLoadOperats}\n          handleLoadOperatOrder={props.handleLoadOperatOrder}\n          operatOrder={props.operatOrder}\n          handleSendPdf={props.handleSendPdf}\n          handleSetActiveOperat={props.handleSetActiveOperat}\n          handleUploadOwnGeneratedOperat={props.handleUploadOwnGeneratedOperat}\n          handleUploadSignedOperat={props.handleUploadSignedOperat}\n        />\n      )\n    }\n  }\n  const handleChangePageNumber = (event, newPage) => {\n    const search = new URLSearchParams(history.location.search)\n    search.set('pageNumber', newPage.toString())\n    history.push({\n      pathname: '/history',\n      search: search.toString()\n    })\n    props.handleSetPageNumber(newPage.toString())\n    props.handleLoadOperats()\n  }\n\n  return (\n    <div className='content'>\n      <div className='container'>\n        {isAdmin && <ShowIdCheckbox setIsIdHidden={(e) => setIsIdHidden(e)} isIdHidden={isIdHidden} label='Pokazać id operatu?' />}\n        <Row>\n          <div>\n            <Button onClick={() => setIsNewOperatFormVisible(isNewOperatFormVisible => !isNewOperatFormVisible)}>Tworzenie operatu</Button>\n            <Collapse isOpen={isNewOperatFormVisible}>\n              <Card>\n                <CardBody>\n                  <NewOperatForm\n                    operatTypes={props.operatTypes}\n                    handleCreateOperat={props.handleCreateOperat}\n                    handleSelectOperatType={props.handleSelectOperatType}\n                  />\n                </CardBody>\n              </Card>\n            </Collapse>\n          </div>\n          <Col md='12'>\n            <Button color='success' onClick={() => setIsFiltersVisible(v => !v)}>Filtry</Button>\n            <Collapse isOpen={isFiltersVisible}>\n              <OperatFilters handleSetOperatFilters={props.handleSetOperatFilters} />\n            </Collapse>\n            <Pagination count={localStorage.getItem('pageCount')} color='primary' page={(new URLSearchParams(history.location.search)).get('pageNumber') ? parseInt((new URLSearchParams(history.location.search)).get('pageNumber')) : 1} onChange={handleChangePageNumber} />\n            {\n              props.operats.loading\n                ? <LoadingIndicator />\n                : <BootstrapTable\n                    bootstrap4\n                    keyField='id'\n                    data={props.operats.operats}\n                    columns={columns}\n                    striped\n                    hover\n                    condensed\n                    bordered={false}\n                    expandRow={expandRow()}\n                  />\n            }\n          </Col>\n        </Row>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = createStructuredSelector({\n  operats: makeSelectOperats(),\n  operatTypes: makeSelectOperatTypes(),\n  operatOrder: makeSelectOperatOrder()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleLoadOperats: () => dispatch(loadOperats()),\n    handleRemoveOperat: () => dispatch(removeOperat()),\n    handleSetActiveOperat: operat => dispatch(setActiveOperat(operat)),\n    handleCreateOperat: () => dispatch(createOperat()),\n    handleSelectOperatType: (operatType) => dispatch(selectOperatType(operatType)),\n    handleSetPageNumber: (pageNumber) => dispatch(setPageNumber(pageNumber)),\n    handleLoadOperatOrder: () => dispatch(loadOperatOrder()),\n    handleSendPdf: (id, emails, sendToPrincipal) => dispatch(sendPdf(id, emails, sendToPrincipal)),\n    handleUploadOwnGeneratedOperat: (id, file) => dispatch(uploadOwnGeneratedOperat(id, file)),\n    handleUploadSignedOperat: (id, file) => dispatch(uploadSignedOperat(id, file)),\n    handleSetOperatFilters: (filters) => dispatch(setOperatFilters(filters)),\n    handleSetOperatSortParameters: fieldName => dispatch(setOperatSortParameters(fieldName))\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(History)\n","import GoogleMapReact from 'google-map-react'\nimport React, { useEffect, useState } from 'react'\n\nfunction MapWithMarker (props) {\n  const [center, setCenter] = useState({\n    lat: 52.2492292821819,\n    lng: 21.0120537940507\n  })\n  const [loadedCoords, setLoadedCoords] = useState(false)\n\n  useEffect(() => {\n    if (props.locationInfo.latlng.lat !== 0) {\n      setCenter({ lat: props.locationInfo.latlng.lat, lng: props.locationInfo.latlng.lng })\n      setLoadedCoords(true)\n    } else {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(position => {\n          setCenter({ lat: position.coords.latitude, lng: position.coords.longitude })\n          setLoadedCoords(true)\n        }, () => setLoadedCoords(true))\n      } else { setLoadedCoords(true) }\n    }\n  }, [props.locationInfo.latlng.lat, props.locationInfo.latlng.lng])\n\n  function geocodeAddress (map, maps) {\n    const address = `${props.locationInfo.address} ${props.locationInfo.locationPostCode}`\n\n    const geocoder = new maps.Geocoder()\n    const infowindow = new maps.InfoWindow()\n\n    geocoder\n      .geocode({ address: address })\n      .then(({ results }) => {\n        if (results[0]) {\n          map.setZoom(11)\n          map.setCenter(results[0].geometry.location)\n\n          const marker = new maps.Marker({\n            draggable: true,\n            map,\n            position: results[0].geometry.location\n          })\n          makeMarkerDraggable(marker)\n          infowindow.setContent(results[0].formatted_address)\n          infowindow.open(map, marker)\n          props.setCoords({ lat: marker.position.lat(), lng: marker.position.lng() })\n\n          return marker\n        } else {\n\n        }\n      })\n  }\n\n  const handleApiLoaded = (map, maps) => {\n    if (props.locationInfo.address !== '') {\n      return geocodeAddress(map, maps)\n    } else {\n      return geocodeFromLocation(maps, map)\n    }\n  }\n\n  return (\n    // Important! Always set the container height explicitly\n    <div style={{ height: '75vh', width: '75vh' }}>\n      {loadedCoords &&\n        <GoogleMapReact\n          bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_API_KEY }}\n          defaultCenter={center}\n          defaultZoom={11}\n          yesIWantToUseGoogleMapApiInternals\n          onGoogleApiLoaded={({ map, maps }) => handleApiLoaded(map, maps)}\n        />}\n    </div>\n  )\n\n  function geocodeFromLocation (maps, map) {\n    const infowindow = new maps.InfoWindow()\n\n    const marker = new maps.Marker({\n      position: center,\n      map,\n      draggable: true\n    })\n    makeMarkerDraggable(marker)\n    infowindow.setContent('Przeciągnij mnie')\n    infowindow.open(map, marker)\n    props.setCoords({ lat: marker.position.lat(), lng: marker.position.lng() })\n\n    return marker\n  }\n\n  function makeMarkerDraggable (marker) {\n    marker.addListener('mouseup', () => {\n      props.setCoords({ lat: marker.position.lat(), lng: marker.position.lng() })\n      // console.log({ lat: marker.position.lat(), lng: marker.position.lng() })\n    })\n  }\n}\n\nexport { MapWithMarker }\n","import GoogleMapReact from 'google-map-react'\nimport React from 'react'\n\nfunction MapToPrewiew (props) {\n  const handleApiLoaded = (map, maps) => {\n    const marker = new maps.Marker({\n      position: props.cords,\n      map\n    })\n\n    return marker\n  }\n\n  return (\n    // Important! Always set the container height explicitly\n    <div style={{ height: '75vh', width: '75vh' }}>\n      <GoogleMapReact\n        bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_API_KEY }}\n        defaultCenter={props.cords}\n        defaultZoom={11}\n        yesIWantToUseGoogleMapApiInternals\n        onGoogleApiLoaded={({ map, maps }) => handleApiLoaded(map, maps)}\n      />\n    </div>\n  )\n}\n\nexport { MapToPrewiew }\n","import React from 'react'\nimport {\n  Button,\n  Card,\n  CardBody,\n  UncontrolledCollapse,\n  UncontrolledPopover,\n  PopoverBody\n} from 'reactstrap'\n\nimport { MapToPrewiew } from '../Maps'\nimport { useTranslation } from 'react-i18next'\n\nfunction OrderInfoUncontrolledCollapse (props) {\n  const { t } = useTranslation('common')\n  const cordsList = props.row.latitudeLongitude.split(',')\n  const cords = cordsList.length > 1 && { lat: parseFloat(cordsList[0]), lng: parseFloat(cordsList[1]) }\n\n  return (\n    <>\n      <UncontrolledCollapse toggler='#orderData'>\n        <Card>\n          <CardBody>\n            <div>\n              <p>\n                <b>{t('common.orderInfo.description')}:</b> {props.row.description}\n              </p>\n            </div>\n            <div>\n              <p>\n                <b>{t('common.orderInfo.address')}:</b> {props.row.location}\n              </p>\n            </div>\n            <div>\n              <p>\n                <b>{t('common.orderInfo.orderSubject')}:</b> {props.row.orderSubject}\n              </p>\n            </div>\n            <div>\n              <p>\n                <b>{t('common.orderInfo.valuationScope')}:</b> {props.row.valuationScope}\n              </p>\n            </div>\n            <div>\n              <p>\n                <b>{t('common.orderInfo.landRegisterNumber')}:</b> {props.row.ekw}\n              </p>\n            </div>\n            <div>\n              <p>\n                <b>{t('common.orderInfo.propertyIdentification')}:</b> {props.row.propertyIdentification}\n              </p>\n            </div>\n            <Button\n              className='long-btn' id='UncontrolledPopoverMAP'\n              type='button' color='success'\n            >Pokaż mapę\n            </Button>\n            <UncontrolledPopover\n              placement='right'\n              target='UncontrolledPopoverMAP'\n              trigger='legacy'\n            >\n              <PopoverBody>\n                {cordsList[0] !== '0' ? <MapToPrewiew cords={cords} /> : <div>Nie podano współrzednych</div>}\n              </PopoverBody>\n            </UncontrolledPopover>\n          </CardBody>\n        </Card>\n      </UncontrolledCollapse>\n    </>\n  )\n}\n\nexport default OrderInfoUncontrolledCollapse\n","import {\n  LOAD_CONVERSATIONS, LOAD_MESSAGES_WITH_USER, MARK_CONVERSATION_AS_READ,\n  MARK_CONVERSATION_AS_UNREAD, SET_CHAT_IS_OPEN, SET_CONNECTION, SET_CURRENTLY_CHAT_WITH,\n  SET_MESSAGES_WITH_USER, TOGGLE_MESSAGE_VISIBLE, OPEN_CHAT\n} from './constants'\n\nexport function loadMessagesWithUser (userId, messages, monthNames) {\n  return {\n    type: LOAD_MESSAGES_WITH_USER,\n    userId,\n    messages,\n    monthNames\n  }\n}\n\nexport function setCurrentlyChatWith (payload) {\n  return {\n    type: SET_CURRENTLY_CHAT_WITH,\n    payload\n  }\n}\n\nexport function setConnection (payload) {\n  return {\n    type: SET_CONNECTION,\n    payload\n  }\n}\n\nexport function setMessagesWithUser (userId, message) {\n  return {\n    type: SET_MESSAGES_WITH_USER,\n    userId,\n    message\n  }\n}\n\nexport function loadConversations (payload) {\n  return {\n    type: LOAD_CONVERSATIONS,\n    payload\n  }\n}\n\nexport function markConversationAsRead (userId) {\n  return {\n    type: MARK_CONVERSATION_AS_READ,\n    payload: userId\n  }\n}\n\nexport function markConversationAsUnread (userId) {\n  return {\n    type: MARK_CONVERSATION_AS_UNREAD,\n    payload: userId\n  }\n}\n\nexport function setChatIsOpen (payload) {\n  return {\n    type: SET_CHAT_IS_OPEN,\n    payload\n  }\n}\n\nexport function toggleMessageVisible (userId, messageId) {\n  return {\n    type: TOGGLE_MESSAGE_VISIBLE,\n    userId,\n    messageId\n  }\n}\n\nexport function markMessagesAsSeen (userId) {\n  return {\n    type: 'MARK_MESSAGES_AS_SEEN',\n    userId\n  }\n}\n\nexport function openChat (user, connection) {\n  return {\n    type: OPEN_CHAT,\n    user,\n    connection\n  }\n}\n","import React, { useEffect, useState } from 'react'\nimport { userService, adminService, clientService, operatorService } from '../../services'\nimport { useTranslation } from 'react-i18next'\n\nimport { userRolesConstants, modalTypeConstants } from '../../constants'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { Button } from 'reactstrap'\nimport { setCurrentlyChatWith, setChatIsOpen } from '../Chat/actions.js'\nfunction UserInfo (props) {\n  const [user, setUser] = useState(null)\n  const { t } = useTranslation('common')\n  const loggedInUser = useSelector(state => state.global.user)\n  const dispatch = useDispatch()\n  const isAdmin = loggedInUser.userType === userRolesConstants.ADMIN\n\n  useEffect(() => {\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'loadingData', translate: true }))\n    userService.getUserType(props.id).then((result) => {\n      if (result === userRolesConstants.OPERATOR) {\n        operatorService.getOperatorData(props.id).then((operator) => {\n          operator.role = userRolesConstants.OPERATOR\n          setUser(operator)\n          dispatch(hideLoadingScreen())\n        })\n      }\n      if (result === userRolesConstants.CLIENT) {\n        clientService.getClientData(props.id).then((client) => {\n          client.role = userRolesConstants.CLIENT\n          setUser(client)\n          dispatch(hideLoadingScreen())\n        })\n      }\n      if (result === userRolesConstants.ADMIN) {\n        adminService.getAdminDataById(props.id).then((admin) => {\n          admin.role = userRolesConstants.ADMIN\n          setUser(admin)\n          dispatch(hideLoadingScreen())\n        })\n      }\n      if (result === '') {\n        dispatch(hideLoadingScreen())\n      }\n    }).finally(() => dispatch(hideLoadingScreen()))\n  }, [props.id, dispatch])\n\n  const createRow = (label, data) => data &&\n    <div>\n      {label + ': ' + data}\n    </div>\n\n  const createMailTo = (label, data) => data &&\n    <div>\n      {label + ': '}\n      <a href={'mailto:' + data}>{data}</a>\n    </div>\n  return (\n    <div>\n      {user\n        ? <div>\n          {isAdmin && createRow(t('common.userInfo.role'), user.role)}\n          {isAdmin && createRow('Id', user.id)}\n          {createMailTo(t('common.userInfo.mail'), user.mail)}\n          {createRow(t('common.userInfo.phone'), user.phone)}\n          {createRow(t('common.userInfo.nameWithTitle'), user.nameWithTitle)}\n          {createRow(t('common.userInfo.address'), user.address.replaceAll('undefined, ', '').replaceAll('undefined', ''))}\n          <div><Button color='info' onClick={() => { dispatch(setCurrentlyChatWith(user)); dispatch(setChatIsOpen(true)) }}>{t('common.userInfo.sendMessage')}</Button></div>\n          </div>\n        : <div>\n          {t('common.userInfo.noPayerInfo')}\n        </div>}\n    </div>\n  )\n}\n\nexport default UserInfo\n","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Button, Card,\n  CardBody, Form,\n  FormGroup, Input, Label\n} from 'reactstrap'\nimport { validators } from '../../helpers'\n\nexport const NewOffer = (props) => {\n  const { t } = useTranslation('common')\n  const [price, setPrice] = useState('')\n  const [maxDate, setMaxDate] = useState('')\n\n  return (\n    <Card>\n      <CardBody>\n        <Form\n          id='new-offer'\n          onSubmit={(e) => {\n            e.preventDefault()\n            props.onSubmit()\n            props.hide()\n          }}\n        >\n          <div className='row'>\n            <div className='col-6'>\n              <div className='justify-content-center'>\n                <FormGroup>\n                  <Label for='exampleNumber'>{t('common.userInfo.description')}</Label>\n                  <Input\n                    type='textarea'\n                    name='description'\n                    id='description'\n                    placeholder={t('common.userInfo.orderDescription')}\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label for='exampleNumber'>{t('common.userInfo.offeredPrice')}</Label>\n                  <Input\n                    type='number'\n                    id='exampleNumber'\n                    name='exampleNumber'\n                    min={10}\n                    max={9999999}\n                    onKeyPress={(e) => validators.validatePositiveNumbers(e, /^[0-9]{0,10}$/)}\n                    placeholder={t('common.userInfo.offeredPrice')}\n                    onChange={(e) => {\n                      if (e.target.value.startsWith('-') || e.target.value < 0 || e.target.value === '') {\n                        e.target.value = ''\n                      }\n                      e.target.value >= 0 && setPrice(e.target.value)\n                    }}\n                    required\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label for='exampleDate'>{t('common.userInfo.endDate')}</Label>\n                  <Input\n                    type='date'\n                    name='date'\n                    id='exampleDate'\n                    placeholder='date placeholder'\n                    onChange={(e) => {\n                      setMaxDate(e.target.value)\n                    }}\n                    required\n                  />\n                </FormGroup>\n              </div>\n            </div>\n            <div className='col-4 d-flex justify-content-center align-items-center'>\n              <Button color='success' disabled={price === '' || maxDate === ''}>\n                {t('common.userInfo.makeAnOffer')}\n              </Button>\n            </div>\n          </div>\n        </Form>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default NewOffer\n","import React, { useState } from 'react'\nimport {\n  Card,\n  CardBody,\n  Input,\n  Button,\n  Form\n} from 'reactstrap'\n\nexport const OrderPropositionFilters = ({ handleSetPropositionFilters }) => {\n  const [upTillDateFrom, setUpTillDateFrom] = useState('')\n  const [upTillDateTo, setUpTillDateTo] = useState('')\n  const [priceFrom, setPriceFrom] = useState('')\n  const [priceTo, setPriceTo] = useState('')\n  const handleClear = () => {\n    setUpTillDateFrom('')\n    setUpTillDateTo('')\n    setPriceFrom('')\n    setPriceTo('')\n    handleSetPropositionFilters({ upTillDateFrom: '', upTillDateTo: '', priceFrom: '', priceTo: '' })\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    handleSetPropositionFilters({ upTillDateFrom, upTillDateTo, priceFrom, priceTo })\n  }\n  return (\n    <Card>\n      <CardBody>\n        <Form onSubmit={handleSubmit}>\n          <label for='order-proposition-price-from'>\n            Cena od\n          </label>\n          <Input\n            type='number' placeholder='Cena od' id='order-proposition-price-from' name='order-proposition-price-from' onChange={(e) => {\n              setPriceFrom(e.target.value)\n            }} value={priceFrom}\n          />\n          <label for='order-proposition-price-to'>\n            Cena do\n          </label>\n          <Input\n            type='number' placeholder='Cena do' id='order-proposition-price-to' name='order-proposition-price-to' onChange={(e) => {\n              setPriceTo(e.target.value)\n            }} value={priceTo}\n          />\n          <label for='order-proposition-up-till-date-from'>\n            Termin ukończenia od\n          </label>\n          <Input\n            type='date' placeholder='Termin ukończenia od' id='order-proposition-up-till-date-from' name='order-proposition-up-till-date-from' onChange={(e) => {\n              setUpTillDateFrom(e.target.value)\n            }} value={upTillDateFrom}\n          />\n          <label for='order-proposition-up-till-date-to'>\n            Termin ukończenia do\n          </label>\n          <Input\n            type='date' placeholder='Termin ukończenia do' id='order-proposition-up-till-date-to' name='order-proposition-up-till-date-to' onChange={(e) => {\n              setUpTillDateTo(e.target.value)\n            }} value={upTillDateTo}\n          />\n          <Button onClick={handleClear}>Wyczyść</Button>\n          <Button type='submit' color='success'>Filtruj</Button>\n        </Form>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default OrderPropositionFilters\n","import React, { useEffect, useState } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport {\n  Button,\n  Collapse,\n  UncontrolledTooltip\n} from 'reactstrap'\nimport { useHistory } from 'react-router'\nimport { useTranslation } from 'react-i18next'\nimport { useMsal } from '@azure/msal-react'\nimport { userRolesConstants } from '../../constants'\nimport ReactStars from 'react-rating-stars-component'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport { useSelector } from 'react-redux'\nimport OrderPropositionFilters from 'components/Filters/OrderProposition'\nimport ShowIdCheckbox from 'components/ShowIdCheckbox'\nexport const isButtonDisabled = (row, propositions, accounts, clientId, isOperator) => {\n  const isAnyReserved = propositions.some(x => x.reservationStatus.toLowerCase() === 'reserved')\n  const isReserved = row.reservationStatus.toLowerCase() === 'reserved'\n  const oid = accounts[0].idTokenClaims.oid\n  const isMineOrder = clientId === accounts[0].idTokenClaims.oid\n  if (isOperator && !isReserved && row.operatorId === oid) {\n    return true\n  }\n  if (isMineOrder) {\n    return isAnyReserved ? !isReserved : isReserved\n  }\n  return isOperator\n    ? !(isReserved && row.operatorId === oid)\n    : ((isAnyReserved && !isReserved) || row.operatorId !== oid)\n}\nfunction PropositionList (props) {\n  const [isIdHidden, setIsIdHidden] = useState(true)\n  const [isFiltersVisible, setIsFiltersVisible] = useState(false)\n  const { accounts } = useMsal()\n  const user = useSelector(state => state.global.user)\n  const isAdmin = user.userType === userRolesConstants.ADMIN\n  const isOperator = user.userType === userRolesConstants.OPERATOR\n  const { t } = useTranslation('common')\n  const history = useHistory()\n  const sortable = {\n    onSort: (field, order) => {\n      props.handleSetPropositionsSortParameters(field)\n    },\n    sortFunc: (a, b, order, dataField, rowA, rowB) => {\n\n    },\n    sort: true\n  }\n  useEffect(() => {\n    props.handleLoadPropositions()\n  // eslint-disable-next-line\n  }, [props.propositions.sortFieldName, props.propositions.sortDirection, props.propositions.filters])\n\n  const columns = [\n    {\n      dataField: 'id',\n      text: 'ID',\n      hidden: isIdHidden\n    },\n    {\n      dataField: 'description',\n      text: t('market.table.headers.description'),\n      editable: false,\n      ...sortable,\n      sort: true,\n      align: 'center',\n      headerAlign: 'center'\n    },\n    {\n      dataField: 'price',\n      text: t('market.table.headers.price'),\n      editable: false,\n      ...sortable,\n      sort: true,\n      align: 'center',\n      headerAlign: 'center'\n    },\n    {\n      dataField: 'reservationStatus',\n      text: t('market.table.headers.status'),\n      editable: false,\n      align: 'center',\n      headerAlign: 'center',\n      formatter: (cellContent, row) => <div>{row.reservationStatus.toLowerCase() === 'unknown' ? '' : row.reservationStatus}</div>\n    },\n    {\n      dataField: 'upTillDate',\n      text: t('market.table.headers.upTillDate'),\n      align: 'center',\n      headerAlign: 'center',\n      ...sortable,\n      formatter: (cellContent, row) => <div>{cellContent && cellContent.split('T')[0]}</div>,\n      headerStyle: (colum, colIndex) => {\n        return { width: '16%', textAlign: 'center' }\n      }\n    },\n    {\n      text: 'rzeczoznawca',\n      align: 'center',\n      headerAlign: 'center',\n      editable: true,\n      formatter: (cellContent, row) => <Button\n        color='primary' onClick={() => {\n          history.push({ pathname: '/users-profile', search: '?operatorId=' + row.operatorId })\n        }}\n                                       >Profil rzeczoznawcy\n      </Button>\n    },\n    {\n      text: 'ocena rzeczoznawcy',\n      align: 'center',\n      headerAlign: 'center',\n      editable: true,\n      formatter: (cellContent, row) => row.avgOperatorRating\n        ? <div className='d-flex justify-content-center' id={'avg-rating-' + row.id}>\n          <ReactStars\n            count={5}\n            edit={false}\n            isHalf\n            value={Math.ceil(row.avgOperatorRating)}\n            size={24}\n            activeColor='#ffd700'\n          />\n          <UncontrolledTooltip\n            flip\n            target={'avg-rating-' + row.id}\n          >\n            {row.avgOperatorRating.toFixed(3)}\n          </UncontrolledTooltip>\n        </div>\n        : 'Brak danych'\n    },\n    {\n      text: t('market.table.headers.accept-resign'),\n      align: 'center',\n      headerAlign: 'center',\n      editable: true,\n      formatter: (cellContent, row) => {\n        return (\n          <Button\n            disabled={isButtonDisabled(row, props.propositions.propositions, accounts, props.activeOrder.clientId, isOperator)}\n            color={row.reservationStatus.toLowerCase() === 'reserved' ? 'danger' : 'success'}\n            onClick={() => {\n              props.handleSetPropositionId(row.id)\n              row.reservationStatus.toLowerCase() === 'unknown' || row.reservationStatus.toLowerCase() === 'unreserved'\n                ? props.handleReserveOrderAndProposition()\n                : props.handleUnreserveProposition()\n            }}\n          >\n            {row.reservationStatus.toLowerCase() === 'reserved' ? t('market.table.buttons.resign') : t('market.table.buttons.accept')}\n          </Button>\n        )\n      }\n    }\n  ]\n\n  return (\n    <div className='content'>\n      <Button onClick={() => setIsFiltersVisible(v => !v)} color='success'>Filtry</Button>\n      <Collapse isOpen={isFiltersVisible}>\n        <OrderPropositionFilters handleSetPropositionFilters={props.handleSetPropositionFilters} />\n      </Collapse>\n      {isAdmin && <ShowIdCheckbox setIsIdHidden={setIsIdHidden} label={t('market.showPropositionId')} isIdHidden={isIdHidden} />}\n      {\n      props.propositions.loading ? <LoadingIndicator />\n        : <BootstrapTable\n            bootstrap4\n            keyField='id'\n            data={props.propositions.propositions} // .sort((a, b) => parseInt(a.description.split(' ')[0]) < parseInt(b.description.split(' ')[0]) ? 1 : -1)\n            columns={columns}\n            striped\n            hover\n            bordered={false}\n          />\n      }\n    </div>\n  )\n}\n\nexport default PropositionList\n","import { useMsal } from '@azure/msal-react'\nimport React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Button, Card, CardBody, Collapse\n} from 'reactstrap'\nimport { userRolesConstants } from '../../constants'\nimport UserInfo from '../../views/Common/UserInfo'\nimport NewOffer from 'components/NewOfferForm'\nimport PropositionList from './PropositionList'\nimport { useSelector } from 'react-redux'\nfunction AnnouncedOrder (props) {\n  const user = useSelector(state => state.global.user)\n  const [sendedOffers, setSendedOffers] = useState(false)\n  const [userInfo, setUserInfo] = useState(false)\n  const [offer, setOffer] = useState(false)\n  const { t } = useTranslation('common')\n  const { accounts } = useMsal()\n\n  return (\n    <div>\n      {(userRolesConstants.ADMIN === user.userType ||\n        (user.userType === userRolesConstants.OPERATOR && accounts[0].idTokenClaims.oid !== props.activeOrder.clientId)) && (\n          <div>\n            <Button\n              color='primary'\n              className='long-btn'\n              onClick={() => {\n                setOffer(!offer)\n              }} style={{ marginBottom: '1rem' }}\n            >\n              {t('market.table.buttons.submittOffer')}\n            </Button>{' '}\n            <Collapse isOpen={offer}>\n              {offer && <NewOffer onSubmit={props.handleSaveProposition} hide={() => setOffer(false)} />}\n            </Collapse>\n          </div>\n      )}\n      <div>\n        <Button\n          className='long-btn proposition-list-toggler'\n          color='secondary'\n          style={{ marginBottom: '1rem' }}\n          onClick={() => {\n            setSendedOffers(!sendedOffers)\n          }}\n        >\n          {t('market.table.buttons.submittedOffers')}\n        </Button>\n        <Collapse isOpen={sendedOffers}>\n          <Card>\n            <CardBody>\n              {sendedOffers && <PropositionList\n                handleReserveOrderAndProposition={props.handleReserveOrderAndProposition}\n                handleUnreserveProposition={props.handleUnreserveProposition}\n                handleSetPropositionId={props.handleSetPropositionId}\n                propositions={props.propositions}\n                handleLoadPropositions={props.handleLoadPropositions}\n                activeOrder={props.activeOrder}\n                handleSetPropositionsSortParameters={props.handleSetPropositionsSortParameters}\n                handleSetPropositionFilters={props.handleSetPropositionFilters}\n                               />}\n            </CardBody>\n          </Card>\n        </Collapse>\n      </div>\n      {\n        accounts[0].idTokenClaims.oid !== props.activeOrder.clientId &&\n          <div>\n            <Button\n              color='info'\n              className='long-btn'\n              onClick={() => {\n                setUserInfo(!userInfo)\n              }}\n              style={{ marginBottom: '1rem' }}\n            >\n              {t('market.table.buttons.payerInformation')}\n            </Button>\n\n            <Collapse isOpen={userInfo}>\n              <Card>\n                <CardBody>\n                  {userInfo && <UserInfo id={props.activeOrder.clientId} />}\n                </CardBody>\n              </Card>\n            </Collapse>\n          </div>\n      }\n    </div>\n  )\n}\n\nexport default AnnouncedOrder\n","export const validateLandRegisterCode = (ekw, ekwData) => {\n  ekw = ekw.toUpperCase()\n  let result = ''\n  if (ekw === '' || !ekw) {\n    result += 'Numer księgi wieczystej nie może być pusty<br/>'\n  }\n\n  const splitted = ekw.split('/')\n  if (splitted.length !== 3) {\n    result += 'Nieprawidłowa liczba sekcji numeru księgi wieczystej, powinny być 3 oddzielone znakiem /<br/>'\n    return result\n  }\n  if (splitted[0].length !== 4 || splitted[1].length !== 8 || splitted[2].length !== 1) {\n    result += 'Nieprawidłowa długość którejś z sekcji numeru księgi wieczystej<br/>'\n  }\n\n  if (!ekwData.regions.includes(splitted[0])) {\n    result += 'Nie ma takiego kodu Wydziału Ksiąg Wieczystych Sądu Rejonowego<br/>'\n  }\n  let controlSum = 0\n  let idx = 0\n  for (let i = 0; i < splitted[0].length; i++) {\n    controlSum += ekwData.weights[splitted[0][i]] * ekwData.multipliers[idx++]\n  }\n  for (let i = 0; i < splitted[1].length; i++) {\n    controlSum += ekwData.weights[splitted[1][i]] * ekwData.multipliers[idx++]\n  }\n  if (isNaN(parseInt(splitted[1]))) {\n    result += 'Druga sekcja numeru księgi wieczystej powinna być daną liczbową<br/>'\n  }\n\n  if (isNaN(parseInt(splitted[2]))) {\n    result += 'Cyfra kontrolna numeru księgi wieczystej powinna być daną liczbową<br/>'\n    return result\n  }\n\n  if (controlSum % 10 !== parseInt(splitted[2])) {\n    result += 'Niepoprawna suma kontrolna<br/>'\n  }\n  return result\n}\n","import React, { useState } from 'react'\nimport Creatable from 'react-select/creatable'\nimport { useTranslation } from 'react-i18next'\nimport { Button, Form, FormGroup, Input, Label, UncontrolledTooltip, UncontrolledPopover, PopoverBody, Col, UncontrolledAlert, FormFeedback } from 'reactstrap'\nimport { MapWithMarker } from '../../views/Maps'\nimport InputMask from 'react-input-mask'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport { validateLandRegisterCode } from 'utils/validateLandRegisterCode'\nexport const NewOrderForm = (props) => {\n  const { t } = useTranslation('common')\n  const [name, setName] = useState('')\n  const [description, setDescription] = useState('')\n  const [address, setAddress] = useState('')\n  const [authorizedExperts, setAuthorizedExperts] = useState(false)\n  const [latlng, setLatlng] = useState({ lat: 0, lng: 0 })\n  const [locationPostCode, setLocationPostCode] = useState('')\n  const [shouldBeValidated, setShouldBeValidated] = useState(false)\n  const [orderSubject, setOrderSubject] = useState(null)\n  const [valuationScope, setValuationScope] = useState(null)\n  const [landRegisterCode, setLandRegisterCode] = useState('')\n  const [propertyIdentification, setPropertyIdentification] = useState('')\n  const [isEkwInvalid, setIsEkwInvalid] = useState(false)\n  const [wrongEkwMessage, setWrongEkwMessage] = useState('')\n  const addOrder = (e) => {\n    e.preventDefault()\n    if (landRegisterCode !== '') {\n      const validationResult = validateLandRegisterCode(landRegisterCode, props.ekwData)\n      if (validationResult !== '') {\n        setIsEkwInvalid(true)\n        setWrongEkwMessage(validationResult)\n        return\n      }\n    }\n    props.onSubmit()\n    setIsEkwInvalid(false)\n    setWrongEkwMessage('')\n  }\n  const subjectOptions = [\n    { value: 'Lokal mieszkalny', label: 'Lokal mieszkalny' },\n    { value: 'Działka rolna', label: 'Działka rolna' }\n  ]\n\n  const valuationScopeOptions = [\n    { value: 'Na potrzeby sprzedaży', label: 'Na potrzeby sprzedaży' },\n    { value: 'Prawo użytkowania wieczystego do gruntu', label: 'Prawo użytkowania wieczystego do gruntu' }\n  ]\n  function checkAllRequiresFields () {\n    return name === '' || locationPostCode === '' || orderSubject === '' || valuationScope === ''\n  }\n\n  return (\n    <div>\n      <Form\n        onSubmit={(e) => addOrder(e)}\n        id='new-order-form'\n      >\n        <input type='hidden' value={`${latlng.lat},${latlng.lng}`} name='latlng-value' />\n        <FormGroup>\n          <Label for='orderName'>{t('market.table.headers.name')}</Label>\n          <Input\n            type='text'\n            name='orderName'\n            id='orderName'\n            value={name}\n            onChange={(e) => {\n              setName(e.target.value)\n            }}\n            required\n          />\n          <UncontrolledTooltip\n            placement='top'\n            target='orderName'\n          >\n            {t('market.newOrder.namePlaceholder')}\n          </UncontrolledTooltip>\n        </FormGroup>\n        <FormGroup>\n          <Label for='description'>{t('market.table.headers.description')}</Label>\n          <Input\n            type='textarea'\n            name='description'\n            id='description'\n            value={description}\n            onChange={(e) => {\n              setDescription(e.target.value)\n            }}\n          />\n          <UncontrolledTooltip\n            placement='top'\n            target='description'\n          >\n            {t('market.newOrder.descriptionPlaceholder')}\n          </UncontrolledTooltip>\n        </FormGroup>\n        <FormGroup>\n          <Label for='postal-code'>{t('market.newOrder.postalCode')}</Label>\n          <InputMask\n            mask='99-999'\n            value={locationPostCode}\n            onChange={(e) => {\n              setLocationPostCode(e.target.value)\n            }}\n          >\n            {(inputProps) => <Input\n              {...inputProps}\n              type='text'\n              name='postal-code'\n              id='new-order-postal-code'\n              pattern='\\d{2}-\\d{3}$'\n              required\n                             />}\n          </InputMask>\n        </FormGroup>\n        <FormGroup>\n          <Label for='address'>{t('common.userInfo.address')}</Label>\n          <Input\n            type='text'\n            name='address'\n            id='address'\n            value={address}\n            onChange={(e) => {\n              setAddress(e.target.value)\n            }}\n          />\n          <UncontrolledTooltip\n            placement='top'\n            target='address'\n          >\n            {t('market.newOrder.addressPlaceholder')}\n          </UncontrolledTooltip>\n        </FormGroup>\n        <FormGroup>\n          <Button\n            className='long-btn' id='UncontrolledPopoverMAP'\n            type='button' color='success'\n          >Dodaj lokalizację na mapie\n          </Button>\n          <UncontrolledPopover\n            placement='right'\n            target='UncontrolledPopoverMAP'\n            trigger='legacy'\n          >\n            <PopoverBody>\n              <MapWithMarker\n                locationInfo={{ address, locationPostCode, latlng }}\n                setCoords={(cords) => { setLatlng(cords) }}\n              />\n            </PopoverBody>\n          </UncontrolledPopover>\n        </FormGroup>\n        <FormGroup>\n          <Label for='order-subject'>Co chcesz wycenić?</Label>\n          <Creatable options={subjectOptions} onChange={e => { setOrderSubject(e.value) }} />\n          <input\n            tabIndex={-1}\n            autoComplete='off'\n            value={orderSubject} id='order-subject' name='order-subject' style={{ opacity: 0, height: 0 }} required\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for='quotation-range'>Zakres wyceny</Label>\n          <Creatable options={valuationScopeOptions} onChange={e => { setValuationScope(e.value) }} />\n          <input\n            tabIndex={-1}\n            autoComplete='off'\n            value={valuationScope} id='valuation-scope' name='valuation-scope' style={{ opacity: 0, height: 0 }} required\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for='order-land-register-code'>Nr księgi wieczystej (pole bedzie tylko widoczne dla rzeczoznawcy wykonującego)</Label>\n          <InputMask\n            mask='aa9a/99999999/9'\n            value={landRegisterCode}\n            onChange={(e) => {\n              setLandRegisterCode(e.target.value)\n            }}\n            invalid={isEkwInvalid}\n\n          >\n            {(inputProps) => <Input\n              {...inputProps} type='text'\n              style={{ textTransform: 'uppercase' }}\n              name='order-land-register-code'\n              id='order-land-register-code'\n                             />}\n          </InputMask>\n          <FormFeedback>\n            <div\n              dangerouslySetInnerHTML={{ __html: wrongEkwMessage }}\n            />\n          </FormFeedback>\n        </FormGroup>\n        <FormGroup>\n          <Label for='property-identification'>Identyfikacja nieruchomości np. numer nieruchomości. Pole to będzie widoczne tylko dla rzeczoznawcy wykonującego</Label>\n          <Input\n            id='property-identification'\n            name='property-identification'\n            type='text'\n            value={propertyIdentification}\n            onChange={e => setPropertyIdentification(e.target.value)}\n          />\n        </FormGroup>\n        <Button\n          color='success'\n          disabled={checkAllRequiresFields()}\n        >\n          {t('common.add')}\n        </Button>\n        <FormGroup>\n          <Col sm={{ size: 10 }}>\n            <FormGroup>\n              <Label for='authorizedExperts' sm={10}>\n                <Input\n                  type='checkbox'\n                  name='authorizedExperts'\n                  id='authorizedExperts'\n                  value={authorizedExperts}\n                  onChange={(e) => {\n                    setAuthorizedExperts(e.target.checked)\n                  }}\n                />\n                {t('market.table.headers.authorizedExperts')}\n              </Label>\n            </FormGroup>\n          </Col>\n        </FormGroup>\n        <FormGroup>\n          <Col sm={{ size: 10 }}>\n            <FormGroup>\n              <Label for='aoperatValidation' sm={10}>\n                <Input\n                  type='checkbox'\n                  name='aoperatValidation'\n                  id='aoperatValidation'\n                  checked={shouldBeValidated}\n                  onChange={(e) => {\n                    setShouldBeValidated(e.target.checked)\n                  }}\n                />\n                {t('market.table.headers.aoperatValidation')}\n              </Label>\n            </FormGroup>\n          </Col>\n        </FormGroup>\n      </Form>\n      {props.saveOrder.error &&\n        <UncontrolledAlert\n          color='danger'\n        >\n          <div\n            dangerouslySetInnerHTML={{ __html: props.saveOrder.error.message }}\n          />\n        </UncontrolledAlert>}\n      {props.saveOrder.loading && <LoadingIndicator />}\n    </div>\n  )\n}\n\nexport default NewOrderForm\n","import React, { useState, useRef } from 'react'\nimport NotificationAlert from 'react-notification-alert'\nimport { useHistory } from 'react-router-dom'\nimport { operatService } from '../../services'\nimport { modalTypeConstants, loadingMessagesConstants } from '../../constants'\n\nimport UserInfo from 'views/Common/UserInfo'\n\nimport {\n  Button,\n  Card,\n  CardBody,\n  Collapse,\n  Input\n} from 'reactstrap'\nimport { useDispatch } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\n\nfunction PaidOrder (props) {\n  const dispatch = useDispatch()\n  const [operatType, setOperatType] = useState('')\n  const [userInfo, setUserInfo] = useState(false)\n  const history = useHistory()\n  const notifyRegister = useRef(null)\n\n  const createOperat = (row) => {\n    const timeElapsed = Date.now()\n    const today = new Date(timeElapsed)\n    const body = {\n      name: `${row.name + ', ' + operatType.name + ' : ' + today.toLocaleString()}`,\n      orderId: row.id,\n      operatorId: row.operators[0],\n      operatTypeId: operatType.id\n    }\n\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { body, message: loadingMessagesConstants.SAVE_OPERAT }))\n    operatService.createOperat(body).then(() => {\n      dispatch(hideLoadingScreen())\n      setOperatType('')\n      history.push('/history')\n    })\n  }\n\n  const dropDown = () => {\n    return (\n      <div>\n        <Input\n          type='select' className='dark-select' id='operat-type-select' value={operatType.id ? operatType.id : ''} onChange={(e) => {\n            if (e.target.value === 'CLEAR') {\n              setOperatType('')\n            } else {\n              setOperatType(props.operatTypes.operatTypes.find(x => x.id === e.target.value))\n            }\n          }} style={{ width: '272px' }} placeholder='wybierz typ operatu'\n        >\n          <option value='' disabled>Wybierz rodzaj operatu</option>\n          {props.operatTypes.operatTypes.map((element) => {\n            return (\n              <option key={element.id} value={element.id}>{element.name}</option>\n            )\n          })}\n          <option value='CLEAR'>---Kasuj wybór---</option>\n        </Input>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <NotificationAlert ref={notifyRegister} />\n      <div>\n        {dropDown()}\n        <div className='d-flex justify-content-between'>\n          <Button\n            style={{ width: '272px', marginBottom: '1rem' }}\n            color='primary'\n            onClick={() => createOperat(props.activeOrder)}\n            disabled={operatType === ''}\n          >\n            Stwórz operat\n          </Button>\n\n        </div>\n        <Button\n          style={{ width: '272px', marginBottom: '1rem' }}\n          color='info'\n          onClick={() => setUserInfo(!userInfo)}\n        >\n          informacje o zleceniodawcy\n        </Button>\n        <Collapse isOpen={userInfo} style={{ marginTop: '1rem' }}>\n          <Card>\n            <CardBody>\n              {userInfo && <UserInfo id={props.activeOrder.clientId} />}\n            </CardBody>\n          </Card>\n        </Collapse>\n      </div>\n    </div>\n  )\n}\n\nexport default PaidOrder\n","import React, { useState } from 'react'\nimport PropositionList from './PropositionList'\nimport UserInfo from 'views/Common/UserInfo'\nimport { Card, Button, Collapse, CardBody } from 'reactstrap'\nimport { modalTypeConstants, userRolesConstants } from '../../constants'\nimport { useMsal } from '@azure/msal-react'\nimport { useHistory } from 'react-router'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen } from 'views/Modal/actions'\nfunction ReservedOrder (props) {\n  const dispatch = useDispatch()\n  const { accounts } = useMsal()\n  const user = useSelector(state => state.global.user)\n  const history = useHistory()\n  const [userInfo, setUserInfo] = useState(false)\n  const [sendedOffers, setSendedOffers] = useState(false)\n  const isAdmin = () => { return user.userType === userRolesConstants.ADMIN }\n  const isClient = () => { return user.userType === userRolesConstants.CLIENT }\n  return (\n    <div>\n      {((isClient() && props.activeOrder.clientId === user.user.id) || isAdmin()) && (\n        <Button\n          color='primary'\n          className='long-btn'\n          id='payButton'\n          style={{ marginBottom: '1rem' }}\n          onClick={() => {\n            if (isClient()) dispatch(showLoadingScreen(modalTypeConstants.PAY_FOR_OPERAT, { orderId: props.activeOrder.id }))\n            if (isAdmin()) props.handlePayForOperat()\n          }}\n        >\n          zapłać\n        </Button>\n      )}\n      <div>\n        <Button\n          color='secondary'\n          className='long-btn proposition-list-toggler'\n          onClick={() => setSendedOffers(!sendedOffers)}\n          style={{ marginBottom: '1rem' }}\n        >\n          wysłane oferty\n        </Button>\n        <Collapse isOpen={sendedOffers}>\n          <Card>\n            <CardBody>\n              {sendedOffers && <PropositionList\n                handleReserveOrderAndProposition={props.handleReserveOrderAndProposition}\n                handleUnreserveProposition={props.handleUnreserveProposition}\n                handleSetPropositionId={props.handleSetPropositionId}\n                propositions={props.propositions}\n                handleLoadPropositions={props.handleLoadPropositions}\n                activeOrder={props.activeOrder}\n                handleSetPropositionsSortParameters={props.handleSetPropositionsSortParameters}\n                handleSetPropositionFilters={props.handleSetPropositionFilters}\n                               />}\n            </CardBody>\n          </Card>\n        </Collapse>\n      </div>\n      {accounts[0].idTokenClaims.oid !== props.activeOrder.clientId &&\n        <div>\n          <Button\n            color='info'\n            className='long-btn'\n            onClick={() => setUserInfo(!userInfo)}\n            style={{ marginBottom: '1rem' }}\n          >\n            informacje o zleceniodawcy\n          </Button>\n          <Collapse isOpen={userInfo}>\n            <Card>\n              <CardBody>\n                {userInfo && <UserInfo id={props.activeOrder.clientId} />}\n              </CardBody>\n            </Card>\n          </Collapse>\n        </div>}\n      <div>\n        <Button\n          color='info' style={{ width: '272px', marginBottom: '1rem' }} onClick={() => {\n            props.activeOrder.operators && history.push({ pathname: '/users-profile', search: '?operatorId=' + props.activeOrder.operators[0] })\n          }}\n        >Dane o rzeczoznawcy\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport default ReservedOrder\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { Button, Form, FormGroup, Input, Spinner, Row, Col } from 'reactstrap'\nimport ReactStars from 'react-rating-stars-component'\nimport { operatService } from 'services'\nconst ReviewForm = ({ onSubmit, operat }) => {\n  const [rating, setRating] = useState(5)\n  const [comment, setComment] = useState('')\n  const [finished, setFinished] = useState(false)\n  useEffect(() => {\n    operatService.getOperatReview(operat.id).then(reviews => {\n      if (reviews.length > 0) {\n        setRating(reviews[0].rating)\n        setComment(reviews[0].comment)\n      }\n    }).finally(() => setTimeout(setFinished(true), 500))\n    return function cleanup () {\n      setRating(5)\n      setComment('')\n      setFinished(false)\n    }\n  }\n  , [operat.id])\n\n  const form = () =>\n    <Form\n      onSubmit={(e) => onSubmit(e, rating)}\n    >\n      <h4>Twoja opinia o operacie:</h4>\n      <FormGroup>\n        <Input\n          type='textarea'\n          name='review-comment'\n          id='review-comment'\n          placeholder='Komentarz'\n          value={comment}\n          onChange={(e) => setComment(e.target.value)}\n          required\n        />\n      </FormGroup>\n      <ReactStars\n        count={5}\n        value={rating}\n        edit\n        onChange={(e) => setRating(e)}\n        size={24}\n        id='review-rating-stars'\n        name='review-rating-stars'\n        activeColor='#ffd700'\n      />\n      <Button\n        color='success'\n      >\n        Zapisz recenzję\n      </Button>\n    </Form>\n\n  const spinner = () =>\n    <Row>\n      <Col sm='12' md={{ size: 3, offset: 5 }}>\n        <Spinner\n          color='primary'\n          style={{ width: '8rem', height: '8rem' }}\n          animation='border'\n          variant='info'\n        >\n          {' '}\n        </Spinner>\n      </Col>\n    </Row>\n  return (\n    <div>\n      {\n      finished\n        ? form()\n        : spinner()\n          }\n    </div>\n  )\n}\n\nReviewForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  orderId: PropTypes.object.isRequired\n}\n\nexport default ReviewForm\n","import React, { useState, useEffect } from 'react'\nimport { operatService, clientFilesService } from 'services'\nimport {\n  Button, Col, FormGroup, Input, Label\n} from 'reactstrap'\nimport { modalTypeConstants } from '../../constants'\nimport ReviewForm from 'components/ReviewForm'\nimport { useHistory } from 'react-router-dom'\nimport confirm from 'reactstrap-confirm'\nimport { useDispatch } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nexport const addReview = async (event, rating, order, operatId, dispatch) => {\n  event.preventDefault()\n  const comment = event.target.elements['review-comment'].value\n  dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'addReview', translate: true }))\n  const review = {\n    comment,\n    rating,\n    operatorId: order.operators[0],\n    clientId: order.clientId,\n    operatId\n  }\n  operatService.postReview(review).catch(err => console.log(err)).finally(() => dispatch(hideLoadingScreen()))\n}\n\nfunction SignedOrder (props) {\n  const dispatch = useDispatch()\n  const [operat, setOperat] = useState(null)\n  const history = useHistory()\n  const downloadSignedOperat = async () => {\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'downloadOperat', translate: true }))\n    clientFilesService.getFiles(props.activeOrder.clientId).then(response => {\n      for (const file of response) {\n        if (file.item2.includes(props.activeOrder.id + '.pdf')) {\n          dispatch(hideLoadingScreen())\n          window.open(\n            file.item2, '_blank')\n          return\n        }\n      }\n      alert('nie znaleziono pliku pdf')\n    }).finally(() => dispatch(hideLoadingScreen()))\n  }\n  useEffect(() => {\n    operatService.getByOrderId(props.activeOrder.id).then((res) => {\n      setOperat(res)\n    })\n  }, [props.activeOrder])\n  return (\n    <>\n      <Button\n        style={{ width: '272px', marginBottom: '1rem' }}\n        color='primary'\n        onClick={async () => await downloadSignedOperat()}\n      >\n        Pobierz operat\n      </Button>\n      <br />\n      <Button\n        color='info' style={{ width: '272px', marginBottom: '1rem' }} onClick={() => {\n          history.push({ pathname: '/users-profile', search: '?operatorId=' + props.activeOrder.operators[0] })\n        }}\n      >Dane o rzeczoznawcy\n      </Button>\n      <Col\n        sm={{\n          size: 4\n        }}\n      >\n        <FormGroup>\n          <Input\n            id='checkbox2'\n            type='checkbox'\n            onChange={async () => {\n              const result = operat.isObstructed\n                ? true\n                : await confirm({\n                  title: <>Czy operat został zakwestionowany przez sąd?</>,\n                  message: 'Zakwestionowane operaty są widoczne w statystyce rzeczoznawców i wpływają na ocenę koncową pracy rzeczoznawcy',\n                  confirmText: 'Zakwestionuj',\n                  cancelText: 'Anuluj',\n                  confirmColor: 'success',\n                  cancelColor: 'link text-primary'\n                })\n              if (result) {\n                dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'sendData', translate: true }))\n                operatService.obstructOperat(operat.id).then(() => {\n                  setOperat({ ...operat, isObstructed: !operat.isObstructed })\n                }).finally(() => dispatch(hideLoadingScreen()))\n              }\n            }}\n            checked={operat && operat.isObstructed}\n          />\n          {' '}\n          <Label>\n            Operat zakwestionowany\n          </Label>\n        </FormGroup>\n      </Col>\n      {operat && <ReviewForm operat={operat} onSubmit={(e, rating) => addReview(e, rating, props.activeOrder, operat.id, dispatch)} />}\n    </>\n  )\n}\n\nexport default SignedOrder\n","import React, { useState } from 'react'\nimport {\n  Card,\n  CardBody,\n  Input,\n  Button,\n  Form\n} from 'reactstrap'\n\nexport const MarketFilters = ({ handleSetOrderFilters }) => {\n  const [locationPostCode, setLocationPostCode] = useState('')\n  const handleClear = () => {\n    setLocationPostCode('')\n    handleSetOrderFilters({ locationPostCode: '' })\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    handleSetOrderFilters({ locationPostCode })\n  }\n  return (\n    <Card>\n      <CardBody>\n        <Form onSubmit={handleSubmit}>\n          <Input\n            placeholder='Kod pocztowy' id='filter-locationPostCode' name='filter-locationPostCode' onChange={(e) => {\n              setLocationPostCode(e.target.value)\n            }} value={locationPostCode}\n          />\n          <Button onClick={handleClear}>Wyczyść</Button>\n          <Button color='success'>Filtruj</Button>\n        </Form>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default MarketFilters\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectMarketPage = (state) => state.marketPage || initialState\n\nconst makeSelectOrders = () =>\n  createSelector(selectMarketPage, (state) => state.orders)\n\nconst makeSelectSaveOrder = () =>\n  createSelector(selectMarketPage, (state) => state.saveOrder)\n\nconst makeSelectActiveOrder = () =>\n  createSelector(selectMarketPage, (state) => state.activeOrder)\n\nconst makeSelectPropositionId = () =>\n  createSelector(selectMarketPage, (state) => state.propositionId)\n\nconst makeSelectPropositions = () =>\n  createSelector(selectMarketPage, (state) => state.propositions)\n\nexport {\n  selectMarketPage,\n  makeSelectOrders,\n  makeSelectSaveOrder,\n  makeSelectActiveOrder,\n  makeSelectPropositionId,\n  makeSelectPropositions\n}\n","import {\n  LOAD_ORDERS, SET_ORDERS_PAGE_NUMBER,\n  LOAD_ORDERS_ERROR,\n  ORDERS_LOADED, ORDER_SAVED, SAVE_ORDER, SAVE_ORDER_ERROR,\n  ORDER_REPLACED, LOAD_PROPOSITIONS, PROPOSITIONS_LOADED,\n  LOAD_PROPOSITIONS_ERROR, SAVE_PROPOSITION,\n  RESERVE_ORDER_AND_PROPOSITION, UNRESERVE_PROPOSITION, SET_PROPOSITION_ID,\n  PROPOSITION_REPLACED, SET_ACTIVE_ORDER, REPLACE_ORDER,\n  REMOVE_ORDER, ORDER_REMOVED, SET_ORDER_SORT_PARAMETERS, SET_ORDER_FILTERS, SET_PROPOSITIONS_SORT_PARAMETERS, SET_PROPOSITIONS_FILTER, CLEAR_PROPOSITION_FILTERS, PAY_FOR_OPERAT\n} from './constants'\n\nexport function loadOrders () {\n  return {\n    type: LOAD_ORDERS\n  }\n}\n\nexport function ordersLoaded (orders) {\n  return {\n    type: ORDERS_LOADED,\n    payload: orders\n  }\n}\n\nexport function loadOrdersError (error) {\n  return {\n    type: LOAD_ORDERS_ERROR,\n    payload: error\n  }\n}\n\nexport function setOrdersPageNumber (pageNumber) {\n  return {\n    type: SET_ORDERS_PAGE_NUMBER,\n    payload: pageNumber\n  }\n}\n\nexport function saveOrder () {\n  return {\n    type: SAVE_ORDER\n  }\n}\n\nexport function orderSaved () {\n  return {\n    type: ORDER_SAVED\n  }\n}\n\nexport function saveOrderError (err) {\n  return {\n    type: SAVE_ORDER_ERROR,\n    payload: err\n  }\n}\n\nexport function replaceOrder () {\n  return {\n    type: REPLACE_ORDER\n  }\n}\n\nexport function orderReplaced (order) {\n  return {\n    type: ORDER_REPLACED,\n    payload: order\n  }\n}\n\nexport function loadPropositions () {\n  return {\n    type: LOAD_PROPOSITIONS\n  }\n}\n\nexport function propositionsLoaded (propositions) {\n  return {\n    type: PROPOSITIONS_LOADED,\n    payload: propositions\n  }\n}\n\nexport function loadPropositionsError (error) {\n  return {\n    type: LOAD_PROPOSITIONS_ERROR,\n    payload: error\n  }\n}\n\nexport function saveProposition () {\n  return {\n    type: SAVE_PROPOSITION\n  }\n}\n\nexport function reserveOrderAndProposition () {\n  return {\n    type: RESERVE_ORDER_AND_PROPOSITION\n  }\n}\n\nexport function unReserveProposition () {\n  return {\n    type: UNRESERVE_PROPOSITION\n  }\n}\n\nexport function setPropositionId (id) {\n  return {\n    type: SET_PROPOSITION_ID,\n    payload: id\n  }\n}\n\nexport function propositionReplaced (proposition) {\n  return {\n    type: PROPOSITION_REPLACED,\n    payload: proposition\n  }\n}\n\nexport function removeOrder () {\n  return {\n    type: REMOVE_ORDER\n  }\n}\n\nexport function setActiveOrder (order) {\n  return {\n    type: SET_ACTIVE_ORDER,\n    payload: order\n  }\n}\n\nexport function orderRemoved (id) {\n  return {\n    type: ORDER_REMOVED,\n    payload: id\n  }\n}\n\nexport function setOrderSortParameters (fieldName, sortDirection) {\n  return {\n    type: SET_ORDER_SORT_PARAMETERS,\n    fieldName,\n    sortDirection\n  }\n}\n\nexport function setOrderFilters (payload) {\n  return {\n    type: SET_ORDER_FILTERS,\n    payload\n  }\n}\n\nexport function setPropositionsSortParameters (payload) {\n  return {\n    type: SET_PROPOSITIONS_SORT_PARAMETERS,\n    payload\n  }\n}\n\nexport function setPropositionFilters (payload) {\n  return {\n    type: SET_PROPOSITIONS_FILTER,\n    payload\n  }\n}\n\nexport function clearPropositionFilters () {\n  return {\n    type: CLEAR_PROPOSITION_FILTERS\n  }\n}\n\nexport function payForOperat () {\n  return {\n    type: PAY_FOR_OPERAT\n  }\n}\n","import { modalTypeConstants } from '../../constants'\nimport { call, put, select, takeEvery } from 'redux-saga/effects'\nimport { callForHeader } from 'utils/HeadersCall'\nimport request from 'utils/request'\nimport { makeSelectUser } from 'views/App/selectors'\nimport { hideLoadingScreen, showLoadingScreen } from 'views/Modal/actions'\n\nimport { loadOrders, loadOrdersError, loadPropositions, loadPropositionsError, orderReplaced, orderSaved, ordersLoaded, propositionReplaced, propositionsLoaded, replaceOrder, saveOrderError } from './actions'\nimport { LOAD_ORDERS, LOAD_PROPOSITIONS, RESERVE_ORDER_AND_PROPOSITION, SAVE_ORDER, SAVE_PROPOSITION, UNRESERVE_PROPOSITION, REPLACE_ORDER, REMOVE_ORDER, PAY_FOR_OPERAT } from './constants'\nimport {\n  makeSelectActiveOrder,\n  makeSelectOrders,\n  makeSelectPropositionId,\n  makeSelectPropositions\n} from './selectors'\nimport { handleRequestWithTimeout } from 'views/Modal/timeout'\n\nexport function * getOrders () {\n  const orders = yield select(makeSelectOrders())\n  let requestUrl = `/Order/user?pageNumber=${orders.pageNumber}`\n  if (orders.filters) {\n    requestUrl += `&locationPostCode=${orders.filters.locationPostCode}`\n  }\n  if (orders.sortFieldName) {\n    requestUrl += `&fieldName=${orders.sortFieldName}&direction=${orders.sortDirection}`\n  }\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const orders = yield call(request, requestUrl, options)\n    yield put(ordersLoaded(orders))\n  } catch (err) {\n    yield put(loadOrdersError(err))\n  }\n}\n\nexport function * saveOrder () {\n  const formElement = document.querySelector('#new-order-form')\n  const data = new FormData(formElement)\n  const user = yield select(makeSelectUser())\n  const requiresZbpList = document.getElementById('authorizedExperts').checked\n  const shouldBeValidated = document.getElementById('aoperatValidation').checked\n  const ekw = data.get('order-land-register-code')\n\n  const body = {\n    name: data.get('orderName'),\n    description: data.get('description'),\n    location: data.get('address'),\n    requiresZbpList,\n    latitudeLongitude: data.get('latlng-value'),\n    locationPostCode: data.get('postal-code'),\n    clientId: user.user.id,\n    shouldBeValidated,\n    orderSubject: data.get('order-subject'),\n    valuationScope: data.get('valuation-scope'),\n    ekw,\n    propertyIdentification: data.get('property-identification')\n  }\n\n  const requestUrl = '/Order'\n  const headers = yield call(callForHeader, 'json')\n  const options = { method: 'POST', headers, body: JSON.stringify(body) }\n  try {\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(orderSaved())\n    yield put(loadOrders())\n  } catch (err) {\n    yield put(saveOrderError(err))\n  }\n}\n\nexport function * replaceOrderSaga () {\n  const activeOrder = yield select(makeSelectActiveOrder())\n  const requestUrl = `/Order/id/${activeOrder.id}`\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const order = yield call(request, requestUrl, options)\n    yield put(orderReplaced(order))\n  } catch (err) { }\n}\n\nexport function * getPropositions () {\n  const activeOrder = yield select(makeSelectActiveOrder())\n  const propositions = yield select(makeSelectPropositions())\n  let requestUrl = `/OrderProposition/orderId/${activeOrder.id}/by-user?pageNumber=1`\n  if (propositions.sortFieldName) {\n    requestUrl += `&fieldName=${propositions.sortFieldName}&direction=${propositions.sortDirection}`\n  }\n  if (propositions.filters) {\n    if (propositions.filters.priceFrom !== '') { requestUrl += `&priceFrom=${propositions.filters.priceFrom}` }\n    if (propositions.filters.priceTo !== '') { requestUrl += `&priceTo=${propositions.filters.priceTo}` }\n    if (propositions.filters.upTillDateFrom !== '') { requestUrl += `&upTillDateFrom=${propositions.filters.upTillDateFrom}` }\n    if (propositions.filters.upTillDateTo !== '') { requestUrl += `&upTillDateTo=${propositions.filters.upTillDateTo}` }\n  }\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const propositions = yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(propositionsLoaded(propositions))\n  } catch (err) {\n    yield put(loadPropositionsError(err))\n  }\n}\n\nexport function * saveProposition () {\n  const activeOrder = yield select(makeSelectActiveOrder())\n  const user = yield select(makeSelectUser())\n  const formElement = document.querySelector('#new-offer')\n  const data = new FormData(formElement)\n  const body = {\n    orderId: activeOrder.id,\n    description: data.get('description') !== '' ? data.get('description') : `${data.get('exampleNumber').value} PLN do dnia ${data.get('date').value}`,\n    operatorId: user.user.id,\n    price: data.get('exampleNumber'),\n    upTillDate: data.get('date')\n  }\n\n  const requestUrl = '/OrderProposition?pageNumber=1'\n  const headers = yield call(callForHeader, 'json')\n  const options = { method: 'POST', headers, body: JSON.stringify(body) }\n  try {\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(loadPropositions())\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport function * reserveOrderAndProposition () {\n  const propositionId = yield select(makeSelectPropositionId())\n  const requestURL = `/OrderProposition/id/${propositionId}/reserve`\n  yield call(replaceProposition, requestURL)\n}\n\nfunction * replaceProposition (requestURL) {\n  const headers = yield call(callForHeader)\n  const options = { method: 'PUT', headers }\n  try {\n    const proposition = yield call(handleRequestWithTimeout, requestURL, options)\n    yield put(propositionReplaced(proposition))\n    yield put(replaceOrder())\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport function * unreserveProposition () {\n  const propositionId = yield select(makeSelectPropositionId())\n  const requestURL = `/OrderProposition/id/${propositionId}/unreserve`\n  yield call(replaceProposition, requestURL)\n}\n\nexport function * removeOrder () {\n  const activeOrder = yield select(makeSelectActiveOrder())\n  const requestURL = `/Order/id/${activeOrder.id}`\n  const headers = yield call(callForHeader)\n  const options = { method: 'DELETE', headers }\n  try {\n    yield call(handleRequestWithTimeout, requestURL, options)\n    yield put(loadOrders())\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport function * payForOperat () {\n  const activeOrder = yield select(makeSelectActiveOrder())\n  const requestUrl = `/Order/id/${activeOrder.id}/pay`\n  const headers = yield call(callForHeader)\n  const options = { method: 'PUT', headers }\n  try {\n    yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'payingForOperat', translate: true }))\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(loadOrders())\n    yield put(hideLoadingScreen())\n  } catch (err) {\n    console.log(err)\n    yield put(hideLoadingScreen())\n  }\n}\n\nexport default function * dashboardData () {\n  yield takeEvery(LOAD_ORDERS, getOrders)\n  yield takeEvery(SAVE_ORDER, saveOrder)\n  yield takeEvery(REPLACE_ORDER, replaceOrderSaga)\n  yield takeEvery(LOAD_PROPOSITIONS, getPropositions)\n  yield takeEvery(SAVE_PROPOSITION, saveProposition)\n  yield takeEvery(RESERVE_ORDER_AND_PROPOSITION, reserveOrderAndProposition)\n  yield takeEvery(UNRESERVE_PROPOSITION, unreserveProposition)\n  yield takeEvery(REMOVE_ORDER, removeOrder)\n  yield takeEvery(PAY_FOR_OPERAT, payForOperat)\n}\n","import { LOAD_OPERAT_TYPES, LOAD_OPERAT_TYPES_ERROR, LOAD_USER, LOAD_USER_ERROR, OPERAT_TYPES_LOADED, USER_LOADED, LOAD_EKW_DATA, EKW_DATA_LOADED, LOAD_PUBLIC_SETTINGS, PUBLIC_SETTINGS_LOADED, SET_NOTIFY_REGISTER } from './constants'\n\nexport function loadOperatTypes () {\n  return {\n    type: LOAD_OPERAT_TYPES\n  }\n}\n\nexport function operatTypesLoaded (operatTypes) {\n  return {\n    type: OPERAT_TYPES_LOADED,\n    payload: operatTypes\n  }\n}\n\nexport function loadOperatTypesError (error) {\n  return {\n    type: LOAD_OPERAT_TYPES_ERROR,\n    payload: error\n  }\n}\n\nexport function loadUser (id) {\n  return {\n    type: LOAD_USER,\n    id\n  }\n}\n\nexport function userLoaded (payload) {\n  return {\n    type: USER_LOADED,\n    payload\n  }\n}\n\nexport function loadUserError (payload) {\n  return {\n    type: LOAD_USER_ERROR,\n    payload\n  }\n}\n\nexport function loadEkwData () {\n  return {\n    type: LOAD_EKW_DATA\n  }\n}\n\nexport function ekwDataLoaded (payload) {\n  return {\n    type: EKW_DATA_LOADED,\n    payload\n  }\n}\n\nexport function loadPublicSettings () {\n  return {\n    type: LOAD_PUBLIC_SETTINGS\n  }\n}\n\nexport function publicSettingsLoaded (payload) {\n  return {\n    type: PUBLIC_SETTINGS_LOADED,\n    payload\n  }\n}\n\nexport function setNotifyRegister (payload) {\n  return {\n    type: SET_NOTIFY_REGISTER,\n    payload\n  }\n}\n","import { useMsal } from '@azure/msal-react'\nimport React, { memo, useEffect, useRef, useState } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Button, Card, CardBody, Col, Collapse, Input, Row, UncontrolledTooltip\n} from 'reactstrap'\nimport { connect, useSelector } from 'react-redux'\nimport { userRolesConstants } from '../../constants'\nimport { useHistory } from 'react-router'\nimport Pagination from '@mui/material/Pagination'\nimport UserInfoUncontrolledCollapse from '../Common/OrderInfoUncontrolledCollapse'\nimport AnnouncedOrder from './AnnouncedOrder'\nimport NewOrderForm from 'components/NewOrderForm'\nimport PaidOrder from './PaidOrder'\nimport ReservedOrder from './ReservedOrder'\nimport SignedOrder from './SignedOrder'\nimport MarketFilters from 'components/Filters/Market'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectActiveOrder, makeSelectOrders, makeSelectPropositions, makeSelectSaveOrder } from './selectors'\nimport { loadOrders, loadPropositions, removeOrder, replaceOrder, reserveOrderAndProposition, saveOrder, saveProposition, setActiveOrder, setOrdersPageNumber, setPropositionId, unReserveProposition, setOrderSortParameters, setOrderFilters, setPropositionsSortParameters, setPropositionFilters, clearPropositionFilters, payForOperat } from './actions'\nimport { compose } from 'redux'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport { makeSelectOperatTypes, makeSelectUser, makeSelectEkw } from 'views/App/selectors'\nimport { loadOperatTypes, loadUser, loadEkwData, loadPublicSettings } from 'views/App/actions'\nimport ShowIdCheckbox from 'components/ShowIdCheckbox'\nimport { showConfirmBox } from 'utils/showConfirmBox'\nconst key = 'marketPage'\nfunction Market (props) {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const { t } = useTranslation('common')\n  const user = useSelector(state => state.global.user)\n  const [newOrder, setNewOrder] = useState(false)\n  const newOrderButton = useRef(null)\n  const { accounts } = useMsal()\n  const [isFiltersOpen, setIsFiltersOpen] = useState(false)\n  const [isIdHidden, setIsIdHidden] = useState(true)\n\n  const isAdmin = user.userType === userRolesConstants.ADMIN\n  const isClient = user.userType === userRolesConstants.CLIENT\n  const sortable = {\n    onSort: (field, order) => {\n      props.handleSetOrderSortParameters(field)\n    },\n    sortFunc: (a, b, order, dataField, rowA, rowB) => {\n\n    },\n    sort: true\n  }\n  const columns = () => {\n    return [\n      {\n        dataField: 'id',\n        text: 'ID',\n        hidden: isIdHidden\n      },\n      {\n        dataField: 'inProcess',\n        text: t('market.table.headers.inProgress'),\n        editable: false,\n        align: 'center',\n        sort: true,\n        headerAlign: 'center',\n        formatter: (cellContent, row) => (\n          <Input type='checkbox' checked={row.status.toLowerCase() === 'inprogress'} disabled />\n        ),\n        headerStyle: (colum, colIndex) => {\n          return { width: '10%', textAlign: 'center' }\n        }\n      },\n      {\n        dataField: 'createdDateTime',\n        text: t('market.table.headers.applicationDate'),\n        align: 'center',\n        headerAlign: 'center',\n        editable: false,\n        ...sortable,\n        formatter: (cellContent, row) => <div id={row.id}>{cellContent.split('T')[0]}</div>,\n        headerStyle: (colum, colIndex) => {\n          return { width: '15%', textAlign: 'center' }\n        }\n      },\n      {\n        dataField: 'name',\n        text: t('market.table.headers.name'),\n        align: 'center',\n        headerAlign: 'center',\n        ...sortable,\n        editable: false,\n        formatter: (cellContent, row) => (\n          <div>\n            <div id={`title-${row.id}`}>\n              {cellContent.length > 30\n                ? cellContent.substring(0, 30) + '...'\n                : cellContent}\n            </div>\n            <UncontrolledTooltip placement='top' target={`title-${row.id}`}>\n              {cellContent}\n            </UncontrolledTooltip>\n          </div>\n        )\n      },\n      {\n        dataField: 'locationPostCode',\n        text: t('market.table.headers.postCode'),\n        align: 'center',\n        headerAlign: 'center',\n        ...sortable,\n        editable: false,\n        formatter: (cellContent) => (\n          <div>{cellContent}</div>\n        )\n      },\n      {\n        dataField: 'status',\n        text: t('market.table.headers.status'),\n        align: 'center',\n        headerAlign: 'center',\n        editable: false,\n        formatter: (cellContent) => (\n          <div>{t(`market.table.statuses.${cellContent}`)}</div>\n        )\n      }\n    ]\n  }\n\n  const renderSwitch = (row) => {\n    switch (row.status) {\n      case 'announced':\n        return (\n          <AnnouncedOrder\n            handleRemoveOrder={props.handleRemoveOrder} activeOrder={props.activeOrder}\n            handleReserveOrderAndProposition={props.handleReserveOrderAndProposition}\n            handleUnreserveProposition={props.handleUnreserveProposition}\n            handleSetPropositionId={props.handleSetPropositionId}\n            propositions={props.propositions}\n            handleSaveProposition={props.handleSaveProposition}\n            handleLoadPropositions={props.handleLoadPropositions}\n            user={props.user}\n            handleSetPropositionsSortParameters={props.handleSetPropositionsSortParameters}\n            handleSetPropositionFilters={props.handleSetPropositionFilters}\n          />\n        )\n      case 'reserved':\n        return (\n          <ReservedOrder\n            activeOrder={props.activeOrder}\n            handleReserveOrderAndProposition={props.handleReserveOrderAndProposition}\n            handleUnreserveProposition={props.handleUnreserveProposition}\n            handleSetPropositionId={props.handleSetPropositionId}\n            propositions={props.propositions}\n            handleLoadPropositions={props.handleLoadPropositions}\n            handleReplaceOrder={props.handleReplaceOrder}\n            handleSetPropositionsSortParameters={props.handleSetPropositionsSortParameters}\n            handleSetPropositionFilters={props.handleSetPropositionFilters}\n            handlePayForOperat={props.handlePayForOperat}\n          />\n        )\n      case 'paid':\n        return !isClient && (row.operators[0] === accounts[0].idTokenClaims.oid) && <><Button\n          color='info' style={{ width: '272px', marginBottom: '1rem' }} onClick={() => {\n            props.activeOrder.operators && history.push({ pathname: '/users-profile', search: '?operatorId=' + props.activeOrder.operators[0] })\n          }}\n                                                                                      >Dane o rzeczoznawcy\n        </Button><PaidOrder activeOrder={props.activeOrder} operatTypes={props.operatTypes} />\n        </>\n      case 'signed':\n        return <SignedOrder activeOrder={props.activeOrder} />\n      default:\n        break\n    }\n  }\n  const [expanded, setExpanded] = useState('')\n  const history = useHistory()\n  const expandRow = () => {\n    return {\n      onlyOneExpanding: true,\n      expanded: [expanded],\n      renderer: (row) => (\n        <div style={{ wordBreak: 'break-all' }}>\n          <div>\n            <Button\n              className='long-btn'\n              color='success'\n              id='orderData'\n              style={{ marginBottom: '1rem' }}\n            >\n              {t('market.table.buttons.orderData')}\n            </Button>\n            <UserInfoUncontrolledCollapse row={row} />\n          </div>\n          {renderSwitch(row)}\n          <br />\n          <Button\n            className='long-btn'\n            color='danger'\n            disabled={!userRolesConstants.ADMIN === user.userType && props.activeOrder.clientId !== props.user.user.id}\n            onClick={() => showConfirmBox('Czy na pewno chcesz usunąć zlecenie?', 'Ostrzeżenie', () => props.handleRemoveOrder())}\n          >\n            {t('market.table.buttons.deleteOrder')}\n          </Button>\n        </div>\n      ),\n      onExpand: (row) => {\n        expanded === row.id ? setExpanded('') : setExpanded(row.id)\n        const search = new URLSearchParams(history.location.search)\n        search.set('id', row.id)\n        history.push({\n          pathname: '/market',\n          search: search.toString()\n        })\n        props.handleSetActiveOrder(row)\n      }\n    }\n  }\n\n  useEffect(() => {\n    const search = new URLSearchParams(history.location.search)\n    if (!search.get('pageNumber')) { props.handleSetOrdersPageNumber('1') }\n    // eslint-disable-next-line\n  }, [])\n\n  useEffect(() => {\n    props.loadOrders()\n\n    // eslint-disable-next-line\n  }, [props.orders.filters])\n\n  useEffect(() => {\n    const search = new URLSearchParams(history.location.search)\n    if (search.get('pageNumber')) { props.handleSetOrdersPageNumber(search.get('pageNumber')) }\n    if (search.get('id')) { setExpanded(search.get('id')) }\n    // eslint-disable-next-line\n  }, [history.location.search])\n\n  const handleChangePageNumber = (event, newPage) => {\n    const search = new URLSearchParams(history.location.search)\n    search.set('pageNumber', newPage.toString())\n    history.push({\n      pathname: '/market',\n      search: search.toString()\n    })\n    props.handleSetOrdersPageNumber(newPage.toString())\n    props.loadOrders()\n  }\n\n  return (\n    <div className='content'>\n      <div className='container'>\n        <Button\n          color='primary'\n          onClick={() => {\n            setNewOrder(!newOrder)\n          }}\n          innerRef={newOrderButton}\n        >\n          {t('market.table.buttons.newOrder')}\n        </Button>\n        <Collapse isOpen={newOrder}>\n          <Card>\n            <CardBody>\n              <NewOrderForm\n                saveOrder={props.saveOrder}\n                onSubmit={props.handleSaveOrder}\n                ekwData={props.ekwData}\n              />\n            </CardBody>\n          </Card>\n        </Collapse>\n        <br />\n        <Button color='success' onClick={() => setIsFiltersOpen(!isFiltersOpen)}>Filtry</Button>\n        <Collapse isOpen={isFiltersOpen}>\n          <MarketFilters\n            handleSetOrderFilters={props.handleSetOrderFilters}\n          />\n        </Collapse>\n\n        {isAdmin && <ShowIdCheckbox setIsIdHidden={setIsIdHidden} label={t('market.showOrderId')} isIdHidden={isIdHidden} />}\n        <Row>\n          <Col md='12'>\n            <Pagination count={localStorage.getItem('pageCount')} color='primary' page={(new URLSearchParams(history.location.search)).get('pageNumber') ? parseInt((new URLSearchParams(history.location.search)).get('pageNumber')) : 1} onChange={handleChangePageNumber} />\n            {props.orders.loading\n              ? <LoadingIndicator />\n              : <BootstrapTable\n                  bootstrap4\n                  keyField='id'\n                  data={props.orders.orders}\n                  columns={columns()}\n                  striped\n                  hover\n                  condensed\n                  bordered={false}\n                  expandRow={expandRow()}\n                />}\n          </Col>\n        </Row>\n      </div>\n    </div>\n  )\n}\nconst mapStateToProps = createStructuredSelector({\n  orders: makeSelectOrders(),\n  saveOrder: makeSelectSaveOrder(),\n  operatTypes: makeSelectOperatTypes(),\n  activeOrder: makeSelectActiveOrder(),\n  user: makeSelectUser(),\n  propositions: makeSelectPropositions(),\n  ekwData: makeSelectEkw()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    loadOrders: () => dispatch(loadOrders()),\n    handleSaveOrder: () => dispatch(saveOrder()),\n    handleSetPropositionId: id => dispatch(setPropositionId(id)),\n    handleReserveOrderAndProposition: () => dispatch(reserveOrderAndProposition()),\n    handleUnreserveProposition: () => dispatch(unReserveProposition()),\n    handleSetOrdersPageNumber: pageNumber => dispatch(setOrdersPageNumber(pageNumber)),\n    handleLoadPropositions: () => dispatch(loadPropositions()),\n    handleSaveProposition: () => dispatch(saveProposition()),\n    handleSetActiveOrder: order => {\n      dispatch(setActiveOrder(order))\n      dispatch(clearPropositionFilters())\n    },\n    handleRemoveOrder: () => dispatch(removeOrder()),\n    handleReplaceOrder: () => dispatch(replaceOrder()),\n    handleLoadOperatTypes: () => dispatch(loadOperatTypes()),\n    handleLoadUser: (userId) => dispatch(loadUser(userId)),\n    handleSetOrderSortParameters: (fieldName) => {\n      dispatch(setOrderSortParameters(fieldName))\n      dispatch(loadOrders())\n    },\n    handleSetOrderFilters: filters => dispatch(setOrderFilters(filters)),\n    handleSetPropositionsSortParameters: fieldName => dispatch(setPropositionsSortParameters(fieldName)),\n    handleSetPropositionFilters: filters => dispatch(setPropositionFilters(filters)),\n    handlePayForOperat: () => dispatch(payForOperat()),\n    handleLoadEkwData: () => dispatch(loadEkwData()),\n    handleLoadPublicSettings: () => dispatch(loadPublicSettings())\n  }\n}\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(Market)\n","import { landRegisterService, operatFilesService } from 'services'\nimport { v4 as uuidv4 } from 'uuid'\nimport { hideLoadingScreen } from 'views/Modal/actions'\nimport {\n  DOWNLOAD_FROM_EKW, LOAD_OPERAT_INITIAL_WEIGHTS, OPERAT_UPDATE_LIST,\n  FILES_GET_WEIGHTS, SAVE_WEIGHTS_AREA, FILES_ADD_LINES_TO_CSV_FROM_CSV,\n  FILES_ADD_LINE_TO_CSV, FILES_CLEAR_STATE, SAVE_CSV_AREA,\n  FILES_GET_CSV, FILES_GET_INPUT, FILES_LOAD_EMPTY_INPUT, FILES_GET_BY_OPERAT,\n  FILES_LOAD_EMPTY_PHOTO, FILES_LOAD_OPERAT_TYPE, OPERAT_UPDATE_PROTOCOL_LIST,\n  FILES_LOAD_PHOTO_FILE_TO_GALLERY, FILES_GET_PROTOCOL, SAVE_PROTOCOL_AREA,\n  FILES_PUT_OPERAT, FILES_REMOVE_LINE_FROM_CSV, REMOVE_PHOTOS,\n  REMOVE_PHOTO_FILES, SET_ALL_VALID, CALL_SET_ALL_VALID, SAVE_INPUT_AREA,\n  GENERATE_OPERAT, CSV_EDIT_CELL, FILES_PUT_WEIGHTS, FILES_PUT_PROTOCOL,\n  FILES_SEND_PHOTOS, FILES_LOADED,\n  ADD_NEW_WEIGHT,\n  FILES_LOAD_EMPTY_PROTOCOL,\n  PUT_RATE,\n  ADD_NEW_RATE,\n  REMOVE_WEIGHTS,\n  REMOVE_RATINGS,\n  SET_OPERAT,\n  GENERATE_PROTOCOL\n} from './constants'\n\nexport function setOperat (operat) {\n  return {\n    type: SET_OPERAT,\n    payload: operat\n  }\n}\nexport function clearOperatState () {\n  return {\n    type: FILES_CLEAR_STATE\n  }\n}\n\nexport function downloadFromEkw (code, name) {\n  landRegisterService.get(code).then(ekw => {\n    return {\n      type: DOWNLOAD_FROM_EKW,\n      payload: {\n        code,\n        name,\n        ekw\n      }\n    }\n  })\n}\n\nexport function loadFileToGallery (id, files) {\n  return {\n    type: FILES_LOAD_PHOTO_FILE_TO_GALLERY,\n    payload: { id, files }\n  }\n}\n\nexport function removePhotos (id) {\n  return {\n    type: REMOVE_PHOTOS,\n    payload: { id }\n  }\n}\n\nexport function removePhotoFiles (id) {\n  return {\n    type: REMOVE_PHOTO_FILES,\n    payload: { id }\n  }\n}\n\nexport function loadOperatEmptyInput (input) {\n  return {\n    type: FILES_LOAD_EMPTY_INPUT,\n    payload: input\n  }\n}\n\nexport function loadOperatEmptyProtocol (protocol) {\n  return {\n    type: FILES_LOAD_EMPTY_PROTOCOL,\n    payload: protocol\n  }\n}\n\nexport function loadOperatInitialWeights (weights) {\n  return {\n    type: LOAD_OPERAT_INITIAL_WEIGHTS,\n    payload: weights\n  }\n}\n\nexport function loadOperatEmptyPhoto (photo) {\n  return {\n    type: FILES_LOAD_EMPTY_PHOTO,\n    payload: photo\n  }\n}\n\nexport function loadOperatType (data) {\n  return {\n    type: FILES_LOAD_OPERAT_TYPE,\n    payload: data\n  }\n}\n\nexport function updateValue (value, id, idx) {\n  return {\n    type: FILES_PUT_OPERAT,\n    payload: {\n      value,\n      id,\n      idx\n    }\n  }\n}\n\nexport function updateProtocol (value, id, idx) {\n  return {\n    type: FILES_PUT_PROTOCOL,\n    payload: {\n      value,\n      id,\n      idx\n    }\n  }\n}\n\nexport function updateList (value, id, idx, listIdx, del = 'false') {\n  return {\n    type: OPERAT_UPDATE_LIST,\n    payload: {\n      value,\n      id,\n      idx,\n      listIdx,\n      del\n    }\n  }\n}\n\nexport function updateProtocolList (value, id, idx, listIdx, del = 'false') {\n  return {\n    type: OPERAT_UPDATE_PROTOCOL_LIST,\n    payload: {\n      value,\n      id,\n      idx,\n      listIdx,\n      del\n    }\n  }\n}\n\nexport function getFormatedFiles () {\n  return {\n    type: FILES_GET_BY_OPERAT\n  }\n}\n\nexport function filesLoaded (files, operat) {\n  return {\n    type: FILES_LOADED,\n    payload: {\n      id: operat.id,\n      operatInfo: operat,\n      files,\n      operatTypeId: operat.operatTypeId\n    }\n  }\n}\n\nexport function loadOperatInput (dispatch, url, useCache) {\n  operatFilesService.getFile(url, useCache).then(\n    input => {\n      dispatch({\n        type: FILES_GET_INPUT,\n        payload: {\n          input: input.input\n        }\n      })\n    }\n  ).then(() => {\n    dispatch(hideLoadingScreen())\n  })\n}\n\nexport function loadOperatProtocol (dispatch, url, useCache) {\n  operatFilesService.getFile(url, useCache).then(\n    input => {\n      dispatch({\n        type: FILES_GET_PROTOCOL,\n        payload: {\n          protocol: input.protocol\n        }\n      })\n    }\n  ).then(() => {\n    dispatch(hideLoadingScreen())\n  })\n}\n\nexport function saveCsvArea () {\n  return {\n    type: SAVE_CSV_AREA\n  }\n}\n\nexport function loadOperatWeights (dispatch, url) {\n  operatFilesService.getFile(url).then(\n    weights => {\n      dispatch({\n        type: FILES_GET_WEIGHTS,\n        payload: {\n          weights: weights.weights\n        }\n      })\n    }\n  ).then(() => {\n    dispatch(hideLoadingScreen())\n  })\n}\n\nexport function loadOperatCSV (dispatch, url) {\n  operatFilesService.getFile(url).then(\n    csv => {\n      dispatch({\n        type: FILES_GET_CSV,\n        payload: {\n          csv: csvJSON(csv)\n        }\n      })\n    }\n  ).then(() => {\n    dispatch(hideLoadingScreen())\n  })\n}\n\nexport function removeInfo (id) {\n  return {\n    type: 'REMOVE_OPERAT_FROM_GENERATED',\n    payload: id\n  }\n}\n\nexport function addLineToCSV () {\n  return {\n    type: FILES_ADD_LINE_TO_CSV,\n    payload: { newRow: generateNewRowForCSV() }\n  }\n}\n\nexport function addLinesToCSVFromCSV (rows) {\n  return {\n    type: FILES_ADD_LINES_TO_CSV_FROM_CSV,\n    payload: { newRows: generateNewRowsForCSVFromCSV(rows) }\n  }\n}\n\nexport function removeLineFromCSV (rows) {\n  return {\n    type: FILES_REMOVE_LINE_FROM_CSV,\n    payload: { rows }\n  }\n}\n\nexport function generateNewRowForCSV () {\n  return {\n    Data: 'data',\n    CenaTransakcyjna: 'cena transakcyjna',\n    RodzajRynku: 'rodzaj rynku',\n    UdzialWPrawie: 'udział w prawie',\n    PowierzchniaLokalu: 'powierzchnia lokalu',\n    Adres: 'adres',\n    KondygnacjaLokalu: 'kondygnacja lokalu',\n    KondygnacjaBudynku: 'kondygnacja budynku',\n    LiczbaIzb: 'liczba izb',\n    id: uuidv4()\n  }\n}\n\nexport function generateNewRowsForCSVFromCSV (rows) {\n  const lines = []\n  rows.forEach(element => {\n    const row = element.split(';')\n    lines.push({\n      Data: row[0],\n      CenaTransakcyjna: row[1],\n      RodzajRynku: row[2],\n      UdzialWPrawie: row[3],\n      PowierzchniaLokalu: row[4],\n      Adres: row[5],\n      KondygnacjaLokalu: row[6],\n      KondygnacjaBudynku: row[7],\n      LiczbaIzb: row[8].replace('/r', ''),\n      id: uuidv4()\n    })\n  })\n  return lines\n}\n\nexport function csvJSON (csv) {\n  const lines = csv.split('\\n')\n  const result = []\n  const headers = lines[0].split(',')[0].split(';')\n\n  for (let i = 1; i < lines.length; i++) {\n    const obj = {}\n    const currentline = lines[i].split(';')\n    for (let j = 0; j < headers.length; j++) {\n      obj[headers[j].trim()] = currentline[j]\n    }\n    obj.id = uuidv4()\n    result.push(obj)\n  }\n\n  return result\n}\n\nexport function callSetAllValid () {\n  return {\n    type: CALL_SET_ALL_VALID\n  }\n}\n\nexport function setAllValid () {\n  return {\n    type: SET_ALL_VALID\n  }\n}\n\nexport function saveInputArea (id) {\n  return {\n    type: SAVE_INPUT_AREA,\n    id\n  }\n}\n\nexport function saveWeightsArea (id) {\n  return {\n    type: SAVE_WEIGHTS_AREA,\n    id\n  }\n}\n\nexport function saveProtocolArea (id) {\n  return {\n    type: SAVE_PROTOCOL_AREA,\n    id\n  }\n}\n\nexport function generateOperat () {\n  return {\n    type: GENERATE_OPERAT\n  }\n}\n\nexport function generateProtocol () {\n  return {\n    type: GENERATE_PROTOCOL\n  }\n}\n\nexport function editCsvCell (id, columnToChange, newValue) {\n  return {\n    type: CSV_EDIT_CELL,\n    id,\n    columnToChange,\n    newValue\n  }\n}\n\nexport function sendPhotos (operatId, photosGlobalStateId, photosToSend, photosToRefresh) {\n  return {\n    type: FILES_SEND_PHOTOS,\n    operatId,\n    photosGlobalStateId,\n    photosToSend,\n    photosToRefresh\n  }\n}\n\nexport function updateWeights (name, dataField, newValue) {\n  return {\n    type: FILES_PUT_WEIGHTS,\n    payload: {\n      name,\n      dataField,\n      newValue\n    }\n  }\n}\n\nexport function updateRatings (rowIndex, rate, dataField, newValue) {\n  return {\n    type: PUT_RATE,\n    payload: {\n      rowIndex,\n      rate,\n      dataField,\n      newValue\n    }\n  }\n}\n\nexport function addNewWeight () {\n  return {\n    type: ADD_NEW_WEIGHT\n  }\n}\n\nexport function addNewRate (rowIndex) {\n  return {\n    type: ADD_NEW_RATE,\n    payload: {\n      rowIndex\n    }\n  }\n}\n\nexport function removeWeights (indexes) {\n  return {\n    type: REMOVE_WEIGHTS,\n    payload: {\n      indexes\n    }\n  }\n}\n\nexport function removeRatings (indexes, rowIndex) {\n  return {\n    type: REMOVE_RATINGS,\n    payload: {\n      indexes,\n      rowIndex\n    }\n  }\n}\n","import React, { useEffect, useRef, useState } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport cellEditFactory from 'react-bootstrap-table2-editor'\nimport ToolkitProvider, { CSVExport } from 'react-bootstrap-table2-toolkit'\nimport { useTranslation } from 'react-i18next'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Button, Card, CardBody, Col, Input, Row } from 'reactstrap'\nimport confirm from 'reactstrap-confirm'\nimport { showLoadingScreen } from 'views/Modal/actions'\nimport { modalTypeConstants } from '../../constants'\nimport { addLinesToCSVFromCSV, addLineToCSV, loadOperatCSV, removeLineFromCSV, editCsvCell, loadOperatWeights, loadOperatInitialWeights, saveCsvArea } from './actions'\n\nfunction CsvComponent ({ operat, operatTypeParams }) {\n  const { t } = useTranslation('common')\n  const dispatch = useDispatch()\n  const operatState = useSelector(state => state.operat)\n  const [selectedRows, setSelectedRows] = useState([])\n  const [csvToRead, setCsvToRead] = useState()\n  const inputFile = useRef(null)\n  const baseColumnProps = {\n    headerAlign: 'center',\n    align: 'center',\n    editable: true,\n    sort: true\n  }\n  const createRenderer = (editorProps, value, row, column, rowIndex, columnIndex, type, colName) => (<EditComponent {...editorProps} value={value} type={type} onUpdate={e => dispatch(editCsvCell(row.id, colName, e))} />)\n  const cols = () => [\n    {\n      dataField: 'id',\n      text: 'ID',\n      hidden: true\n    },\n    {\n      dataField: 'Data',\n      text: 'Data',\n      ...baseColumnProps,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => createRenderer(editorProps, value, row, column, rowIndex, columnIndex, 'date', 'Data')\n    },\n    {\n      dataField: 'CenaTransakcyjna',\n      text: 'Cena Transakcyjna',\n      ...baseColumnProps,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => createRenderer(editorProps, value, row, column, rowIndex, columnIndex, 'number', 'CenaTransakcyjna')\n    },\n    {\n      dataField: 'RodzajRynku',\n      text: 'Rodzaj Rynku',\n      ...baseColumnProps,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => createRenderer(editorProps, value, row, column, rowIndex, columnIndex, 'text', 'RodzajRynku')\n    },\n    {\n      dataField: 'UdzialWPrawie',\n      text: 'Udzial W Prawie',\n      ...baseColumnProps,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => createRenderer(editorProps, value, row, column, rowIndex, columnIndex, 'number', 'UdzialWPrawie')\n\n    },\n    {\n      dataField: 'PowierzchniaLokalu',\n      text: 'Powierzchnia Lokalu',\n      ...baseColumnProps,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => createRenderer(editorProps, value, row, column, rowIndex, columnIndex, 'number', 'PowierzchniaLokalu')\n    },\n    {\n      dataField: 'Adres',\n      text: 'Adres',\n      ...baseColumnProps,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => createRenderer(editorProps, value, row, column, rowIndex, columnIndex, 'text', 'Adres')\n    },\n    {\n      dataField: 'KondygnacjaLokalu',\n      text: 'Kondygnacja Lokalu',\n      ...baseColumnProps,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => createRenderer(editorProps, value, row, column, rowIndex, columnIndex, 'number', 'KondygnacjaLokalu')\n    },\n    {\n      dataField: 'KondygnacjaBudynku',\n      text: 'Kondygnacja Budynku',\n      ...baseColumnProps,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => createRenderer(editorProps, value, row, column, rowIndex, columnIndex, 'number', 'KondygnacjaBudynku')\n    },\n    {\n      dataField: 'LiczbaIzb',\n      text: 'Liczba Izb',\n      ...baseColumnProps,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => createRenderer(editorProps, value, row, column, rowIndex, columnIndex, 'number', 'LiczbaIzb')\n    },\n    ...operatState.weights && operatState.weights.map(x => ({\n      dataField: x.name,\n      text: x.description,\n      ...baseColumnProps,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => createRenderer(editorProps, value, row, column, rowIndex, columnIndex, 'number', x.name)\n    }))\n  ]\n\n  useEffect(() => {\n    const csvItems = operatState.files.csv\n    const load = () => {\n      dispatch(showLoadingScreen(\n        modalTypeConstants.LOADING,\n        { message: 'loadingData', translate: true }\n      ))\n      loadOperatCSV(dispatch, csvItems.item2)\n    }\n    !!csvItems && Object.keys(csvItems).length > 0 && load()\n    const loadWeights = () => {\n      dispatch(showLoadingScreen(\n        modalTypeConstants.LOADING,\n        {}\n      ))\n      loadOperatWeights(dispatch, dataJson.item2)\n    }\n\n    const dataJson = operatState.files.weights\n    !!dataJson && (Object.keys(dataJson).length > 0 ? loadWeights() : dispatch(loadOperatInitialWeights(operatTypeParams.weights)))\n    // eslint-disable-next-line\n  }, [operatState.files.csv])\n\n  const selectRow = () => {\n    const select = {\n      mode: 'checkbox',\n      clickToEdit: false,\n      clickToSelect: false,\n      onSelect: (row, isSelect, rowIndex, e) => {\n        isSelect && setSelectedRows((allRows) => [...allRows, row.id])\n        !isSelect &&\n          setSelectedRows(selectedRows.filter((item) => item !== row.id))\n      },\n      onSelectAll: (isSelect, rows) => {\n        !isSelect && setSelectedRows([])\n        isSelect &&\n          setSelectedRows(\n            rows.map((row) => {\n              return row.id\n            })\n          )\n      }\n    }\n    return select\n  }\n  const cellEdit = cellEditFactory({\n    mode: 'click'\n  })\n  const { ExportCSVButton } = CSVExport\n\n  const processCSV = (str) => {\n    const rows = str.slice(str.indexOf('\\n') + 1).split('\\n').filter(x => x !== '')\n    const EXPECTED_COUNT_OF_COLUMNS = 9\n    if (\n      rows.some(\n        (row) =>\n          (row.match(/;/g) || []).length !== EXPECTED_COUNT_OF_COLUMNS - 1\n      )\n    ) {\n      const columns = str.split('\\n')[0].split(';').map(item => item.trim()).filter(x => x !== '')\n      const requiredColumns = cols.filter(x => x.text !== 'ID').map(x => { return x.dataField }).filter(x => !columns.includes(x.trim()))\n      showWarning(EXPECTED_COUNT_OF_COLUMNS, requiredColumns)\n      return\n    }\n    dispatch(addLinesToCSVFromCSV(rows))\n  }\n  function EditComponent (props) {\n    const [value, setValue] = useState(props.value)\n    return ([\n      <Input\n        value={value}\n        type={props.type}\n        onChange={(e) => setValue(e.target.value)}\n        onBlur={() => { props.onUpdate(value) }}\n      />\n    ])\n  }\n  const submit = () => {\n    const file = csvToRead\n    const reader = new FileReader()\n\n    reader.onload = function (e) {\n      const text = e.target.result\n      processCSV(text)\n    }\n\n    reader.readAsText(file)\n  }\n\n  const showWarning = async (EXPECTED_COUNT_OF_COLUMNS, requiredColumns) => {\n    const mess = `\n      Liczba kolumn w pliku się nie zgadza.\n      Plik  powinien zawierać ${EXPECTED_COUNT_OF_COLUMNS} kolumn.\n      Brakujące kolumny to : ${requiredColumns.map(x => x)}\n      `\n    await confirm({\n      title: <>{t('history.table.confirm.warning')}</>,\n      message: mess,\n      confirmText: 'Wróć',\n      cancelText: '',\n      confirmColor: 'danger',\n      cancelColor: 'link text-primary'\n    })\n  }\n\n  const handleTableChange = (type, { data, cellEdit: { rowId, dataField, newValue } }) => {\n    dispatch(editCsvCell(rowId, dataField, newValue))\n  }\n\n  return (\n    <>\n      <Card>\n        <CardBody>\n          <br />\n          <br />\n          <br />\n          <br />\n          <div className='container'>\n            <Row>\n              <Col md='12'>\n                <Card>\n                  <ToolkitProvider\n                    keyField='id'\n                    data={operatState.csv}\n                    columns={cols()}\n                    exportCSV={{ onlyExportSelection: true, exportAll: true }}\n                  >\n                    {(props) => (\n                      <div>\n                        <Button\n                          color='warning'\n                          onClick={() => {\n                            dispatch(saveCsvArea())\n                          }}\n                        >\n                          Wyślij dane\n                        </Button>\n                        <Button\n                          color='info'\n                          onClick={() => {\n                            dispatch(addLineToCSV())\n                          }}\n                        >\n                          Dodaj linię\n                        </Button>\n                        <Button\n                          color='info'\n                          onClick={() => {\n                            dispatch(removeLineFromCSV(\n                              selectedRows\n                            ))\n                            setSelectedRows([])\n                          }}\n                        >\n                          Usuń zaznaczone linie\n                        </Button>\n                        <ExportCSVButton {...props.csvProps}>\n                          Export do pliku\n                        </ExportCSVButton>\n                        <Button onClick={() => inputFile.current.click()}>\n                          {csvToRead\n                            ? 'wybierz plik [' + csvToRead.name + ']'\n                            : 'wybierz plik'}\n                        </Button>\n                        <input\n                          type='file'\n                          id='file'\n                          ref={inputFile}\n                          style={{ display: 'none' }}\n                          accept='.csv'\n                          onChange={(e) => {\n                            setCsvToRead(e.target.files[0])\n                          }}\n                        />\n                        <Button\n                          disabled={!csvToRead}\n                          onClick={(e) => {\n                            e.preventDefault()\n                            submit()\n                          }}\n                        >\n                          Importuj\n                        </Button>\n                        <Button\n                          color='secondary'\n                          id='copyInputArea'\n                          onClick={() => {\n                            dispatch(showLoadingScreen(\n                              modalTypeConstants.OPERATS_LIST_MODAL,\n                              { operat: operat, dataType: 'csv' }\n                            ))\n                          }}\n                        >\n                          kopiuj dane transakcyjne z innego operatu\n                        </Button>\n                        <hr />\n                        <BootstrapTable\n                          wrapperClasses='table-scroll'\n                          {...props.baseProps}\n                          remote={{ cellEdit: true }}\n                          selectRow={selectRow()}\n                          tabIndexCell\n                          bootstrap4\n                          striped\n                          hover\n                          condensed\n                          bordered={false}\n                          cellEdit={cellEdit}\n                          onTableChange={handleTableChange}\n                        />\n                      </div>\n                    )}\n                  </ToolkitProvider>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </CardBody>\n      </Card>\n    </>\n  )\n}\n\nexport default CsvComponent\n","var _path, _path2;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgExclamation(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-exclamation-circle\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgExclamation);\nexport default __webpack_public_path__ + \"static/media/exclamation.56ace894.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n  Card,\n  CardBody,\n  Button,\n  Collapse\n} from 'reactstrap'\n\nexport function InfoForAdmin () {\n  const [isInfoVisible, setIsInfoVisible] = useState(false)\n  const operatState = useSelector(state => state.operat)\n  return (\n    <>\n      <Button style={{ width: '16rem' }} color='info' onClick={() => setIsInfoVisible(!isInfoVisible)}>Informacje</Button>\n      <Collapse isOpen={isInfoVisible}>\n        <Card>\n          <CardBody>\n            {operatState.operatInfo && Object.keys(operatState.operatInfo).map(x => operatState.operatInfo[x] && (<p>{x + ': ' + operatState.operatInfo[x]}</p>))}\n          </CardBody>\n        </Card>\n      </Collapse>\n    </>\n  )\n}\n","import React, { useRef, useEffect, useState } from 'react'\nimport NotificationAlert from 'react-notification-alert'\nimport {\n  UncontrolledTooltip,\n  Col,\n  FormGroup,\n  Input,\n  Button,\n  UncontrolledCollapse,\n  Label,\n  Form\n} from 'reactstrap'\nimport { modalTypeConstants } from '../../constants'\nimport { formatDate } from 'utils/DateFormat'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen } from 'views/Modal/actions'\nimport { downloadFromEkw, loadOperatEmptyInput, loadOperatInput, saveInputArea, updateList, updateValue } from './actions'\nimport { useMsal } from '@azure/msal-react'\nimport InputMask from 'react-input-mask'\nimport { validateLandRegisterCode } from 'utils/validateLandRegisterCode'\nimport { ReactComponent as Exclamation } from 'assets/img/exclamation.svg'\nfunction InputArea (props) {\n  const { accounts } = useMsal()\n  const operatState = useSelector(state => state.operat)\n  const ekwData = useSelector(state => state.global.ekw)\n  const [listInputData, setListInputData] = useState({})\n\n  const dispatch = useDispatch()\n  useEffect(() => {\n    const load = () => {\n      dispatch(showLoadingScreen(\n        modalTypeConstants.LOADING,\n        {}\n      ))\n      loadOperatInput(dispatch, dataJson.item2, false)\n    }\n\n    const dataJson = operatState.files.input\n    !!dataJson && (Object.keys(dataJson).length > 0 ? load() : dispatch(loadOperatEmptyInput(props.operatTypeParams.input)))\n    if (Object.keys(dataJson).length === 0) {\n      applyMacros()\n      loadInitialDataFromOrder()\n    }\n    // eslint-disable-next-line\n  }, [operatState.operatTypeId, operatState.files, props.operatTypeParams, dispatch])\n\n  const loadInitialDataFromOrder = () => {\n    const temp = JSON.parse(JSON.stringify(props.operatTypeParams.input))\n    if (props.order && props.order.ekw && props.order.ekw !== '') {\n      try {\n        const kwIndex = temp.findIndex(x => x.name === 'kw')\n        const kwNrIndex = temp[kwIndex].findIndex(x => x.name === 'nr')\n        temp[kwIndex].data[kwNrIndex].value = props.order.ekw\n        dispatch(loadOperatEmptyInput(temp))\n      } catch (err) {\n        console.log(err)\n      }\n    }\n  }\n\n  const applyMacros = () => {\n    const temp = JSON.parse(JSON.stringify(props.operatTypeParams.input))\n    for (let i = 0; i < temp.length; i++) {\n      for (let j = 0; j < temp[i].data.length; j++) {\n        if (temp[i].data[j].default === 'now()' && temp[i].data[j].type === 'date') { temp[i].data[j].value = formatDate(new Date()) }\n        if (temp[i].data[j].value === 'author()') { temp[i].data[j].value = [accounts[0].idTokenClaims.given_name, accounts[0].idTokenClaims.family_name].filter(x => x).join(' ') }\n      }\n    }\n    dispatch(loadOperatEmptyInput(temp))\n  }\n  const handleChangeValue = (value, id, idx) => {\n    dispatch(updateValue(value, id, idx))\n  }\n\n  const notifyRegister = useRef(null)\n\n  const createEkwUrl = (code) => {\n    const url = new URL('https://przegladarka-ekw.ms.gov.pl/eukw_prz/KsiegiWieczyste/wyszukiwanieKW')\n    return url.toString()\n  }\n\n  function validateAndShowErrors () {\n    const kwIndex = operatState.input.findIndex(x => x.name === 'kw')\n    const kwNrIndex = operatState.input[kwIndex].data.findIndex(x => x.name === 'nr')\n    const ekw = operatState.input[kwIndex].data[kwNrIndex]\n    const landRegisterValidationResult = validateLandRegisterCode(ekw.value, ekwData)\n    if (landRegisterValidationResult !== '') {\n      const temp = JSON.parse(JSON.stringify(operatState.input))\n      temp[kwIndex].data[kwNrIndex].isValid = false\n      dispatch(loadOperatEmptyInput(temp))\n      dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: landRegisterValidationResult }))\n      return false\n    }\n\n    return true\n  }\n  const renderSwitch = (dataItem, idx, id, genItem) => {\n    switch (dataItem.type) {\n      case 'ekw': return (\n        <>\n          <Button onClick={() => dispatch(downloadFromEkw(dataItem.value, genItem.name))}>Pobierz z ekw</Button>\n          <Button href={createEkwUrl(dataItem.value)} target='_blank'>Przeglądaj EKW</Button>\n          <br />\n          <InputMask\n            mask='aa9a/99999999/9'\n            value={dataItem.value}\n            onChange={(e) => {\n              handleChangeValue(e.target.value, id, idx)\n            }}\n            invalid={typeof dataItem.isValid === 'undefined' ? false : !dataItem.isValid}\n            placeholder={dataItem.description}\n          >\n            {(inputProps) => <Input\n              {...inputProps}\n              type={dataItem.type}\n              style={{ textTransform: 'uppercase' }}\n              name={genItem.name + dataItem.type + idx}\n              id={dataItem.name + idx}\n                             />}\n          </InputMask>\n        </>\n      )\n      case 'list': return (\n        <>\n          <Form\n            onSubmit={(e) => {\n              e.preventDefault()\n              if (listInputData.hasOwnProperty(idx.toString()) && listInputData[idx.toString()] !== '') {\n                dispatch(updateList(listInputData[idx.toString()], id, idx, null, false))\n                let newValue = listInputData\n                newValue[idx.toString()] = ''\n                setListInputData(newValue)\n                e.target.reset()\n              }\n            }}\n          >\n            <FormGroup>\n              <Label>{dataItem.label}</Label>\n              <Input\n                onChange={(e) => {\n                  let newValue = listInputData\n                  newValue[idx.toString()] = e.target.value\n                  console.log(newValue)\n                  setListInputData(newValue)\n                }}\n                type='text'\n                required\n              />\n            </FormGroup>\n            <Button type='submit'>{dataItem.button}</Button>\n          </Form>\n          <ul class='list-group'>\n            {dataItem.value.map((e, listIdx) => (\n              <li\n                key={listIdx}\n                class='list-group-item d-flex justify-content-between align-items-center'\n                style={{ overflowWrap: 'anywhere' }}\n              >\n                {e}\n                <span\n                  onClick={() => { dispatch(updateList(listInputData[idx.toString()], id, idx, listIdx, true)) }}\n                >\n                  <i className='nc-icon nc-simple-remove' />\n                </span>\n              </li>\n            ))}\n          </ul>\n        </>\n      )\n      default: return (\n        <Input\n          type={dataItem.type}\n          name={genItem.name + dataItem.type + idx}\n          id={dataItem.name + idx}\n          placeholder={dataItem.description}\n          value={dataItem.value}\n          onChange={(e) => {\n            handleChangeValue(e.target.value, id, idx)\n          }}\n        />\n      )\n    }\n  }\n  return (\n    <>\n      <NotificationAlert ref={notifyRegister} />\n      {operatState.input && operatState.input.length > 0 &&\n        operatState.input.map((genItem, id) => {\n          return (\n            <div key={genItem.name + 'Area' + id}>\n              <Button\n                color='info'\n                id={genItem.name + 'Area' + id}\n                style={{ width: '16rem' }}\n              >\n                {genItem.text}\n              </Button> {genItem.data.some(x => x.hasOwnProperty('isValid') && !x.isValid) && <Exclamation fill='red' />}\n\n              <UncontrolledCollapse toggler={genItem.name + 'Area' + id}>\n                {genItem.data.map((dataItem, idx) => {\n                  return (\n                    <FormGroup row key={genItem.name + idx}>\n                      <Col md='3'>\n                        <p>{dataItem.description}</p>\n                      </Col>\n                      <Col sm={8}>\n                        {renderSwitch(dataItem, idx, id, genItem)}\n                        {dataItem.tooltip && dataItem.tooltip !== '' &&\n                          <UncontrolledTooltip\n                            placement='top'\n                            target={dataItem.name + idx}\n                          >\n                            {dataItem.tooltip}\n                          </UncontrolledTooltip>}\n                      </Col>\n                    </FormGroup>\n                  )\n                })}\n              </UncontrolledCollapse>\n            </div>\n          )\n        })}\n      <Button\n        color='secondary'\n        id='saveInputArea'\n        onClick={() => {\n          if (!validateAndShowErrors()) { return }\n          dispatch(saveInputArea(operatState.id))\n        }}\n        style={{ marginBottom: '1rem', width: '16rem' }}\n      >\n        zapisz dane opisowe\n      </Button>\n      <Button\n        color='secondary'\n        id='copyInputArea'\n        onClick={() => {\n          dispatch(showLoadingScreen(\n            modalTypeConstants.OPERATS_LIST_MODAL,\n            { operat: props.operat, dataType: 'params' }\n          ))\n        }}\n        style={{ marginBottom: '1rem' }}\n      >\n        kopiuj dane opisowe z innego operatu\n      </Button>\n    </>\n  )\n}\n\nexport default InputArea\n","import React, { useCallback } from 'react'\nimport { useDropzone } from 'react-dropzone'\nimport { v4 as uuidv4 } from 'uuid'\nimport { loadFileToGallery } from 'views/Operat/actions'\nimport { useDispatch, useSelector } from 'react-redux'\n\nfunction ImageDropzone (props) {\n  const baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '20px',\n    borderWidth: 2,\n    borderRadius: 20,\n    borderColor: '#c2b7b7',\n    borderStyle: 'dashed',\n    color: '#0e0c0c',\n    outline: 'none'\n  }\n\n  const style = {\n    ...baseStyle\n  }\n  const dispatch = useDispatch()\n  const operatState = useSelector(state => state.operat)\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      let fileNames = operatState.photo.data[props.id].data.filter(x => !x.file)\n      if (fileNames.length === 0) {\n        fileNames = operatState.photo.data[props.id].data.slice(0, acceptedFiles.length)\n      }\n      for (let i = 0; i < fileNames.length; i++) {\n        if (i + 1 > acceptedFiles.length) {\n          return\n        }\n        const fileName = fileNames[i].title\n        const blob = acceptedFiles[i].slice(0, acceptedFiles[i].size, 'image/png')\n        const newFile = new File([blob], fileName, { type: 'image/png' })\n        const fileData = {\n          id: uuidv4(),\n          title: fileName,\n          url: URL.createObjectURL(acceptedFiles[i]),\n          file: newFile\n        }\n        props.enableBtn()\n        dispatch(loadFileToGallery(props.id, fileData))\n      }\n    },\n    [dispatch, operatState.photo.data, props]\n  )\n\n  const { getRootProps, getInputProps } = useDropzone({\n    onDrop,\n    multiple: props.multiple ? props.multiple : false\n  })\n\n  return (\n    <section className='container'>\n      <div {...getRootProps({ className: 'dropzone', style })}>\n        <input {...getInputProps()} />\n        <p>Upuść lub kliknij aby wczytac plik zdjęcia.</p>\n      </div>\n      <aside />\n    </section>\n  )\n}\n\nexport default ImageDropzone\n","import React from \"react\";\nimport {\n  Carousel,\n  CarouselItem,\n  CarouselControl,\n  CarouselIndicators,\n} from \"reactstrap\";\n\nclass ImageCarousel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeIndex: 0,\n      animating: false\n    };\n  }\n  componentDidMount() {\n    this.setState({ activeIndex: this.props.currentIndex });\n  }\n\n  next = () => {\n    const { animating, activeIndex } = this.state;\n    const { images } = this.props;\n    if (animating) return;\n    const nextIndex = activeIndex === images.length - 1 ? 0 : activeIndex + 1;\n    this.setState({ activeIndex: nextIndex });\n  };\n\n  previous = () => {\n    const { animating, activeIndex } = this.state;\n    const { images } = this.props;\n    if (animating) return;\n    const nextIndex = activeIndex === 0 ? images.length - 1 : activeIndex - 1;\n    this.setState({ activeIndex: nextIndex });\n  };\n\n  goToIndex = newIndex => {\n    const { animating } = this.state;\n    if (animating) return;\n    this.setState({ activeIndex: newIndex });\n  };\n\n  setAnimating = value => {\n    this.setState({\n      animating: value\n    });\n  };\n\n  render() {\n    const { images } = this.props;\n    const { activeIndex } = this.state;\n    const slides = images.map(image => {\n      return (\n        <CarouselItem\n          onExiting={() => this.setAnimating(true)}\n          onExited={() => this.setAnimating(false)}\n          key={image.id}\n        >\n          <div className=\"d-flex justify-content-center\">\n            <img src={image.url} alt={image.title} className=\"img-fluid\" />\n          </div>\n        </CarouselItem>\n      );\n    });\n\n    return (\n      <Carousel\n        activeIndex={activeIndex}\n        next={this.next}\n        previous={this.previous}\n      >\n        <CarouselIndicators\n          items={images}\n          activeIndex={activeIndex}\n          onClickHandler={this.goToIndex}\n        />\n        {slides}\n        <CarouselControl\n          direction=\"prev\"\n          directionText=\"Previous\"\n          onClickHandler={this.previous}\n        />\n        <CarouselControl\n          direction=\"next\"\n          directionText=\"Next\"\n          onClickHandler={this.next}\n        />\n      </Carousel>\n    );\n  }\n}\n\nexport default ImageCarousel;\n","import React from \"react\";\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  Col,\n  Row,\n  Container,\n  Card,\n  CardImgOverlay,\n  CardImg,\n} from \"reactstrap\";\n\nimport ImageCarousel from \"./ImageCarousel\";\n\nclass ReactstrapImageGallery extends React.Component{\n  constructor(props){\n    super(props);\n    this.state={\n      isModalOpen:false, // state for the modal popup\n      images:[], // images array we receive from the parent\n      imagesToShow:0, // limit \n      currentIndex:0 // used for the carousel\n    }\n  }\n  static getDerivedStateFromProps(props,state){\n    const {images,limit} = props;\n    const imagesToShow = props.hasOwnProperty(\"limit\") ? limit : 6;\n    return {images,imagesToShow};\n  }\n\n// for toggling the modal state\n  toggleModal = () => {\n    this.setState({\n      isModalOpen:!this.state.isModalOpen\n    })\n  }\n\n// used to set the current index of the carousel\nshowModalImage = imageId => {\n  this.toggleModal();\n  this.setState({\n    currentIndex:imageId\n  })\n}\n\n\n  render(){\n    const {isModalOpen,images,imagesToShow,currentIndex} = this.state;\n    const tempImagesArray = images.slice(0,imagesToShow); //temporary array\n    const hasMore = images.length !== 0 ? images.length - imagesToShow : 0;\n    \n    return <Container>\n    <Row>\n    <Col md={{size:10,offset:1}} className=\"thumbnail-gallery\">\n   <h5 className=\"text-center my-3\">Galeria zdjęć </h5>\n<Row>\n    {tempImagesArray.map((image, index) => (\n            <Col\n              md=\"3\"\n              className=\"my-2\"\n              key={index}\n              onClick={() => this.showModalImage(index)}\n            >\n              <Card className=\"image-card\">\n                <CardImg src={image.url} />\n                <p>{image.title}</p>\n                {hasMore !== 0 && index === imagesToShow - 1 ? (\n                  <CardImgOverlay className=\"overlay\">\n                    <h2 className=\"mb-0\">{hasMore}</h2>\n                    <small> More </small>\n                  </CardImgOverlay>\n                ) : null}\n              </Card>\n            </Col>\n          ))}\n    </Row>\n    </Col>\n    </Row>\n\n      <Modal\n          className=\"modal-xl\"\n          isOpen={isModalOpen}\n          toggle={this.toggleModal}\n        >\n          <ModalHeader>Galeria zdjęć</ModalHeader>\n          <ModalBody>\n            <Row>\n              <Col md=\"12\">\n                <ImageCarousel images={images} currentIndex={currentIndex} />\n              </Col>\n            </Row>\n          </ModalBody>\n        </Modal>\n    \n\n    </Container>;\n  }\n}\n\nexport default ReactstrapImageGallery;","import React, { useCallback, useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { v4 as uuidv4 } from 'uuid'\nimport {\n  Button, Card,\n  CardBody, Col, Row, UncontrolledCollapse\n} from 'reactstrap'\nimport { modalTypeConstants } from '../../constants'\nimport { mapService, operatFilesService } from '../../services'\nimport ImageDropzone from '../Common/ImageDropzone'\nimport ReactstrapImageGallery from './ReactstrapImageGallery'\nimport { saveAs } from 'file-saver'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { getFormatedFiles, loadFileToGallery, loadOperatEmptyPhoto, removePhotoFiles, removePhotos } from './actions'\nfunction PhotoArea (props) {\n  const dispatch = useDispatch()\n  const operatState = useSelector(state => state.operat)\n  const operat = useSelector(state => state.operat)\n  const { t } = useTranslation('common')\n  const [disabledBtns, setDisableBtns] = useState([])\n  const mapPhotos = useCallback((photo) => {\n    const result = props.operatTypeParams.photo.map(x => ({ ...x }))\n    for (let i = 0; i < result.length; i++) {\n      result[i].data = result[i].data.map(x => {\n        const finded = photo.find(p => p.item1 === x.title)\n        if (!finded) {\n          return x\n        } else {\n          return { ...x, url: finded.item2 }\n        }\n      })\n    }\n    return { data: result }\n  }, [props.operatTypeParams])\n\n  useEffect(() => {\n    const photo = operatState.files.photo.map(x => ({ ...x }))\n    !!photo && photo.length > 0\n      ? dispatch(loadOperatEmptyPhoto(mapPhotos(photo)))\n      : dispatch(loadOperatEmptyPhoto(\n        { data: props.operatTypeParams.photo }\n      ))\n  }, [dispatch, operatState.files, props.operatTypeParams, mapPhotos])\n\n  const handleSendPhotos = (id) => {\n    setDisableBtns(prev => [...prev, id])\n    dispatch(showLoadingScreen(\n      modalTypeConstants.LOADING,\n      { message: 'sendPhotos', translate: true }\n    ))\n    operatFilesService.sendPICTUREFile(\n      operatState.photo.data[id].data,\n      operatState.id\n    ).then(() => {\n      dispatch(removePhotoFiles(id))\n      dispatch(hideLoadingScreen())\n      dispatch(getFormatedFiles())\n    })\n  }\n\n  const isSendPhotosButtonDisabled = (id) => {\n    return !operatState.photo.data[id].data.every((item) =>\n      item.hasOwnProperty('url') || item.hasOwnProperty('file')\n    ) ||\n      !operatState.photo.data[id].data.some(x => x.hasOwnProperty('file')) ||\n      disabledBtns.includes(id)\n  }\n\n  const handlePhotosDelete = async (id) => {\n    setDisableBtns(prev => [...prev, id])\n    dispatch(showLoadingScreen(\n      modalTypeConstants.LOADING,\n      { message: 'deleteFile', translate: true }\n    ))\n\n    operatState.photo.data[id].data.map(async x => await operatFilesService.removeSingleFile(operatState.id, x.title).catch(err => console.log(err)))\n    dispatch(removePhotos(id))\n    dispatch(hideLoadingScreen())\n  }\n  return (\n    <Card>\n      <CardBody>\n        <Button\n          color='secondary'\n          id='copyInputArea'\n          onClick={() => {\n            dispatch(showLoadingScreen(\n              modalTypeConstants.OPERATS_LIST_MODAL,\n              { operat: props.operat, history: props.history, dataType: 'photos' }\n            ))\n          }}\n          style={{ marginBottom: '1rem' }}\n        >\n          kopiuj zdjęcia z innego operatu\n        </Button>\n        {!!operatState.photo.data &&\n          operatState.photo.data.map((item, id) => {\n            return (\n              <div key={item.name + 'Area' + id}>\n                <Card style={{ boxShadow: '6px 6px 10px 2px rgb(0 0 0 / 15%)' }}>\n                  <CardBody>\n                    <Button\n                      color='info'\n                      id={item.name + 'Area' + id}\n                      style={{ marginBottom: '1rem', width: '14rem' }}\n                    >\n                      {t(item.text)}\n                    </Button>\n                    <Button\n                      color='success'\n                      id={item.name + 'send' + id}\n                      style={{ marginBottom: '1rem', width: '17rem' }}\n                      onClick={() => { handleSendPhotos(id) }}\n                      disabled={isSendPhotosButtonDisabled(id)}\n                    >\n                      {`wyślij ${item.text}`}\n                    </Button>\n                    <Button\n                      color='danger'\n                      id={item.name + 'send' + id}\n                      style={{ marginBottom: '1rem', width: '16rem' }}\n                      onClick={() => {\n                        handlePhotosDelete(id)\n                      }}\n                      disabled={\n                        !operatState.photo.data[id].data.every((item) =>\n                          item.hasOwnProperty('url')\n                        )\n                      }\n                    >\n                      {`usuń ${item.text}`}\n                    </Button>\n                    {item.name === 'zdjecia_okolica' && <Button\n                      style={{ marginBottom: '1rem', width: '14rem' }} onClick={() => {\n                        let address = props.order.location\n                        if (!address && address !== '') {\n                          try {\n                            address = operat.input.find(x => x.name === 'adres').data.find(x => x.name === 'full').value\n                          } catch (ex) {\n                            console.log(ex)\n                          }\n                        }\n                        mapService.get(address, 'GoogleRoadmap').then(\n                          (img) => {\n                            let fileNames = operatState.photo.data[id].data.filter(x => !x.file)\n                            if (fileNames.length === 0) {\n                              fileNames = operatState.photo.data[id].data.slice(0, 1)\n                            }\n                            const fileName = fileNames[0].title\n                            const blob = img.slice(0, img.size, 'image/png')\n                            const newFile = new File([blob], fileName, { type: 'image/png' })\n                            const fileData = {\n                              id: uuidv4(),\n                              title: fileName,\n                              url: URL.createObjectURL(img),\n                              file: newFile\n                            }\n                            dispatch(loadFileToGallery(id, fileData))\n                            saveAs(img, 'file.png')\n                          }\n                        )\n                      }}\n                                                        >{t('create.buttons.googleMaps')}\n                    </Button>}\n                    <UncontrolledCollapse toggler={item.name + 'Area' + id}>\n                      <br />\n                      <Row>\n                        <Col sm='12' md={{ size: 6, offset: 3 }}>\n                          <ImageDropzone id={id} multiple enableBtn={() => setDisableBtns(prev => prev.filter(x => x !== id))} fileNames={item.data.map(x => x.title)} />\n                        </Col>\n                      </Row>\n                      <br />\n                      <ReactstrapImageGallery images={item.data} limit={4} />\n                    </UncontrolledCollapse>\n                  </CardBody>\n                </Card>\n              </div>\n            )\n          })}\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default PhotoArea\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectOperat = (state) => state.operat || initialState\n\nconst makeSelectInput = () =>\n  createSelector(selectOperat, (state) => state.input)\n\nconst makeSelectId = () =>\n  createSelector(selectOperat, state => state.id)\n\nconst makeSelectInputFileUrl = () =>\n  createSelector(selectOperat, state => state.files.input.item2)\n\nconst makeSelectWeights = () =>\n  createSelector(selectOperat, state => state.weights)\n\nconst makeSelectActiveOperat = () =>\n  createSelector(selectOperat, state => state.operat)\n\nconst makeSelectProtocol = () =>\n  createSelector(selectOperat, state => state.protocol)\n\nconst makeSelectCsv = () =>\n  createSelector(selectOperat, state => state.csv)\nexport {\n  selectOperat,\n  makeSelectInput,\n  makeSelectId,\n  makeSelectInputFileUrl,\n  makeSelectWeights,\n  makeSelectActiveOperat,\n  makeSelectCsv,\n  makeSelectProtocol\n}\n","import { modalTypeConstants } from '../../constants'\n\nimport { all, call, put, select, takeLatest } from 'redux-saga/effects'\nimport { callForHeader } from 'utils/HeadersCall'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { filesLoaded, getFormatedFiles, removePhotoFiles, setAllValid } from './actions'\nimport { FILES_GET_BY_OPERAT, FILES_SEND_PHOTOS, GENERATE_OPERAT, GENERATE_PROTOCOL, SAVE_CSV_AREA, SAVE_INPUT_AREA, SAVE_PROTOCOL_AREA, SAVE_WEIGHTS_AREA } from './constants'\nimport { makeSelectCsv, makeSelectId, makeSelectInput, makeSelectProtocol, makeSelectWeights } from './selectors'\nimport { addNotification } from 'utils/addNotification'\nimport { makeSelectActiveOperat } from 'views/History/selectors'\nimport { operatFilesService } from 'services'\nimport { handleRequestWithTimeout } from 'views/Modal/timeout'\n\nexport function * saveWeightsArea (action) {\n  yield put(showLoadingScreen(\n    modalTypeConstants.LOADING,\n    { message: 'saveWeights', translate: true }\n  ))\n  const data = yield select(makeSelectWeights())\n  const sum = data.map(x => x.participation).reduce((partialSum, a) => partialSum + a, 0)\n  if (sum !== 100) {\n    yield put(hideLoadingScreen())\n    yield call(addNotification, '', 'Suma cech nieruchomości musi być równa 100%', 'danger')\n    return\n  }\n  const formData = new FormData()\n  const blb = new Blob([JSON.stringify({ weights: data })], { type: 'application/json' })\n  formData.append('file', blb, 'weights.json')\n  yield call(handleRequest, formData, action)\n}\n\nexport function * saveCsvArea () {\n  try {\n    yield put(showLoadingScreen(\n      modalTypeConstants.LOADING,\n      { message: 'saveCsv', translate: true }\n    ))\n    const operat = yield select(makeSelectActiveOperat())\n    const weights = yield select(makeSelectWeights())\n    const csv = yield select(makeSelectCsv())\n    yield call(operatFilesService.sendCSVFile, csv.map(e => ({ ...e })), operat.id, weights)\n    yield put(hideLoadingScreen())\n    yield put(getFormatedFiles())\n  } catch (err) {\n    console.log(err)\n    yield put(hideLoadingScreen())\n  }\n}\n\nfunction * handleRequest (formData, action) {\n  const requestOptions = {\n    method: 'POST',\n    headers: yield call(callForHeader),\n    body: formData\n  }\n  const requestUrl = `/OperatFiles/upload/${action.id}/convert`\n  try {\n    yield call(handleRequestWithTimeout, requestUrl, requestOptions)\n    yield put(hideLoadingScreen())\n    yield put(getFormatedFiles())\n  } catch (err) {\n    yield put(hideLoadingScreen())\n    console.log(err)\n  }\n}\n\nexport function * saveInputArea (action) {\n  yield put(setAllValid())\n  yield put(getFormatedFiles())\n\n  yield put(showLoadingScreen(\n    modalTypeConstants.LOADING,\n    { message: 'saveInputArea', translate: true }\n  ))\n  const data = yield select(makeSelectInput())\n  const formData = new FormData()\n  const blb = new Blob([JSON.stringify({ input: data })], { type: 'application/json' })\n  formData.append('file', blb, 'params.json')\n  yield call(handleRequest, formData, action)\n}\n\nexport function * saveProtocolArea (action) {\n  yield put(getFormatedFiles())\n  yield put(showLoadingScreen(\n    modalTypeConstants.LOADING,\n    { message: 'saveProtocolArea', translate: true }\n  ))\n  const data = yield select(makeSelectProtocol())\n  const formData = new FormData()\n  const blb = new Blob([JSON.stringify({ protocol: data })], { type: 'application/json' })\n  formData.append('file', blb, 'protocol.json')\n  yield call(handleRequest, formData, action)\n}\n\nexport function * generateOperat () {\n  const requestOptions = {\n    method: 'POST',\n    headers: yield call(callForHeader)\n  }\n  const operatId = yield select(makeSelectId())\n  const requestUrl = `/Operat/id/${operatId}/generate`\n  try {\n    yield put(showLoadingScreen(\n      modalTypeConstants.LOADING,\n      { message: 'generateOperat', translate: true }\n    ))\n    yield call(handleRequestWithTimeout, requestUrl, requestOptions)\n    yield put(hideLoadingScreen())\n    yield call(addNotification, '', 'Operat zostal wygenerowany', 'success')\n  } catch (err) {\n    if (Object.prototype.hasOwnProperty.call(err, 'response') && err.response.status === 402) {\n      yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'unactiveSubscription', translate: true }))\n    } else {\n      yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: err.message ? err.message : err }))\n    }\n  }\n}\n\nexport function * generateProtocol () {\n  const requestOptions = {\n    method: 'POST',\n    headers: yield call(callForHeader)\n  }\n  const operatId = yield select(makeSelectId())\n  const requestUrl = `/Operat/id/${operatId}/generate/protocol`\n  try {\n    yield put(showLoadingScreen(\n      modalTypeConstants.LOADING,\n      { message: 'generateProtocol', translate: true }\n    ))\n    yield call(handleRequestWithTimeout, requestUrl, requestOptions)\n    yield put(hideLoadingScreen())\n    yield call(addNotification, '', 'Protokół został wygenerowany', 'success')\n  } catch (err) {\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: err.message ? err.message : err }))\n  }\n}\n\nexport function * sendPhotos (action) {\n  const formData = new FormData()\n  action.photosToSend.forEach((element, idx) => {\n    formData.append(`file${idx}`, element.file, element.file.name)\n  })\n  const requestOptions = {\n    method: 'POST',\n    headers: yield call(callForHeader),\n    body: formData\n  }\n  const requestUrl = `/OperatFiles/upload2/${action.operatId}`\n\n  try {\n    yield call(handleRequestWithTimeout, requestUrl, requestOptions)\n    yield put(removePhotoFiles(action.photosGlobalStateId))\n    yield all(action.photosToRefresh.map(x => call(window.fetch, x, { method: 'GET', cache: 'no-cache' })))\n    yield put(hideLoadingScreen())\n    yield put(getFormatedFiles())\n  } catch (err) {\n    console.log(err)\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'sendPhotosFailed', translate: true }))\n  }\n}\n\nexport function * fetchFormatedFiles () {\n  yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'Trwa przeładowanie operatu' }))\n  const operat = yield select(makeSelectActiveOperat())\n  const requestOptions = {\n    method: 'GET',\n    headers: yield call(callForHeader)\n  }\n  const requestUrl = `/OperatFiles/id/${operat.id}/formated`\n\n  try {\n    const files = yield call(handleRequestWithTimeout, requestUrl, requestOptions)\n    yield put(filesLoaded(files, operat))\n    yield put(hideLoadingScreen())\n  } catch (err) {\n    console.log(err)\n    yield put(hideLoadingScreen())\n  }\n}\n\nexport default function * globalData () {\n  yield takeLatest(SAVE_INPUT_AREA, saveInputArea)\n  yield takeLatest(SAVE_PROTOCOL_AREA, saveProtocolArea)\n  yield takeLatest(GENERATE_PROTOCOL, generateProtocol)\n  yield takeLatest(GENERATE_OPERAT, generateOperat)\n  yield takeLatest(FILES_SEND_PHOTOS, sendPhotos)\n  yield takeLatest(SAVE_WEIGHTS_AREA, saveWeightsArea)\n  yield takeLatest(FILES_GET_BY_OPERAT, fetchFormatedFiles)\n  yield takeLatest(SAVE_CSV_AREA, saveCsvArea)\n}\n","import React, { useEffect, useState } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport cellEditFactory from 'react-bootstrap-table2-editor'\nimport ToolkitProvider from 'react-bootstrap-table2-toolkit'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Button, Card, CardBody, Col, FormGroup, Input, Row } from 'reactstrap'\nimport { showLoadingScreen } from 'views/Modal/actions'\nimport { modalTypeConstants } from '../../constants'\nimport { loadOperatWeights, loadOperatInitialWeights, saveWeightsArea, updateWeights, addNewWeight, updateRatings, addNewRate, removeWeights, removeRatings } from './actions'\nimport { fixPercentValue } from 'utils/fixPercentValue'\n\nfunction EditComponent (props) {\n  const [value, setValue] = useState(props.value)\n  return ([\n    <Input\n      value={value}\n      type={props.type}\n      min={props.min}\n      max={props.max}\n      onChange={(e) => {\n        props.type === 'number' ? setValue(fixPercentValue(e.target.value)) : setValue(e.target.value)\n      }}\n      onBlur={() => { props.type === 'number' ? props.onUpdate(parseInt(value)) : props.onUpdate(value) }}\n    />\n  ])\n}\nfunction CsvComponent ({ operatTypeParams, operat }) {\n  const [selectedWeight, selectWeight] = useState(null)\n  const [selectedWeightIndex, setRowIndex] = useState(0)\n  const dispatch = useDispatch()\n  const operatState = useSelector(state => state.operat)\n  const innerCols = [\n    {\n      dataField: 'id',\n      hidden: true\n    },\n    {\n      dataField: 'rate',\n      text: 'Wartość',\n      align: 'center',\n      headerAlign: 'center',\n      sort: true\n    },\n    {\n      dataField: 'rateText',\n      text: 'Ocena',\n      align: 'center',\n      headerAlign: 'center',\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\n        <EditComponent {...editorProps} value={value} type='text' onUpdate={e => dispatch(updateRatings(selectedWeightIndex, row.rate, 'rateText', e))} />\n      ),\n      sort: true\n    },\n    {\n      dataField: 'description',\n      text: 'Opis',\n      align: 'center',\n      headerAlign: 'center',\n      sort: true,\n      editable: true,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\n        <EditComponent {...editorProps} value={value} type='text' onUpdate={e => dispatch(updateRatings(selectedWeightIndex, row.rate, 'description', e))} />\n      )\n    },\n    {\n      editable: false,\n      text: 'wybór',\n      align: 'center',\n      headerAlign: 'center',\n      sort: true,\n      formatter: (cellContent, row) => (<Button\n        color='info' onClick={e => {\n          dispatch(updateWeights(selectedWeight.name, 'rate', row.rate))\n        }}\n                                        >Wybierz\n      </Button>)\n    }\n  ]\n  const [selectedRows, setSelectedRows] = useState([])\n  const [selectedInnerRows, setSelectedInnerRows] = useState([])\n  const selectRow = (onSelect, onSelectAll) => {\n    const select = {\n      mode: 'checkbox',\n      clickToEdit: false,\n      clickToSelect: false,\n      clickToExpand: true,\n      onSelect,\n      onSelectAll\n    }\n    return select\n  }\n  const cols = [\n    {\n      dataField: 'name',\n      text: 'Nazwa',\n      hidden: false\n    },\n    {\n      dataField: 'description',\n      text: 'Opis',\n      editable: true,\n      align: 'center',\n      headerAlign: 'center',\n      sort: true,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\n        <EditComponent {...editorProps} value={value} type='text' onUpdate={e => dispatch(updateWeights(row.name, 'description', e))} />\n      )\n    },\n    {\n      dataField: 'justification',\n      hidden: true\n    },\n    {\n      dataField: 'participation',\n      text: 'Udział cechy (w %)',\n      editable: true,\n      align: 'center',\n      headerAlign: 'center',\n      sort: true,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\n        <EditComponent {...editorProps} value={value} type='number' min={1} max={100} onUpdate={e => dispatch(updateWeights(row.name, 'participation', e))} />\n      )\n    },\n    {\n      dateField: 'rate',\n      text: 'Ocena',\n      editable: false,\n      align: 'center',\n      headerAlign: 'center',\n      formatter: (cellContent, row) => {\n        if (row.ratings.length === 0) {\n          return ''\n        }\n        const rate = row.ratings.find(x => x.rate === row.rate)\n        if (rate) {\n          return rate.rateText\n        } else {\n          return ''\n        }\n      }\n    }\n  ]\n\n  useEffect(() => {\n    const load = () => {\n      dispatch(showLoadingScreen(\n        modalTypeConstants.LOADING,\n        {}\n      ))\n      loadOperatWeights(dispatch, dataJson.item2)\n    }\n\n    const dataJson = operatState.files.weights\n    !!dataJson && (Object.keys(dataJson).length > 0 ? load() : dispatch(loadOperatInitialWeights(operatTypeParams.weights)))\n    // eslint-disable-next-line\n  }, [operatState.files.weights])\n\n  const cellEdit = cellEditFactory({\n    mode: 'click',\n    blurToSave: true\n  })\n\n  const handleTableChange = (type, { data, cellEdit: { rowId, dataField, newValue } }) => {\n    dispatch(updateWeights(rowId, dataField, newValue))\n  }\n  const expandRow = {\n    renderer: row => (\n      <>\n        <Button color='success' onClick={() => dispatch(addNewRate(selectedWeightIndex))}>Dodaj nową ocenę</Button>\n        <Button\n          color='info'\n          onClick={() => {\n            dispatch(removeRatings(selectedInnerRows, selectedWeightIndex))\n            setSelectedInnerRows([])\n          }}\n        >\n          Usuń ocenę\n        </Button>\n        <FormGroup>\n          <BootstrapTable\n            keyField='id'\n            remote={{ cellEdit: true }}\n            data={row.ratings}\n            columns={innerCols}\n            selectRow={selectRow((row, isSelect, rowIndex, e) => {\n              isSelect && setSelectedInnerRows((allRows) => [...allRows, row.id])\n              !isSelect &&\n                setSelectedInnerRows(selectedInnerRows.filter((item) => item !== row.id))\n            }, (isSelect, rows) => {\n              !isSelect && setSelectedInnerRows([])\n              isSelect &&\n                setSelectedInnerRows(\n                  rows.map((row) => {\n                    return row.name\n                  })\n                )\n            }\n            )}\n            tabIndexCell\n            bootstrap4\n            striped\n            hover\n            condensed\n            bordered={false}\n            cellEdit={cellEdit}\n            onTableChange={handleTableChange}\n          />\n        </FormGroup>\n        Uzasadnienie wyboru oceny\n        <Input\n          type='textarea'\n          value={row.justification}\n          onChange={(e) => dispatch(updateWeights(row.name, 'justification', e.target.value))}\n        />\n      </>\n    ),\n    onlyOneExpanding: true,\n    onExpand: (row, isExpand, rowIndex, e) => { selectWeight(row); setRowIndex(rowIndex) }\n  }\n  return (\n    <>\n      <Card>\n        <CardBody>\n          <br />\n          <br />\n          <br />\n          <br />\n          <div className='container'>\n            <Row>\n              <Col md='12'>\n                <Card>\n                  {operatState.weights && <ToolkitProvider\n                    keyField='name'\n                    data={operatState.weights}\n                    columns={cols}\n                    exportCSV={{ onlyExportSelection: true, exportAll: true }}\n                                          >\n                    {(props) => (\n                      <div>\n                        <Button\n                          color='success'\n                          onClick={() => {\n                            dispatch(saveWeightsArea(operatState.id))\n                          }}\n                        >\n                          Wyślij dane\n                        </Button>\n                        <Button\n                          color='info'\n                          onClick={() => {\n                            dispatch(removeWeights(selectedRows))\n                            setSelectedRows([])\n                          }}\n                        >\n                          Usuń cechę nieruchomości\n                        </Button>\n                        <Button\n                          color='info'\n                          id='copyWeights'\n                          onClick={() => {\n                            dispatch(showLoadingScreen(\n                              modalTypeConstants.OPERATS_LIST_MODAL,\n                              { operat, dataType: 'weights' }\n                            ))\n                          }}\n                        >\n                          kopiuj cechy nieruchomości z innego operatu\n                        </Button>\n                        <Button\n                          color='info'\n                          onClick={() => {\n                            dispatch(addNewWeight())\n                          }}\n                        >\n                          Dodaj nową cechę nieruchomości\n                        </Button>\n                        <hr />\n                        <BootstrapTable\n                          {...props.baseProps}\n                          remote={{ cellEdit: true }}\n                          tabIndexCell\n                          bootstrap4\n                          striped\n                          hover\n                          selectRow={selectRow((row, isSelect, rowIndex, e) => {\n                            isSelect && setSelectedRows((allRows) => [...allRows, row.name])\n                            !isSelect &&\n                              setSelectedRows(selectedRows.filter((item) => item !== row.name))\n                          }, (isSelect, rows) => {\n                            !isSelect && setSelectedRows([])\n                            isSelect &&\n                              setSelectedRows(\n                                rows.map((row) => {\n                                  return row.name\n                                })\n                              )\n                          }\n                          )}\n                          condensed\n                          bordered={false}\n                          cellEdit={cellEdit}\n                          expandRow={expandRow}\n                          onTableChange={handleTableChange}\n                        />\n                      </div>\n                    )}\n                  </ToolkitProvider>}\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </CardBody>\n      </Card>\n    </>\n  )\n}\n\nexport default CsvComponent\n","export const fixPercentValue = (value) => {\n  if (value < 0) { return 0 } else if (value > 100) { return 100 } else { return value }\n}\n","import React, { useRef, useEffect, useState } from 'react'\nimport NotificationAlert from 'react-notification-alert'\nimport {\n    UncontrolledTooltip,\n    Col,\n    FormGroup,\n    Input,\n    Button,\n    UncontrolledCollapse,\n    Label,\n    Form\n} from 'reactstrap'\nimport { modalTypeConstants } from '../../constants'\nimport { formatDate } from 'utils/DateFormat'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen } from 'views/Modal/actions'\nimport { generateProtocol, loadOperatEmptyInput, loadOperatEmptyProtocol, loadOperatProtocol, saveProtocolArea, updateProtocol, updateProtocolList} from './actions'\nimport { useMsal } from '@azure/msal-react'\nimport { ReactComponent as Exclamation } from 'assets/img/exclamation.svg'\n\nfunction ProtocolArea(props) {\n    const { accounts } = useMsal()\n    const operatState = useSelector(state => state.operat)\n    const [listInputData, setListInputData] = useState({})\n    const startTimeRef = useRef()\n    const endTimeRef = useRef()\n\n    const dispatch = useDispatch()\n    useEffect(() => {\n        const load = () => {\n            dispatch(showLoadingScreen(\n                modalTypeConstants.LOADING,\n                {}\n            ))\n            loadOperatProtocol(dispatch, dataJson.item2, false)\n        }\n\n        const dataJson = operatState.files.protocol\n        !!dataJson && (Object.keys(dataJson).length > 0 ? load() : dispatch(loadOperatEmptyProtocol(props.operatTypeParams.protocol)))\n        if (Object.keys(dataJson).length === 0) {\n            applyMacros()\n            loadInitialDataFromOrder()\n        }\n        // eslint-disable-next-line\n    }, [operatState.operatTypeId, operatState.files, props.operatTypeParams, dispatch])\n\n    const loadInitialDataFromOrder = () => {\n        const temp = JSON.parse(JSON.stringify(props.operatTypeParams.input))\n        if (props.order && props.order.ekw && props.order.ekw !== '') {\n            try {\n                const kwIndex = temp.findIndex(x => x.name === 'kw')\n                const kwNrIndex = temp[kwIndex].findIndex(x => x.name === 'nr')\n                temp[kwIndex].data[kwNrIndex].value = props.order.ekw\n                dispatch(loadOperatEmptyInput(temp))\n            } catch (err) {}\n        }\n    }\n\n    const applyMacros = () => {\n        const temp = JSON.parse(JSON.stringify(props.operatTypeParams.input))\n        for (let i = 0; i < temp.length; i++) {\n            for (let j = 0; j < temp[i].data.length; j++) {\n                if (temp[i].data[j].default === 'now()' && temp[i].data[j].type === 'date') { temp[i].data[j].value = formatDate(new Date()) }\n                if (temp[i].data[j].value === 'author()') { temp[i].data[j].value = [accounts[0].idTokenClaims.given_name, accounts[0].idTokenClaims.family_name].filter(x => x).join(' ') }\n            }\n        }\n        dispatch(loadOperatEmptyInput(temp))\n    }\n    const handleChangeValue = (value, id, idx) => {\n        dispatch(updateProtocol(value, id, idx))\n    }\n\n    const notifyRegister = useRef(null)\n\n    function createInput(dataItem, idx, id, genItem, ref = null) {\n        let props = {\n            type:dataItem.type,\n            name:genItem.name + dataItem.type + idx,\n            id: dataItem.name + idx,\n            placeholder:dataItem.description,\n            value:dataItem.value,\n            onChange:(e) => {\n                handleChangeValue(e.target.value, id, idx)\n            },\n        }\n\n        if(ref) {\n            props = {\n                ...props,\n                ref: ref\n            }\n        }\n        return (\n            <Input\n                {...props}\n            />\n        ) \n    }\n    const renderSwitch = (dataItem, idx, id, genItem) => {\n        console.log(dataItem)\n        if(dataItem.type === 'list')\n            return (\n                <>\n                    <Form\n                        onSubmit={(e) => {\n                            e.preventDefault()\n                            if (listInputData.hasOwnProperty(idx.toString()) && listInputData[idx.toString()] !== '') {\n                                dispatch(updateProtocolList(listInputData[idx.toString()], id, idx, null, false))\n                                let newValue = listInputData\n                                newValue[idx.toString()] = ''\n                                setListInputData(newValue)\n                                e.target.reset()\n                            }\n                        }}\n                    >\n                        <FormGroup>\n                            <Label>{dataItem.label}</Label>\n                            <Input\n                                onChange={(e) => {\n                                    let newValue = listInputData\n                                    newValue[idx.toString()] = e.target.value\n                                    setListInputData(newValue)\n                                }}\n                                type='text'\n                                required\n                            />\n                        </FormGroup>\n                        <Button type='submit'>{dataItem.button}</Button>\n                    </Form>\n                    <ul class='list-group'>\n                        {dataItem.value.map((e, listIdx) => (\n                            <li\n                                key={listIdx}\n                                class='list-group-item d-flex justify-content-between align-items-center'\n                                style={{ overflowWrap: 'anywhere' }}\n                            >\n                                {e}\n                                <span\n                                    onClick={() => { dispatch(updateProtocolList(listInputData[idx.toString()], id, idx, listIdx, true)) }}\n                                >\n                                    <i className='nc-icon nc-simple-remove' />\n                                </span>\n                            </li>\n                        ))}\n                    </ul>\n                </>\n            )\n        else if (dataItem.name === 'start_time') \n            return createInput(dataItem, idx, id, genItem, startTimeRef)\n        else if (dataItem.name === 'end_time')\n            return createInput(dataItem, idx, id, genItem, endTimeRef)\n\n        return createInput(dataItem, idx, id, genItem)\n    }\n\n    return (\n        <>\n            <NotificationAlert ref={notifyRegister} />\n            {operatState.protocol && operatState.protocol.length > 0 &&\n                operatState.protocol.map((genItem, id) => {\n                    return (\n                        <div key={genItem.name + 'Area' + id}>\n                            <Button\n                                color='info'\n                                id={genItem.name + 'Area' + id}\n                                style={{ width: '16rem' }}\n                            >\n                                {genItem.text}\n                            </Button> {genItem.data.some(x => x.hasOwnProperty('isValid') && !x.isValid) && <Exclamation fill='red' />}\n\n                            <UncontrolledCollapse toggler={genItem.name + 'Area' + id}>\n                                {genItem.data.map((dataItem, idx) => {\n                                    return (\n                                        <FormGroup row key={genItem.name + idx}>\n                                            <Col md='3'>\n                                                <p>{dataItem.description}</p>\n                                            </Col>\n                                            <Col sm={8}>\n                                                {renderSwitch(dataItem, idx, id, genItem)}\n                                                {dataItem.tooltip && dataItem.tooltip !== '' &&\n                                                    <UncontrolledTooltip\n                                                        placement='top'\n                                                        target={dataItem.name + idx}\n                                                    >\n                                                        {dataItem.tooltip}\n                                                    </UncontrolledTooltip>}\n                                            </Col>\n                                        </FormGroup>\n                                    )\n                                })}\n                            </UncontrolledCollapse>\n                        </div>\n                    )\n                })}\n            <Button\n                color='secondary'\n                id='saveProtocolArea'\n                onClick={() => {\n                    if (startTimeRef.current.props.value && endTimeRef.current.props.value) {\n                        const [startHour, startMinutes] = startTimeRef.current.props.value.split(':')\n                        const [endHour, endMinutes] = endTimeRef.current.props.value.split(':')\n                        \n                        if (parseInt(startHour) > parseInt(endHour) || ( \n                            parseInt(startHour) === parseInt(endHour) && \n                            parseInt(startMinutes) >= parseInt(endMinutes))\n                        ) {\n                            dispatch(showLoadingScreen(modalTypeConstants.CONFIRM_ERROR, { message: 'Godzina rozpoczęcia czynności rzeczoznawcy nie może być taka sama lub późniejsza niż godzina zakończenia.'}))\n                            return\n                        }\n                    }\n                    dispatch(saveProtocolArea(operatState.id))\n                }}\n                style={{ marginBottom: '1rem', width: '16rem' }}\n            >\n                zapisz dane protokołu\n            </Button>\n            <Button\n                color='secondary'\n                id='generateProtocol'\n                style={{ marginBottom: '1rem', width: '16rem' }}\n                onClick={() => {\n                    dispatch(generateProtocol())\n                }}>\n                Generuj\n            </Button>\n        </>\n    )\n}\n\nexport default ProtocolArea\n","import React, { useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport {\n  Button, Card,\n  CardBody, Collapse, UncontrolledTooltip\n} from 'reactstrap'\nimport { hideLoadingScreen } from 'views/Modal/actions'\nimport { userRolesConstants } from '../../constants'\nimport { operatService, operatTypeService, orderService } from '../../services'\nimport { clearOperatState, generateOperat, getFormatedFiles, loadOperatType, setOperat } from './actions'\nimport CsvComponent from './CsvComponent'\nimport { InfoForAdmin } from './InfoForAdmin'\nimport InputArea from './InputArea'\nimport PhotoArea from './PhotoArea'\nimport saga from './saga'\nimport reducer from './reducer'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport Weights from './Weights'\nimport Protocol from './Protocol'\nfunction Create(props) {\n  useInjectReducer({ key: 'operat', reducer })\n  useInjectSaga({ key: 'operat', saga })\n\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.global.user)\n  const operatState = useSelector(state => state.operat)\n  const [order, setOrder] = useState({})\n  const [operatTypeParams, setOperatTypeParams] = useState([])\n  const { t } = useTranslation('common')\n\n  const location = useLocation()\n  useEffect(() => {\n    const params = new URLSearchParams(location.search)\n    operatService.get(params.get('id')).then(operatRes => {\n      orderService.getSingleOrder(operatRes.orderId).then(orderRes => setOrder(orderRes))\n      dispatch(setOperat(operatRes))\n      operatTypeService.getTypeParams(operatRes.operatTypeId)\n        .then((res) => {\n          setOperatTypeParams(res)\n          if (Array.isArray(res)) {\n            res = { input: [], photo: [] }\n            dispatch(loadOperatType(res))\n          }\n          dispatch(hideLoadingScreen())\n          dispatch(getFormatedFiles())\n        })\n    })\n    return function cleanup() {\n      dispatch(clearOperatState())\n    }\n  }, [dispatch, location.search])\n\n  const [inputArea, setInputArea] = useState(false)\n  const [csvArea, setCsvArea] = useState(false)\n  const [photoArea, setPhotoArea] = useState(false)\n  const [protocolArea, setProtocolArea] = useState(false)\n  const [weightsArea, setWeightsArea] = useState(false)\n  const isAdmin = user.userType === userRolesConstants.ADMIN\n\n  const isAllFilled = operatState.files.csv ? operatState.files.input.item1 && operatState.files.weights.item1 && operatState.files.csv.item1 && (operatState.files.photo.length === 10 || (operatState.photo.data && operatState.photo.data.every(x => x.data.every(t => t.hasOwnProperty('url') && !t.hasOwnProperty('file'))))) : false\n\n  function createGenerateOperatInfo() {\n    let result = ''\n    if (!operatState.files.csv) {\n      return ''\n    }\n    if (!operatState.files.input.item1) {\n      result += 'Brak danych opisowych<br /> \\n'\n    }\n    if (!operatState.files.csv.item1) {\n      result += 'Brak cen transakcyjnych<br /> \\n'\n    }\n    if (!operatState.photo.data || (operatState.files.photo.length !== 10 || (!operatState.photo.data && !operatState.photo.data.every(x => x.data.every(t => t.hasOwnProperty('url') && !t.hasOwnProperty('file')))))) {\n      result += 'Brak zdjęć<br /> \\n'\n    }\n    if (!operatState.files.weights.item1) {\n      result += 'Brak cech nieruchomości<br /> \\n'\n    }\n    return result\n  }\n  return (\n    <div className='content'>\n      {isAdmin && <><InfoForAdmin /><br /></>}\n\n      <Button\n        style={{ width: '16rem' }}\n        color='success'\n        onClick={() => dispatch(generateOperat())}\n        disabled={!isAllFilled}\n      >\n        {t('create.buttons.generate')}\n      </Button>\n      {\n        !isAllFilled && <>      <i style={{ padding: '14px' }} className='fa fa-solid fa-question' id='cannot-generate-info' />\n          <UncontrolledTooltip\n            placement='top'\n            target='cannot-generate-info'\n          >\n            <div dangerouslySetInnerHTML={{ __html: createGenerateOperatInfo() }} />\n          </UncontrolledTooltip>\n        </>\n      }\n\n      <br />\n      <div>\n        <Button\n          color='info'\n          onClick={() => setInputArea(!inputArea)}\n          disabled={!operatTypeParams.input}\n          style={{ marginBottom: '1rem', width: '16rem' }}\n        >\n          {t('create.buttons.description')}\n        </Button>\n        <Collapse isOpen={inputArea}>\n          <Card>\n            <CardBody>\n              {inputArea && <InputArea operatTypeParams={operatTypeParams} operat={operatState.operat} order={order} />}\n            </CardBody>\n          </Card>\n        </Collapse>\n      </div>\n      <div>\n        <Button\n          disabled={operatTypeParams.length === 0}\n          color='info'\n          onClick={() => setCsvArea(!csvArea)}\n          style={{ marginBottom: '1rem', width: '16rem' }}\n        >\n          {t('create.buttons.csvFiles')}\n        </Button>\n        <Collapse isOpen={csvArea}>{csvArea && <CsvComponent operatTypeParams={operatTypeParams} operat={operatState.operat} />}</Collapse>\n      </div>\n      <div>\n        <Button\n          disabled={operatTypeParams.length === 0}\n          color='info'\n          onClick={() => setWeightsArea(prev => !prev)}\n          style={{ marginBottom: '1rem', width: '16rem' }}\n        >\n          {t('create.buttons.weights')}\n        </Button>\n        <Collapse isOpen={weightsArea}>\n          {weightsArea && <Weights operatTypeParams={operatTypeParams} operat={operatState.operat} order={order} />}\n        </Collapse>\n      </div>\n      <div>\n        <Button\n          disabled={operatTypeParams.length === 0}\n          color='info'\n          onClick={() => setPhotoArea(!photoArea)}\n          style={{ marginBottom: '1rem', width: '16rem' }}\n        >\n          {t('create.buttons.photos')}\n        </Button>\n        <Collapse isOpen={photoArea}>\n          {photoArea && <PhotoArea operatTypeParams={operatTypeParams} operat={operatState.operat} order={order} />}\n        </Collapse>\n      </div>\n      <div>\n        <Button\n          disabled={operatTypeParams.length === 0}\n          color='info'\n          onClick={() => setProtocolArea(!protocolArea)}\n          style={{ marginBottom: '1rem', width: '16rem' }}\n        >\n          {t('create.buttons.protocol')}\n        </Button>\n        <Collapse isOpen={protocolArea}>\n          {protocolArea &&\n            <Card>\n              <CardBody>\n                <Protocol operatTypeParams={operatTypeParams} operat={operatState.operat} order={order} />\n              </CardBody>\n            </Card>}\n        </Collapse>\n      </div>\n    </div>\n  )\n}\n\nexport default Create\n","import React, { useCallback, useState } from 'react'\nimport { useDropzone } from 'react-dropzone'\nimport { useMsal } from '@azure/msal-react'\nimport { v4 as uuidv4 } from 'uuid'\nimport { Table, Button } from 'reactstrap'\nimport { operatorFilesService } from '../../services'\nimport { modalTypeConstants } from '../../constants'\nimport confirm from 'reactstrap-confirm'\nimport { useDispatch } from 'react-redux'\nimport { hideLoadingScreen, showLoadingScreen } from 'views/Modal/actions'\n\nfunction UserImageDropzone (props) {\n  const baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '20px',\n    borderWidth: 2,\n    borderRadius: 20,\n    borderColor: '#c2b7b7',\n    borderStyle: 'dashed',\n    color: '#0e0c0c',\n    outline: 'none'\n  }\n\n  const style = {\n    ...baseStyle\n  }\n\n  const dispatch = useDispatch()\n  const [uploadedFile, setUploadedFile] = useState([])\n  const { accounts } = useMsal()\n\n  const toBigWarning = async () => {\n    await confirm({\n      title: <>Ostrzeżenie</>,\n      message: 'Twój plik jest za duży.',\n      cancelText: 'OK'\n    })\n  }\n\n  const status = { toSend: 'do wysłania', sended: 'wysłany' }\n\n  const onDrop = useCallback((acceptedFiles) => {\n    if (acceptedFiles.length > 0) {\n      setUploadedFile((prevState) => prevState.length < props.maxLength\n        ? [\n            ...prevState,\n            { id: uuidv4(), file: acceptedFiles[0], condition: status.toSend }\n          ]\n        : [...prevState])\n    } else {\n      toBigWarning()\n    }\n  }, [status.toSend, props.maxLength])\n\n  const { getRootProps, getInputProps } = useDropzone({\n    onDrop,\n    multiple: false,\n    accept: props.acceptedExt,\n    minSize: 0,\n    maxSize: 5120000\n  })\n\n  const send = (exactFile) => {\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'loadingData', translate: true }))\n    switch (props.fileType) {\n      case 'stamp': sendFile(exactFile, 'stamp.png'); break\n      case 'pdf': sendFile(exactFile); break\n      case 'diploma': sendFile(exactFile, 'diploma.pdf'); break\n      case 'oc': sendFile(exactFile, 'oc.pdf'); break\n      default:\n    }\n  }\n\n  const handleResponse = (resp, exactFile) => {\n    if (resp[0] !== 'Too many files to send') {\n      setUploadedFile(uploadedFile.map(item => {\n        if (item.id === exactFile.id) {\n          item.condition = status.sended\n        }\n        return item\n      }))\n      dispatch(hideLoadingScreen())\n    } else {\n      dispatch(showLoadingScreen(modalTypeConstants.TOO_MUCH_OPERATOR_FILES, {}))\n    }\n  }\n\n  const sendFile = (exactFile, filename) => {\n    operatorFilesService.sendOperatorFile(\n      accounts[0].idTokenClaims.oid,\n      exactFile,\n      filename\n    ).then((resp) => handleResponse(resp, exactFile))\n  }\n\n  const generateRows = () => {\n    return uploadedFile.map((item, idx) => (\n      <tbody key={idx}>\n        <tr>\n          <th scope='row'>{idx + 1}</th>\n          <td>{item.file.name}</td>\n          <td>{item.condition}</td>\n          <td>\n            <Button\n              color='primary'\n              onClick={() => {\n                send(item)\n              }}\n              disabled={item.condition === status.sended}\n            >\n              Wyślij\n            </Button>\n            {'    '}\n            <Button\n              color='warning'\n              onClick={() => {\n                setUploadedFile(\n                  uploadedFile.filter((obj) => obj.id !== item.id)\n                )\n              }}\n            >\n              Usuń\n            </Button>\n          </td>\n        </tr>\n      </tbody>\n    ))\n  }\n\n  const files = () => (\n    <Table>\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>nazwa pliku</th>\n          <th>Status</th>\n          <th>Akcja</th>\n        </tr>\n      </thead>\n      {generateRows()}\n    </Table>\n  )\n\n  return (\n    <div>\n      <section className='container'>\n        <div {...getRootProps({ className: 'dropzone', style })}>\n          <input {...getInputProps()} />\n          <p>Upuść lub kliknij aby wczytac pliki.</p>\n          <p>Akceptowane formaty pliku to: <b>{props.acceptedExt.replaceAll('.', '').toLowerCase()}</b>.</p>\n          <p>Maksymalna wielkość pliku to 5 MB.</p>\n        </div>\n        <aside />\n      </section>\n      {uploadedFile.length > 0 && files()}\n    </div>\n  )\n}\n\nexport default UserImageDropzone\n","import React, { useEffect, useState } from 'react'\nimport { useMsal } from '@azure/msal-react'\nimport { Table, Button } from 'reactstrap'\nimport { operatorFilesService } from '../../services'\nimport { modalTypeConstants } from '../../constants'\nimport confirm from 'reactstrap-confirm'\nimport { useDispatch } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\n\nfunction UserUploadedFiles (props) {\n  const { accounts } = useMsal()\n  const [operatorFiles, setOperatorFile] = useState([])\n  const dispatch = useDispatch()\n\n  const generateRows = () => {\n    return operatorFiles.map((item, idx) => (\n      <tbody key={idx}>\n        <tr>\n          <th scope='row'>{idx + 1}</th>\n          <td>{item.item1}</td>\n          <td>\n            <Button\n              color='primary'\n              onClick={() => {\n                operatorFilesService\n                  .getFileBlob(item.item2, item.item1)\n              }}\n            >\n              pobierz\n            </Button>\n            {'    '}\n            <Button\n              color='warning'\n              onClick={() => {\n                deleteFile(item)\n              }}\n            >\n              Usuń\n            </Button>\n          </td>\n        </tr>\n      </tbody>\n    ))\n  }\n\n  const deleteFile = async (item) => {\n    const result = await confirm({\n      title: <>Ostrzeżenie</>,\n      message: `Czy na pewno chcesz usunąć plik ${item.item1}`,\n      confirmText: 'Usuń',\n      confirmColor: 'danger',\n      cancelColor: 'link text-primary'\n    })\n    if (result) {\n      dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'deleteFile', translate: true }))\n      operatorFilesService\n        .removeOperatorFileByName(\n          accounts[0].idTokenClaims.oid,\n          item.item1\n        )\n        .then(() => {\n          setOperatorFile(\n            operatorFiles.filter((obj) => obj.item1 !== item.item1)\n          )\n          dispatch(hideLoadingScreen())\n        })\n    }\n  }\n\n  const files = () => (\n    <Table>\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>nazwa pliku</th>\n          <th>Akcja</th>\n        </tr>\n      </thead>\n      {generateRows()}\n    </Table>\n  )\n\n  useEffect(() => {\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'loadingData', translate: true }))\n    operatorFilesService\n      .getOperatorFiles(accounts[0].idTokenClaims.oid)\n      .then((result) => {\n        setOperatorFile(result)\n        dispatch(hideLoadingScreen())\n      })\n  }, [accounts, dispatch])\n\n  return <>{operatorFiles.length > 0 && files()}</>\n}\n\nexport default UserUploadedFiles\n","import React, { useState } from 'react'\nimport {\n  Card,\n  CardBody,\n  Row,\n  Col, Button, Collapse\n} from 'reactstrap'\n\nimport UserImageDropzone from './UserImageDropzone'\nimport UserUploadedFiles from './UserUploadedFiles'\n\nfunction UserProfileTab (props) {\n  const [sendNew, setSendNew] = useState(false)\n  const [showSendStamp, setShowSendStamp] = useState(false)\n  const [showSendDiploma, setShowSendDiploma] = useState(false)\n  const [showSendOc, setShowSendOc] = useState(false)\n  const [showFiles, setShowFiles] = useState(false)\n\n  return (\n    <>\n      <Row>\n        <Col md='8'>\n          <Card>\n            <CardBody>\n              <Button color='primary' onClick={() => setSendNew(!sendNew)}>\n                Wyślij Pliki\n              </Button>\n              <Collapse isOpen={sendNew}>\n                <Card>\n                  <CardBody>\n                    <UserImageDropzone acceptedExt='.pdf, .pem' fileType='pdf' maxLength={100} />\n                  </CardBody>\n                </Card>\n              </Collapse>\n              <Button color='primary' onClick={() => setShowSendStamp(!showSendStamp)}>\n                Wyślij pieczątke\n              </Button>\n              <Collapse isOpen={showSendStamp}>\n                <Card>\n                  <CardBody>\n                    <UserImageDropzone acceptedExt='.png, .jpg' fileType='stamp' maxLength={1} />\n                  </CardBody>\n                </Card>\n              </Collapse>\n              <Button color='primary' onClick={() => setShowSendDiploma(!showSendDiploma)}>\n                Wyślij dyplom\n              </Button>\n              <Collapse isOpen={showSendDiploma}>\n                <Card>\n                  <CardBody>\n                    <UserImageDropzone acceptedExt='.pdf' fileType='diploma' maxLength={1} />\n                  </CardBody>\n                </Card>\n              </Collapse>\n              <Button color='primary' onClick={() => setShowSendOc(!showSendOc)}>\n                Wyślij OC\n              </Button>\n              <Collapse isOpen={showSendOc}>\n                <Card>\n                  <CardBody>\n                    <UserImageDropzone acceptedExt='.pdf' fileType='oc' maxLength={1} />\n                  </CardBody>\n                </Card>\n              </Collapse>\n              <Button color='primary' id='showFiles' onClick={() => setShowFiles(!showFiles)}>\n                pokaż wysłane Pliki\n              </Button>\n              <Collapse toggler='#showFiles' isOpen={showFiles}>\n                <Card>\n                  <CardBody>\n                    {showFiles && <UserUploadedFiles />}\n                  </CardBody>\n                </Card>\n              </Collapse>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default UserProfileTab\n","import { useMsal } from '@azure/msal-react'\nimport React, { useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Button,\n  Card, CardBody, CardHeader, CardTitle, Col, FormGroup,\n  Input, Label, Row\n} from 'reactstrap'\nimport { adminService, operatorService, clientService } from '../../services'\nimport { modalTypeConstants, userRolesConstants } from '../../constants'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\n\nfunction EditUser (props) {\n  const { accounts } = useMsal()\n  const { t } = useTranslation('common')\n  const user = useSelector(state => state.global.user)\n  const dispatch = useDispatch()\n  const initlUserState = {\n    licenceNumber: 0,\n    inZbpList: false,\n    mail: '',\n    address: '',\n    id: '',\n    name: '',\n    nameWithTitle: '',\n    degree: '',\n    firstName: '',\n    lastName: '',\n    description: '',\n    phone: ''\n  }\n  const [userInfo, setUserInfo] = useState(initlUserState)\n  const [address, setAddress] = useState({ city: userInfo.address.split(',')[2], postalCode: userInfo.address.split(',')[1], street: userInfo.address.split(',')[0] })\n  const isOper = user.userType === userRolesConstants.OPERATOR\n  const isAdmin = user.userType === userRolesConstants.ADMIN\n  const isClient = user.userType === userRolesConstants.CLIENT\n\n  useEffect(() => {\n    if (isAdmin) {\n      adminService.getAdminDataById(accounts[0].idTokenClaims.oid).then(res => {\n        updateStates(res)\n      })\n    }\n    if (isOper) {\n      operatorService.getOperatorData(accounts[0].idTokenClaims.oid).then(res => {\n        updateStates(res)\n      })\n    }\n    if (isClient) {\n      clientService.getClientData(accounts[0].idTokenClaims.oid).then(res => {\n        updateStates(res)\n      })\n    }\n  }, [accounts, isAdmin, isOper, isClient])\n\n  return (\n    <>\n      {' '}\n      <Row>\n        <Col md='8'>\n          <Card className='card-user'>\n            <CardHeader>\n              <CardTitle tag='h5'>{t('userProfile.profileEdition')}</CardTitle>\n            </CardHeader>\n            <CardBody>\n              <div>\n                <Row>\n                  <Col className='pr-1' md='3'>\n                    <FormGroup>\n                      <label>{t('userProfile.userName')}</label>\n                      <Input\n                        placeholder='Username'\n                        type='text'\n                        value={userInfo.name}\n                        readOnly\n                      />\n                    </FormGroup>\n                  </Col>\n                  <Col className='pl-1' md='4'>\n                    <FormGroup>\n                      <label htmlFor='exampleInputEmail1'>{t('userProfile.userEmail')}</label>\n                      <Input\n                        placeholder='Email'\n                        type='email'\n                        value={userInfo.mail}\n                        readOnly\n                      />\n                    </FormGroup>\n                  </Col>\n                  <Col className='pl-1' md='4'>\n                    <FormGroup>\n                      <label htmlFor='phone'>Nr telefonu</label>\n                      <Input\n                        placeholder=''\n                        type='phone'\n                        value={userInfo.phone}\n                        onChange={(e) => setUserInfo(prev => ({ ...prev, phone: e.target.value }))}\n                      />\n                    </FormGroup>\n                  </Col>\n                </Row>\n                {!isClient && <Row>\n                  <Col className='pr-1' md='5'>\n                    <FormGroup>\n                      <label>{t('userProfile.userDegree')}</label>\n                      <Input\n                        onChange={(e) => setUserInfo(prev => ({ ...prev, degree: e.target.value }))}\n                        value={userInfo.degree}\n                        placeholder='tytuł naukowy'\n                        type='text'\n                      />\n                    </FormGroup>\n                  </Col>\n                </Row>}\n                <Row>\n                  <Col className='pr-1' md='6'>\n                    <FormGroup>\n                      <label>{t('userProfile.userFirstName')}</label>\n                      <Input\n                        value={userInfo.firstName}\n                        placeholder='Imię'\n                        type='text'\n                        onChange={(e) => setUserInfo(prev => ({ ...prev, firstName: e.target.value }))}\n                      />\n                    </FormGroup>\n                  </Col>\n                  <Col className='pl-1' md='6'>\n                    <FormGroup>\n                      <label>{t('userProfile.userLastName')}</label>\n                      <Input\n                        value={userInfo.lastName}\n                        placeholder='Nazwisko'\n                        type='text'\n                        onChange={(e) => setUserInfo(prev => ({ ...prev, lastName: e.target.value }))}\n                      />\n                    </FormGroup>\n                  </Col>\n                </Row>\n                {!isClient &&\n                  <Row>\n                    <Col md='12'>\n                      <FormGroup>\n                        <label>O mnie</label>\n                        <Input\n                          defaultValue={userInfo.description}\n                          type='textarea'\n                          onChange={e => setUserInfo(prev => ({ ...prev, description: e.target.value }))}\n                        />\n                      </FormGroup>\n                    </Col>\n                  </Row>}\n                {!isClient && <Row>\n                  <Col md='12'>\n                    <FormGroup>\n                      <label>{t('userProfile.userLicenceNumber')}</label>\n                      <Input\n                        value={userInfo.licenceNumber}\n                        type='number'\n                        defaultValue='Nr Licencji'\n                        onChange={e => {\n                          if (e.target.value.startsWith('-') || e.target.value < 0 || e.target.value === '') {\n                            e.target.value = ''\n                          }\n                          e.target.value >= 0 && setUserInfo(prev => ({ ...prev, licenceNumber: parseInt(e.target.value) }))\n                        }}\n                      />\n                    </FormGroup>\n\n                  </Col>\n                  {!isClient && <Col md='12'>\n                    <FormGroup>\n                      <Col sm={{ size: 12 }}>\n                        <FormGroup>\n                          <Label for='authorizedExperts' sm={10}>\n                            <Input\n                              bsSize='lg'\n                              type='checkbox'\n                              name='authorizedExperts'\n                              id='authorizedExperts'\n                              checked={userInfo.inZbpList}\n                              onClick={switchCheckbox}\n                            />\n                            {t('userProfile.inZbpList')}\n                          </Label>\n                        </FormGroup>\n                      </Col>\n                    </FormGroup>\n                  </Col>}\n                </Row>}\n                <Row>\n                  <div className='update ml-auto mr-auto'>\n                    <Button\n                      className='btn-round'\n                      color='primary'\n                      type='submit'\n                      onClick={() => { sendUpdate() }}\n                    >\n                      Aktualizuj\n                    </Button>\n                  </div>\n                </Row>\n              </div>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  )\n\n  function sendUpdate () {\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'saveUserData', translate: true }))\n    const update = JSON.parse(JSON.stringify(userInfo))\n    update.address = `${address.street},${address.city},${address.postalCode}`\n    if (isAdmin) {\n      adminService.updateUserInfo(update).then(() => dispatch(hideLoadingScreen()))\n    }\n\n    if (isOper) {\n      operatorService.updateOper(update).then(() => dispatch(hideLoadingScreen()))\n    }\n    if (isClient) {\n      clientService.updateClient(update).then(() => dispatch(hideLoadingScreen()))\n    }\n  }\n\n  function switchCheckbox () {\n    setUserInfo(prev => ({ ...prev, inZbpList: !userInfo.inZbpList }))\n  }\n\n  function updateStates (res) {\n    setUserInfo(res)\n    setAddress({ city: res.address.split(',')[1], postalCode: res.address.split(',')[2], street: res.address.split(',')[0] })\n  }\n}\n\nexport default EditUser\n","export default __webpack_public_path__ + \"static/media/damir-bosnjak.efcaca50.jpg\";","import { Table, Button } from 'reactstrap'\nimport PropTypes from 'prop-types'\nfunction ReadonlyTable ({ headers, data, style, className, deleteAction }) {\n  return (\n    <Table style={style} className={className}>\n      <thead>\n        <tr>\n          <th>\n            #\n          </th>\n          {headers.map((x, idx) => (\n            <th key={idx}>{x}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {data.map((x, idx) => (\n          <tr key={idx + x.title}>\n            <th scope='row'>\n              {idx + 1}\n            </th>\n            {Object.entries(x).map((t, idx) => (\n              t[0] !== 'id' &&\n                <td key={idx}>\n                  {t[1]}\n                </td>\n            ))}\n            {deleteAction && <td><Button color='danger' onClick={() => deleteAction(x.id)}>Usuń</Button></td>}\n          </tr>\n        ))}\n      </tbody>\n    </Table>\n  )\n}\nReadonlyTable.propTypes = {\n  headers: PropTypes.array.isRequired,\n  data: PropTypes.array.isRequired,\n  styles: PropTypes.object,\n  className: PropTypes.string,\n  deleteAction: PropTypes.func\n}\nexport default ReadonlyTable\n","import React, { useState } from 'react'\nimport { useMsal } from '@azure/msal-react'\nimport {\n  Card,\n  CardBody,\n  Row,\n  Col,\n  Accordion,\n  AccordionItem,\n  AccordionBody,\n  AccordionHeader\n} from 'reactstrap'\nimport { useLocation } from 'react-router'\nimport defaultAvatar from '../../assets/img/default-avatar.png'\nimport fakeImg from '../../assets/img/damir-bosnjak.jpg'\nimport ReadonlyTable from 'components/Tables/ReadonlyTable'\n\nfunction UserProfileTab (props) {\n  const { accounts } = useMsal()\n  const [openAccordion, setOpenAccordion] = useState('')\n  const createInZpbInformation = () => {\n    if (!props.operatorProfileData.operator) return null\n    const text = 'Operator ' + props.operatorProfileData.operator.name + ' ' + (!props.operatorProfileData.operator.inZbpList ? 'nie ' : '') + 'jest zapisany do listy rzeczoznawców ZBP.'\n    return <p>{text}</p>\n  }\n  const location = useLocation()\n\n  return (\n    <>\n      <Row>\n        <Col md='12'>\n          <Card className='card-user'>\n            <div className='image'>\n              <img alt='...' src={fakeImg} />\n            </div>\n            <CardBody>\n              <div className='author'>\n                <a href='/users-profile' onClick={(e) => e.preventDefault()}>\n                  <img\n                    alt='...'\n                    className='avatar border-gray'\n                    src={defaultAvatar}\n                  />\n                  {!location.search\n                    ? <div>\n                      <h5 className='title'>{/* state.operator.name */}</h5>\n                      <h5 className='title'>\n                        {accounts[0].idTokenClaims.given_name}{' '}\n                        {accounts[0].idTokenClaims.family_name}\n                      </h5>\n                      <h5 className='title'>{/* state.operator.mail */}</h5>\n                    </div>\n                    : <h5 className='title'>{props.operatorProfileData.operator && props.operatorProfileData.operator.name}</h5>}\n                </a>\n                {\n                  location.search &&\n                    <div>\n                      {props.operatorProfileData.operator.description && props.operatorProfileData.operator.description !== '' &&\n                        <cite>\n                          {props.operatorProfileData.operator.description}\n                        </cite>}\n                      <Accordion\n                        open={openAccordion}\n                        toggle={(e) => e === openAccordion ? setOpenAccordion('') : setOpenAccordion(e)}\n                      >\n                        <AccordionItem>\n                          <AccordionHeader targetId='1'>\n                            Dyplom\n                          </AccordionHeader>\n                          <AccordionBody accordionId='1'>\n                            {props.operatorProfileData.diploma === '' || typeof props.operatorProfileData.diploma !== 'string' ? 'operator nie wgrał dyplomu do systemu' : <img src={props.operatorProfileData.diploma} alt='dyplom' />}\n                          </AccordionBody>\n                        </AccordionItem>\n                        <AccordionItem>\n                          <AccordionHeader targetId='2'>\n                            Przebyte szkolenia\n                          </AccordionHeader>\n                          <AccordionBody accordionId='2'>\n                            {props.operatorProfileData.trainings.length > 0\n                              ? <ReadonlyTable\n                                  headers={['Tytuł', 'Adres url']}\n                                  data={props.operatorProfileData.trainings}\n                                />\n                              : 'Brak danych'}\n                          </AccordionBody>\n                        </AccordionItem>\n                        <AccordionItem>\n                          <AccordionHeader targetId='3'>\n                            Kontakt\n                          </AccordionHeader>\n                          <AccordionBody accordionId='3'>\n                            <ul style={{ textAlign: 'left', fontSize: '1.5rem' }}>\n                              {props.operatorProfileData.operator &&\n                                <>\n                                  <li>Adres e-mail: <a href={'mailto:' + props.operatorProfileData.operator.mail}>{props.operatorProfileData.operator.mail}</a></li>\n                                  <li>Nr telefonu: {props.operatorProfileData.operator.phone}</li>\n                                </>}\n                            </ul>\n                          </AccordionBody>\n                        </AccordionItem>\n                        <AccordionItem>\n                          <AccordionHeader targetId='4'>\n                            Opinie zleceniodawców\n                          </AccordionHeader>\n                          <AccordionBody accordionId='4'>\n                            {props.operatorProfileData.reviews.length > 0\n                              ? <ReadonlyTable\n                                  headers={['Data', 'Zleceniodawca', 'Komentarz', 'Ocena']}\n                                  data={props.operatorProfileData.reviews}\n                                />\n                              : 'Brak danych'}\n                          </AccordionBody>\n                        </AccordionItem>\n                        <AccordionItem>\n                          <AccordionHeader targetId='5'>\n                            Pozostałe dane\n                          </AccordionHeader>\n                          <AccordionBody accordionId='5' style={{ textAlign: 'left', fontSize: '1rem' }}>\n                            {createInZpbInformation()}\n                            Liczba wykonanych operatów: {props.operatorProfileData.operatCount}\n                          </AccordionBody>\n                        </AccordionItem>\n                      </Accordion>\n                    </div>\n                }\n              </div>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default UserProfileTab\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAG2YAABzjgAA+swAAIT6AAB5gQAA/RMAADBtAAASKQ0eJk4AAAMAUExURevr7Jydn5manJucnuPj5JiZm9vb3PT09MvLzMLCw5GSlPr6+qeoqdXV1tHR0rW1trW2uKusrbi4urO0tLq6vKiqq7e4uLW2tqGipLm6ury8vr6+vr+/wLu8vM7OztDQ0cjJytjY2dTU1aipqqqrrMXGxqanqKmqq6Wmp9LT062usKSlprS0ta2trra2t6ytrqWmqK2ur66vsK6ur7CwsbOztK+vsK+wsbKys7GxsqOkpqOkpZ6foampq6qqrJ2eoKenqaysraKjpZqbnbi4uaKjpKSlp5eYmqioqqurrKChory8vKGio6amqKCho7Gys7CxsrGysrKzs5+gop+gobS1tbq6u7e3uLCxsbKztLi4uJWWmJaXmba3t7i5ub29vZWXmZSWmLq6upOVl5SVl7m5up6foLq7u7u7vJqcnZOUlpeZm5aYmpKUlry8vZKTlpGTlZCRlJCRk6ytr9bX197e3q+vsb2+v8DAweDh4bOztebm5ujp6e/v756eoP///4CAgIGBgYKCgoODg4SEhIWFhYaGhoeHh4iIiImJiYqKiouLi4yMjI2NjY6Ojo+Pj5CQkJGRkZKSkpOTk5SUlJWVlZaWlpeXl5iYmJmZmZqampubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb6+vr+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3t/f3+Dg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f7+/v///zfARREAAAeqSURBVHja7N3xVxJZFMBxQAQVilzPSTslBxcDdwdtBQRBDQUFBYNMDTcoNLAMM7QD23JozvvX94cJZBhQZ+bdO2/26F/Q59wv8K48JwP5n/wY7iH3kHvIPYT6D89bLBazfiF8Y+T09PT09MOHzc3Nd+8yeoTwb99+/PjkSbfj8eN83qYPSCOTOTs7O3veEP69UkcegEIdMpPJCI6zz5/f9p9HPp9//97KMsTwLZO5o2Nh4RmrkHrpmxzHwsICzyLEWSq1IXd1TE6aWYNYSqVSqSRzHpOTDsdDliC2ksBQ4HA4zOxA6iURRJ7DccizAbE9fVpyNXhlXTkcjsNDHxMQKyGEWBV35Tg89Pl8rKTVUtHVoc/n89mYgPBK3686Dt8EIcQwMzOjKUTF+1XHMbG0tLT095s3y8vL77WCqHq/Ehy+Lsdybm9aC4irRKGrLkcut7cXiUTQIS1588jfPo/cXiQSibxGhtTpdyU4kCElyq/zXMdx9AwT0qI+j1zbEQwiQmyUX+fXXR0Fg0EXGsQK1dXRUTAYDIbRIJBdBYNhNIgFsqtgOBx2IkFguwqHQyEcSAu2q3AICwLcVSjEh1oYEPCuQgbix4A4obsK+QmPAwHtKhTy+3+gvEacsF2F/H5/wIAIAevK7/cHAhgQgPNuzzwCgcAiFgSoK3/bgQWhuUdJuwosYkGgu1pcnDdgQCju5wPmMY8CAeyqPY/5+To8BKErPAjY50fb8QIHAnIu6Z7HCxwI0Lmk24ECge8KB4LQ1YuNDYS3X4SuNjbGESAIXW2M40DAuxofH0c4ayF0hQNB6AoJAt8VDgShq/GdHQwIYFfteezMIkCgzrsiBwZkhPp+LulqFgXyB/X9XDoPFEgTviscCE99P+/+/PjlwIAQ6vu5dB4vX2JAALvaaTu8OBCoc0m7q5deHAjYuaQzD68fAwJ3Luk4vC4MyAh4V17vAwxIE7orr9fLY0AIdFde7xpBg8B09cuBCAHtyrvmxoLAdrXm/h0DUgfvas3tdvPQEBdCV2632+3eHgWFwL9ftR12+yYg5CfIfi7pyu3ettvtdkAI2B4lnYfdbndBQiD28wGO9XUwiAFmP5e8zu0CxGOFgrgQu1pf93hcUJA84HlX/DoXIDkoCNB+3r8rj8fjgYIA7ef9u4KGoHXl8XheAUKAzyXdXXlezcFBwM8lXV29moODoHY1BwfB7QoSgtoVIARuj+rXFTAEtCvxPJKPoCBm1K6SyZ9gx3jorrodc0kObh/B7CrJzQJCELviZA1EJsQAtp9LuwKFENA9SjwPbhoSYgbbzwVGl0PeQGT/gg5sP+/tipuFhRCkruQORD5kFPa8qzAsJb/Ehj3v/uqKM8NDSANmPxd11cD5fgS8K5Q/3yOE2L7l9vYWALpKPuI4jsP7M3DhB+JcovyBbmoeJ0K/K45oASG0u0py09pAND7v0oM0qe7nSU4zCKG7R2kJofw5yGsFcVLcz1UOROXztah2pSWE6vkqatUO0qS2n3McFyXaQYiP2h6l0qH6qYCU9nMuGmUBon6P4qLRh9pCrJS6UjsQ9Q+cXKKwR3HRaPQfrSGESlfRFaI5pK7284OKg8aDiyl0tcIEpKV4j6LooPIoaYParlZ4NiBE2X5+7fiXMAIh6rpaIcxAeDVdUXHQem78A/n7ecfRYAlCphXsURTnQfG/JJC/RwkO9iCy9yjBEWcNoqyrlTiTEPldxZmEKOgqHt9iDyL782MlHo9vsQeRtZ9fO5iDyNyjOg72IIq62tqaYg0ib4+6drAJkd3VFJMQBV1NTe2yC5HTFZOQO+9R3fPYZQ4iu6spwcEq5PY9StTV7m6WLYjtVFlXu9nsCDMQi9+ruKtsNptOp9N/WTWHmJ/I2s8l88im0+n0/v7+Qc6mHcSiZI8a4Dg4OFhdVXGnRjHks9I9StpVx7G6uvrpU8yJCHmudD+/cR6CIxaLxR5gQJT/3ufOjljMaDQ6ASHN18q+P5fRVcdhNBqNQ9tWAEhL+ffnCuZhNBqNQ0NDQ0N+qpCmyu85lTu+fEkkEnYLDcio6u/PFXbVcSQSiYTJ5FQFeU7le0518xAcJpPJNKMMUqL0/Tk1h2l4eHh4RB6kPkHlHvKA827HsS/bMXx+nvqtdUcItfvt9OcxfH6eSqVSqa8/boU06d2/AnR8LRaLN0Pq9O6339aVckfqa7FYLB7fBKF0DxlhHsXj42PjQEgIqqspCEehUBgA8dG5347S1fFxoVAo2PpCWrrqqlAoFE5OWn0gBr11VTg5Oan0gdC63w45j1Svo2KVQujdQ8bq6qRSqVQkkAlq95DxuqpUKmUJhNb9dsyuKpVyeVQC0WNX5XK52gOx6LKrcrlabYghE5Tut+N2VS5Xq3YxhNo9ZNyuqtXqhQhipXS/HburavVCDKkzvUcN7qp60QPZ1GtXFxc1EYTV/fwaMmgetV4Iu/v5jV3VarW6CML2fj64q1qt9mc3hPX9fPA8ape9ED3sUX3mcXl5KYboY4/q5xgTQdjfz/t31QvRb1djYz0QvXYlhbC/n/ftqgeinz1KMo8eiG72KKlDBNHPHtXbVT+ILrsaG7vqgei0q6ur770QfXZ19V2A/DcAHpmC7NcZ4/wAAAAASUVORK5CYII=\"","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Button, Form, FormGroup, Input, Label } from 'reactstrap'\nconst OperatorTrainingForm = ({ onSubmit }) => {\n  return (\n    <div>\n      <Form\n        onSubmit={(e) => {\n          e.preventDefault()\n          onSubmit()\n        }}\n        id='operator-training-form'\n      >\n        <FormGroup>\n          <Label for='training-title'>Tytuł szkolenia</Label>\n          <Input\n            type='text'\n            name='training-title'\n            id='training-title'\n            placeholder='Tytuł szkolenia'\n            required\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for='training-url'>Adres url</Label>\n          <Input\n            type='text'\n            name='training-url'\n            id='training-url'\n            placeholder='Adres url'\n            required\n          />\n        </FormGroup>\n        <Button\n          color='success'\n        >\n          Dodaj szkolenie\n        </Button>\n      </Form>\n    </div>\n  )\n}\n\nOperatorTrainingForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired\n}\n\nexport default OperatorTrainingForm\n","import React, { useEffect } from 'react'\nimport {\n  Card,\n  Row,\n  Col,\n  UncontrolledCollapse,\n  Button,\n  CardBody\n} from 'reactstrap'\nimport ReadonlyTable from 'components/Tables/ReadonlyTable'\nimport OperatorTrainingForm from 'components/OperatorTrainingForm'\nfunction OperatorTrainingsTab (props) {\n  useEffect(() => {\n    props.handleLoadTrainings()\n  // eslint-disable-next-line\n  }, [])\n  return (\n    <>\n      <Row>\n        <Col md='8'>\n          <Card>\n            <CardBody>\n              <Button color='success' id='show-operator-training-form-btn' style={{ width: '11rem' }}>Nowe szkolenie</Button>\n              <UncontrolledCollapse toggler='#show-operator-training-form-btn'>\n                <Card style={{ boxShadow: '6px 6px 10px 2px rgb(0 0 0 / 15%)' }}>\n                  <CardBody>\n                    <OperatorTrainingForm onSubmit={props.handleAddTraining} />\n                  </CardBody>\n                </Card>\n              </UncontrolledCollapse>\n              <br />\n              <Button color='success' id='show-operator-trainings-btn' style={{ width: '11rem' }}>Szkolenia</Button>\n              <UncontrolledCollapse toggler='#show-operator-trainings-btn'>\n                <Card style={{ boxShadow: '6px 6px 10px 2px rgb(0 0 0 / 15%)' }}>\n                  <CardBody>\n                    {props.trainings.trainings && (props.trainings.trainings.length === 0\n                      ? 'Brak szkoleń'\n                      : <ReadonlyTable\n                          headers={['Tytuł', 'Adres']}\n                          data={props.trainings.trainings}\n                          deleteAction={(id) => props.handleRemoveTraining(id)}\n                        />)}\n                  </CardBody>\n                </Card>\n              </UncontrolledCollapse>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default OperatorTrainingsTab\n","import { ADD_TRAINING, LOAD_OPERATOR_PROFILE_DATA, LOAD_OPERATOR_PROFILE_DATA_ERROR, LOAD_TRAININGS, LOAD_TRAININGS_ERROR, OPERATOR_PROFILE_DATA_LOADED, REMOVE_TRAINING, TRAININGS_LOADED } from './constants'\n\nexport function loadTrainings () {\n  return {\n    type: LOAD_TRAININGS\n  }\n}\nexport function trainingsLoaded (trainings) {\n  return {\n    type: TRAININGS_LOADED,\n    payload: trainings\n  }\n}\nexport function loadTrainingsError (err) {\n  return {\n    type: LOAD_TRAININGS_ERROR,\n    payload: err\n  }\n}\n\nexport function loadOperatorProfileData (operatorId) {\n  return {\n    type: LOAD_OPERATOR_PROFILE_DATA,\n    payload: operatorId\n  }\n}\n\nexport function operatorProfileDataLoaded (payload) {\n  return {\n    type: OPERATOR_PROFILE_DATA_LOADED,\n    payload\n  }\n}\n\nexport function loadOperatorProfileDataError (payload) {\n  return {\n    type: LOAD_OPERATOR_PROFILE_DATA_ERROR,\n    payload\n  }\n}\n\nexport function addTraining () {\n  return {\n    type: ADD_TRAINING\n  }\n}\n\nexport function removeTraining (id) {\n  return {\n    type: REMOVE_TRAINING,\n    id\n  }\n}\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectUser = (state) => state.user || initialState\n\nconst makeSelectTrainings = () =>\n  createSelector(selectUser, (state) => state.trainings)\n\nconst makeSelectOperatorProfileData = () =>\n  createSelector(selectUser, (state) => state.operatorProfileData)\n\nexport {\n  selectUser,\n  makeSelectTrainings,\n  makeSelectOperatorProfileData\n}\n","import { modalTypeConstants } from '../../constants'\nimport { call, put, select, takeEvery } from 'redux-saga/effects'\nimport { callForHeader } from 'utils/HeadersCall'\nimport request from 'utils/request'\nimport { makeSelectUser } from 'views/App/selectors'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\n\nimport { loadOperatorProfileDataError, loadTrainings, loadTrainingsError, operatorProfileDataLoaded, trainingsLoaded } from './actions'\nimport { ADD_TRAINING, LOAD_OPERATOR_PROFILE_DATA, LOAD_TRAININGS, REMOVE_TRAINING } from './constants'\n\nexport function * getTrainings () {\n  const user = yield select(makeSelectUser())\n  const operatorId = user.user.id\n  const requestUrl = `/Operator/${operatorId}/training`\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const trainings = yield call(request, requestUrl, options)\n    yield put(trainingsLoaded(trainings))\n  } catch (err) {\n    yield put(loadTrainingsError(err))\n  }\n}\n\nexport function * getOperatorProfileData (action) {\n  const operatorId = action.payload\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'loadUserData', translate: true }))\n    const userType = yield call(request, `/User/id/${operatorId}`, options)\n    const operatCount = yield call(request, `/Operat/${operatorId}/count`, options)\n    const reviews = yield call(request, `/Operator/${operatorId}/review`, options)\n    const trainings = yield call(request, `/Operator/${operatorId}/training`, options)\n    const diploma = yield call(request, `/OperatorFiles/id/${operatorId}/filename/diploma.pdf`, options)\n    let userUrl\n    switch (userType) {\n      case 'client': userUrl = `/Client/id/${operatorId}`; break\n      case 'operator': userUrl = `/Operator/id/${operatorId}`; break\n      case 'admin': userUrl = `/Admin/id/${operatorId}`; break\n      default: throw Error('Invalid user type')\n    }\n    const operator = yield call(request, userUrl, options)\n\n    yield put(operatorProfileDataLoaded({\n      operatCount, reviews, trainings, diploma, operator\n    }))\n    yield put(hideLoadingScreen())\n  } catch (err) {\n    yield put(loadOperatorProfileDataError(err))\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'loadUserDataFailed', translate: true }))\n  }\n}\n\nexport function * addTraining () {\n  const formElement = document.querySelector('#operator-training-form')\n  const user = yield select(makeSelectUser())\n  const data = new FormData(formElement)\n  const body = {\n    operatorId: user.user.id,\n    title: data.get('training-title'),\n    url: data.get('training-url')\n  }\n  const requestUrl = '/Operator/training'\n  const headers = yield call(callForHeader, 'json')\n  const options = { method: 'POST', headers, body: JSON.stringify(body) }\n  try {\n    yield call(request, requestUrl, options)\n    yield put(loadTrainings())\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport function * removeTraining (action) {\n  const requestUrl = `/Operator/training/${action.id}`\n  const headers = yield call(callForHeader)\n  const options = { method: 'DELETE', headers }\n  try {\n    yield call(request, requestUrl, options)\n    yield put(loadTrainings())\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport default function * userData () {\n  yield takeEvery(LOAD_TRAININGS, getTrainings)\n  yield takeEvery(LOAD_OPERATOR_PROFILE_DATA, getOperatorProfileData)\n  yield takeEvery(ADD_TRAINING, addTraining)\n  yield takeEvery(REMOVE_TRAINING, removeTraining)\n}\n","import React, { useState, memo, useEffect } from 'react'\n\nimport {\n  TabContent,\n  TabPane,\n  Nav,\n  NavItem,\n  NavLink\n} from 'reactstrap'\nimport UserFilesTab from './UserFilesTab'\nimport EditUser from './EditUser'\nimport UserProfileTab from './UserProfileTab'\nimport { useLocation } from 'react-router'\nimport classnames from 'classnames'\nimport OperatorTrainingsTab from './OperatorTrainingsTab'\nimport { userRolesConstants } from '../../constants'\nimport { addTraining, loadOperatorProfileData, loadTrainings, removeTraining } from './actions'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectOperatorProfileData, makeSelectTrainings } from './selectors'\nimport { connect, useSelector } from 'react-redux'\nimport { compose } from 'redux'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useInjectSaga } from 'utils/injectSaga'\nconst key = 'user'\nfunction Users (props) {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const user = useSelector(state => state.global.user)\n  const [activeTab, setActiveTab] = useState('1')\n  const toggle = (tab) => {\n    if (activeTab !== tab) setActiveTab(tab)\n  }\n  const location = useLocation()\n\n  useEffect(() => {\n    if (location.search) {\n      const params = new URLSearchParams(location.search)\n      const operatorId = params.get('operatorId')\n      props.handleLoadOperatorProfileData(operatorId)\n    }\n  // eslint-disable-next-line\n  }, [location.search])\n\n  const isClient = user.userType === userRolesConstants.CLIENT\n  const createNavItem = (tabNr, label) =>\n    <NavItem>\n      <NavLink\n        className={classnames({ active: activeTab === tabNr })}\n        onClick={() => {\n          toggle(tabNr)\n        }}\n      >\n        {label}\n      </NavLink>\n    </NavItem>\n  return (\n    <>\n      <div className='content'>\n        <Nav tabs>\n          {createNavItem('1', 'Użytkownik')}\n          {!location.search &&\n            <>\n              {createNavItem('2', 'Edycja profilu')}\n              {!isClient && createNavItem('3', 'Pliki')}\n              {!isClient && createNavItem('4', 'Szkolenia')}\n            </>}\n        </Nav>\n        <TabContent activeTab={activeTab}>\n          <TabPane tabId='1'>\n            <UserProfileTab\n              handleLoadOperatorProfileData={props.handleLoadOperatorProfileData}\n              operatorProfileData={props.operatorProfileData}\n            />\n          </TabPane>\n          <TabPane tabId='2'>\n            <EditUser />\n          </TabPane>\n          {!isClient &&\n            <>\n              <TabPane tabId='3'>\n                <UserFilesTab />\n              </TabPane>\n              <TabPane tabId='4'>\n                <OperatorTrainingsTab\n                  handleLoadTrainings={props.handleLoadTrainings}\n                  handleLoadOperatorProfileData={props.handleLoadOperatorProfileData}\n                  operatorProfileData={props.operatorProfileData}\n                  trainings={props.trainings}\n                  handleAddTraining={props.handleAddTraining}\n                  handleRemoveTraining={props.handleRemoveTraining}\n                />\n              </TabPane>\n            </>}\n        </TabContent>\n      </div>\n    </>\n  )\n}\n\nconst mapStateToProps = createStructuredSelector({\n  trainings: makeSelectTrainings(),\n  operatorProfileData: makeSelectOperatorProfileData()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleLoadTrainings: () => dispatch(loadTrainings()),\n    handleLoadOperatorProfileData: (operatorId) => dispatch(loadOperatorProfileData(operatorId)),\n    handleAddTraining: () => dispatch(addTraining()),\n    handleRemoveTraining: (id) => dispatch(removeTraining(id))\n  }\n}\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(Users)\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectUsersPage = (state) => state.usersPage || initialState\n\nconst makeSelectUserType = () =>\n  createSelector(selectUsersPage, (state) => state.userType)\n\nconst makeSelectUsers = () =>\n  createSelector(selectUsersPage, (state) => state.users)\n\nexport {\n  selectUsersPage,\n  makeSelectUserType,\n  makeSelectUsers\n}\n","import {\n  LOAD_USERS, LOAD_USERS_ERROR, USERS_LOADED,\n  SET_USER_TYPE, PROMOTE_USER, SET_USER_SORT_PARAMETERS,\n  SET_USERS_PAGE_NUMBER, SET_USER_FILTERS\n} from './constants'\n\nexport function setUserType (payload) {\n  return {\n    type: SET_USER_TYPE,\n    payload\n  }\n}\nexport function loadUsers () {\n  return {\n    type: LOAD_USERS\n  }\n}\n\nexport function usersLoaded (payload) {\n  return {\n    type: USERS_LOADED,\n    payload\n  }\n}\n\nexport function loadUsersError (payload) {\n  return {\n    type: LOAD_USERS_ERROR,\n    payload\n  }\n}\n\nexport function promoteUser (userId) {\n  return {\n    type: PROMOTE_USER,\n    userId\n  }\n}\n\nexport function setUsersSortParameters (payload) {\n  return {\n    type: SET_USER_SORT_PARAMETERS,\n    payload\n  }\n}\n\nexport function setUsersPageNumber (payload) {\n  return {\n    type: SET_USERS_PAGE_NUMBER,\n    payload\n  }\n}\n\nexport function setUserFilters (payload) {\n  return {\n    type: SET_USER_FILTERS,\n    payload\n  }\n}\n","import { userRolesConstants } from '../../constants'\nimport { call, put, select, takeLatest } from 'redux-saga/effects'\nimport request from 'utils/request'\nimport { loadUsers, loadUsersError, usersLoaded } from './actions'\nimport { LOAD_USERS, PROMOTE_USER } from './constants'\nimport { makeSelectUsers, makeSelectUserType } from './selectors'\n\nexport function * getUsers () {\n  const userType = yield select(makeSelectUserType())\n  const users = yield select(makeSelectUsers())\n  let requestUrl\n  switch (userType) {\n    case userRolesConstants.CLIENT:\n      requestUrl = '/User/promote/clients'\n      break\n    case userRolesConstants.OPERATOR:\n      requestUrl = '/User/promote/operators'\n      break\n    case userRolesConstants.ADMIN:\n      requestUrl = '/User/promote/admins'\n      break\n    default:\n      yield put(loadUsersError('Incorrect user type'))\n      return\n  }\n  requestUrl += `?pageNumber=${users.pageNumber}&pageSize=5`\n  requestUrl += `&name=${users.filters.name}&mail=${users.filters.mail}`\n  if (users.sortFieldName) {\n    requestUrl += `&fieldName=${users.sortFieldName}&direction=${users.sortDirection}`\n  }\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'GET', headers }\n  try {\n    const users = yield call(request, requestUrl, options)\n    yield put(usersLoaded(users))\n  } catch (err) {\n    yield put(loadUsersError(err))\n  }\n}\n\nexport function * promoteUser (action) {\n  const userType = yield select(makeSelectUserType())\n  let requestUrl\n  switch (userType) {\n    case userRolesConstants.CLIENT:\n      requestUrl = `/Operator/promote/clientid/${action.userId}`\n      break\n    case userRolesConstants.OPERATOR:\n      requestUrl = `/Admin/promote/operatorid/${action.userId}`\n      break\n    default:\n      return\n  }\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'PUT', headers }\n  try {\n    yield call(request, requestUrl, options)\n    yield put(loadUsers())\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport default function * watch () {\n  yield takeLatest(LOAD_USERS, getUsers)\n  yield takeLatest(PROMOTE_USER, promoteUser)\n}\n","import React, { useState } from 'react'\nimport {\n  Card,\n  CardBody,\n  Input,\n  Button,\n  Form\n} from 'reactstrap'\n\nexport const UsersFilters = ({ handleSetUserFilters }) => {\n  const [username, setUsername] = useState('')\n  const [email, setEmail] = useState('')\n  const handleClear = () => {\n    setUsername('')\n    setEmail('')\n    handleSetUserFilters({ name: '', mail: '' })\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    handleSetUserFilters({ name: username, mail: email })\n  }\n  return (\n    <Card>\n      <CardBody>\n        <Form onSubmit={handleSubmit}>\n          <Input\n            placeholder='Nazwa użytkownika' id='filter-username' name='filter-username' onChange={(e) => {\n              setUsername(e.target.value)\n            }} value={username}\n          />\n          <Input\n            placeholder='Email użytkownika' id='filter-user-email' name='filter-user-email' onChange={(e) => {\n              setEmail(e.target.value)\n            }} value={email}\n          />\n          <Button onClick={handleClear}>Wyczyść</Button>\n          <Button type='submit' color='success'>Filtruj</Button>\n        </Form>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default UsersFilters\n","import { memo, useEffect, useState } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport {\n  Row,\n  Col,\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  Button,\n  Collapse\n} from 'reactstrap'\nimport { userRolesConstants } from '../../constants'\nimport { useHistory } from 'react-router'\nimport Pagination from '@mui/material/Pagination'\nimport confirm from 'reactstrap-confirm'\nimport { connect } from 'react-redux'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectUsers, makeSelectUserType } from './selectors'\nimport { loadUsers, promoteUser, setUserFilters, setUsersPageNumber, setUsersSortParameters, setUserType } from './actions'\nimport { compose } from 'redux'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport UsersFilters from 'components/Filters/Users'\nconst key = 'usersPage'\nfunction Users (props) {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const history = useHistory()\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false)\n  const [isFiltersVisible, setIsFiltersVisible] = useState(false)\n  const userTypes = [\n    { label: 'Klient', value: 'client' },\n    { label: 'Operator', value: 'operator' },\n    { label: 'Administrator', value: 'admin' }\n  ]\n\n  const promoteUser = async (id, name) => {\n    const result = await confirm({\n      title: <>Ostrzeżenie</>,\n      message: `Czy na pewno chcesz wypromować użytkownika ${name}`,\n      confirmText: 'Tak',\n      confirmColor: 'info',\n      cancelColor: 'link text-primary',\n      cancelText: 'nie'\n    })\n    if (!result) {\n      return\n    }\n\n    props.handlePromoteUser(id)\n  }\n\n  useEffect(() => {\n    props.handleSetUsersPageNumber('1')\n    // eslint-disable-next-line\n  }, [])\n\n  const handleChange = (event, newPage) => {\n    const search = new URLSearchParams(history.location.search)\n    search.set('pageNumber', newPage.toString())\n    history.push({\n      pathname: '/users-promotion',\n      search: search.toString()\n    })\n    props.handleSetUsersPageNumber(newPage)\n  }\n\n  const sortable = {\n    onSort: (field, order) => {\n      props.handleSetUsersSortParameters(field)\n    },\n    sortFunc: (a, b, order, dataField, rowA, rowB) => {\n\n    },\n    sort: true\n  }\n  const columns = () => {\n    return [\n      {\n        dataField: 'id',\n        text: 'ID',\n        hidden: false\n      },\n      {\n        dataField: 'name',\n        text: 'Nazwa',\n        ...sortable,\n        editable: false,\n        align: 'center',\n        headerAlign: 'center'\n      },\n      {\n        dataField: 'mail',\n        text: 'Adres e-mail',\n        ...sortable,\n        editable: false,\n        align: 'center',\n        headerAlign: 'center'\n      },\n      props.userType !== userRolesConstants.CLIENT &&\n      {\n        text: 'Profil użytkownika',\n        align: 'center',\n        headerAlign: 'center',\n        formatter: (cellContent, row) => <Button color='primary' onClick={() => history.push({ pathname: '/users-profile', search: '?operatorId=' + row.id })}>\n          Profil użytkownika\n        </Button>\n      },\n      {\n        text: 'Promocja',\n        align: 'center',\n        headerAlign: 'center',\n        formatter: (cellContent, row) => <Button disabled={!row.canPromote} color='success' onClick={() => promoteUser(row.id, row.name)}>\n          Promocja\n        </Button>\n      }\n    ]\n  }\n\n  useEffect(() => {\n    props.handleLoadUsers()\n  // eslint-disable-next-line\n  }, [props.userType, props.users.pageNumber, props.users.filters, props.users.sortFieldName, props.users.sortDirection])\n\n  return (\n    <div className='content'>\n      <div className='container'>\n        <Button color='success' onClick={() => setIsFiltersVisible(v => !v)}>Filtry</Button>\n        <Collapse isOpen={isFiltersVisible}>\n          <UsersFilters handleSetUserFilters={props.handleSetUserFilters} />\n        </Collapse>\n        <Dropdown isOpen={isDropdownOpen} toggle={() => setIsDropdownOpen(!isDropdownOpen)}>\n          <Pagination count={localStorage.getItem('pageCount')} color='primary' page={(new URLSearchParams(history.location.search)).get('pageNumber') ? parseInt((new URLSearchParams(history.location.search)).get('pageNumber')) : 1} onChange={handleChange} />\n          <DropdownToggle caret>Wybierz rodzaj użytkownika [{userTypes.map(x => x.value === props.userType ? x.label : '')}]</DropdownToggle>\n          <DropdownMenu>\n            {userTypes.map((element) => {\n              return (\n                <DropdownItem\n                  key={element.value}\n                  onClick={() => {\n                    props.handleSetUserType(element.value)\n                  }}\n                >\n                  {element.label}\n                </DropdownItem>\n              )\n            })}\n          </DropdownMenu>\n        </Dropdown>\n        <Row>\n          <Col md='12'>\n            {props.users.loading\n              ? <LoadingIndicator />\n              : <BootstrapTable\n                  bootstrap4\n                  keyField='id'\n                  data={props.users.users}\n                  columns={columns()}\n                  striped\n                  hover\n                  condensed\n                  bordered={false}\n                />}\n          </Col>\n        </Row>\n      </div>\n    </div>\n  )\n}\nconst mapStateToProps = createStructuredSelector({\n  userType: makeSelectUserType(),\n  users: makeSelectUsers()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleSetUserType: (userType) => dispatch(setUserType(userType)),\n    handleLoadUsers: () => dispatch(loadUsers()),\n    handlePromoteUser: (userId) => dispatch(promoteUser(userId)),\n    handleSetUsersPageNumber: (pageNumber) => dispatch(setUsersPageNumber(pageNumber)),\n    handleSetUserFilters: (filters) => dispatch(setUserFilters(filters)),\n    handleSetUsersSortParameters: fieldName => dispatch(setUsersSortParameters(fieldName))\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(Users)\n","import { useMsal } from '@azure/msal-react'\nimport { useEffect } from 'react'\n\nfunction Logout () {\n  const { instance } = useMsal()\n  useEffect(() => {\n    instance.logout()\n  }, [instance])\n\n  return (\n    <>\n    </>\n  )\n}\n\nexport default Logout\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectSubscription = (state) => state.subscriptions || initialState\n\nconst makeSelectOperatorsInfo = () => createSelector(selectSubscription, state => state.operatorsInfo)\n\nconst makeSelectCurrentOperator = () => createSelector(selectSubscription, state => state.currentOperator)\n\nexport {\n  selectSubscription,\n  makeSelectOperatorsInfo,\n  makeSelectCurrentOperator\n}\n","import {\n  LOAD_OPERATORS_INFO,\n  OPERATORS_INFO_LOADED,\n  LOAD_OPERATORS_INFO_ERROR,\n  SET_SUBSCRIPTION_PAGE_NUMBER,\n  SET_OPERATORS_INFO_SORT_PARAMETER,\n  SET_OPERATORS_INFO_FILTERS,\n  SET_CURRENT_OPERATOR,\n  UPDATE_SUBSCRIPTION,\n  CREATE_SUBSCRIPTION,\n  RESET_SUBSCRIPTIONS\n} from './constants'\n\nexport function loadOperatorsInfo () {\n  return {\n    type: LOAD_OPERATORS_INFO\n  }\n}\n\nexport function operatorsInfoLoaded (payload) {\n  return {\n    type: OPERATORS_INFO_LOADED,\n    payload\n  }\n}\n\nexport function loadOperatorsInfoError (payload) {\n  return {\n    type: LOAD_OPERATORS_INFO_ERROR,\n    payload\n  }\n}\n\nexport function setSubscriptionPageNumber (payload) {\n  return {\n    type: SET_SUBSCRIPTION_PAGE_NUMBER,\n    payload\n  }\n}\n\nexport function setOperatorsInfoSortParameter (payload) {\n  return {\n    type: SET_OPERATORS_INFO_SORT_PARAMETER,\n    payload\n  }\n}\n\nexport function setOperatorsInfoFilters (payload) {\n  return {\n    type: SET_OPERATORS_INFO_FILTERS,\n    payload\n  }\n}\n\nexport function setCurrentOperator (payload) {\n  return {\n    type: SET_CURRENT_OPERATOR,\n    payload\n  }\n}\n\nexport function updateSubscription (payload) {\n  return {\n    type: UPDATE_SUBSCRIPTION,\n    payload\n  }\n}\n\nexport function createSubscription (payload) {\n  return {\n    type: CREATE_SUBSCRIPTION,\n    payload\n  }\n}\n\nexport function resetSubscriptions () {\n  return {\n    type: RESET_SUBSCRIPTIONS\n  }\n}\n","import { call, put, select, takeLatest } from 'redux-saga/effects'\nimport { makeSelectOperatorsInfo } from './selectors'\nimport { loadOperatorsInfoError, operatorsInfoLoaded } from './actions'\nimport { CREATE_SUBSCRIPTION, LOAD_OPERATORS_INFO, RESET_SUBSCRIPTIONS, UPDATE_SUBSCRIPTION } from './constants'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { modalTypeConstants } from '../../constants'\nimport { handleRequestWithTimeout } from 'views/Modal/timeout'\n\nexport function * getOperatorsInfo () {\n  const operatorsInfo = yield select(makeSelectOperatorsInfo())\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'GET', headers }\n\n  let requestUrl = '/Subscription/operators-info'\n  requestUrl += `?pageNumber=${operatorsInfo.pageNumber}&pageSize=5`\n  if (operatorsInfo.filters) {\n    requestUrl += `&name=${operatorsInfo.filters.name}&mail=${operatorsInfo.filters.mail}`\n  }\n  if (operatorsInfo.sortFieldName) {\n    requestUrl += `&fieldName=${operatorsInfo.sortFieldName}&direction=${operatorsInfo.sortDirection}`\n  }\n\n  try {\n    const response = yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(operatorsInfoLoaded(response))\n  } catch (err) {\n    yield put(loadOperatorsInfoError(err))\n  }\n}\n\nexport function * updateSubscription (action) {\n  const requestUrl = '/Subscription/by-repo'\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`,\n    'Content-type': 'application/json'\n  }\n  const options = { method: 'PUT', headers, body: JSON.stringify(action.payload) }\n  yield call(sendAndHandleRequest, requestUrl, options)\n}\n\nexport function * createSubscription (action) {\n  const requestUrl = '/Subscription'\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`,\n    'Content-type': 'application/json'\n  }\n  const options = { method: 'POST', headers, body: JSON.stringify(action.payload) }\n  yield call(sendAndHandleRequest, requestUrl, options)\n}\n\nfunction * sendAndHandleRequest (requestUrl, options) {\n  yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'saveSubscription', translate: true }))\n\n  try {\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(showLoadingScreen(modalTypeConstants.CREATE_SUBSCRIPTION_SUCCESSFUL))\n  } catch (err) {\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'saveSubscriptionFailed', translate: true }))\n  }\n}\n\nfunction * resetSubscriptions () {\n  const requestUrl = '/Subscription/monthly-reset'\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'PATCH', headers }\n  yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'resetingSubscriptions', translate: true }))\n  try {\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(hideLoadingScreen())\n    yield put(showLoadingScreen(modalTypeConstants.RESET_SUBSCRIPTIONS_SUCCESSFUL))\n  } catch (err) {\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'resetSubscriptionsFailed', translate: true }))\n  }\n}\n\nexport default function * watch () {\n  yield takeLatest(LOAD_OPERATORS_INFO, getOperatorsInfo)\n  yield takeLatest(UPDATE_SUBSCRIPTION, updateSubscription)\n  yield takeLatest(CREATE_SUBSCRIPTION, createSubscription)\n  yield takeLatest(RESET_SUBSCRIPTIONS, resetSubscriptions)\n}\n","import React, { useState } from 'react'\nimport { Row, Col, Form, Input, Label, Button } from 'reactstrap'\n\nconst margin5px = { margin: '5px' }\nconst saveButtonStyle = { margin: '5px', float: 'right' }\n\nfunction SubscriptionRow ({ subscription, handleUpdateSubscription }) {\n  const [isActive, setIsActive] = useState(subscription.isActive)\n  const [canRenew, setCanRenew] = useState(subscription.canRenew)\n  const [nrOfOperats, setNrOfOperats] = useState(subscription.nrOfOperats)\n  const [maxNrOfOperats, setMaxNumberOfOperats] = useState(subscription.maxNrOfOperats)\n  const [nrOfGenerations, setNrOfGenerations] = useState(subscription.nrOfGenerations)\n  const [maxNrOfGenerations, setMaxNrOfGenerations] = useState(subscription.maxNrOfGenerations)\n\n  function submitUpdateSubscriptionForm () {\n    const editedSubscription = {\n      id: subscription.id,\n      isActive,\n      canRenew,\n      nrOfOperats,\n      maxNrOfOperats,\n      nrOfGenerations,\n      maxNrOfGenerations,\n      createdDateTime: subscription.createdDateTime\n    }\n    handleUpdateSubscription(editedSubscription)\n  }\n\n  function updateSubscriptionForm () {\n    return (\n      <Form\n        id='update-subscription-form' onSubmit={e => {\n          e.preventDefault()\n          submitUpdateSubscriptionForm()\n        }}\n      >\n        <Row>\n          <Col>\n            <Label for='subscription-is-active'>\n              <b>Aktywna:</b>\n            </Label>\n            <Input style={margin5px} id='subscription-is-active' type='checkbox' checked={isActive} onChange={_ => { setIsActive(!isActive) }} />\n          </Col>\n          <Col>\n            <Label for='subscription-can-renew'>\n              <b>Odnowi się w następnym miesiącu:</b>\n            </Label>\n            <Input style={margin5px} id='subscription-can-renew' type='checkbox' checked={canRenew} onChange={_ => { setCanRenew(!canRenew) }} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Label for='subscription-nr-of-operats'>\n              <b>Liczba stworzonych operatów:</b>\n            </Label>\n            <Input style={margin5px} id='subscription-nr-of-operats' type='number' step='1' min='0' value={nrOfOperats} onChange={e => setNrOfOperats(parseInt(e.target.value))} />\n          </Col>\n          <Col>\n            <Label for='subscription-max-nr-of-operats'>\n              <b>Limit tworzenia operatów:</b>\n            </Label>\n            <Input style={margin5px} id='subscription-max-nr-of-operats' type='number' step='1' min='1' value={maxNrOfOperats} onChange={e => setMaxNumberOfOperats(parseInt(e.target.value))} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Label for='subscription-nr-of-generations'>\n              <b>Liczba wygenerowanych pdf:</b>\n            </Label>\n            <Input style={margin5px} id='subscription-nr-of-generations' type='number' step='1' min='0' value={nrOfGenerations} onChange={e => setNrOfGenerations(parseInt(e.target.value))} />\n          </Col>\n          <Col>\n            <Label for='subscription-max-nr-of-generations'>\n              <b>Limit generowania pdf:</b>\n            </Label>\n            <Input style={margin5px} id='subscription-max-nr-of-generations' type='number' step='1' min='1' value={maxNrOfGenerations} onChange={e => setMaxNrOfGenerations(parseInt(e.target.value))} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Button color='success' type='submit' style={saveButtonStyle}>Zapisz</Button>\n          </Col>\n        </Row>\n      </Form>\n    )\n  }\n\n  return (\n    <div>\n      {updateSubscriptionForm()}\n    </div>\n  )\n}\n\nexport default SubscriptionRow\n","import React, { useEffect, useState, memo } from 'react'\nimport { connect, useDispatch } from 'react-redux'\nimport { compose } from 'redux'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport Pagination from '@mui/material/Pagination'\nimport { Button, Col, Collapse } from 'reactstrap'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport { useHistory } from 'react-router'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectCurrentOperator, makeSelectOperatorsInfo } from './selectors'\nimport { createSubscription, loadOperatorsInfo, setCurrentOperator, setOperatorsInfoFilters, setOperatorsInfoSortParameter, setSubscriptionPageNumber, updateSubscription } from './actions'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport SubscriptionRow from './SubscriptionRow'\nimport UsersFilters from 'components/Filters/Users'\nimport { showLoadingScreen } from 'views/Modal/actions'\nimport { modalTypeConstants } from '../../constants'\n\nconst key = 'subscriptions'\n\nfunction Subscriptions (props) {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const [areFiltersVisible, setAreFiltersVisible] = useState(false)\n  const sortable = {\n    onSort: (field, order) => {\n      props.handleSetOperatorsInfoSortParameter(field)\n    },\n    sortFunc: (a, b, order, dataField, rowA, rowB) => {\n\n    },\n    sort: true\n  }\n\n  const columns = [\n    {\n      dataField: 'id',\n      text: 'ID'\n    },\n    {\n      dataField: 'name',\n      text: 'Nazwa',\n      ...sortable\n    },\n    {\n      dataField: 'mail',\n      text: 'Adres e-mail',\n      ...sortable\n    },\n    {\n      dataField: 'nrOfOperats',\n      text: 'Stworzone operaty',\n      ...sortable,\n      formatter: (cellContent, row) => (row.nrOfOperats !== undefined && row.maxNrOfOperats !== undefined)\n        ? <p>{`${row.nrOfOperats}/${row.maxNrOfOperats}`}</p>\n        : <div />\n    },\n    {\n      dataField: 'nrOfGenerations',\n      text: 'Wygenerowane pdfy',\n      ...sortable,\n      formatter: (cellContent, row) => (row.nrOfGenerations !== undefined && row.maxNrOfGenerations !== undefined)\n        ? <p>{`${row.nrOfGenerations}/${row.maxNrOfGenerations}`}</p>\n        : <div />\n    },\n    {\n      text: 'Utwórz subskrypcję',\n      formatter: (cellContent, row) => <Button\n        color='primary' disabled={row.hasSubscription} onClick={() => {\n          props.handleSetCurrentOperator(row.id, row.name)\n          dispatch(showLoadingScreen(modalTypeConstants.CREATE_SUBSCRIPTION_FORM))\n        }}\n                                       > Utwórz\n                                       </Button>\n    }\n  ]\n\n  const handlePageChange = (event, newPage) => {\n    const search = new URLSearchParams(history.location.search)\n    search.set('pageNumber', newPage.toString())\n    history.push({\n      pathname: '/subscriptions',\n      search: search.toString()\n    })\n    props.handleSetSubscriptionPageNumber(newPage)\n  }\n\n  const expandRow = () => {\n    return {\n      nonExpandable: props.operatorsInfo.data.filter(x => x.hasSubscription === false).map(x => x.id),\n      expandColumnPosition: 'right',\n      showExpandColumn: true,\n      expandByColumnOnly: true,\n      expandColumnRenderer: ({ expanded, rowKey, expandable }) => (\n        <Button disabled={!expandable}>Edytuj</Button>\n      ),\n      expandHeaderColumnRenderer: ({ isAnyExpands }) => ('Edytuj'),\n      renderer: (row) => {\n        const subscription = {\n          id: row.id,\n          isActive: row.isActive,\n          canRenew: row.canRenew,\n          nrOfOperats: row.nrOfOperats,\n          maxNrOfOperats: row.maxNrOfOperats,\n          nrOfGenerations: row.nrOfGenerations,\n          maxNrOfGenerations: row.maxNrOfGenerations,\n          createdDateTime: row.createdDateTime\n        }\n        return (<SubscriptionRow subscription={subscription} handleUpdateSubscription={props.handleUpdateSubscription} />)\n      }\n    }\n  }\n\n  useEffect(() => {\n    props.handleSetSubscriptionPageNumber('1')\n    // eslint-disable-next-line\n    }, [])\n\n  useEffect(() => {\n    props.handleLoadOperatorsInfo()\n    // eslint-disable-next-line\n    }, [props.operatorsInfo.pageNumber, props.operatorsInfo.filters, props.operatorsInfo.sortFieldName, props.operatorsInfo.sortDirection])\n\n  return (\n    <div className='content'>\n      <div className='container'>\n        <Col md='12'>\n          <Button color='success' onClick={() => setAreFiltersVisible(v => !v)}>Filtry</Button>\n          <Collapse isOpen={areFiltersVisible}>\n            <UsersFilters handleSetUserFilters={props.handleSetOperatorsInfoFilters} />\n          </Collapse>\n          <Button color='danger' onClick={() => props.handleResetSubscriptions()}>Resetuj subscrypcje</Button>\n          <Pagination count={localStorage.getItem('pageCount')} color='primary' page={(new URLSearchParams(history.location.search)).get('pageNumber') ? parseInt((new URLSearchParams(history.location.search)).get('pageNumber')) : props.operatorsInfo.pageNumber} onChange={handlePageChange} />\n          {\n                    props.operatorsInfo.loading\n                      ? <LoadingIndicator />\n                      : <BootstrapTable\n                          bootstrap4\n                          keyField='id'\n                          columns={columns}\n                          data={props.operatorsInfo.data}\n                          striped\n                          hover\n                          condensed\n                          bordered={false}\n                          expandRow={expandRow()}\n                        />\n                }\n        </Col>\n      </div>\n    </div>\n  )\n}\nconst mapStateToProps = createStructuredSelector({\n  operatorsInfo: makeSelectOperatorsInfo(),\n  currentOperator: makeSelectCurrentOperator()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleLoadOperatorsInfo: () => dispatch(loadOperatorsInfo()),\n    handleSetSubscriptionPageNumber: (pageNumber) => dispatch(setSubscriptionPageNumber(pageNumber)),\n    handleSetOperatorsInfoSortParameter: fieldName => dispatch(setOperatorsInfoSortParameter(fieldName)),\n    handleSetOperatorsInfoFilters: filters => dispatch(setOperatorsInfoFilters(filters)),\n    handleSetCurrentOperator: (id, name) => dispatch(setCurrentOperator({ id, name })),\n    handleUpdateSubscription: subscription => dispatch(updateSubscription(subscription)),\n    handleCreateSubscription: subscription => dispatch(createSubscription(subscription)),\n    handleResetSubscriptions: () => dispatch(showLoadingScreen(modalTypeConstants.CONFIRM_RESET_SUBSCRIPTIONS))\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(Subscriptions)\n","\nimport History from '../views/History/History'\nimport Market from '../views/Market/Market'\nimport Create from '../views/Operat/Create'\nimport Users from '../views/User/Users'\nimport Logout from 'views/Logout'\n\nexport function operatorRoutes (t) {\n  return [\n    {\n      path: '/market',\n      name: t('market.market'),\n      icon: 'nc-icon nc-cart-simple',\n      component: Market\n    },\n    {\n      path: '/history',\n      name: t('history.history'),\n      icon: 'nc-icon nc-istanbul',\n      component: History\n    },\n    {\n      path: '/create',\n      component: Create\n    },\n    {\n      path: '/users-profile',\n      name: t('userProfile.userProfile'),\n      icon: 'nc-icon nc-single-02',\n      component: Users\n    },\n    {\n      path: '/logout',\n      component: Logout\n    }\n  ]\n}\n","import React, { useEffect } from 'react'\nimport { useMsal } from '@azure/msal-react'\nimport { clientService } from '../../services'\nimport { modalTypeConstants } from '../../constants'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { loadUser } from 'views/App/actions'\n\nfunction EmptyUser (props) {\n  const { instance } = useMsal()\n  const user = useSelector(state => state.global.user)\n  const dispatch = useDispatch()\n  useEffect(() => {\n    if (user.userType === '') {\n      const account = instance.getActiveAccount()\n      clientService.getAdminDataById(account.idTokenClaims.oid).then(exist => {\n        if (!exist) {\n          const newClient = {\n            id: account.idTokenClaims.oid,\n            name: account.name,\n            mail: account.idTokenClaims.emails[0],\n            address: `${account.idTokenClaims.streetAddress}, ${account.idTokenClaims.postalCode}, ${account.idTokenClaims.city}`\n          }\n          dispatch(showLoadingScreen(modalTypeConstants.LOADING, { newClient, message: 'Trwa tworzenie użytkownika' }))\n          clientService.createNewClient(newClient).then(() => {\n            dispatch(loadUser(newClient.id))\n            dispatch(hideLoadingScreen())\n          })\n        }\n      })\n    }\n  // eslint-disable-next-line\n  }, [user.userType, instance, dispatch, props.history])\n\n  return (\n    <div />\n  )\n}\n\nexport default EmptyUser\n","import React, { useState, useRef } from 'react'\nimport NotificationAlert from 'react-notification-alert'\n\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu\n} from 'reactstrap'\n\nfunction MessageBell (props) {\n  const [open, setOpen] = useState(false)\n\n  const notifyRegister = useRef(null)\n\n  const dropdownToggle = (e) => {\n    setOpen(!open)\n  }\n\n  return (\n    <div>\n      <NotificationAlert ref={notifyRegister} />\n      <Dropdown nav isOpen={open} toggle={(e) => dropdownToggle(e)}>\n        <DropdownToggle caret nav>\n          <i className='nc-icon nc-bell-55' />\n          <p>\n            <span className='d-lg-none d-md-block'>Wiadomości</span>\n          </p>\n        </DropdownToggle>\n        <DropdownMenu right />\n      </Dropdown>\n    </div>\n  )\n}\n\nexport default MessageBell\n","import React, { useState } from 'react'\nimport { useMsal } from '@azure/msal-react'\nimport { history } from '../../helpers'\n\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem\n} from 'reactstrap'\n\nfunction SettingsItem (props) {\n  const [open, setOpen] = useState(false)\n  const { instance } = useMsal()\n\n  const LogoutHandler = (instance) => {\n    try {\n      history.push('/')\n      console.log('Trying to logout')\n      const logoutResponse = instance.logout()\n      console.log(logoutResponse)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  const dropdownToggle = (e) => {\n    setOpen(!open)\n  }\n\n  return (\n    <div>\n      <Dropdown nav isOpen={open} toggle={(e) => dropdownToggle(e)}>\n        <DropdownToggle caret nav>\n          <i className='nc-icon nc-settings-gear-65' />\n          <p>\n            <span className='d-lg-none d-md-block'>Konto</span>\n          </p>\n        </DropdownToggle>\n        <DropdownMenu right>\n          <DropdownItem\n            tag='a'\n            onClick={() => {\n              LogoutHandler(instance)\n            }}\n          >\n            Wyloguj\n          </DropdownItem>\n        </DropdownMenu>\n      </Dropdown>\n    </div>\n  )\n}\n\nexport default SettingsItem\n","import React from 'react'\nimport { useMsal } from '@azure/msal-react'\nimport { useSelector } from 'react-redux'\n\nfunction NameItem (props) {\n  const { accounts } = useMsal()\n  const user = useSelector(state => state.global.user)\n  const dev = process.env.NODE_ENV === 'development'\n\n  return <div>{dev && `Typ Konta: ${user.userType}`}  {dev && <br />} {accounts[0].idTokenClaims.name}</div>\n}\n\nexport default NameItem\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport commonPl from './translations/pl/common.json'\nimport commonEn from './translations/en/common.json'\n\n// the translations\n// (tip move them in a JSON file and import them,\n// or even better, manage them separated from your code: https://react.i18next.com/guides/multiple-translation-files)\nconst resources = {\n  en: {\n    common: commonEn\n  },\n  pl: {\n    common: commonPl\n  }\n}\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    lng: 'pl', // language to use, more information here: https://www.i18next.com/overview/configuration-options#languages-namespaces-resources\n    // you can use the i18n.changeLanguage function to change the language manually: https://www.i18next.com/overview/api#changelanguage\n    // if you're using a language detector, do not define the lng option\n\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    }\n  })\n\nexport default i18n\n","import React, {useState} from 'react'\nimport i18n from 'i18n'\n\nfunction Language () {\n  const [language, setLanguage] = useState(i18n.language)\n  \n  function handleLanguageChange (e) {\n    switch (e.target.value) {\n      case 'Pl':\n        setLanguage('Pl')\n        i18n.changeLanguage('pl')\n        break;\n      case 'En':\n        setLanguage('En')\n        i18n.changeLanguage('en')\n        break;\n      default:\n        break;\n    }\n  }\n\n  return (\n    <div>\n      <select class='form-select-lg' id='input-select-language' type='select' selec value={language} onChange={handleLanguageChange}>\n        <option value='Pl'>PL</option>\n        <option value='En'>EN</option>\n      </select>\n    </div>\n  )\n}\n\nexport default Language\n","\nimport React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { Nav } from 'reactstrap'\nimport PerfectScrollbar from 'perfect-scrollbar'\n\nimport logo from 'logo.svg'\n\nlet ps\n\nclass Sidebar extends React.Component {\n  constructor (props) {\n    super(props)\n    this.activeRoute.bind(this)\n    this.sidebar = React.createRef()\n  }\n\n  // verifies if routeName is the one active (in browser input)\n  activeRoute (routeName) {\n    return this.props.location.pathname.indexOf(routeName) > -1 ? 'active' : ''\n  }\n\n  componentDidMount () {\n    if (navigator.platform.indexOf('Win') > -1) {\n      ps = new PerfectScrollbar(this.sidebar.current, {\n        suppressScrollX: true,\n        suppressScrollY: false\n      })\n    }\n  }\n\n  componentWillUnmount () {\n    if (navigator.platform.indexOf('Win') > -1) {\n      ps.destroy()\n    }\n  }\n\n  render () {\n    return (\n      <div\n        className='sidebar'\n        data-color={this.props.bgColor}\n        data-active-color={this.props.activeColor}\n      >\n        <div className='logo'>\n          <a\n            href='/market'\n            className='simple-text logo-mini'\n          >\n            <div className='logo-img'>\n              <img src={logo} alt='react-logo' />\n            </div>\n          </a>\n          <a\n            href='/market'\n            className='simple-text logo-normal'\n          >\n            AOPERAT\n          </a>\n        </div>\n        <div className='sidebar-wrapper' ref={this.sidebar}>\n          <Nav>\n            {this.props.routes.map((prop, key) => {\n              return (prop.name &&\n                <li\n                  className={\n                    this.activeRoute(prop.path) +\n                    (prop.pro ? ' active-pro' : '')\n                  }\n                  key={key}\n                >\n                  <NavLink\n                    to={prop.path}\n                    className='nav-link'\n                    activeClassName='active'\n                  >\n                    <i className={prop.icon} />\n                    <p>{prop.name}</p>\n                  </NavLink>\n                </li>\n              )\n            })}\n            <li>\n              <a\n                href='http://feedback.aoperat.pl/'\n                target='blank'\n                className='nav-link'\n              >\n                <i className='nc-icon nc-bullet-list-67' />\n                <p>Pomysły</p>\n              </a>\n            </li>\n            {\n              this.props.userType === 'client' &&\n                <li>\n                  <a\n                    href='https://forms.office.com/r/wzhM9Jrsxy'\n                    target='blank'\n                    className='nav-link'\n                  >\n                    <i className='nc-icon nc-single-copy-04' />\n                    <p>Jestem rzeczoznawcą</p>\n                  </a>\n                </li>\n            }\n          </Nav>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Sidebar\n","import React, { useState, useEffect } from 'react'\nimport PerfectScrollbar from 'perfect-scrollbar'\nimport { Route, Switch } from 'react-router-dom'\nimport DemoNavbar from 'components/Navbars/DemoNavbar'\nimport Footer from 'components/Footer/Footer'\nimport Sidebar from 'components/Sidebar/Sidebar'\nimport FixedPlugin from 'components/FixedPlugin/FixedPlugin'\nimport ScrollButton from 'components/FixedPlugin/ScrollButton'\nimport { useTranslation } from 'react-i18next'\nimport { operatorRoutes, clientRoutes, adminRoutes, emptyRoutes } from '../routes'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { callForHeader } from 'utils/HeadersCall'\nimport { loadUser, loadEkwData, loadPublicSettings, loadOperatTypes } from 'views/App/actions'\nimport { useMsal } from '@azure/msal-react'\n\nlet ps\n\nfunction GeneralLayout (props) {\n  const dispatch = useDispatch()\n  const { accounts } = useMsal()\n  const [backgroundColor, setBackgroundColor] = useState('black')\n  const [mainBackgroundColor, setMainBackgroundColor] = useState('#f4f3ef')\n  const [activeColor, setActiveColor] = useState('success')\n  const mainPanel = React.createRef()\n  const [routes, setRoutes] = useState([])\n  const user = useSelector(state => state.global.user)\n  const { t } = useTranslation('common')\n\n  // eslint-disable-next-line\n  useEffect(async () => {\n    await callForHeader()\n    dispatch(loadEkwData())\n    dispatch(loadPublicSettings())\n    dispatch(loadOperatTypes())\n    user.userType === '' && dispatch(loadUser(accounts[0].idTokenClaims.oid))\n    if (navigator.platform.indexOf('Win') > -1) {\n      ps = new PerfectScrollbar('#wrapper')\n    }\n    chooseRouteByUserType()\n\n    return function cleanup () {\n      if (navigator.platform.indexOf('Win') > -1) {\n        ps.destroy()\n      }\n    }\n  // eslint-disable-next-line\n  }, [])\n\n  useEffect(() => {\n    chooseRouteByUserType()\n    // eslint-disable-next-line\n  }, [user.userType])\n\n  const handleActiveClick = (color) => {\n    setActiveColor(color)\n  }\n  const handleBgClick = (color) => {\n    setBackgroundColor(color)\n  }\n  const handleMainBgClick = (color) => {\n    setMainBackgroundColor(color)\n  }\n\n  const chooseRouteByUserType = () => {\n    switch (user.userType) {\n      case 'admin':\n        setRoutes(adminRoutes(t)); break\n      case 'operator':\n        setRoutes(operatorRoutes(t)); break\n      case 'client':\n        setRoutes(clientRoutes(t)); break\n      default:\n        setRoutes(emptyRoutes(t)); break\n    }\n  }\n\n  return (\n    <div className='wrapper' id='wrapper' style={{ backgroundColor: mainBackgroundColor }}>\n      <Sidebar\n        {...props}\n        userType={user.userType}\n        routes={routes}\n        bgColor={backgroundColor}\n        activeColor={activeColor}\n      />\n\n      <div className='main-panel' ref={mainPanel} style={{ backgroundColor: mainBackgroundColor }}>\n        <DemoNavbar {...props} routes={routes} t={t} />\n        <Switch>\n          {routes.map((prop, key) => {\n            const Component = prop.component\n            return (\n              <Route path={prop.path} key={key}>\n                <Component />\n              </Route>\n            )\n          })}\n        </Switch>\n        <Footer fluid />\n      </div>\n      <FixedPlugin\n        bgColor={backgroundColor}\n        activeColor={activeColor}\n        mainBgColor={mainBackgroundColor}\n        handleActiveClick={handleActiveClick}\n        handleBgClick={handleBgClick}\n        handleMainBgClick={handleMainBgClick}\n      />\n      <ScrollButton />\n    </div>\n  )\n}\n\nexport default GeneralLayout\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  Container\n} from 'reactstrap'\n\nimport { operatorRoutes } from '../../routes/index'\nimport MessageBell from './MessageBell'\nimport SettingsItem from './SettingsItem'\nimport NameItem from './NameItem'\nimport Language from './Language'\n\nclass Header extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      isOpen: false,\n      dropdownOpen: false,\n      color: 'transparent'\n    }\n    this.toggle = this.toggle.bind(this)\n    this.sidebarToggle = React.createRef()\n  }\n\n  toggle () {\n    if (this.state.isOpen) {\n      this.setState({\n        color: 'transparent'\n      })\n    } else {\n      this.setState({\n        color: 'dark'\n      })\n    }\n    this.setState({\n      isOpen: !this.state.isOpen\n    })\n  }\n\n  getBrand () {\n    let brandName = 'Default Brand'\n    const operatorRouting = operatorRoutes(this.props.t)\n    operatorRouting.map((prop, key) => {\n      if (window.location.href.indexOf(prop.path) !== -1) {\n        brandName = prop.name\n      }\n      return null\n    })\n    return brandName\n  }\n\n  openSidebar () {\n    document.documentElement.classList.toggle('nav-open')\n    this.sidebarToggle.current.classList.toggle('toggled')\n  }\n\n  // function that adds color dark/transparent to the navbar on resize (this is for the collapse)\n  updateColor () {\n    if (window.innerWidth < 993 && this.state.isOpen) {\n      this.setState({\n        color: 'dark'\n      })\n    } else {\n      this.setState({\n        color: 'transparent'\n      })\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('resize', this.updateColor.bind(this))\n  }\n\n  componentDidUpdate (e) {\n    if (\n      window.innerWidth < 993 &&\n      e.history.location.pathname !== e.location.pathname &&\n      document.documentElement.className.indexOf('nav-open') !== -1\n    ) {\n      document.documentElement.classList.toggle('nav-open')\n      this.sidebarToggle.current.classList.toggle('toggled')\n    }\n  }\n\n  render () {\n    return (\n      // add or remove classes depending if we are on full-screen-maps page or not\n      <Navbar\n        color={\n          this.props.location.pathname.indexOf('full-screen-maps') !== -1\n            ? 'dark'\n            : this.state.color\n        }\n        expand='lg'\n        className={\n          this.props.location.pathname.indexOf('full-screen-maps') !== -1\n            ? 'navbar-absolute fixed-top'\n            : 'navbar-absolute fixed-top ' +\n              (this.state.color === 'transparent' ? 'navbar-transparent ' : '')\n        }\n      >\n        <Container>\n          <div className='navbar-wrapper'>\n            <div className='navbar-toggle'>\n              <button\n                type='button'\n                ref={this.sidebarToggle}\n                className='navbar-toggler'\n                onClick={() => this.openSidebar()}\n              >\n                <span className='navbar-toggler-bar bar1' />\n                <span className='navbar-toggler-bar bar2' />\n                <span className='navbar-toggler-bar bar3' />\n              </button>\n            </div>\n            <NavbarBrand href='/'>{this.getBrand()}</NavbarBrand>\n          </div>\n        </Container>\n        <NavbarToggler onClick={this.toggle}>\n          <span className='navbar-toggler-bar navbar-kebab' />\n          <span className='navbar-toggler-bar navbar-kebab' />\n          <span className='navbar-toggler-bar navbar-kebab' />\n        </NavbarToggler>\n        <Collapse\n          isOpen={this.state.isOpen}\n          navbar\n          className='justify-content-end'\n        >\n          <NavbarBrand><Language /></NavbarBrand>\n          <NavbarBrand href='/users-profile'><NameItem /></NavbarBrand>\n          <Nav navbar>\n            <NavItem>\n              <Link to='/users-profile' className='nav-link btn-magnify'>\n                <i className='nc-icon nc-layout-11' />\n                <p>\n                  <span className='d-lg-none d-md-block'>Stats</span>\n                </p>\n              </Link>\n            </NavItem>\n            <MessageBell />\n            <SettingsItem />\n          </Nav>\n        </Collapse>\n      </Navbar>\n    )\n  }\n}\n\nexport default Header\n","\nimport React from 'react'\nimport { Container } from 'reactstrap'\nimport PropTypes from 'prop-types'\n\nclass Footer extends React.Component {\n  render () {\n    return (\n      <footer\n        className={'footer' + (this.props.default ? ' footer-default' : '')}\n      >\n        <Container fluid={!!this.props.fluid} />\n      </footer>\n    )\n  }\n}\n\nFooter.propTypes = {\n  default: PropTypes.bool,\n  fluid: PropTypes.bool\n}\n\nexport default Footer\n","export default __webpack_public_path__ + \"static/media/logo.9c70eda3.svg\";","\nimport React, { Component } from 'react'\nimport { TwitterPicker } from 'react-color';\n\nclass FixedPlugin extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      classes: 'dropdown',\n      isColorPickerOpen: false\n    }\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  handleClick() {\n    if (this.state.classes === 'dropdown') {\n      this.setState({ classes: 'dropdown show' })\n    } else {\n      this.setState({ classes: 'dropdown' })\n    }\n  }\n\n  toggleColorPicker = () => {\n    this.setState({\n      isColorPickerOpen: !this.state.isColorPickerOpen\n    })\n  }\n  render() {\n    return (\n      <div className='fixed-plugin' style={{ marginBottom: '78vh' }}>\n        <div className={this.state.classes}>\n          <div onClick={this.handleClick}>\n            <i className='fa fa-cog fa-2x' />\n          </div>\n          <ul className='dropdown-menu show'>\n          {\n          this.state.isColorPickerOpen && <TwitterPicker\n            triangle=\"hide\"\n            hidden={true}\n            color={this.props.mainBgColor}\n            onBlur={() => this.setState({isColorPickerOpen: false})}\n            onChangeComplete={(color) => this.props.handleMainBgClick(color.hex)}\n          />\n        }\n            <li className='header-title'>Główne tło</li>\n            <li className='adjustments-line'>\n              <div className='badge-colors text-center'>\n                <span\n                  className={\n                    this.props.mainBgColor === '#f4f3ef'\n                      ? 'badge filter badge-dark active'\n                      : 'badge filter badge-dark'\n                  }\n                  style={{ backgroundColor: '#f4f3ef' }}\n                  data-color='#f4f3ef'\n                  onClick={() => {\n                    this.props.handleMainBgClick('#f4f3ef')\n                    this.setState({isColorPickerOpen: false})\n                  }}\n                />\n                <span\n                  className={\n                    this.props.mainBgColor !== '#f4f3ef'\n                      ? 'badge filter badge-light active'\n                      : 'badge filter badge-light'\n                  }\n                  style={{ backgroundColor: this.props.mainBgColor}}\n                  onClick={() => {\n                    this.toggleColorPicker()\n                  }}\n                />\n              </div>\n            </li>\n            <li className='header-title'> Kolor tła w menu</li>\n            <li className='adjustments-line'>\n              <div className='badge-colors text-center'>\n                <span\n                  className={\n                    this.props.bgColor === 'black'\n                      ? 'badge filter badge-dark active'\n                      : 'badge filter badge-dark'\n                  }\n                  data-color='black'\n                  onClick={() => {\n                    this.props.handleBgClick('black')\n                  }}\n                />\n                <span\n                  className={\n                    this.props.bgColor === 'white'\n                      ? 'badge filter badge-light active'\n                      : 'badge filter badge-light'\n                  }\n                  data-color='white'\n                  onClick={() => {\n                    this.props.handleBgClick('white')\n                  }}\n                />\n              </div>\n            </li>\n            <li className='header-title'>Kolor zaznaczania w menu</li>\n            <li className='adjustments-line'>\n              <div className='badge-colors text-center'>\n                <span\n                  className={\n                    this.props.activeColor === 'primary'\n                      ? 'badge filter badge-primary active'\n                      : 'badge filter badge-primary'\n                  }\n                  data-color='primary'\n                  onClick={() => {\n                    this.props.handleActiveClick('primary')\n                  }}\n                />\n                <span\n                  className={\n                    this.props.activeColor === 'info'\n                      ? 'badge filter badge-info active'\n                      : 'badge filter badge-info'\n                  }\n                  data-color='info'\n                  onClick={() => {\n                    this.props.handleActiveClick('info')\n                  }}\n                />\n                <span\n                  className={\n                    this.props.activeColor === 'success'\n                      ? 'badge filter badge-success active'\n                      : 'badge filter badge-success'\n                  }\n                  data-color='success'\n                  onClick={() => {\n                    this.props.handleActiveClick('success')\n                  }}\n                />\n                <span\n                  className={\n                    this.props.activeColor === 'warning'\n                      ? 'badge filter badge-warning active'\n                      : 'badge filter badge-warning'\n                  }\n                  data-color='warning'\n                  onClick={() => {\n                    this.props.handleActiveClick('warning')\n                  }}\n                />\n                <span\n                  className={\n                    this.props.activeColor === 'danger'\n                      ? 'badge filter badge-danger active'\n                      : 'badge filter badge-danger'\n                  }\n                  data-color='danger'\n                  onClick={() => {\n                    this.props.handleActiveClick('danger')\n                  }}\n                />\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default FixedPlugin\n","import React, { useState, useEffect } from 'react'\n\nconst ScrollButton = () => {\n  const scrollToTop = () => {\n    getWrapper().scrollTop = 0\n  }\n  const [visible, setVisible] = useState(false)\n  const getWrapper = () => document.querySelector('#wrapper')\n  useEffect(() => {\n    getWrapper().addEventListener('scroll', toggleVisible)\n  // eslint-disable-next-line\n  }, [])\n  const toggleVisible = () => {\n    const scrolled = getWrapper().scrollTop\n    if (scrolled > 300) {\n      setVisible(true)\n    } else if (scrolled <= 300) {\n      setVisible(false)\n    }\n  }\n\n  return (\n    <div className='fixed-plugin' style={{ marginBottom: '12vh', color: '#FFFFFF', display: visible ? 'inline' : 'none' }}>\n      <div>\n        <div onClick={() => scrollToTop()}>\n          <i className='fa fa-arrow-up fa-2x' /> <br />\n          Do góry\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ScrollButton\n","import History from '../views/History/History'\nimport Market from '../views/Market/Market'\nimport Create from '../views/Operat/Create'\nimport Users from '../views/User/Users'\nimport User from '../views/Users/Users'\nimport Logout from 'views/Logout'\nimport Subscriptions from '../views/Subscriptions/Subscriptions'\n\nexport const adminRoutes = (t) => {\n  return [\n    {\n      path: '/market',\n      name: t('market.market'),\n      icon: 'nc-icon nc-cart-simple',\n      component: Market\n    },\n    {\n      path: '/history',\n      name: t('history.history'),\n      icon: 'nc-icon nc-istanbul',\n      component: History\n    },\n    {\n      path: '/create',\n      component: Create\n    },\n    {\n      path: '/users-profile',\n      name: t('userProfile.userProfile'),\n      icon: 'nc-icon nc-single-02',\n      component: Users\n    },\n    {\n      path: '/users-promotion',\n      name: t('users.users'),\n      icon: 'nc-icon nc-globe',\n      component: User\n    },\n    {\n      path: '/subscriptions',\n      name: 'Subskrypcje',\n      icon: 'nc-icon nc-paper',\n      component: Subscriptions\n    },\n    {\n      path: '/logout',\n      component: Logout\n    }\n  ]\n}\n","\nimport Logout from 'views/Logout'\nimport User from 'views/User/Users'\nimport Market from '../views/Market/Market'\n\nexport const clientRoutes = (t) => {\n  return [\n    {\n      path: '/market',\n      name: t('market.market'),\n      icon: 'nc-icon nc-cart-simple',\n      component: Market\n    },\n    {\n      path: '/users-profile',\n      name: t('userProfile.userProfile'),\n      icon: 'nc-icon nc-single-02',\n      component: User\n    },\n    {\n      path: '/logout',\n      component: Logout\n    }\n  ]\n}\n","import EmptyUser from '../views/EmptyUser/EmptyUser'\n\nexport const emptyRoutes = (t) => {\n  return [\n    {\n      path: '/start',\n      name: '',\n      icon: 'nc-icon nc-single-02',\n      component: EmptyUser\n    }\n  ]\n}\n","import { useIsAuthenticated, useMsal } from '@azure/msal-react'\nimport React, { useEffect } from 'react'\n\nfunction Login (props) {\n  const { instance } = useMsal()\n  const isAuthenticated = useIsAuthenticated()\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      try {\n        instance.loginRedirect().then((response) => {\n          instance.setActiveAccount(response.account)\n          console.log(response)\n        })\n      } catch (err) {\n        console.log(err)\n      }\n    }\n  }, [instance, isAuthenticated])\n\n  return (\n    <></>\n  )\n}\n\nexport default Login\n","import { callForHeader } from 'utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const certificateService = {\n  generateCertificate\n}\n\nasync function generateCertificate (body) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(body)\n  }\n\n  return await window.fetch(`${apiUrl}/Certificate/generate`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      return Promise.reject(data || response.statusText)\n    }\n\n    return data\n  })\n}\n","import React, { useState } from 'react'\nimport { useMsal } from '@azure/msal-react'\nimport { certificateService } from '../../services/certificate.service'\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap'\nimport { modalTypeConstants } from '../../constants'\nimport { useDispatch } from 'react-redux'\nimport { hideLoadingScreen, showLoadingScreen } from './actions'\n\nfunction NewOrderForm (props) {\n  const { accounts } = useMsal()\n  const dispatch = useDispatch()\n  const [certificatePassword, setCertificatePassword] = useState('')\n  const [repeatPassword, setRepeatPassword] = useState('')\n\n  const addCertificate = (e) => {\n    e.preventDefault()\n    const nameLastName = accounts[0].idTokenClaims.given_name + ' ' + accounts[0].idTokenClaims.family_name\n    const dto = {\n      operatorId: accounts[0].idTokenClaims.oid,\n      nameLastName: nameLastName,\n      certificatePassword: certificatePassword,\n      certificateSignDate: new Date()\n    }\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'generateCertificate', translate: true }))\n    certificateService.generateCertificate(dto).then(() => {\n      dispatch(hideLoadingScreen())\n    }).catch((error) => dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: error })))\n  }\n\n  return (\n    <div>\n      <Form\n        onSubmit={(e) => addCertificate(e)}\n      >\n        <FormGroup>\n          <Label for='certificatePassword'>Hasło do certyfikatu</Label>\n          <Input\n            type='password'\n            name='certificatePassword'\n            id='certificatePassword'\n            value={certificatePassword}\n            onChange={(e) => {\n              setCertificatePassword(e.target.value)\n            }}\n            required\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for='certificatePassword'>Powtórz hasło</Label>\n          <Input\n            type='password'\n            name='repeatPassword'\n            id='repeatPassword'\n            value={repeatPassword}\n            onChange={(e) => {\n              setRepeatPassword(e.target.value)\n            }}\n            required\n          />\n        </FormGroup>\n        <Button\n          disabled={certificatePassword.length === 0 || certificatePassword !== repeatPassword}\n          style={{ width: '100%' }}\n          color='success'\n        >\n          Wygeneruj certyfikat\n        </Button>\n      </Form>\n    </div>\n  )\n}\n\nexport default NewOrderForm\n","import {\n  modalTypeConstants,\n  loadingMessagesConstants,\n  globalConstants\n} from '../../constants'\nimport NewCertificateForm from './NewCertificateForm'\nimport React, { useState, useEffect, useCallback } from 'react'\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n  Button,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Spinner,\n  Row,\n  Col,\n  FormGroup,\n  Input,\n  ListGroup,\n  ListGroupItem,\n  Form,\n  Label,\n  Table,\n  Collapse,\n  Card,\n  CardBody\n} from 'reactstrap'\nimport confirm from 'reactstrap-confirm'\nimport { operatService, operatFilesService, operatorFilesService } from 'services'\nimport { hideLoadingScreen, showLoadingScreen } from './actions'\nimport { loadOperatorsInfo, createSubscription, resetSubscriptions } from 'views/Subscriptions/actions'\nimport { useTranslation } from 'react-i18next'\nimport { loadOperats } from 'views/History/actions'\nimport { useDropzone } from 'react-dropzone'\nimport { v4 as uuidv4 } from 'uuid'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport request from 'utils/request'\nimport { callForHeader } from 'utils/HeadersCall'\nimport { getFormatedFiles } from 'views/Operat/actions'\n\nexport const Modals = {\n  ShowNoData,\n  ConfirmSendProposition,\n  ToMuchOperatorFiles,\n  PromoteUserError,\n  SendOperatConfirmation,\n  SignOperat,\n  OwnCertificate,\n  NewCertificate,\n  ErrorMessage,\n  Loading,\n  OperatList,\n  SendOperat,\n  PayForOperat,\n  CreateSubscriptionForm,\n  CreateSubscriptionSuccessful,\n  ConfirmResetSubscriptions,\n  ResetSubscriptionsSuccessful,\n  AddAttachments,\n  AttachmentsOptions,\n  ConfirmSuccess,\n  ConfirmError\n}\n\nconst createRow = (style) => (\n  <Row>\n    <Col sm='12' md={{ size: 3, offset: 4 }}>\n      <Spinner color='primary' style={style} animation='border' variant='info'>\n        {' '}\n      </Spinner>\n    </Col>\n  </Row>\n)\n\nconst createModalBody = () => (\n  <ModalBody>{createRow({ width: '8rem', height: '8rem' })}</ModalBody>\n)\n\nconst createModalBodyWithFooter = (dispatch) => (\n  <ModalBody>\n    {' '}\n    {createRow({ width: '6rem', height: '6rem' })}\n    {createModalFooter(dispatch)}\n  </ModalBody>\n)\n\nconst createModalFooter = (dispatch, cancel = false) => (\n  <ModalFooter>\n    <Button\n      color='info'\n      onClick={() => {\n        dispatch(hideLoadingScreen())\n      }}\n    >\n      {cancel ? 'anuluj' : 'ok'}\n    </Button>\n  </ModalFooter>\n)\n\nconst createSignOperatModalFooter = (dispatch) => (\n  <ModalFooter>\n    <Button\n      color='info'\n      href='https://moj.gov.pl/nforms/signer/upload?xFormsAppName=SIGNER'\n      target='blank'\n    >\n      Profil zaufany\n    </Button>\n    <Button\n      color='info'\n      onClick={() => dispatch(showLoadingScreen(modalTypeConstants.OWN_CERTIFICATE))}\n    >\n      Własny certyfikat\n    </Button>\n    <Button\n      color='danger'\n      onClick={() => {\n        dispatch(hideLoadingScreen())\n      }}\n    >\n      Anuluj\n    </Button>\n  </ModalFooter>\n)\n\nfunction Loading () {\n  const { t } = useTranslation('common')\n  const data = useSelector(state => state.modal.data)\n  return (\n    <>\n      <ModalHeader>{data.translate ? t('modal.messages.' + data.message) : data.message}</ModalHeader>\n      {createModalBody()}\n    </>\n  )\n}\n\nfunction ShowNoData () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Nie ma danych do wyświetlenia</ModalHeader>\n      {createModalFooter(dispatch)}\n    </>\n  )\n}\n\nfunction ConfirmSendProposition () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Twoja Oferta została wysłana</ModalHeader>\n      {createModalBodyWithFooter(dispatch)}\n    </>\n  )\n}\n\nfunction ToMuchOperatorFiles () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Posiadasz za dużo plików na swoim koncie</ModalHeader>\n      {createModalBodyWithFooter(dispatch)}\n    </>\n  )\n}\n\nfunction SendOperatConfirmation () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Operat został pomyślnie wysłany</ModalHeader>\n      {createModalFooter(dispatch)}\n    </>\n  )\n}\n\nfunction PromoteUserError () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>\n        Podczas promocji użytkownika wystąpił błąd, prawdopodnie użytkownik\n        został już wypromowany.\n      </ModalHeader>\n      {createModalFooter(dispatch)}\n    </>\n  )\n}\n\nfunction SignOperat () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Wybierz sposób w jaki chcesz podpisać operat</ModalHeader>\n      {createSignOperatModalFooter(dispatch)}\n    </>\n  )\n}\n\nfunction SendOperat () {\n  const dispatch = useDispatch()\n  const [email, setEmail] = useState('')\n  const [emails, setEmails] = useState([])\n  const [sendToOwner, setSendToOwner] = useState(false)\n  const data = useSelector(state => state.modal.data)\n  console.log(data)\n  return (\n    <>\n      <ModalHeader>Wyślij operat</ModalHeader>\n      <ModalBody>\n        <Form\n          onSubmit={(e) => {\n            e.preventDefault()\n            if (emails.includes(email)) {\n              return\n            }\n            setEmail('')\n            setEmails(emails => [...emails].concat(email))\n          }}\n        >\n          <FormGroup>\n            <Label for='operat-email'>Podaj adres email</Label>\n            <Input\n              value={email}\n              onChange={e => setEmail(e.target.value)}\n              type='email'\n              name='operat-email'\n              required\n            />\n          </FormGroup>\n          {data.operat.orderId !== globalConstants.EMPTY_GUID && (\n            <FormGroup row style={{ marginLeft: '1em' }}>\n              <Col>\n                <Input\n                  id='checkbox2'\n                  type='checkbox'\n                  checked={sendToOwner}\n                  onChange={() => setSendToOwner((sendToOwner) => !sendToOwner)}\n                />{' '}\n                <Label\n                  onClick={() => setSendToOwner((sendToOwner) => !sendToOwner)}\n                >\n                  Wysłać do zleceniodawcy?\n                </Label>\n              </Col>\n            </FormGroup>\n          )}\n\n          <Button type='submit'>Dodaj adres email</Button>\n        </Form>\n        <ul class='list-group'>\n          {emails.map((e, idx) => (\n            <li\n              key={idx}\n              class='list-group-item d-flex justify-content-between align-items-center'\n            >\n              {e}\n              <span\n                onClick={() => setEmails(emails => emails.filter(x => x !== e))}\n              >\n                <i className='nc-icon nc-simple-remove' />\n              </span>\n            </li>\n          ))}\n        </ul>\n        <Button\n          color='success'\n          disabled={emails.length === 0 && sendToOwner === false}\n          onClick={() => data.sendFunction(data.operat.id, emails, sendToOwner)}\n        >\n          Wyślij\n        </Button>\n      </ModalBody>\n      {createModalFooter(dispatch, true)}\n    </>\n  )\n}\n\nfunction OwnCertificate () {\n  const dispatch = useDispatch()\n  const operat = useSelector(state => state.operat.operat)\n\n  const [certificatePassword, setCertificatePassword] = useState('')\n  return (\n    <>\n      <ModalHeader>Wybierz sposób w jaki chcesz podpisać operat</ModalHeader>\n      <ModalBody>\n        <Row>\n          <Col>\n            <FormGroup>\n              <Input\n                type='password'\n                name='certificatePassword'\n                id='certificatePassword'\n                value={certificatePassword}\n                placeholder='Hasło do certyfikatu'\n                onChange={e => setCertificatePassword(e.target.value)}\n              />\n            </FormGroup>\n          </Col>\n          <Col>\n            <Button\n              onClick={() => {\n                dispatch(\n                  showLoadingScreen(modalTypeConstants.LOADING, {\n                    message: loadingMessagesConstants.SING_OPERAT\n                  })\n                )\n                operatService\n                  .signPdf(operat.id, { password: certificatePassword })\n                  .then(() => {\n                    dispatch(loadOperats())\n                    dispatch(hideLoadingScreen())\n                  })\n                  .catch((error) => {\n                    dispatch(\n                      showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, {\n                        message: error\n                      })\n                    )\n                  })\n              }}\n              style={{ marginTop: '0px' }}\n              color='success'\n            >\n              Podpisz operat\n            </Button>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            Jeżeli nie posiadasz certyfikatu:{' '}\n            <Button\n              color='link'\n              onClick={() => dispatch(showLoadingScreen(modalTypeConstants.NEW_CERTIFICATE, {}))}\n            >\n              Przejdź do generowania certyfikatu\n            </Button>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Button\n              color='link'\n              onClick={() => dispatch(showLoadingScreen(modalTypeConstants.SIGN_OPERAT, {}))}\n            >\n              Powrót\n            </Button>\n          </Col>\n        </Row>\n      </ModalBody>\n    </>\n  )\n}\n\nfunction NewCertificate () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Generowanie nowego certyfikatu</ModalHeader>\n      <ModalBody>\n        <Row>\n          <Col>\n            <NewCertificateForm />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Button\n              style={{ width: '100%' }}\n              onClick={() => dispatch(showLoadingScreen(modalTypeConstants.OWN_CERTIFICATE, {}))}\n            >\n              Anuluj\n            </Button>\n          </Col>\n        </Row>\n      </ModalBody>\n    </>\n  )\n}\n\nfunction ErrorMessage () {\n  const data = useSelector(state => state.modal.data)\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Błąd</ModalHeader>\n      <ModalBody>\n        <div dangerouslySetInnerHTML={{ __html: data.message }} />\n      </ModalBody>\n      {createModalFooter(dispatch)}\n    </>\n  )\n}\n\nfunction OperatList () {\n  const [operats, setOperats] = useState([])\n  const dispatch = useDispatch()\n  const data = useSelector(state => state.modal.data)\n  const currentOperat = data.operat\n\n  // eslint-disable-next-line\n  useEffect(async () => {\n    const requestUrl = '/Operat/my?pageNumber=1&pageSize=9999999'\n    const requestOptions = {\n      method: 'GET',\n      headers: await callForHeader()\n    }\n    request(requestUrl, requestOptions).then((res) => setOperats(res))\n  }, [])\n\n  const listGroup = (\n    <ListGroup style={{ overflow: 'scroll', maxHeight: '67vh' }}>\n      {operats.map((operat) => (\n        <ListGroupItem\n          key={operat.id}\n          action\n          onClick={async () => {\n            const result = await confirm({\n              title: 'Ostrzeżenie',\n              message:\n                'Czy na pewno chcesz skopiować dane z tego operatu? Dane zostaną nadpisane',\n              confirmText: 'Kopiuj',\n              cancelText: 'Wróć',\n              confirmColor: 'success',\n              cancelColor: 'link text-primary'\n            })\n            if (result) {\n              const handleResponse = () => {\n                dispatch(hideLoadingScreen())\n                dispatch(getFormatedFiles())\n              }\n              dispatch(\n                showLoadingScreen(modalTypeConstants.LOADING, {\n                  message: 'Trwa kopiowanie danych z operatu'\n                })\n              )\n              switch (data.dataType) {\n                case 'params':\n                  operatFilesService\n                    .copyOperatParams(operat.id, currentOperat.id)\n                    .then(() => {\n                      handleResponse()\n                    })\n                  break\n                case 'csv':\n                  operatFilesService\n                    .copyOperatCsv(operat.id, currentOperat.id)\n                    .then(() => {\n                      handleResponse()\n                    })\n                  break\n                case 'photos':\n                  operatFilesService\n                    .copyOperatPhotos(operat.id, currentOperat.id)\n                    .then(() => {\n                      handleResponse()\n                    })\n                  break\n                case 'weights':\n                  operatFilesService\n                    .copyOperatWeights(operat.id, currentOperat.id)\n                    .then(() => {\n                      handleResponse()\n                    })\n                  break\n                default:\n              }\n            }\n          }}\n          tag='a'\n        >\n          {operat.name}\n        </ListGroupItem>\n      ))}\n    </ListGroup>\n  )\n  return (\n    <>\n      <ModalHeader>Wybierz operat, z którego chcesz skopiować dane</ModalHeader>\n      <ModalBody>\n        {operats.length > 0\n          ? listGroup\n          : 'Brak operatów, z których można by skopiować dane'}\n      </ModalBody>\n      {createModalFooter(dispatch, true)}\n    </>\n  )\n}\n\nfunction PayForOperat () {\n  const dispatch = useDispatch()\n  const data = useSelector(state => state.modal.data)\n  const publicSettings = useSelector(state => state.global.publicSettings)\n  return (\n    <>\n      <ModalHeader>Opłata za operat</ModalHeader>\n      <ModalBody>\n        <Row>\n          <Col>\n            Tytył przelewu: <b>{data.orderId}</b>\n            <br />\n            Nr konta: {publicSettings.bankAccount}\n            <br />\n            Pełna nazwa firmy: {publicSettings.companyName}\n            <br />\n            Adres: {publicSettings.companyAddress}\n          </Col>\n        </Row>\n      </ModalBody>\n      {createModalFooter(dispatch, true)}\n    </>\n  )\n}\n\nfunction CreateSubscriptionForm () {\n  const dispatch = useDispatch()\n  const [maxNrOfOperats, setMaxNumberOfOperats] = useState(20)\n  const [maxNrOfGenerations, setMaxNrOfGenerations] = useState(200)\n  const operator = useSelector(state => state.subscriptions.currentOperator)\n\n  async function submitCreateSubscriptionForm () {\n    const subscription = {\n      id: operator.id,\n      maxNrOfOperats,\n      maxNrOfGenerations\n    }\n\n    dispatch(createSubscription(subscription))\n  }\n\n  return (\n    <>\n      <ModalHeader>Utwórz subskrypcję</ModalHeader>\n      <Form\n        id='create-subscription-form'\n        onSubmit={(e) => {\n          e.preventDefault()\n          submitCreateSubscriptionForm()\n        }}\n      >\n        <ModalBody>\n          <Row>\n            <Col>\n              <h5>Operator</h5>\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <p>\n                <b>Id:&nbsp;</b>\n                {operator.id}\n              </p>\n              <p>\n                <b>Nazwa:&nbsp;</b>\n                {operator.name}\n              </p>\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <h5>Ustawienia subskrypcji</h5>\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <Label for='subscription-max-nr-of-operats'>\n                <b>Limit tworzenia operatów:</b>\n              </Label>\n              <Input\n                id='subscription-max-nr-of-operats'\n                type='number'\n                step='1'\n                min='1'\n                value={maxNrOfOperats}\n                onChange={e => {\n                  setMaxNumberOfOperats(parseInt(e.target.value))\n                }}\n              />\n            </Col>\n            <Col>\n              <Label for='subscription-max-nr-of-generations'>\n                <b>Limit tworzenia operatów:</b>\n              </Label>\n              <Input\n                id='subscription-max-nr-of-generations'\n                type='number'\n                step='1'\n                min='1'\n                value={maxNrOfGenerations}\n                onChange={e => {\n                  setMaxNrOfGenerations(parseInt(e.target.value))\n                }}\n              />\n            </Col>\n          </Row>\n        </ModalBody>\n        <ModalFooter>\n          <Button color='info' type='submit'>\n            Utwórz\n          </Button>\n          <Button\n            color='danger'\n            onClick={() => {\n              dispatch(hideLoadingScreen())\n            }}\n          >\n            Anuluj\n          </Button>\n        </ModalFooter>\n      </Form>\n    </>\n  )\n}\n\nfunction ModifySubscriptionFooter (dispatch) {\n  return (\n    <ModalFooter>\n      <Button\n        color='info'\n        onClick={() => { dispatch(hideLoadingScreen()); dispatch(loadOperatorsInfo()) }}\n      >Ok\n      </Button>\n    </ModalFooter>\n  )\n}\n\nfunction CreateSubscriptionSuccessful () {\n  const dispatch = useDispatch()\n  const { t } = useTranslation('common')\n  return (\n    <>\n      <ModalHeader>\n        {t('modal.messages.subscriptionSaved')}\n      </ModalHeader>\n      {ModifySubscriptionFooter(dispatch)}\n    </>\n  )\n}\n\nfunction ConfirmResetSubscriptions () {\n  const dispatch = useDispatch()\n  const { t } = useTranslation('common')\n  return (\n    <>\n      <ModalHeader>\n        {t('modal.messages.confirmResetSubscriptions')}\n      </ModalHeader>\n      <ModalFooter>\n        <Button\n          color='info'\n          onClick={() => {\n            dispatch(hideLoadingScreen())\n            dispatch(resetSubscriptions())\n          }}\n        >Ok\n        </Button>\n        <Button\n          color='danger'\n          onClick={() => {\n            dispatch(hideLoadingScreen())\n          }}\n        >Anuluj\n        </Button>\n      </ModalFooter>\n    </>\n  )\n}\n\nfunction ResetSubscriptionsSuccessful () {\n  const dispatch = useDispatch()\n  const { t } = useTranslation('common')\n  return (\n    <>\n      <ModalHeader>\n        {t('modal.messages.resetSubscriptionsSuccessful')}\n      </ModalHeader>\n      {ModifySubscriptionFooter(dispatch)}\n    </>\n  )\n}\n\nfunction AttachmentsOptions () {\n  const dispatch = useDispatch()\n  const [showSentAttachments, setShowSentAttachments] = useState(false)\n  const data = useSelector(state => state.modal.data)\n\n  async function handleJoinFiles () {\n    const url = `/Operat/id/${data.id}/join-attachments`\n    const requestOptions = {\n      method: 'POST',\n      headers: await callForHeader()\n    }\n\n    dispatch(\n      showLoadingScreen(modalTypeConstants.LOADING, {\n        message: 'Trwa łączenie plików'\n      })\n    )\n\n    request(url, requestOptions).then(_ => {\n      dispatch(\n        showLoadingScreen(modalTypeConstants.CONFIRM_SUCCESS, {\n          message: 'Pliki zostały połączone z operatem.'\n        })\n      )\n    }).catch((err) => {\n      dispatch(\n        showLoadingScreen(modalTypeConstants.CONFIRM_ERROR, {\n          message: err.message\n        })\n      )\n    })\n  }\n\n  return (\n    <>\n      <ModalHeader>Zarządzaj załącznikami</ModalHeader>\n      <ModalBody>\n        <Row>\n          <Button\n            color='info'\n            onClick={() => { dispatch(showLoadingScreen(modalTypeConstants.ADD_ATTACHMENTS, { id: data.id })) }}\n            style={{ width: '100%' }}\n          >\n            Prześlij załączniki\n          </Button>\n        </Row>\n        <Row>\n          <Button color='info' onClick={() => setShowSentAttachments(!showSentAttachments)}>\n            Pokaż przesłane załączniki\n          </Button>\n        </Row>\n        <Row>\n          <Collapse isOpen={showSentAttachments}>\n            <Card>\n              <CardBody>\n                {showSentAttachments && <SentAttachmentsTable id={data.id} />}\n              </CardBody>\n            </Card>\n          </Collapse>\n        </Row>\n        <Row>\n          <Button color='info' onClick={handleJoinFiles}>\n            Połącz pliki\n          </Button>\n        </Row>\n      </ModalBody>\n      <ModalFooter>\n        <Button\n          color='danger'\n          onClick={() => {\n            dispatch(hideLoadingScreen())\n          }}\n        >\n          Anuluj\n        </Button>\n      </ModalFooter>\n    </>\n  )\n}\n\nfunction AddAttachments () {\n  const dispatch = useDispatch()\n  const [isLoading, setIsLoading] = useState(true)\n  const [files, setFiles] = useState([])\n  const [includeOc, setIncludeOc] = useState(false)\n  const [includeDiploma, setIncludeDiploma] = useState(false)\n  const [sentFiles, setSentFiles] = useState([])\n  const maxFileCount = 20\n  const data = useSelector(state => state.modal.data)\n\n  useEffect(() => {\n    async function loadFiles () {\n      setIsLoading(true)\n      const url = `/OperatFiles/id/${data.id}`\n      const requestOptions = {\n        method: 'GET',\n        headers: await callForHeader('json')\n      }\n\n      request(url, requestOptions).then(response => {\n        const filteredFiles = response.filter(x => x.item1.includes('attachment')).map(x => {\n          const item1 = x.item1.replace('attachment/', '')\n          return ({ item1, item2: x.item2 })\n        })\n        setSentFiles(filteredFiles)\n      }).catch(_ => {\n      }).finally(() => {\n        setIsLoading(false)\n      })\n    }\n\n    loadFiles()\n  }, [data.id])\n\n  const toBigWarning = async () => {\n    await confirm({\n      title: <>Ostrzeżenie</>,\n      message: 'Minimum jeden z plików jest za duży.',\n      buttonsComponent: ({ onClose }) => (\n        <div>\n          <Button color='info' onClick={() => onClose(true)}>Ok</Button>\n        </div>\n      )\n    })\n  }\n\n  const fileLimitExceededWarning = async () => {\n    await confirm({\n      title: <>Ostrzeżenie</>,\n      message: 'Limit plików przekroczony.',\n      buttonsComponent: ({ onClose }) => (\n        <div>\n          <Button color='info' onClick={() => onClose(true)}>Ok</Button>\n        </div>\n      )\n    })\n  }\n\n  const showUploadedFiles = () => (\n    <Table>\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>Nazwa pliku</th>\n          <th />\n        </tr>\n      </thead>\n      {generateRows()}\n    </Table>\n  )\n\n  const generateRows = () => {\n    return files.map((item, id) =>\n      (\n        <tbody key={id}>\n          <tr>\n            <th scope='row'>{id + 1}</th>\n            <td>{item.file.name}</td>\n            <td>\n              <Button\n                color='danger'\n                onClick={() => {\n                  const filteredFiles = files.filter(x => x.id !== item.id)\n                  setFiles(filteredFiles)\n                }}\n              >\n                Usuń\n              </Button>\n            </td>\n          </tr>\n        </tbody>\n      ))\n  }\n\n  async function handleSendAttachments () {\n    dispatch(\n      showLoadingScreen(modalTypeConstants.LOADING, {\n        message: 'Trwa wysyłanie załączników'\n      })\n    )\n\n    const filesWithoutIds = files.map(x => x.file)\n    const formData = new FormData()\n    formData.append('includeoc', includeOc)\n    formData.append('includediploma', includeDiploma)\n    filesWithoutIds.forEach(x => formData.append('additionalattachments', x))\n\n    const url = `/OperatFiles/id/${data.id}/upload-attachments`\n    const requestOptions = {\n      method: 'POST',\n      headers: await callForHeader(),\n      body: formData\n    }\n\n    request(url, requestOptions).then(_ => {\n      dispatch(\n        showLoadingScreen(modalTypeConstants.CONFIRM_SUCCESS, {\n          message: 'Załączniki zostały przesłane.'\n        })\n      )\n    }).catch((err) => {\n      dispatch(\n        showLoadingScreen(modalTypeConstants.CONFIRM_ERROR, {\n          message: err.message\n        })\n      )\n    })\n  }\n\n  const onDrop = useCallback((acceptedFiles, fileRejections, sentFiles, files, includeOc, includeDiploma) => {\n    if (fileRejections.length > 0) {\n      toBigWarning()\n      return\n    }\n\n    if (acceptedFiles.length > 0) {\n      let uniqueFilesCount = sentFiles.length\n      const newFilesCount = files.filter(x => !sentFiles.some(y => y.item1 === x.file.name)).length\n      uniqueFilesCount = uniqueFilesCount + newFilesCount\n\n      if (!sentFiles.some(x => x.item1 === 'oc.pdf') && includeOc) {\n        uniqueFilesCount = uniqueFilesCount + 1\n      }\n\n      if (!sentFiles.some(x => x.item1 === 'diploma.pdf') && includeDiploma) {\n        uniqueFilesCount = uniqueFilesCount + 1\n      }\n\n      const filesToAdd = acceptedFiles.filter(x => !sentFiles.some(y => y.item1 === x.name))\n      uniqueFilesCount = uniqueFilesCount + filesToAdd.length\n\n      if (uniqueFilesCount > maxFileCount) {\n        fileLimitExceededWarning()\n        return\n      }\n\n      const filesToAddWithIds = filesToAdd.map(x => { return { id: uuidv4(), file: x } })\n      setFiles(prevState => [...prevState, ...filesToAddWithIds])\n    }\n  }, [])\n\n  const baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '20px',\n    borderWidth: 2,\n    borderRadius: 20,\n    borderColor: '#c2b7b7',\n    borderStyle: 'dashed',\n    color: '#0e0c0c',\n    outline: 'none'\n  }\n\n  const style = {\n    ...baseStyle\n  }\n\n  const { getRootProps, getInputProps } = useDropzone({\n    onDrop: (acceptedFiles, fileRejections, _) => onDrop(acceptedFiles, fileRejections, sentFiles, files, includeOc, includeDiploma),\n    multiple: true,\n    accept: '.pdf',\n    minSize: 0,\n    maxSize: 5242880\n  })\n\n  const modalBody = () => (\n    <ModalBody>\n      <h5>Standardowe załączniki</h5>\n      <Row>\n        <Col>\n          <Label for='input-oc'>Załącz ubezpieczenie OC: </Label>\n          <Input\n            id='input-oc'\n            type='checkbox'\n            style={{ marginLeft: '5px' }}\n            checked={includeOc}\n            onChange={_ => {\n              const countBefore = sentFiles.length + files.filter(x => !sentFiles.some(y => y.item1 === x.file.name)).length\n              const countAfter = !includeOc && !sentFiles.some(x => x.item1 === 'oc.pdf') ? countBefore + 1 : countBefore\n              if (includeOc === false && countAfter > maxFileCount) {\n                return\n              }\n              setIncludeOc(!includeOc)\n            }}\n          />\n        </Col>\n        <Col>\n          <Label for='input-diploma'>Załącz dyplom:</Label>\n          <Input\n            id='input-diploma'\n            type='checkbox'\n            style={{ marginLeft: '5px' }}\n            checked={includeDiploma}\n            onChange={_ => {\n              const countBefore = sentFiles.length + files.filter(x => !sentFiles.some(y => y.item1 === x.file.name)).length\n              const countAfter = !includeDiploma && !sentFiles.some(x => x.item1 === 'diploma.pdf') ? countBefore + 1 : countBefore\n              if (includeDiploma === false && countAfter > maxFileCount) {\n                return\n              }\n              setIncludeDiploma(!includeDiploma)\n            }}\n          />\n        </Col>\n      </Row>\n      <Col>\n        <h5 style={{ marginTop: '15px' }}>Dodatkowe załączniki</h5>\n        <div {...getRootProps({ style })}>\n          <input {...getInputProps()} />\n          <div>\n            <p>Upuść lub kliknij aby wczytac pliki.</p>\n            <p>Akceptowane formaty plików to: <b>pdf</b>.</p>\n            <p>Maksymalna wielkość pliku to 5 MB.</p>\n          </div>\n        </div>\n      </Col>\n      {\n        files && files.length > 0 &&\n          <Col>\n            <h5 style={{ marginTop: '15px' }}>Pliki do wysłania</h5>\n            {showUploadedFiles()}\n          </Col>\n      }\n    </ModalBody>\n  )\n\n  return (\n    <>\n      <ModalHeader>\n        Prześlij załączniki\n      </ModalHeader>\n      {\n        isLoading\n          ? <LoadingIndicator />\n          : modalBody()\n      }\n\n      <ModalFooter>\n        <Button\n          color='info'\n          onClick={handleSendAttachments}\n        >\n          Wyślij\n        </Button>\n        <Button\n          color='danger'\n          onClick={() => {\n            dispatch(hideLoadingScreen())\n          }}\n        >\n          Anuluj\n        </Button>\n      </ModalFooter>\n    </>\n  )\n}\n\nfunction SentAttachmentsTable ({ id }) {\n  const [files, setFiles] = useState([])\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    async function loadFiles () {\n      setIsLoading(true)\n      const url = `/OperatFiles/id/${id}`\n      const requestOptions = {\n        method: 'GET',\n        headers: await callForHeader('json')\n      }\n\n      request(url, requestOptions).then(response => {\n        const filteredFiles = response.filter(x => x.item1.includes('attachment')).map(x => {\n          const item1 = x.item1.replace('attachment/', '')\n          return ({ item1, item2: x.item2 })\n        })\n        setFiles(filteredFiles)\n      }).catch(_ => {\n      }).finally(() => {\n        setIsLoading(false)\n      })\n    }\n\n    loadFiles()\n  }, [id])\n\n  const showFiles = () => (\n    <Table>\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>Nazwa pliku</th>\n          <th />\n        </tr>\n      </thead>\n      {generateRows()}\n    </Table>\n  )\n\n  const generateRows = () => {\n    return files.map((item, idx) =>\n      (\n        <tbody key={idx}>\n          <tr>\n            <th scope='row'>{idx + 1}</th>\n            <td>{item.item1}</td>\n            <td><Button color='danger' onClick={() => handleDeleteItem(item.item1)}>Usuń</Button></td>\n            <td><Button color='info' onClick={() => handleDownloadItem(item)}>Pobierz</Button></td>\n          </tr>\n        </tbody>\n      ))\n  }\n\n  async function handleDeleteItem (filename) {\n    setIsLoading(true)\n    const url = `/OperatFiles/id/${id}/attachment/filename/${filename}`\n    const requestOptions = {\n      method: 'DELETE',\n      headers: await callForHeader()\n    }\n\n    request(url, requestOptions).then(_ => {\n      const filteredFiles = files.filter(x => x.item1 !== filename)\n      setFiles(filteredFiles)\n    }).catch(_ => {\n    }).finally(() => {\n      setIsLoading(false)\n    })\n  }\n\n  function handleDownloadItem (item) {\n    operatorFilesService.getFileBlob(item.item2, item.item1)\n  }\n\n  return (\n    <>\n      {\n        isLoading\n          ? <LoadingIndicator />\n          : (files && showFiles())\n      }\n    </>\n  )\n}\n\nfunction ConfirmSuccess () {\n  const dispatch = useDispatch()\n  const data = useSelector(state => state.modal.data)\n  return (\n    <>\n      <ModalHeader> Sukces </ModalHeader>\n      <ModalBody> {data.message}</ModalBody>\n      <ModalFooter>\n        <Button\n          color='info'\n          onClick={() => {\n            dispatch(hideLoadingScreen())\n          }}\n        >\n          Ok\n        </Button>\n      </ModalFooter>\n    </>\n  )\n}\n\nfunction ConfirmError () {\n  const dispatch = useDispatch()\n  const data = useSelector(state => state.modal.data)\n  return (\n    <>\n      <ModalHeader> Błąd </ModalHeader>\n      <ModalBody> {data.message} </ModalBody>\n      <ModalFooter>\n        <Button\n          color='info'\n          onClick={() => {\n            dispatch(hideLoadingScreen())\n          }}\n        >\n          Ok\n        </Button>\n      </ModalFooter>\n    </>\n  )\n}\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectModal = (state) => state.modal || initialState\n\nconst makeSelectShowModal = () =>\n  createSelector(selectModal, (state) => state.showModal)\n\nconst makeSelectType = () =>\n  createSelector(selectModal, (state) => state.type)\n\nconst makeSelectData = () =>\n  createSelector(selectModal, (state) => state.data)\n\nexport {\n  selectModal,\n  makeSelectShowModal,\n  makeSelectType,\n  makeSelectData\n}\n","import React, { memo } from 'react'\nimport { modalTypeConstants } from '../../constants'\nimport { Modal } from 'reactstrap'\n\nimport { Modals } from './Modals.collection'\nimport { hideLoadingScreen, showLoadingScreen } from './actions'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { makeSelectData, makeSelectShowModal, makeSelectType } from './selectors'\nimport { createStructuredSelector } from 'reselect'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport reducer from './reducer'\nconst key = 'modal'\nconst LoadingModal = (props) => {\n  useInjectReducer({ key, reducer })\n  const renderModal = () => {\n    switch (props.type) {\n      case modalTypeConstants.SHOW_NO_DATA:\n        return <Modals.ShowNoData />\n      case modalTypeConstants.CONFIRM_SEND_PROPOSITION:\n        return <Modals.ConfirmSendProposition />\n      case modalTypeConstants.TOO_MUCH_OPERATOR_FILES:\n        return <Modals.ToMuchOperatorFiles />\n      case modalTypeConstants.PROMOTE_USER_ERROR:\n        return <Modals.PromoteUserError />\n      case modalTypeConstants.SEND_OPERAT_CONFIRMATION:\n        return <Modals.SendOperatConfirmation />\n      case modalTypeConstants.SIGN_OPERAT:\n        return <Modals.SignOperat />\n      case modalTypeConstants.OWN_CERTIFICATE:\n        return <Modals.OwnCertificate />\n      case modalTypeConstants.NEW_CERTIFICATE:\n        return <Modals.NewCertificate />\n      case modalTypeConstants.ERROR_MESSAGE:\n        return <Modals.ErrorMessage />\n      case modalTypeConstants.LOADING:\n        return <Modals.Loading />\n      case modalTypeConstants.OPERATS_LIST_MODAL:\n        return <Modals.OperatList />\n      case modalTypeConstants.SEND_OPERAT_MODAL:\n        return <Modals.SendOperat />\n      case modalTypeConstants.PAY_FOR_OPERAT:\n        return <Modals.PayForOperat />\n      case modalTypeConstants.CREATE_SUBSCRIPTION_FORM:\n        return <Modals.CreateSubscriptionForm />\n      case modalTypeConstants.CREATE_SUBSCRIPTION_SUCCESSFUL:\n        return <Modals.CreateSubscriptionSuccessful />\n      case modalTypeConstants.CONFIRM_RESET_SUBSCRIPTIONS:\n        return <Modals.ConfirmResetSubscriptions />\n      case modalTypeConstants.RESET_SUBSCRIPTIONS_SUCCESSFUL:\n        return <Modals.ResetSubscriptionsSuccessful />\n      case modalTypeConstants.ADD_ATTACHMENTS:\n        return <Modals.AddAttachments />\n      case modalTypeConstants.ATTACHMENTS_OPTIONS:\n        return <Modals.AttachmentsOptions />\n      case modalTypeConstants.CONFIRM_SUCCESS:\n        return <Modals.ConfirmSuccess />\n      case modalTypeConstants.CONFIRM_ERROR:\n        return <Modals.ConfirmError />\n      default:\n        break\n    }\n  }\n\n  return (\n    <div>\n      <Modal isOpen={props.showModal}>{renderModal()}</Modal>\n    </div>\n  )\n}\n\nconst mapStateToProps = createStructuredSelector({\n  showModal: makeSelectShowModal(),\n  type: makeSelectType(),\n  data: makeSelectData()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleShowLoadingScreen: () => dispatch(showLoadingScreen()),\n    handleHideLoadingScreen: () => dispatch(hideLoadingScreen())\n  }\n}\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(LoadingModal)\n","import { modalTypeConstants } from '../../constants'\nimport { call, put, takeEvery } from 'redux-saga/effects'\nimport { callForHeader } from 'utils/HeadersCall'\nimport request from 'utils/request'\nimport { hideLoadingScreen, showLoadingScreen } from 'views/Modal/actions'\nimport { ekwDataLoaded, loadOperatTypesError, loadUserError, operatTypesLoaded, publicSettingsLoaded, userLoaded } from './actions'\nimport { LOAD_EKW_DATA, LOAD_OPERAT_TYPES, LOAD_PUBLIC_SETTINGS, LOAD_USER } from './constants'\nimport { handleRequestWithTimeout } from 'views/Modal/timeout'\n\nexport function * getOperatTypes () {\n  const requestUrl = '/OperatType'\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const operatTypes = yield call(request, requestUrl, options)\n    yield put(operatTypesLoaded(operatTypes))\n  } catch (err) {\n    yield put(loadOperatTypesError(err))\n  }\n}\n\nexport function * getUser (action) {\n  const userId = action.id\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  let requestUrl = ''\n  try {\n    const userType = yield call(request, `/User/id/${userId}`, options)\n    switch (userType) {\n      case 'admin':\n        requestUrl = `/Admin/id/${userId}`\n        break\n      case 'client':\n        requestUrl = `/Client/id/${userId}`\n        break\n      case 'operator':\n        requestUrl = `/Operator/id/${userId}`\n        break\n      default:\n    }\n    if (requestUrl === '') {\n      yield put(loadUserError('user not found'))\n    } else {\n      yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'loadingData', translate: true }))\n\n      const user = yield call(handleRequestWithTimeout, requestUrl, options)\n      yield put(userLoaded({ user, userType }))\n      yield put(hideLoadingScreen())\n    }\n  } catch (err) {\n    yield put(hideLoadingScreen())\n    yield put(loadUserError(err))\n  }\n}\n\nexport function * getEkwData () {\n  const regionsUrl = '/LandRegister/regions'\n  const weightsUrl = '/LandRegister/weights'\n  const multipliersUrl = '/LandRegister/multipliers'\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const regions = yield call(request, regionsUrl, options)\n    const weights = yield call(request, weightsUrl, options)\n    const multipliers = yield call(request, multipliersUrl, options)\n    yield put(ekwDataLoaded({ regions, weights, multipliers }))\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport function * getPublicSettings () {\n  const requestUrl = '/Info/PublicSettings'\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const publicSettings = yield call(request, requestUrl, options)\n    yield put(publicSettingsLoaded(publicSettings))\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport default function * watch () {\n  yield takeEvery(LOAD_OPERAT_TYPES, getOperatTypes)\n  yield takeEvery(LOAD_USER, getUser)\n  yield takeEvery(LOAD_EKW_DATA, getEkwData)\n  yield takeEvery(LOAD_PUBLIC_SETTINGS, getPublicSettings)\n}\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectChat = (state) => state.chat || initialState\nconst makeSelectConnection = () =>\n  createSelector(selectChat, (state) => state.connection)\n\nconst makeSelectMessages = () =>\n  createSelector(selectChat, (state) => state.messages)\n\nconst makeSelectCurrentlyChatWith = () =>\n  createSelector(selectChat, (state) => state.currentlyChatWith)\n\nconst makeSelectConversations = () =>\n  createSelector(selectChat, (state) => state.conversations)\nconst makeSelectChatIsOpen = () =>\n  createSelector(selectChat, state => state.chatIsOpen)\nexport {\n  selectChat,\n  makeSelectConnection,\n  makeSelectMessages,\n  makeSelectCurrentlyChatWith,\n  makeSelectConversations,\n  makeSelectChatIsOpen\n}\n","import { put, takeLatest } from 'redux-saga/effects'\nimport { markConversationAsRead, setChatIsOpen, setCurrentlyChatWith } from './actions'\nimport { OPEN_CHAT } from './constants'\n\nexport function * openChat (action) {\n  yield put(setCurrentlyChatWith(action.user))\n  yield put(markConversationAsRead(action.user.id))\n  yield put(setChatIsOpen(true))\n}\n\nexport default function * watch () {\n  yield takeLatest(OPEN_CHAT, openChat)\n}\n","import { Offcanvas, OffcanvasHeader, OffcanvasBody, ListGroup, ListGroupItem, Badge } from 'reactstrap'\nimport { Launcher } from '@patrykzych/react-chat-window'\nimport { memo, useEffect, useState } from 'react'\nimport { callForHeader } from 'utils/HeadersCall'\nimport { HubConnectionBuilder, LogLevel } from '@microsoft/signalr'\nimport { useMsal } from '@azure/msal-react'\nimport { addNotification } from 'utils/addNotification'\nimport { compose } from 'redux'\nimport { v4 as uuidv4 } from 'uuid'\nimport { connect } from 'react-redux'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectChatIsOpen, makeSelectConnection, makeSelectConversations, makeSelectCurrentlyChatWith, makeSelectMessages } from './selectors'\nimport {\n  loadConversations, loadMessagesWithUser, markConversationAsRead, markConversationAsUnread,\n  markMessagesAsSeen, openChat, setChatIsOpen, setConnection,\n  setCurrentlyChatWith, setMessagesWithUser, toggleMessageVisible\n} from './actions'\nimport { toDateString } from 'utils/DateFormat'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useTranslation } from 'react-i18next'\nconst key = 'chat'\nexport const Chat = (props) => {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const { accounts } = useMsal()\n  const { t } = useTranslation('common')\n  const [usersOffcanvasOpen, setUsersOffcanvasOpen] = useState(false)\n  const [, setUsers] = useState([])\n  const [connection, setConnection] = useState({})\n  // eslint-disable-next-line\n  useEffect(() => {\n    async function fetchData () {\n      await joinRoom()\n      const requestOptions = {\n        method: 'GET',\n        headers: await callForHeader('json')\n      }\n      fetch(process.env.REACT_APP_API_URL + '/Client?pageNumber=1&pageSize=999999', requestOptions).then(res => res.json()).then(res => setUsers(res))\n    }\n    fetchData()\n    // eslint-disable-next-line\n  }, [])\n  async function joinRoom () {\n    try {\n      const connection = new HubConnectionBuilder()\n        .withUrl(process.env.REACT_APP_API_URL + '/chat')\n        .configureLogging(LogLevel.Information)\n        .build()\n\n      connection.on('ReceiveMessage', (userId, message) => {\n        const newMess = {\n          date: toDateString(new Date(), t('months', { returnObjects: true })),\n          id: uuidv4(),\n          author: 'them',\n          data: {\n            text: message\n          },\n          type: 'text'\n        }\n        addNotification('', 'Otrzymałeś nową wiadomość, sprawdź czat.', 'success')\n        props.handleSetMessagesWithUser(userId, newMess)\n        props.handleMarkConversationAsUnread(userId)\n      })\n\n      connection.on('LoadMessages', (userId, messages) => {\n        props.handleLoadMessagesWithUser(userId, messages, t('months', { returnObjects: true }))\n      })\n\n      connection.on('SawMessages', (userId) => props.handleMarkMessagesAsSeen(userId))\n      connection.on('LoadConversations', (conversations) => {\n        props.handleLoadConversations(conversations)\n      })\n\n      connection.onclose(e => {\n        props.handleSetConnection({})\n      })\n\n      await connection.start()\n      await connection.invoke('JoinRoom', accounts[0].idTokenClaims.oid)\n      setConnection(connection)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  const sendMessage = async (e) => {\n    try {\n      await connection.invoke('SendPrivateMessage', props.currentlyChatWith.id, e.data.text ? e.data.text : e.data.emoji)\n      e.date = toDateString(new Date(), t('months', { returnObjects: true }))\n      e.id = uuidv4()\n      e.status = 'sent'\n      props.handleSetMessagesWithUser(props.currentlyChatWith.id, e)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  // eslint-disable-next-line\n    useEffect(async () => {\n    if (!props.currentlyChatWith.id) return\n    if (props.chatIsOpen === false) return\n    try {\n      await connection.invoke('GetMessagesBetween2Users', props.currentlyChatWith.id)\n      await connection.invoke('SeeMessages', props.currentlyChatWith.id)\n    } catch (err) {\n      console.log(err)\n    }\n    // eslint-disable-next-line\n    }, [props.chatIsOpen])\n  const openChat = async (user) => {\n    props.handleOpenChat(user, connection)\n    setUsersOffcanvasOpen(false)\n  }\n\n  return (\n    <>\n      <Offcanvas toggle={() => setUsersOffcanvasOpen(prev => !prev)} isOpen={usersOffcanvasOpen}>\n        <OffcanvasHeader toggle={() => setUsersOffcanvasOpen(prev => !prev)}>\n          {t('chat.conversations')}\n        </OffcanvasHeader>\n        <OffcanvasBody>\n          <ListGroup className='list-group-hover' style={{ cursor: 'pointer' }}>\n            {props.conversations && props.conversations.map((e) =>\n              <ListGroupItem\n                className='justify-content-between'\n                style={{ fontWeight: e.unread ? 'bold' : 'normal' }} key={e.client.id} onClick={async () => await openChat(e.client)}\n              >{e.client.name + ' '}\n                {e.unread && <Badge pill color='primary'>{t('chat.new')}</Badge>}\n              </ListGroupItem>)}\n          </ListGroup>\n        </OffcanvasBody>\n      </Offcanvas>\n      <Launcher\n        isOpen={props.chatIsOpen}\n        handleClick={() => { if (props.chatIsOpen) props.handleSetChatIsOpen(false); else setUsersOffcanvasOpen(true) }}\n        onMessageWasSent={async e => { await sendMessage(e) }}\n        agentProfile={{\n          teamName: props.currentlyChatWith.name && props.currentlyChatWith.name\n        }}\n        newMessagesCount={props.conversations ? props.conversations.filter(x => x.unread).length : 0}\n        onMessageClick={(data) => { props.handleToggleMessageVisible(props.currentlyChatWith.id, data.id) }}\n        messageList={Object.prototype.hasOwnProperty.call(props.messages, props.currentlyChatWith.id) && props.messages[props.currentlyChatWith.id]}\n        showEmoji\n      />\n    </>\n  )\n}\n\nconst mapStateToProps = createStructuredSelector({\n  connection: makeSelectConnection(),\n  messages: makeSelectMessages(),\n  currentlyChatWith: makeSelectCurrentlyChatWith(),\n  conversations: makeSelectConversations(),\n  chatIsOpen: makeSelectChatIsOpen()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleLoadMessagesWithUser: (userId, messages, monthNames) => dispatch(loadMessagesWithUser(userId, messages, monthNames)),\n    handleSetMessagesWithUser: (userId, message) => dispatch(setMessagesWithUser(userId, message)),\n    handleSetConnection: (connection) => dispatch(setConnection(connection)),\n    handleSetCurrentlyChatWith: (user) => dispatch(setCurrentlyChatWith(user)),\n    handleLoadConversations: (conversations) => dispatch(loadConversations(conversations)),\n    handleMarkConversationAsRead: (userId) => dispatch(markConversationAsRead(userId)),\n    handleMarkConversationAsUnread: (userId) => dispatch(markConversationAsUnread(userId)),\n    handleSetChatIsOpen: (payload) => dispatch(setChatIsOpen(payload)),\n    handleToggleMessageVisible: (userId, messageId) => dispatch(toggleMessageVisible(userId, messageId)),\n    handleMarkMessagesAsSeen: (userId) => dispatch(markMessagesAsSeen(userId)),\n    handleOpenChat: (user, connection) => dispatch(openChat(user, connection))\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(Chat)\n","import React, { memo, useEffect } from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport { Route, Switch, useHistory } from 'react-router-dom'\n\nimport {\n  MsalProvider,\n  AuthenticatedTemplate,\n  UnauthenticatedTemplate,\n  useMsal\n} from '@azure/msal-react'\nimport { CustomNavigationClient } from '../../utils/NavigationClient'\nimport { EventType, InteractionType } from '@azure/msal-browser'\nimport { b2cPolicies } from '../../authConfig'\n\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'assets/scss/paper-dashboard.scss?v=1.2.0'\nimport 'assets/demo/demo.css'\nimport 'assets/css/styles.css'\nimport 'perfect-scrollbar/css/perfect-scrollbar.css'\n\nimport GeneralLayout from '../../layouts/GeneralLayout'\nimport Login from '../Login'\nimport LoadingModal from '../Modal/LoadingModal'\nimport { createStructuredSelector } from 'reselect'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport reducer from './reducer'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport saga from './saga'\nimport { ReactNotifications } from 'react-notifications-component'\nimport 'react-notifications-component/dist/theme.css'\nimport Chat from 'views/Chat/Chat'\nimport { makeSelectUser } from './selectors'\nimport { loadEkwData, loadOperatTypes, loadPublicSettings, loadUser } from './actions'\n\nconst key = 'global'\nconst App = (props) => {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  // The next 3 lines are optional. This is how you configure MSAL to take advantage of the router's navigate functions when MSAL redirects between pages in your app\n  const history = useHistory()\n  const navigationClient = new CustomNavigationClient(history)\n  props.pca.setNavigationClient(navigationClient)\n  return (\n    <MsalProvider instance={props.pca}>\n      <ReactNotifications />\n      <MainContent\n        pca={props.pca} handleLoadUser={props.handleLoadUser}\n        handleLoadOperatTypes={props.handleLoadOperatTypes}\n        handleLoadPublicSettings={props.handleLoadPublicSettings}\n        handleLoadEkwData={props.handleLoadEkwData}\n      />\n    </MsalProvider>\n  )\n}\n\nconst MainContent = (props) => {\n  const { instance } = useMsal()\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  /**\n   * Using the event API, you can register an event callback that will do something when an event is emitted.\n   * When registering an event callback in a react component you will need to make sure you do 2 things.\n   * 1) The callback is registered only once\n   * 2) The callback is unregistered before the component unmounts.\n   * For more, visit: https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-react/docs/events.md\n   */\n  useEffect(() => {\n    const callbackId = instance.addEventCallback((event) => {\n      if (event.eventType === EventType.LOGIN_FAILURE) {\n        if (\n          event.error &&\n          event.error.errorMessage.indexOf('AADB2C90118') > -1\n        ) {\n          if (event.interactionType === InteractionType.Redirect) {\n            instance.loginRedirect(b2cPolicies.authorities.forgotPassword)\n          } else if (event.interactionType === InteractionType.Popup) {\n            instance\n              .loginPopup(b2cPolicies.authorities.forgotPassword)\n\n              .catch((e) => {\n\n              })\n          }\n        }\n        if (\n          event.error &&\n          event.error.errorMessage.indexOf('AADB2C90091') > -1\n        ) {\n          if (event.interactionType === InteractionType.Redirect) {\n            instance.loginRedirect(b2cPolicies.authorities.signUpSignIn)\n          } else if (event.interactionType === InteractionType.Popup) {\n            instance\n              .loginPopup(b2cPolicies.authorities.signUpSignIn)\n              .catch((e) => {\n\n              })\n          }\n        }\n      }\n\n      if (event.eventType === EventType.LOGIN_SUCCESS) {\n        if (event?.payload) {\n          const accounts = props.pca.getAllAccounts()\n          if (accounts.length > 0) {\n            props.pca.setActiveAccount(accounts[0])\n            props.handleLoadUser(accounts[0].idTokenClaims.oid)\n            props.handleLoadEkwData()\n            props.handleLoadPublicSettings()\n            props.handleLoadOperatTypes()\n          }\n          /**\n           * We need to reject id tokens that were not issued with the default sign-in policy.\n           * \"acr\" claim in the token tells us what policy is used (NOTE: for new policies (v2.0), use \"tfp\" instead of \"acr\").\n           * To learn more about B2C tokens, visit https://docs.microsoft.com/en-us/azure/active-directory-b2c/tokens-overview\n           */\n          if (\n            event.payload.idTokenClaims.tfp ===\n            b2cPolicies.names.forgotPassword\n          ) {\n            window.alert(\n              'Password has been reset successfully. \\nPlease sign-in with your new password'\n            )\n            return instance.logout()\n          }\n        }\n      }\n    })\n\n    return () => {\n      if (callbackId) {\n        instance.removeEventCallback(callbackId)\n      }\n    }\n    // eslint-disable-next-line\n  }, [instance])\n\n  return (\n    <div className='App'>\n      <AuthenticatedTemplate>\n\n        <Pages />\n      </AuthenticatedTemplate>\n\n      <UnauthenticatedTemplate>\n        <Login />\n      </UnauthenticatedTemplate>\n    </div>\n  )\n}\n\nfunction Pages (props) {\n  const { instance } = useMsal()\n  const { t } = useTranslation('common')\n\n  const activeAccount = () => {\n    const acc = instance.getActiveAccount()\n    return acc\n  }\n\n  return (\n    <>\n      <Switch>\n        <Route path='/' render={(props) => <GeneralLayout t={t} {...props} account={activeAccount()} />} />\n      </Switch>\n      <LoadingModal />\n      <Chat />\n    </>\n  )\n}\n\nconst mapStateToProps = createStructuredSelector({\n  user: makeSelectUser()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleLoadOperatTypes: () => dispatch(loadOperatTypes()),\n    handleLoadEkwData: () => dispatch(loadEkwData()),\n    handleLoadPublicSettings: () => dispatch(loadPublicSettings()),\n    handleLoadUser: (id) => dispatch(loadUser(id))\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(App)\n","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport App from './views/App/App'\nimport i18n from './i18n'\nimport { I18nextProvider } from 'react-i18next'\n\nimport { PublicClientApplication } from '@azure/msal-browser'\nimport { msalConfig } from './authConfig'\nimport history from './utils/history'\nimport configureStore from 'configureStore'\n\nexport const msalInstance = new PublicClientApplication(msalConfig)\n\nconst accounts = msalInstance.getAllAccounts()\nif (accounts.length > 0) {\n  msalInstance.setActiveAccount(accounts[0])\n}\nconst initialState = {}\nconst { store } = configureStore(initialState, history)\n\nconst AppProvider = () => (\n  <Provider store={store}>\n    <React.StrictMode>\n      <I18nextProvider i18n={i18n}>\n        <BrowserRouter>\n          <App pca={msalInstance} />\n        </BrowserRouter>\n      </I18nextProvider>\n    </React.StrictMode>\n  </Provider>\n\n)\n\nReactDOM.render(<AppProvider />, document.getElementById('root'))\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport { routerMiddleware } from 'connected-react-router'\nimport createSagaMiddleware from 'redux-saga'\nimport createReducer from './reducers'\n\nexport default function configureStore (initialState = {}, history) {\n  let composeEnhancers = compose\n  const reduxSagaMonitorOptions = {}\n\n  // If Redux Dev Tools and Saga Dev Tools Extensions are installed, enable them\n  /* istanbul ignore next */\n  if (process.env.NODE_ENV !== 'production' && typeof window === 'object') {\n    /* eslint-disable no-underscore-dangle */\n    if (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) { composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) }\n\n    // NOTE: Uncomment the code below to restore support for Redux Saga\n    // Dev Tools once it supports redux-saga version 1.x.x\n    // if (window.__SAGA_MONITOR_EXTENSION__)\n    //   reduxSagaMonitorOptions = {\n    //     sagaMonitor: window.__SAGA_MONITOR_EXTENSION__,\n    //   };\n    /* eslint-enable */\n  }\n\n  const sagaMiddleware = createSagaMiddleware(reduxSagaMonitorOptions)\n\n  // Create the store with two middlewares\n  // 1. sagaMiddleware: Makes redux-sagas work\n  // 2. routerMiddleware: Syncs the location/URL path to the state\n  const middlewares = [sagaMiddleware, routerMiddleware(history)]\n\n  const enhancers = [applyMiddleware(...middlewares)]\n  const loadState = () => {\n    try {\n      const serializedState = localStorage.getItem('state')\n      if (serializedState === null) {\n        return undefined\n      }\n      return JSON.parse(serializedState)\n    } catch (e) {\n      return undefined\n    }\n  }\n\n  const saveState = (state) => {\n    try {\n      const serializedState = JSON.stringify(state)\n      localStorage.setItem('state', serializedState)\n    } catch (e) {\n      // Ignore write errors;\n    }\n  }\n  const peristedState = loadState()\n\n  const store = createStore(\n    createReducer(),\n    peristedState || initialState,\n    composeEnhancers(...enhancers)\n  )\n  store.subscribe(() => {\n    saveState(store.getState())\n  })\n\n  // Extensions\n  store.runSaga = sagaMiddleware.run\n  store.injectedReducers = {} // Reducer registry\n  store.injectedSagas = {} // Saga registry\n\n  // Make reducers hot reloadable, see http://mxs.is/googmo\n  /* istanbul ignore next */\n  if (module.hot) {\n    module.hot.accept('./reducers', () => {\n      store.replaceReducer(createReducer(store.injectedReducers))\n    })\n  }\n  return { store }\n}\n"],"sourceRoot":""}