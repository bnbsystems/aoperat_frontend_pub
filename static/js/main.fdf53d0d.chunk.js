(this["webpackJsonpaoperat-react"]=this["webpackJsonpaoperat-react"]||[]).push([[0],{213:function(e){e.exports=JSON.parse('{"common":{"orderInfo":{"address":"Adres","description":"Opis","orderSubject":"Przedmiot wyceny","valuationScope":"Zakres wyceny","landRegisterNumber":"Numer ksi\u0119gi wieczystej","propertyIdentification":"Identyfikacja nieruchomo\u015bci"},"userInfo":{"role":"Rola","mail":"Adres e-mail","phone":"Numer telefonu","nameWithTitle":"Tytu\u0142 naukowy","address":"Adres","description":"Opis","orderDescription":"Opis zlecenia","offeredPrice":"Oferowana cena","noPayerInfo":"Brak informacji o zleceniodawcy","endDate":"Przewidywany termin dostarczenia","makeAnOffer":" Z\u0142\xf3\u017c ofert\u0119"},"send":"Wy\u015blij","warning":"Ostrze\u017cenie","delete":"Usu\u0144","add":"Dodaj"},"market":{"table":{"headers":{"id":"ID zlecenia","inProgress":"W trakcie tworzenia","applicationDate":"Data zg\u0142oszenia","name":"Tytul zlecenia","status":"Status","description":"Opis","upTillDate":"Do terminu","price":"Cena","accept-resign":"Akceptuj/Rezygnuj","authorizedExperts":"Wymagany rzeczoznawca wpisany do bazy rzeczoznawc\xf3w Zwi\u0105zku Bank\xf3w Polskich","aoperatValidation":"Wykorzystuje szablon AOperat","postCode":"Kod pocztowy"},"statuses":{"announced":"Og\u0142oszone","reserved":"Zarezerwowane","paid":"Zap\u0142acone","inProgress":"W trakcie tworzenia","generated":"Utworzony","signed":"Podpisany"},"buttons":{"orderData":"Dane zlecenia","submittOffer":"Sk\u0142adanie oferty","submittedOffers":"Wys\u0142ane oferty","newOrder":"Nowe zlecenie","payerInformation":"Informacje o zleceniodawcy","deleteOrder":"Usu\u0144 zlecenie","resign":"Rezygnuj","accept":"Akceptuj"},"confirm":{"warning":"Ostrze\u017cenie","message":"Czy na pewno chcesz usun\u0105\u0107 zlecenie ?","delete":"Usu\u0144","back":"Wr\xf3\u0107"}},"market":"Gie\u0142da zlece\u0144","newOrder":{"newOrdrer":"Nowe zlecenie","postalCode":"Kod pocztowy","namePlaceholder":"Napisz unikatowy tytu\u0142 zlecenia.","descriptionPlaceholder":"Opisz nieruchomo\u015b\u0107 i opis jaki operat potrzebujesz. Moze by\u0107 \\"mieszkanie ~26m2, blisko do centrum. wycena do ko\u0144ca miesi\u0105ca\\"","addressPlaceholder":"Podaj adres nieruchomo\u015bci lub numer dzialki w powiecie. Mo\u017ce by\u0107: \\"ul Mickiewicz 39, Krak\xf3w\\""},"showOrderId":"Pokaza\u0107 ID zlecenia ?","showPropositionId":"Pokaza\u0107 ID poropzycji ?"},"history":{"history":"Operaty","showOperatId":"Pokaza\u0107 ID operatu ?","table":{"headers":{"id":"ID operatu","inProgress":"W trakcie tworzenia","applicationDate":"Data zg\u0142oszenia","informations":"Informacje o operacie, zleceniu i propozycji zlecenia"},"statuses":{"announced":"Og\u0142oszone","reserved":"Zarezerwowane","paid":"Zap\u0142acone","inProgress":"W trakcie tworzenia","generated":"Utworzony","signed":"Podpisany"},"buttons":{"showOperat":"Poka\u017c wniosek","copy":"Kopiuj operat","delete":"Usu\u0144 operat","download":"Pobierz","sign":"Podpisz","send":"Wy\u015blij","uploadSigned":"Wgraj podpisany operat"},"confirm":{"warning":"Ostrze\u017cenie","message":"Czy na pewno chcesz usun\u0105\u0107 operat?","delete":"Usu\u0144","back":"Wr\xf3\u0107"}}},"userProfile":{"userProfile":"Profil","profileEdition":"Edycja profilu","userName":"Nazwa u\u017cytkownika / Login","userEmail":"Email","userFirstName":"Imi\u0119","userLastName":"Nazwisko","userStreet":"Ulica","userCity":"Miasto","userLicenceNumber":"Nr uprawnie\u0144","userPostalCode":"Kod Pocztowy","userDegree":"Tytu\u0142 naukowy","inZbpList":"Jestem wpisany do listy rzeczoznawc\xf3w prowadzonej przez Zwi\u0105zek Bank\xf3w Polskich."},"users":{"users":"U\u017cytkownicy"},"icons":{"icons":"Ikonki"},"maps":{"maps":"Mapy"},"notifications":{"notifications":"Powiadomienia"},"typography":{"typography":"Typografia"},"create":{"notification":{"message":"Tw\xf3j operat zosta\u0142 utworzony, o jego dostepno\u015bci i statusie zostaniesz powiadomiony wkr\xf3tce"},"buttons":{"generate":"Generuj","edit":"Klik aby edytowa\u0107 dane","description":"Dane opisowe","csvFiles":"Pliki CSV","photos":"Zdj\u0119cia"},"inputs":{"author":{"author":{"description":"Rzeczoznawca wykonujacy operat","tooltip":"Imi\u0119 rzeczoznawcy wykonujacego operat"},"authorAccusative":{"description":"Rzeczoznawca wykonujacy operat ( w bierniku)","tooltip":"Imi\u0119 rzeczoznawcy wykonujacego operat ( w bierniku)"},"place":{"description":"Miasto","tooltip":"Miasto siedziby rzeczoznawcy"}},"adress":{"street":{"description":"Ulica","tooltip":"Pee\u0142ny adres np: ul. Mickiewicza 18"},"surroundings":{"description":"Okolica","tooltip":"Adres okolicy"},"surroundingsAccusative":{"description":"Okolica w miejscowniku","tooltip":"Adres w miejscowniku"},"apartmentNumber":{"description":"Nr mieszkania","tooltip":"Nr opisywanego mieszkania"},"city":{"description":"Miasto","tooltip":"Miasto w kt\xf3rym znajduje sie mieszkanie"},"cityAccusative":{"description":"Miasto","tooltip":"Miasto w kt\xf3rym znajduje sie mieszkanie w miejscowniku"},"full":{"description":"Pe\u0142ny adres","tooltip":"Wprowad\u017a pe\u0142ny adres"}},"neighborhood":{"north":{"description":"P\xf3\u0142noc","tooltip":"Opis p\xf3\u0142nocnego s\u0105siedztwa"},"south":{"description":"Po\u0142udnie","tooltip":"Opis po\u0142udniowego s\u0105siedztwa"},"east":{"description":"Wsch\xf3d","tooltip":"Opis wschodniego s\u0105siedztwa"},"west":{"description":"Zach\xf3d","tooltip":"Opis zachodniego s\u0105siedztwa"},"characteristic":{"description":"Charakterystyka","tooltip":"Charakterystyka okolicy"},"investments":{"description":"Inwestycje","tooltip":"Opis potencja\u0142u inwestycyjnego"}},"relevantDates":{"dateOfCreation":{"description":"Data wykonania","tooltip":"Podaj dat\u0119 wykonania operatu"},"dateOfSiteVisit":{"description":"Data wizji lokalnej","tooltip":"Numer ksiegi wieczystej"}},"landRegister":{"nr":{"description":"Nr","tooltip":"Podaj dat\u0119 wykonania operatu"},"conductedBy":{"description":"Prowadzona przez","tooltip":"S\u0105d prowadz\u0105cy"},"type":{"description":"Typ","tooltip":"Typ lokalu wg KW"},"area":{"description":"Powierzchnia","tooltip":"Powierzchnia lokalu wg KW"},"commonShare":{"description":"Udzia\u0142 wsp\xf3lny","tooltip":"Udzia\u0142 wsp\xf3lny wg KW"},"commonShareBySides":{"description":"Udzia\u0142 wsp\xf3lny stron","tooltip":"Udzia\u0142 wsp\xf3lny stron wg KW"},"possession":{"description":"W\u0142adanie","tooltip":"Udzia\u0142 zwi\u0105zany z w\u0142asno\u015bci\u0105 lokalu"},"owner":{"description":"W\u0142a\u015bciciel","tooltip":"W\u0142a\u015bciciel lokalu wg KW"},"storey":{"description":"Kondygnacja","tooltip":"Kondygnacja lokalu wg KW"},"yearsOfConstruction":{"description":"Lata budowy","tooltip":"Lata budowy wg KW"},"numberOfStoreys":{"description":"Ilo\u015b\u0107 kondygnacji","tooltip":"Ilo\u015b\u0107 kondygnacji budynku wg KW"},"constructionTechnology":{"description":"Technologia budowy","tooltip":"Technologia budowy wg KW"},"lift":{"description":"Winda","tooltip":"Czy budynek posiada wind\u0119"},"dateOfLMLastRecording":{"description":"Data utworzenia KW","tooltip":"Podaj data utworzenia KW"},"dateOfLMCreation":{"description":"Data za\u0142o\u017cenia KW","tooltip":"Data za\u0142o\u017cenia KW"},"dateOfOwnership":{"description":"Data ustanowienia w\u0142asno\u015bci","tooltip":"Data ustanowienia w\u0142asno\u015bci wg KW"},"dateOfEstabilishingLM":{"description":"Data ustanowienia hipoteki","tooltip":"Data ustanowienia hipoteki wg KW"},"valueOfLM":{"description":"Warto\u015b\u0107 hipoteki","tooltip":"Warto\u015b\u0107 hipoteki wg KW"},"subjectOfLM":{"description":"Podmiot hipoteki","tooltip":"Podmiot hipoteki wg KW"}},"landAndPropertyRegistration":{"nr":{"description":"Nr KW gruntowej","tooltip":"Nr KW gruntowej"},"area":{"description":"Powierzchnia dzia\u0142ki","tooltip":"Powierzchnia dzia\u0142ki wg KW"},"ewidenceNumber":{"description":"Nr Ewidencyjny dzia\u0142ki","tooltip":"Nr Ewidencyjny dzia\u0142ki wg KW"},"precinkt":{"description":"Nr obr\u0119bu","tooltip":"Nr obr\u0119bu wg KW"},"type":{"description":"Typ","tooltip":"Typ wg KW"},"dateOfCreation":{"description":"Data za\u0142o\u017cenia ksi\u0119gi","tooltip":"Podaj dat\u0119 za\u0142o\u017cenia ksi\u0119gi"},"dateOfEntry":{"description":"Data wpisu","tooltip":"Data wpisu do ksi\u0119gi"},"owner":{"description":"W\u0142a\u015bciciel","tooltip":"W\u0142a\u015bciciel gruntu wg KW"}},"place":{"structure":{"description":"Struktura lokalu","tooltip":"Np: 1 ppok\xf3j, kuchnia w przedpokoju, \u0142azienka"},"charactarestic":{"description":"Charakterystyka lokalu","tooltip":"Np: pod\u0142oga w zale\u017cno\u015bci  od pomieszczenia z paneli lub p\u0142ytek ceramicznych, na \u015bcianach pow\u0142oki malarskie, w pomieszczeniach mokrych p\u0142ytki ceramiczne. Stolarka okienna plastikowa, stolarka drzwiowa drewniana typowa. Lokal wyposa\u017cony w nast\u0119puj\u0105ce instalacje: elektryczn\u0105, wodoci\u0105gow\u0105, kanalizacyjn\u0105, c.o., gazow\u0105"}}}}}')},214:function(e){e.exports=JSON.parse('{"common":{"orderInfo":{"address":"Address","description":"Description","orderSubject":"Order subject","valuationScope":"Valuation scope","landRegisterNumber":"Land register number","propertyIdentification":"Property identification"},"userInfo":{"role":"Role","mail":"Mail","phone":"Phone number","nameWithTitle":"Academic title","address":"Address","description":"Description","orderDescription":"Order description","noPayerInfo":"No information about the client","endDate":"End date","makeAnOffer":"Make an offer"},"send":"Send","warning":"Warning","delete":"Delete","Add":"Add"},"market":{"table":{"headers":{"id":"Order ID","inProgress":"In Progress","applicationDate":"Application Date","name":"Name","status":"Status","description":"Description","upTillDate":"Up till date","price":"Price","accept-resign":"Accept/Resign","authorizedExperts":"Authorized expert required","aoperatValidation":"Validation via aoperat","postCode":"Post code"},"statuses":{"announced":"Announced","reserved":"Reserved","paid":"Paid","inProgress":"In progress","generated":"Generated","signed":"Signed"},"buttons":{"orderData":"Order data","submittOffer":"Submit offer","submittedOffers":"Submitted offers","newOrder":"New order","payerInformation":"Payer information","deleteOrder":"Delete order","resign":"Resign","accept":"Accept"},"confirm":{"warning":"Warning","message":"Are you sure you want to remove order?","delete":"Delete","back":"Back"}},"market":"Marketplace","newOrder":{"newOrdrer":"New order","postalCode":"Post code","namePlaceholder":"Unique order name","descriptionPlaceholder":"Describe property and the operat you need. For example \\"mieszkanie ~26m2, blisko do centrum. wycena do ko\u0144ca miesi\u0105ca\\"","addressPlaceholder":"Provide the address of the property or plot number in the district. For example: \\"ul Mickiewicz 39, Krak\xf3w\\""},"showOrderId":"Show order ID?","showPropositionId":"Show propositon ID?"},"history":{"history":"History","showOperatId":"Show operat id?","table":{"headers":{"id":"operat ID","inProgress":"In progress","applicationDate":"Application date","informations":"Informations about operat, order and order proposition"},"statuses":{"announced":"Announced","reserved":"Reserved","paid":"Paid","inProgress":"In progress","generated":"Generated","signed":"Signed"},"buttons":{"showOperat":"Show operat","copy":"Copy operat","delete":"Delete operat","download":"Download","sign":"Sign","send":"Send"},"confirm":{"warning":"Warning","message":"Are you sure you want to delete the operat?","delete":"Delete","back":"Back"}}},"userProfile":{"userProfile":"User profile","profileEdition":"Profile edition","userName":"Username/Login","userEmail":"Email","userFirstName":"First name","userLastName":"Last name","userStreet":"Street","userCity":"City","userLicenceNumber":"License number","userPostalCode":"Post code","userDegree":"Academic title","inZbpList":"I am entered into the list of appraisers kept by the Polish Bank Association."},"users":{"users":"Users"},"icons":{"icons":"Icons"},"maps":{"maps":"Maps"},"notifications":{"notifications":"Notifications"},"typography":{"typography":"Typography"},"create":{"notification":{"message":"Your operat has been created, you will be informed about its availability and status shortly"},"buttons":{"generate":"Generate","edit":"Click to edit data","description":"Description","csvFiles":"CSV files","photos":"Photos"},"inputs":{"author":{"author":{"description":"Appraiser performing the operat","tooltip":"Name of the appraiser carrying out the operat"},"authorAccusative":{"description":"Appraiser performing the operat (in the accusative)","tooltip":"Name of the appraiser carrying out the operatName of the appraiser carrying out the operat (in the accusative)"},"place":{"description":"City","tooltip":"City of the appraiser seat"}},"adress":{"street":{"description":"Street","tooltip":"Full address, for example: ul. Mickiewicza 18"},"surroundings":{"description":"Area","tooltip":"Area address"},"surroundingsAccusative":{"description":"The neighborhood in the locative","tooltip":"Address in locative"},"apartmentNumber":{"description":"Apartment number","tooltip":"No. of the described apartment"},"city":{"description":"City","tooltip":"City where the flat is"},"cityAccusative":{"description":"City","tooltip":"City where the flat is (locative)"},"full":{"description":"Full address","tooltip":"Please enter a full address"}},"neighborhood":{"north":{"description":"North","tooltip":"Description of the north neighbourhood"},"south":{"description":"South","tooltip":"Description of the south neighbourhood"},"east":{"description":"East","tooltip":"Description of the east neighbourhood"},"west":{"description":"West","tooltip":"Description of the west neighbourhood"},"characteristic":{"description":"Characteristic","tooltip":"Characteristics of the area"},"investments":{"description":"Investments","tooltip":"Description of the investment potential"}},"relevantDates":{"dateOfCreation":{"description":"Date of creation","tooltip":"Enter the date of operat creation"},"dateOfSiteVisit":{"description":"Site inspection data","tooltip":"Land register number"}},"landRegister":{"nr":{"description":"Number","tooltip":"Enter the date of operat creation"},"conductedBy":{"description":"Led by","tooltip":"Presiding court"},"type":{"description":"Type","tooltip":"Type of premises according to the land and mortgage register"},"area":{"description":"Area","tooltip":"Area of premises according to the land and mortgage register"},"commonShare":{"description":"Common participation","tooltip":"Common participation according to the land and mortgage register"},"commonShareBySides":{"description":"Common participation by sides","tooltip":"Common participation by sides according to the land and mortgage register"},"possession":{"description":"Possession","tooltip":"Participation related to the ownership of the premises"},"owner":{"description":"Owner","tooltip":"Property owner according to the land and mortgage register"},"storey":{"description":"Storey","tooltip":"Property storey according to the land and mortgage register"},"yearsOfConstruction":{"description":"Years of construction","tooltip":"Years of construction according to the land and mortgage register"},"numberOfStoreys":{"description":"Number of storeys","tooltip":"Number of storeys according to the land and mortgage register"},"constructionTechnology":{"description":"Construction technology","tooltip":"Construction technology according to the land and mortgage register"},"lift":{"description":"elevator","tooltip":"Does the building have an elevator"},"dateOfLMLastRecording":{"description":"Date of creation land and mortgage register","tooltip":"Enter date of creation land and mortgage register"},"dateOfLMCreation":{"description":"Date of establishing the land and mortgage register","tooltip":"Enter date of establishing the land and mortgage register"},"dateOfOwnership":{"description":"Date of estabilishing ownership","tooltip":"Date of estabilishing ownership according to the land and mortgage register"},"dateOfEstabilishingLM":{"description":"Date of estabilishing the mortgage","tooltip":"Date of estabilishing the mortgage according to the land and mortgage register"},"valueOfLM":{"description":"Value of the mortgage","tooltip":"Value of the mortgage according to the land and mortgage register"},"subjectOfLM":{"description":"Subject of the mortgage","tooltip":"Subject of the mortgage according to the land and mortgage register"}},"landAndPropertyRegistration":{"nr":{"description":"Number of land and mortgage register","tooltip":"Number of land and mortgage register"},"area":{"description":"Plot area","tooltip":"Plot area according to the land and mortgage register"},"ewidenceNumber":{"description":"Registration number of the plot","tooltip":"Registration number of the plot according to the land and mortgage register"},"precinkt":{"description":"Precinct No.","tooltip":"Precinct No. according to the land and mortgage register"},"type":{"description":"Type","tooltip":"Type according to the land and mortgage register"},"dateOfCreation":{"description":"Land and mortgage register creation date","tooltip":"Enter land and and mortgage register creation date"},"dateOfEntry":{"description":"Date of entry","tooltip":"Date of entry into the land and mortgage register"},"owner":{"description":"Ground owner","tooltip":"Ground owner according to the land and mortgage register"}},"place":{"structure":{"description":"Premises structure","tooltip":"Np: 1 ppok\xf3j, kuchnia w przedpokoju, \u0142azienka"},"charactarestic":{"description":"Charakterystyka lokalu","tooltip":"Np: pod\u0142oga w zale\u017cno\u015bci  od pomieszczenia z paneli lub p\u0142ytek ceramicznych, na \u015bcianach pow\u0142oki malarskie, w pomieszczeniach mokrych p\u0142ytki ceramiczne. Stolarka okienna plastikowa, stolarka drzwiowa drewniana typowa. Lokal wyposa\u017cony w nast\u0119puj\u0105ce instalacje: elektryczn\u0105, wodoci\u0105gow\u0105, kanalizacyjn\u0105, c.o., gazow\u0105"}}}}}')},236:function(e,t,r){},237:function(e,t,r){},238:function(e,t,r){},431:function(e,t,r){"use strict";r.r(t),r.d(t,"msalInstance",(function(){return pl}));var n,a,o=r(0),c=r.n(o),i=r(33),s=r.n(i),d=r(62),l=r(15),u=r(14),p=r(452),j=r(28),b=r(29),O=r(5),h=r(16),f=r(30),m=r(31),g=r(34),x=r(41),y=function(e){Object(g.a)(r,e);var t=Object(x.a)(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this)).history=e,n}return Object(m.a)(r,[{key:"navigateInternal",value:function(){var e=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.replace(window.location.origin,""),r.noHistory?this.history.replace(n):this.history.push(n),e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(r(202).a),v=r(24),w=r(7),k=r(113),C={signUpSignIn:"b2c_1_aoperatfrontendsignupsignin1",forgotPassword:"b2c_1_aoperatfrontendforgotpassword1",editProfile:"b2c_1_aoperatfrontendeditprofile1"},S={signUpSignIn:{authority:"https://aoperat.b2clogin.com/aoperat.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1"},forgotPassword:{authority:"https://aoperat.b2clogin.com/aoperat.onmicrosoft.com/b2c_1_aoperatfrontendforgotpassword1"},editProfile:{authority:"https://aoperat.b2clogin.com/aoperat.onmicrosoft.com/b2c_1_aoperatfrontendeditprofile1"}},P={auth:{clientId:"df74523c-50b3-4232-b136-ecee23a35005",authority:"https://aoperat.b2clogin.com/aoperat.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",knownAuthorities:"aoperat.b2clogin.com".split(","),redirectUri:"/",postLogoutRedirectUri:"/",navigateToLoginRequestUrl:!0},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:function(e,t,r){if(!r)switch(e){case k.a.Error:return void console.error(t);case k.a.Info:return void console.info(t);case k.a.Verbose:return void console.debug(t);case k.a.Warning:console.warn(t)}}}}},T={scopes:[]},I=(r(235),r(236),r(237),r(238),r(239),r(8)),A=r(115),z=r(42),E=r(3),R=r(57),N=r.n(R),D="SHOW_NO_DATA",_="CONFIRM_SEND_PROPOSITION",F="TOO_MUCH_OPERATOR_FILES",L="PROMOTE_USER_ERROR",B="SEND_OPERAT_CONFIRMATION",U="SIGN_OPERAT",G="OWN_CERTIFICATE",M="NEW_CERTIFICATE",W="ERROR_MESSAGE",K="LOADING",q="OPERATS_LIST_MODAL",H="SEND_OPERAT_MODAL",V="PAY_FOR_OPERAT_MODAL",J="UPDATE_SUBSCRIPTION_CONFIRMATION",Y="CREATE_SUBSCRIPTION_FORM",X="CREATE_SUBSCRIPTION_FORM_CONFIRMATION",Q="operator",Z="client",$="admin",ee="Prosz\u0119 czeka\u0107, trwa \u0142adowanie danych",te="Prosz\u0119 czeka\u0107, trwa wysy\u0142anie Twojej oferty",re="Prosz\u0119 czeka\u0107, trwa zapisywanie operatu",ne="Prosz\u0119 czeka\u0107, trwa zapisywanie danych u\u017cytkownika",ae="Prosz\u0119 czeka\u0107, trwa podpisywanie operatu",oe="Prosz\u0119 czeka\u0107, trwa generowanie certyfikatu",ce="Prosz\u0119 czeka\u0107, trwa usuwanie pliku",ie="Prosz\u0119 czeka\u0107, trwa generowanie operatu",se="Prosz\u0119 czeka\u0107, trwa pobieranie operatu",de="Prosz\u0119 czeka\u0107, trwa wysy\u0142anie zdj\u0119\u0107",le="Prosz\u0119 czeka\u0107, trwa wysy\u0142anie opinii",ue="00000000-0000-0000-0000-000000000000",pe=r(76),je=r(59),be=r(94),Oe=r(1),he=Object(be.b)(n||(n=Object(je.a)(["\n  0%,\n  39%,\n  100% {\n    opacity: 0;\n  }\n\n  40% {\n    opacity: 1;\n  }\n"])));var fe,me=function(e){var t=be.a.div(a||(a=Object(je.a)(["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    "," &:before {\n      content: '';\n      display: block;\n      margin: 0 auto;\n      width: 15%;\n      height: 15%;\n      background-color: #999;\n      border-radius: 100%;\n      animation: "," 1.2s infinite ease-in-out both;\n      ",";\n    }\n  "])),e.rotate&&"\n      -webkit-transform: rotate(".concat(e.rotate,"deg);\n      -ms-transform: rotate(").concat(e.rotate,"deg);\n      transform: rotate(").concat(e.rotate,"deg);\n    "),he,e.delay&&"\n        -webkit-animation-delay: ".concat(e.delay,"s;\n        animation-delay: ").concat(e.delay,"s;\n      "));return Object(Oe.jsx)(t,{})},ge=be.a.div(fe||(fe=Object(je.a)(["\n  margin: 2em auto;\n  width: 40px;\n  height: 40px;\n  position: relative;\n"])));var xe=function(){return Object(Oe.jsxs)(ge,{children:[Object(Oe.jsx)(me,{}),Object(Oe.jsx)(me,{rotate:30,delay:-1.1}),Object(Oe.jsx)(me,{rotate:60,delay:-1}),Object(Oe.jsx)(me,{rotate:90,delay:-.9}),Object(Oe.jsx)(me,{rotate:120,delay:-.8}),Object(Oe.jsx)(me,{rotate:150,delay:-.7}),Object(Oe.jsx)(me,{rotate:180,delay:-.6}),Object(Oe.jsx)(me,{rotate:210,delay:-.5}),Object(Oe.jsx)(me,{rotate:240,delay:-.4}),Object(Oe.jsx)(me,{rotate:270,delay:-.3}),Object(Oe.jsx)(me,{rotate:300,delay:-.2}),Object(Oe.jsx)(me,{rotate:330,delay:-.1})]})},ye=r(52),ve=r.n(ye),we=function(){var e=Object(h.a)(Object(O.a)().mark((function e(t,r,n){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve()({title:Object(Oe.jsx)(Oe.Fragment,{children:r}),message:t,confirmText:"Usu\u0144",cancelText:"Anuluj",confirmColor:"danger",cancelColor:"link text-primary"});case 2:e.sent&&n();case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ke=r(49),Ce=Object(ke.a)(),Se={validatePositiveNumbers:function(e,t){if(null==e||null==t)return;var r=e||window.event,n=r.keyCode||r.which;n=String.fromCharCode(n);var a=r.target.value+n;"paste"===r.type&&(a=window.event.clipboardData.getData("text/plain"));if(t.test(a))r.target.classList.remove("validate");else{var o=r.target.classList;o.add("validate"),setTimeout((function(){o.remove("validate")}),400),r.returnValue=!1,r.preventDefault&&r.preventDefault()}}};function Pe(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(h.a)(Object(O.a)().mark((function e(t){var r,n,a,o,c,i;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pl.getActiveAccount()){e.next=3;break}throw Error("No active account! Verify a user has been signed in and setActiveAccount has been called.");case 3:return n=Object(u.a)(Object(u.a)({},T),{},{account:r}),e.next=6,pl.acquireTokenSilent(n).catch((function(e){return console.log(e),pl.acquireTokenRedirect(n).then((function(e){return e})).catch((function(e){alert("err"),console.log(e)}))}));case 6:(a=e.sent).idTokenClaims.exp<a.idTokenClaims.auth_time&&Ce.push("/logout"),localStorage.setItem("idToken",a.idToken),localStorage.setItem("idTokenExp",a.idTokenClaims.exp),o=new Headers,c="Bearer ".concat(a.idToken),o.append("Authorization",c),e.t0=t,e.next="json"===e.t0?16:"plain"===e.t0?19:22;break;case 16:return i="application/json",o.append("Content-Type",i),e.abrupt("break",23);case 19:return i="text/plain;charset=UTF-8",o.append("Content-Type",i),e.abrupt("break",23);case 22:return e.abrupt("break",23);case 23:return e.abrupt("return",o);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ie="https://aoperatbackend.azurewebsites.net",Ae={get:function(e){return ze.apply(this,arguments)},createOperat:function(e){return Re.apply(this,arguments)},getFile:function(e){return Ee.apply(this,arguments)},generateOperat:function(e){return Ne.apply(this,arguments)},signPdf:function(e,t){return De.apply(this,arguments)},copyOperat:function(e){return _e.apply(this,arguments)},sendOperat:function(e){return Fe.apply(this,arguments)},getByOrderId:function(e){return Le.apply(this,arguments)},postReview:function(e){return Be.apply(this,arguments)},getOperatReview:function(e){return Ue.apply(this,arguments)},obstructOperat:function(e){return Ge.apply(this,arguments)}};function ze(){return(ze=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.abrupt("return",window.fetch("".concat(Ie,"/Operat/id/").concat(t),r).then(Me));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return(Ee=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.abrupt("return",window.fetch(t,r).then(Me));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(){return(Re=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"POST",headers:e.t0,body:e.t1},e.abrupt("return",window.fetch("".concat(Ie,"/Operat"),r).then(Me));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(){return(Ne=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"POST",headers:e.t0},e.next=6,window.fetch("".concat(Ie,"/Operat/id/").concat(t,"/generate"),r).then(Me);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return(De=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(r),n={method:"POST",headers:e.t0,body:e.t1},e.next=7,window.fetch("".concat(Ie,"/Operat/id/").concat(t,"/sign"),n).then(Me);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return(_e=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"POST",headers:e.t0},e.next=6,window.fetch("".concat(Ie,"/Operat/id/").concat(t,"/copy"),r).then(Me);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(){return(Fe=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"POST",headers:e.t0},e.next=6,window.fetch("".concat(Ie,"/Operat/id/").concat(t,"/send"),r).then(Me);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return(Le=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,fetch("".concat(Ie,"/Operat/orderid/").concat(t),r).then(Me);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return(Be=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"POST",headers:e.t0,body:e.t1},e.next=7,fetch("".concat(Ie,"/Operat/review"),r).then(Me);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,fetch("".concat(Ie,"/Operat/").concat(t,"/review"),r).then(Me);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){return(Ge=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"PUT",headers:e.t0},e.next=6,fetch("".concat(Ie,"/Operat/id/").concat(t,"/obstructed/trigger"),r).then(Me);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){return e.text().then((function(t){var r="";if(r=t.startsWith("Data")?t:t&&JSON.parse(t),!e.ok)return 404===e.status||500===e.status?[]:Promise.reject(r||e.statusText);var n=e.headers.get("X-Page-Count");return n&&localStorage.setItem("pageCount",n),r}))}var We="https://aoperatbackend.azurewebsites.net",Ke={getOperatorData:function(e){return qe.apply(this,arguments)},getOperators:function(){return He.apply(this,arguments)},promote:function(e){return Ve.apply(this,arguments)},updateOper:function(e){return Je.apply(this,arguments)},getOperatorReviews:function(e){return Ye.apply(this,arguments)},getOperatorTrainings:function(e){return Xe.apply(this,arguments)},addTraining:function(e){return Qe.apply(this,arguments)},deleteTraining:function(e){return Ze.apply(this,arguments)}};function qe(){return(qe=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(We,"/Operator/id/").concat(t),r).then($e);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(){return(He=Object(h.a)(Object(O.a)().mark((function e(){var t;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,t={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(We,"/Operator"),t).then($e);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(){return(Ve=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:return e.t0=e.sent,r={method:"PUT",headers:e.t0},e.next=6,window.fetch("".concat(We,"/Operator/promote/clientid/").concat(t),r).then((function(e){return $e(e,!0)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return(Je=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"PUT",headers:e.t0,body:e.t1},e.next=7,fetch("".concat(We,"/Operator/by-repo"),r).then((function(e){return $e(e)}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(){return(Ye=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,fetch("".concat(We,"/Operator/").concat(t,"/review"),r).then($e);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(){return(Xe=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,fetch("".concat(We,"/Operator/").concat(t,"/training"),r).then($e);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(){return(Qe=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"POST",headers:e.t0,body:e.t1},e.next=7,fetch("".concat(We,"/Operator/training"),r).then($e);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(){return(Ze=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"DELETE",headers:e.t0},e.next=6,fetch("".concat(We,"/Operator/training/").concat(t),r).then($e);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.text().then((function(r){var n=r&&JSON.parse(r);if(!e.ok){if(400===e.status&&t)return e.status;var a=n&&n.message||e.statusText;return Promise.reject(a)}return n}))}var et="https://aoperatbackend.azurewebsites.net",tt={getOperatorOrders:function(e){return at.apply(this,arguments)},reserveOrder:function(e,t){return rt.apply(this,arguments)},getSingleOrder:function(e){return nt.apply(this,arguments)}};function rt(){return(rt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,n={method:"PUT",headers:e.t0},e.abrupt("return",window.fetch("".concat(et,"/Order/").concat(t,"/reserve/").concat(r),n).then(ot));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(){return(nt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.abrupt("return",window.fetch("".concat(et,"/Order/id/").concat(t),r).then(ot));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(){return(at=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(et,"/Order/announced/").concat(t),r).then(ot);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){if(404===e.status)return[];var n=r&&r.message||e.statusText;return Promise.reject(n)}var a=e.headers.get("X-Page-Count");return a&&localStorage.setItem("pageCount",a),r})).then((function(e){return e}))}var ct=r(26),it="https://aoperatbackend.azurewebsites.net",st={getFormatedFilesByOperat:function(e){return dt.apply(this,arguments)},getFilesByOperat:function(e){return lt.apply(this,arguments)},getFile:function(e){return ut.apply(this,arguments)},sendJSONFile:function(e,t){return mt.apply(this,arguments)},sendCSVFile:function(e,t){return gt.apply(this,arguments)},sendPICTUREFile:function(e,t){return ft.apply(this,arguments)},copyOperatParams:function(e,t){return pt.apply(this,arguments)},copyOperatCsv:function(e,t){return jt.apply(this,arguments)},copyOperatPhotos:function(e,t){return ht.apply(this,arguments)},uploadOwnGenerated:function(e,t){return bt.apply(this,arguments)},removeSingleFile:function(e,t){return Ot.apply(this,arguments)}};function dt(){return(dt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.abrupt("return",window.fetch("".concat(it,"/OperatFiles/id/").concat(t,"/formated"),r).then(yt));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(){return(lt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(it,"/OperatFiles/id/").concat(t),r).then(yt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(){return(ut=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"GET"},e.next=3,window.fetch(t,r).then(yt);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(){return(pt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,n={method:"POST",headers:e.t0},e.next=6,fetch("".concat(it,"/OperatFiles/id/").concat(t,"/copy/params/id/").concat(r),n).then(yt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(){return(jt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,n={method:"POST",headers:e.t0},e.next=6,fetch("".concat(it,"/OperatFiles/id/").concat(t,"/copy/csv/id/").concat(r),n).then(yt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(){return(bt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n,a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",r),e.next=4,Pe();case 4:return e.t0=e.sent,e.t1=n,a={method:"POST",headers:e.t0,body:e.t1},e.next=9,fetch("".concat(it,"/OperatFiles/id/").concat(t,"/own"),a).then(yt);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(){return(Ot=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:return e.t0=e.sent,n={method:"DELETE",headers:e.t0},e.next=6,fetch("".concat(it,"/OperatFiles/id/").concat(t,"/filename/").concat(r.replaceAll("/","%252F")),n).then(yt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(){return(ht=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,n={method:"POST",headers:e.t0},e.next=6,fetch("".concat(it,"/OperatFiles/id/").concat(t,"/copy/pic/id/").concat(r),n).then(yt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(){return(ft=Object(h.a)(Object(O.a)().mark((function e(t,r){var n,a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=t.filter((function(e){return Object.prototype.hasOwnProperty.call(e,"file")}))).length){e.next=3;break}return e.abrupt("return");case 3:return n=new FormData,t.forEach((function(e,t){n.append("file".concat(t),e.file,e.file.name)})),e.next=7,Pe();case 7:return e.t0=e.sent,e.t1=n,a={method:"POST",headers:e.t0,body:e.t1},e.next=12,window.fetch("".concat(it,"/OperatFiles/upload2/").concat(r),a).then(yt);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(){return(mt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n,a,o;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,a=new Blob([JSON.stringify({input:t})],{type:"application/json"}),n.append("file",a,"params.json"),e.next=5,Pe();case 5:return e.t0=e.sent,e.t1=n,o={method:"POST",headers:e.t0,body:e.t1},e.next=10,window.fetch("".concat(it,"/OperatFiles/upload/").concat(r,"/convert"),o).then(yt);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(){return(gt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n,a,o;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,a=new Blob([xt(t)],{type:"text/csv"}),n.append("file",a,"data.csv"),e.next=5,Pe();case 5:return e.t0=e.sent,e.t1=n,o={method:"POST",headers:e.t0,body:e.t1},e.next=10,window.fetch("".concat(it,"/OperatFiles/upload/").concat(r),o).then(yt);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e){var t=e.map((function(e){return delete e.id,e})),r=t[0]?Object.keys(t[0]):["Data","CenaTransakcyjna","RodzajRynku","UdzialWPrawie","PowierzchniaLokalu","Adres","KondygnacjaLokalu","KondygnacjaBudynku","LiczbIzb"];return[r.join(";")].concat(Object(ct.a)(t.map((function(e){return r.map((function(t){return e[t]})).join(";")})))).join("\r\n")}function yt(e){return e.text().then((function(t){var r="";if(r=t.startsWith("Data")?t:t&&JSON.parse(t),!e.ok){if(404===e.status)return[];if(500===e.status)return[];var n=r&&r.message||e.statusText;return Promise.reject(n)}return r}))}var vt="https://aoperatbackend.azurewebsites.net",wt={getOperatorFiles:function(e){return Pt.apply(this,arguments)},sendOperatorFile:function(e,t){return St.apply(this,arguments)},removeOperatorFileByName:function(e,t){return Tt.apply(this,arguments)},getFileBlob:function(e,t){return kt.apply(this,arguments)},getFileByFilename:function(e,t){return Ct.apply(this,arguments)}};function kt(){return(kt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",responseType:"blob"},e.abrupt("return",window.fetch(t,n).then((function(e){return At(e,r)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(){return(Ct=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:return e.t0=e.sent,n={method:"GET",headers:e.t0},e.abrupt("return",fetch("".concat(vt,"/OperatorFiles/id/").concat(t,"/filename/").concat(r),n).then(It));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(){return St=Object(h.a)(Object(O.a)().mark((function e(t,r){var n,a,o,c,i=arguments;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:null,a=n?"".concat(vt,"/OperatorFiles/upload/").concat(t,"/filename/").concat(n):"".concat(vt,"/OperatorFiles/upload/").concat(t),(o=new FormData).append("file",r.file,r.file.name),e.next=6,Pe();case 6:return e.t0=e.sent,e.t1=o,c={method:"POST",headers:e.t0,body:e.t1},e.next=11,window.fetch(a,c).then(It);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))),St.apply(this,arguments)}function Pt(){return(Pt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(vt,"/OperatorFiles/id/").concat(t),r).then(It);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(){return(Tt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:return e.t0=e.sent,n={method:"DELETE",headers:e.t0},e.next=6,window.fetch("".concat(vt,"/OperatorFiles/id/").concat(t,"/filename/").concat(r),n).then(It);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){if(404===e.status)return[];if(500===e.status)return[];if(400===e.status)return[r];var n=r&&r.message||e.statusText;return Promise.reject(n)}return r}))}function At(e,t){return e.blob().then((function(e){var r=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=r,n.setAttribute("download",t),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)}))}var zt="https://aoperatbackend.azurewebsites.net",Et={getTypeParams:function(e){return Rt.apply(this,arguments)}};function Rt(){return(Rt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.abrupt("return",window.fetch("".concat(zt,"/OperatType/id/").concat(t,"/params"),r).then(Nt));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(e){return e.text().then((function(t){var r="";if(t.startsWith("Data")?r=t:t.startsWith('"{')?(t=t.replace('"{',"{").replace('}"',"}").replace(/\s+/g," ").replace(/\\n/g,"").replace(/\\"/g,'"'),r=JSON.parse(t)):r=t&&JSON.parse(t),!e.ok){if(404===e.status)return[];var n=r&&r.message||e.statusText;return Promise.reject(n)}return r}))}var Dt="https://aoperatbackend.azurewebsites.net",_t={getUserType:function(e){return Ft.apply(this,arguments)}};function Ft(){return(Ft=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(Dt,"/User/id/").concat(t),r).then(Lt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){var n=r&&r.message||e.statusText;return Promise.reject(n)}var a=e.headers.get("X-Page-Count");return a&&localStorage.setItem("pageCount",a),r})).then((function(e){return e}))}var Bt="https://aoperatbackend.azurewebsites.net",Ut={getAdminDataById:function(e){return Mt.apply(this,arguments)},promote:function(e){return Wt.apply(this,arguments)},updateUserInfo:function(e){return Gt.apply(this,arguments)}};function Gt(){return(Gt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"PUT",headers:e.t0,body:e.t1},e.next=7,window.fetch("".concat(Bt,"/Admin/by-repo"),r).then(Kt);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mt(){return(Mt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(Bt,"/Admin/id/").concat(t),r).then(Kt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(){return(Wt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:return e.t0=e.sent,r={method:"PUT",headers:e.t0},e.next=6,window.fetch("".concat(Bt,"/Admin/promote/operatorid/").concat(t),r).then((function(e){return Kt(e,!0)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.text().then((function(r){var n=r&&JSON.parse(r);if(!e.ok){if(400===e.status&&t)return e.status;var a=n&&n.message||e.statusText;return Promise.reject(a)}return n}))}var qt="https://aoperatbackend.azurewebsites.net",Ht={getAdminDataById:function(e){return Xt.apply(this,arguments)},createNewClient:function(e){return Yt.apply(this,arguments)},getClientData:function(e){return Jt.apply(this,arguments)},updateClient:function(e){return Vt.apply(this,arguments)}};function Vt(){return(Vt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"PUT",headers:e.t0,body:e.t1},e.next=7,fetch("".concat(qt,"/Client/by-repo"),r).then((function(e){return Qt(e)}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(){return(Jt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,fetch("".concat(qt,"/Client/id/").concat(t),r).then(Qt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(){return(Yt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"POST",headers:e.t0,body:e.t1},e.next=7,window.fetch("".concat(qt,"/Client"),r).then(Qt);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(){return(Xt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(qt,"/Client/id/").concat(t),r).then(Qt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){if(400===e.status)return[];if(404===e.status)return!1;var n=r&&r.message||e.statusText;return Promise.reject(n)}return r}))}var Zt="https://aoperatbackend.azurewebsites.net",$t={getFiles:function(e){return er.apply(this,arguments)}};function er(){return(er=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.abrupt("return",window.fetch("".concat(Zt,"/ClientFiles/id/").concat(t),r).then(tr));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){if(404===e.status)return[];var n=r&&r.message||e.statusText;return Promise.reject(n)}return r})).then((function(e){return e}))}var rr="https://aoperatbackend.azurewebsites.net",nr={get:function(e){return ar.apply(this,arguments)},check:function(e){return or.apply(this,arguments)}};function ar(){return(ar=Object(h.a)(Object(O.a)().mark((function e(t){var r,n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},n=encodeURIComponent("".concat(rr,"/LandRegister/data/").concat(t)),e.next=7,fetch(n,r).then((function(e){return cr(e)}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function or(){return(or=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,fetch("".concat(rr,"/LandRegister/check/").concat(t),r).then((function(e){return cr(e)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cr(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){var n=r&&r||e.statusText;return Promise.reject(n)}return r}))}var ir="https://aoperatbackend.azurewebsites.net",sr={get:function(e,t){return dr.apply(this,arguments)}};function dr(){return dr=Object(h.a)(Object(O.a)().mark((function e(t,r){var n,a,o=arguments;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:15,e.next=3,Pe("json");case 3:return e.t0=e.sent,a={method:"POST",headers:e.t0},e.next=7,window.fetch("".concat(ir,"/Map/img?address=").concat(t,"&type=").concat(r,"&zoom=").concat(n),a).then((function(e){return e.blob()}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)}))),dr.apply(this,arguments)}var lr=r(451),ur="MODAL_SHOW_LOADING_SCREEN",pr="MODAL_HIDE_LOADING_SCREEN";function jr(e,t){return{type:ur,payload:{showModal:!0,type:e,data:t}}}function br(){return{type:pr}}var Or="FILES_CLEAR_STATE",hr="FILES_GET_OPERAT",fr="FILES_PUT_OPERAT",mr="FILES_GET_INPUT",gr="FILES_GET_CSV",xr="FILES_GET_BY_OPERAT",yr="FILES_EDIT_OPERAT",vr="FILES_LOAD_EMPTY_OPERAT",wr="FILES_LOAD_OPERAT_TYPE",kr="FILES_ADD_LINE_TO_CSV",Cr="FILES_REMOVE_LINE_FROM_CSV",Sr="FILES_LOAD_EMPTY_INPUT",Pr="FILES_LOAD_EMPTY_PHOTO",Tr="FILES_LOAD_PHOTO_FILE_TO_GALLERY",Ir="FILES_ADD_LINES_TO_CSV_FROM_CSV",Ar="REMOVE_PHOTOS",zr="REMOVE_PHOTO_FILES",Er="DOWNLOAD_FROM_EKW",Rr="GENERATE_OPERAT",Nr="REMOVE_OPERAT_FROM_GENERATED",Dr="SET_ALL_VALID",_r="SAVE_INPUT_AREA";function Fr(e,t){return{type:Tr,payload:{id:e,files:t}}}function Lr(e){return{type:Ar,payload:{id:e}}}function Br(e){return{type:Sr,payload:e}}function Ur(e){return{type:Pr,payload:e}}function Gr(e,t){return st.getFormatedFilesByOperat(t.id).then((function(r){e({type:xr,payload:{id:t.id,operatInfo:t,files:r,operatTypeId:t.operatTypeId}})})).then((function(r){return e(br()),t.operatTypeId}))}function Mr(e){var t=[];return e.forEach((function(e){var r=e.split(";");t.push({Data:r[0],CenaTransakcyjna:r[1],RodzajRynku:r[2],UdzialWPrawie:r[3],PowierzchniaLokalu:r[4],Adres:r[5],KondygnacjaLokalu:r[6],KondygnacjaBudynku:r[7],LiczbaIzb:r[8].replace("/r",""),id:Object(lr.a)()})})),t}function Wr(e){for(var t=e.split("\n"),r=[],n=t[0].split(",")[0].split(";"),a=1;a<t.length;a++){for(var o={},c=t[a].split(";"),i=0;i<n.length;i++)o[n[i].trim()]=c[i];o.id=Object(lr.a)(),r.push(o)}return r}var Kr=function(e){var t=Object(p.a)("common").t,r=Object(l.d)(),n=Object(o.useState)(null),a=Object(I.a)(n,2),c=a[0],i=a[1],s=Object(o.useRef)(null),d=Object(o.useRef)(null);Object(o.useEffect)((function(){i(e.row),e.handleLoadOperatOrder(),Gr(r,e.row)}),[]);var u=function(){var t=new URLSearchParams;t.set("id",c.id),e.history.push({pathname:"/create",search:t.toString()})};return Object(Oe.jsx)("div",{children:e.operatOrder.loading?Object(Oe.jsx)(xe,{}):Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)(E.Row,{children:[Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.Button,{color:"info",type:"submit",onClick:function(){u()},disabled:c&&c.isOwnGenerated,style:{width:"100%"},children:t("history.table.buttons.showOperat")})}),Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.Button,{color:"info",type:"submit",onClick:function(){Ae.copyOperat(c.id).then((function(t){e.handleLoadOperats(),Gr(r,t),u()})).catch((function(e){"object"===typeof e&&e.hasOwnProperty("status")&&402===e.status?r(jr(W,{message:"Twoja subkskrypcja jest wyczerpana lub niekatywna."})):r(jr(W,{message:"Kopiowanie operatu nie powiod\u0142o si\u0119"}))}))},disabled:c&&c.isOwnGenerated,style:{width:"100%"},children:t("history.table.buttons.copy")})}),Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.Button,{color:"info",type:"file",onClick:function(){return s.current.click()},disabled:e.operatOrder.operatOrder.shouldBeValidated&&e.operatOrder.operatOrder.shouldBeValidated,id:"upload-own-generated-btn",style:{width:"100%"},children:"Wgraj operat"})}),Object(Oe.jsx)(E.UncontrolledTooltip,{placement:"top",target:"upload-own-generated-btn",children:"Przycisk s\u0142y\u017cy do wgrywania w\u0142asnego operatu, wygenerowanego poza platform\u0105 Aoperat."}),Object(Oe.jsx)("input",{type:"file",id:"file-upload-own-operat",ref:s,style:{display:"none"},accept:".pdf",onChange:function(t){return e.handleUploadOwnGeneratedOperat(c.id,t.currentTarget.files[0])}}),Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.Button,{disabled:c&&!["generated","signed"].includes(c.status.toLowerCase()),color:"info",onClick:function(){r(jr(K,{message:se})),st.getFilesByOperat(c.id).then((function(e){var t,n=Object(pe.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.item2.includes(".pdf"))return r(br()),void window.open(a.item2,"_blank")}}catch(o){n.e(o)}finally{n.f()}r(br()),alert("nie znaleziono pliku pdf")}))},style:{width:"100%"},children:t("history.table.buttons.download")})})]}),Object(Oe.jsx)("br",{}),Object(Oe.jsxs)(E.Row,{children:[Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.Button,{disabled:c&&"generated"!==c.status.toLowerCase(),color:"info",type:"submit",onClick:function(){r(jr(U))},style:{width:"100%"},children:t("history.table.buttons.sign")})}),Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.Button,{color:"info",type:"file",onClick:function(){return d.current.click()},disabled:c&&"generated"!==c.status.toLowerCase(),id:"upload-signed-btn",style:{width:"100%"},children:t("history.table.buttons.uploadSigned")})}),Object(Oe.jsx)(E.UncontrolledTooltip,{placement:"top",target:"upload-signed-btn",children:"Przycisk s\u0142y\u017cy do wgrywania podpisanego operatu, po uprzednim wygenerowaniu go w platformie Aoperat i podpisaniu go np. poprzez profil zaufany."}),Object(Oe.jsx)("input",{type:"file",id:"file-upload-signed-operat",ref:d,style:{display:"none"},accept:".pdf",onChange:function(t){return e.handleUploadSignedOperat(c.id,t.currentTarget.files[0])}}),Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.Button,{disabled:c&&"signed"!==c.status.toLowerCase(),color:"info",type:"submit",onClick:function(){r(jr(H,{operat:e.row,sendFunction:e.handleSendPdf}))},style:{width:"100%"},children:t("history.table.buttons.send")})}),Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.Button,{color:"danger",onClick:function(){return we(t("history.table.confirm.message"),t("history.table.confirm.warning"),(function(){return e.handleRemoveOperat()}))},style:{width:"100%"},children:t("history.table.buttons.delete")})})]})]})})},qr=r(449),Hr=r(25),Vr=r(47),Jr=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Yr="LOAD_OPERATS",Xr="OPERATS_LOADED",Qr="LOAD_OPERATS_ERROR",Zr="REMOVE_OPERAT",$r="SET_ACTIVE_OPERAT",en="CREATE_OPERAT",tn="SELECT_OPERAT_TYPE",rn="SET_PAGE_NUMBER",nn="LOAD_OPERAT_ORDER",an="OPERAT_ORDER_LOADED",on="LOAD_OPERAT_ORDER_ERROR",cn="SEND_PDF",sn="UPLOAD_OWN_GENERATED",dn="SET_OPERATS_FILTERS",ln="SET_OPERATS_SORT_PARAMETERS",un="UPLOAD_SIGNED_OPERAT",pn={activeOperat:{},operatOrder:{loading:!1,error:!1,operatOrder:{}},selectedOperatType:{},operats:{loading:!1,error:!1,sortFieldName:"CreatedDateTime",sortDirection:"desc",filters:{createdDateTimeFrom:"",createdDateTimeTo:""},operats:[]},pageNumber:1},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;return Object(Vr.a)(e,(function(e){switch(t.type){case Yr:e.operats.operats=[],e.operats.loading=!0,e.operats.error=!1;break;case Qr:e.operats.loading=!1,e.operats.error=t.payload;break;case Xr:e.operats.operats=t.payload,e.operats.loading=!1,e.operats.error=!1;break;case $r:e.activeOperat=t.payload;break;case tn:e.selectedOperatType=t.payload;break;case rn:e.pageNumber=t.payload;break;case nn:e.operatOrder.operatOrder={},e.operatOrder.loading=!0,e.operatOrder.error=!1;break;case an:e.operatOrder.operatOrder=t.payload,e.operatOrder.error=!1,e.operatOrder.loading=!1;break;case on:e.operatOrder.loading=!1,e.operatOrder.error=t.payload;break;case dn:e.operats.filters=t.payload;break;case ln:e.operats.sortFieldName=Jr(t.payload),e.operats.sortDirection="asc"===e.operats.sortDirection?"desc":"asc"}}))},bn=function(e){return e.operatsPage||pn},On=function(){return Object(Hr.a)(bn,(function(e){return e.activeOperat}))},hn=function(){return Object(Hr.a)(bn,(function(e){return e.operats}))};function fn(){return{type:Yr}}function mn(e){return{type:Xr,payload:e}}function gn(e){return{type:an,payload:e}}var xn=r(36),yn="LOAD_OPERAT_TYPES",vn="OPERAT_TYPES_LOADED",wn="LOAD_OPERAT_TYPES_ERROR",kn="LOAD_USER",Cn="USER_LOADED",Sn="LOAD_USER_ERROR",Pn="LOAD_EKW_DATA",Tn="EKW_DATA_LOADED",In="LOAD_PUBLIC_SETTINGS",An="PUBLIC_SETTINGS_LOADED",zn={operatTypes:{loading:!1,error:!1,operatTypes:[]},user:{userType:"",loading:!1,error:!1,user:{}},ekw:{regions:[],weights:[],multipliers:[]},publicSettings:{}},En=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,t=arguments.length>1?arguments[1]:void 0;return Object(Vr.a)(e,(function(e){switch(t.type){case yn:e.operatTypes.operatTypes=[],e.operatTypes.error=!1,e.operatTypes.loading=!0;break;case vn:e.operatTypes.operatTypes=t.payload,e.operatTypes.loading=!1,e.operatTypes.error=!1;break;case wn:e.operatTypes.loading=!1,e.operatTypes.error=t.payload;break;case kn:e.user.loading=!0,e.user.error=!1,e.user.user={},e.user.userType="";break;case Cn:e.user.userType=t.payload.userType,e.user.user=t.payload.user,e.user.loading=!1,e.user.error=!1;break;case Sn:e.user.loading=!1,e.user.error=t.payload;break;case Tn:e.ekw=t.payload;break;case An:e.publicSettings=t.payload}}))},Rn=function(e){return e.global||zn},Nn=function(){return Object(Hr.a)(Rn,(function(e){return e.user}))},Dn=function(){return Object(Hr.a)(Rn,(function(e){return e.operatTypes}))},_n=(r(51),r(77)),Fn=r.n(_n),Ln=r(40);function Bn(e){var t={dispatch:Ln.isFunction,subscribe:Ln.isFunction,getState:Ln.isFunction,replaceReducer:Ln.isFunction,runSaga:Ln.isFunction,injectedReducers:Ln.isObject,injectedSagas:Ln.isObject};Fn()(Object(Ln.conformsTo)(e,t),"(app/utils...) injectors: Expected a valid redux store")}var Un=r(157),Gn=Object(ke.a)(),Mn=r(208),Wn=r.n(Mn),Kn=r(120),qn="LOAD_ORDERS",Hn="SET_ORDERS_PAGE_NUMBER",Vn="ORDERS_LOADED",Jn="LOAD_ORDERS_ERROR",Yn="SAVE_ORDER",Xn="ORDER_SAVED",Qn="SAVE_ORDER_ERROR",Zn="REPLACE_ORDER",$n="ORDER_REPLACED",ea="LOAD_PROPOSITIONS",ta="PROPOSITIONS_LOADED",ra="LOAD_PROPOSITIONS_ERROR",na="SAVE_PROPOSITION",aa="RESERVE_ORDER_AND_PROPOSITION",oa="UNRESERVE_PROPOSITION",ca="SET_PROPOSITION_ID",ia="PROPOSITION_REPLACED",sa="REMOVE_ORDER",da="SET_ACTIVE_ORDER",la="ORDER_REMOVED",ua="SET_ORDER_SORT_PARAMETERS",pa="SET_ORDER_FILTERS",ja="SET_PROPOSITIONS_SORT_PARAMETERS",ba="SET_PROPOSITIONS_FILTER",Oa="CLEAR_PROPOSITION_FILTERS",ha="PAY_FOR_OPERAT",fa={activeOrder:{clientId:"",status:"",description:"",operators:[],hasOperator:!1,location:"",locationPostCode:"",lattitudeLongtitude:"",requeiresZbpList:!1,isPrivate:!1,shouldBeValidate:!1,name:"",createdDateTime:"",id:""},orders:{loading:!1,error:!1,pageNumber:1,sortFieldName:null,sortDirection:"desc",filters:{locationPostCode:""},orders:[]},propositions:{loading:!1,error:!1,sortFieldName:null,sortDirection:"desc",filters:{priceFrom:"",priceTo:"",upTillDateFrom:"",upTillDateTo:""},propositions:[]},saveOrder:{loading:!1,error:!1},propositionId:""},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,t=arguments.length>1?arguments[1]:void 0;return Object(Vr.a)(e,(function(r){switch(t.type){case ua:r.orders.sortFieldName=Jr(t.fieldName),r.orders.sortDirection="asc"===r.orders.sortDirection?"desc":"asc";break;case qn:r.orders.orders=[],r.orders.loading=!0,r.orders.error=!1;break;case Vn:r.orders.loading=!1,r.orders.orders=t.payload,r.orders.error=!1;break;case Jn:r.orders.loading=!1,r.orders.error=t.payload;break;case Hn:r.orders.pageNumber=t.payload;break;case Yn:r.saveOrder.error=!1,r.saveOrder.loading=!0;break;case Xn:r.saveOrder.error=!1,r.saveOrder.loading=!1;break;case Qn:r.saveOrder.error=t.payload,r.saveOrder.loading=!1;break;case $n:r.activeOrder=t.payload,r.orders.orders=[t.payload].concat(e.orders.orders.filter((function(e){return e.id!==t.payload.id})));break;case ea:r.propositions.loading=!0,r.propositions.error=!1,r.propositions.propositions=[];break;case ta:r.propositions.loading=!1,r.propositions.error=!1,r.propositions.propositions=t.payload;break;case ra:r.propositions.loading=!1,r.propositions.error=t.payload;break;case ca:r.propositionId=t.payload;break;case ia:r.propositions.propositions=e.propositions.propositions.filter((function(e){return e.id!==t.payload.id})).concat(t.payload);break;case la:r.orders.orders=e.orders.orders.filter((function(e){return e.id!==t.payload}));break;case da:r.activeOrder=t.payload;break;case pa:r.orders.filters=t.payload;break;case ja:r.propositions.sortFieldName=Jr(t.payload),r.propositions.sortDirection="asc"===r.propositions.sortDirection?"desc":"asc";break;case ba:r.propositions.filters=t.payload;break;case Oa:r.propositions.filters=fa.propositions.filters}}))},ga={showModal:!1,type:"",data:{}},xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,t=arguments.length>1?arguments[1]:void 0;return Object(Vr.a)(e,(function(e){switch(t.type){case ur:e.showModal=!0,e.type=t.payload.type,e.data=t.payload.data;break;case pr:e.showModal=!1,e.type="",e.data={}}}))},ya="LOAD_TRAININGS",va="TRAININGS_LOADED",wa="LOAD_TRAININGS_ERROR",ka="SET_OPERATOR_ID",Ca="LOAD_OPERATOR_PROFILE_DATA",Sa="OPERATOR_PROFILE_DATA_LOADED",Pa="LOAD_OPERATOR_PROFILE_DATA_ERROR",Ta="ADD_TRAINING",Ia="REMOVE_TRAINING",Aa={operatorId:"",operatorProfileData:{loading:!1,error:!1,trainings:[],operatCount:0,reviews:[],diploma:"",operator:{}},trainings:{loading:!1,error:!1,trainings:[]}},za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa,t=arguments.length>1?arguments[1]:void 0;return Object(Vr.a)(e,(function(e){switch(t.type){case ya:e.trainings.trainings=[],e.trainings.error=!1,e.trainings.loading=!0;break;case va:e.trainings.trainings=t.payload,e.trainings.error=!1,e.trainings.loading=!1;break;case wa:e.trainings.error=t.payload,e.trainings.loading=!1;break;case ka:e.operatorId=t.payload;break;case Ca:e.operatorProfileData.loading=!0,e.operatorProfileData.error=!1,e.operatorProfileData.trainings=[],e.operatorProfileData.operatCount=0,e.operatorProfileData.reviews=[],e.operatorProfileData.diploma="",e.operatorProfileData.operator={};break;case Sa:e.operatorProfileData.loading=!1,e.operatorProfileData.error=!1,e.operatorProfileData.trainings=t.payload.trainings,e.operatorProfileData.operatCount=t.payload.operatCount,e.operatorProfileData.reviews=t.payload.reviews,e.operatorProfileData.diploma=t.payload.diploma,e.operatorProfileData.operator=t.payload.operator;break;case Pa:e.operatorProfileData.error=t.payload,e.operatorProfileData.loading=!1}}))},Ea={operatTypeId:"",id:"",files:{},csv:[],disabled:!0,input:[],photo:{}},Ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1?arguments[1]:void 0;return Object(Vr.a)(e,(function(e){var r="";try{r=t.payload&&t.payload.ekw&&JSON.parse(t.payload.ekw)}catch(j){r=""}var n=e.input,a=t.payload&&t.payload.name&&n.find((function(e){return e.name===t.payload.name}));switch(t.type){case Or:e.input=[],e.disabled=!1,e.id="",e.photo=[],e.csv=[],e.files=[];break;case fr:e.input[t.payload.id].data[t.payload.idx].value=t.payload.value;break;case hr:e.disabled=t.payload.disabled,e.id=t.payload.id,e.input=t.payload.files;break;case wr:e.input=t.payload.input,e.photo=t.payload.photo;break;case Pr:e.photo=t.payload;break;case Sr:e.input=t.payload;break;case mr:e.input=t.payload.input;break;case gr:e.csv=t.payload.csv;break;case xr:e.id=t.payload.id,e.files=t.payload.files,e.operatInfo=t.payload.operatInfo,e.disabled=!0,e.operatTypeId=t.payload.operatTypeId;break;case vr:e.disabled=t.payload.disabled,e.id=t.payload.id;break;case yr:e.disabled=t.payload.disabled;break;case kr:e.csv=e.csv.concat(t.payload.newRow);break;case Ir:e.csv=e.csv.concat(t.payload.newRows);break;case Cr:e.csv=e.csv.filter((function(e){return!t.payload.rows.includes(e.id)}));break;case Tr:e.photo.data[t.payload.id].data.some((function(e){return e.id&&e.id===t.payload.files.id}))||(e.photo.data[t.payload.id].data.shift(),e.photo.data[t.payload.id].data.push(t.payload.files));break;case Ar:var o,c=Object(pe.a)(e.photo.data[t.payload.id].data);try{var i=function(){var t=o.value;delete t.file,delete t.url,e.files.photo=e.files.photo.filter((function(e){return e.item1!==t.title}))};for(c.s();!(o=c.n()).done;)i()}catch(b){c.e(b)}finally{c.f()}break;case zr:var s,d=Object(pe.a)(e.photo.data[t.payload.id].data);try{for(d.s();!(s=d.n()).done;){delete s.value.file}}catch(b){d.e(b)}finally{d.f()}break;case Nr:e.generated=e.generated.filter((function(e){return e.id!==t.payload}));break;case Er:Object.entries(r).forEach((function(e){a.data=a.data.map((function(t){return t.name===e?Object(u.a)(Object(u.a)({},t),{},{value:r[e]}):t}))})),e.input=n.map((function(e){return e.name===t.payload.name?a:e}));break;case Dr:for(var l=0;l<e.input.length;l++)if(e.input[l].data)for(var p=0;p<e.input[l].data.length;p++)"undefined"!==typeof e.input[l].data[p].isValid&&(e.input[l].data[p].isValid=!0)}}))},Na="LOAD_USERS",Da="USERS_LOADED",_a="LOAD_USERS_ERROR",Fa="SET_USER_TYPE",La="PROMOTE_USER",Ba="SET_USER_SORT_PARAMETERS",Ua="SET_USERS_PAGE_NUMBER",Ga="SET_USER_FILTERS",Ma={userType:"client",users:{loading:!1,error:!1,pageNumber:1,sortFieldName:null,sortDirection:"desc",users:[],filters:{mail:"",name:""}}},Wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma,t=arguments.length>1?arguments[1]:void 0;return Object(Vr.a)(e,(function(e){switch(t.type){case Fa:e.userType=t.payload;break;case Na:e.users.loading=!0,e.users.error=!1;break;case Da:e.users.loading=!1,e.users.users=t.payload;break;case _a:e.users.loading=!1,e.users.error=t.payload;break;case Ba:e.users.sortFieldName=Jr(t.payload),e.users.sortDirection="asc"===e.users.sortDirection?"desc":"asc";break;case Ua:e.users.pageNumber=t.payload;break;case Ga:e.users.filters=t.payload}}))},Ka="LOAD_OPERATORS_INFO",qa="OPERATORS_INFO_LOADED",Ha="LOAD_OPERATORS_INFO_ERROR",Va="SET_SUBSCRIPTION_PAGE_NUMBER",Ja="SET_OPERATORS_INFO_SORT_PARAMETER",Ya="SET_OPERATORS_INFO_FILTERS",Xa="SET_CURRENT_OPERATOR",Qa="UPDATE_SUBSCRIPTION",Za="CREATE_SUBSCRIPTION",$a={operatorsInfo:{loading:!1,error:!1,data:[],pageNumber:1,sortFieldName:null,sortDirection:"desc",filters:{mail:"",name:""}},currentOperator:{id:"",name:""}},eo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a,t=arguments.length>1?arguments[1]:void 0;return Object(Vr.a)(e,(function(e){switch(t.type){case Ka:e.operatorsInfo.data=[],e.operatorsInfo.error=!1,e.operatorsInfo.loading=!0;break;case qa:e.operatorsInfo.data=t.payload,e.operatorsInfo.error=!1,e.operatorsInfo.loading=!1;break;case Ha:e.operatorsInfo.data=[],e.operatorsInfo.loading=!1,e.operatorsInfo.error=t.payload;break;case Va:e.operatorsInfo.pageNumber=t.payload;break;case Ja:e.operatorsInfo.sortDirection="asc"===e.operatorsInfo.sortDirection?"desc":"asc",e.operatorsInfo.sortFieldName=Jr(t.payload);break;case Ya:e.operatorsInfo.filters=t.payload;break;case Xa:e.currentOperator=t.payload}}))};function to(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(xn.b)(Object(u.a)(Object(u.a)({router:Object(Un.a)(Gn)},e),{},{marketPage:ma,operatsPage:jn,global:En,modal:xa,user:za,operat:Ra,usersPage:Wa,subscriptions:eo})),r={key:"root",storage:Wn.a};return Object(Kn.a)(r,t)}function ro(e,t){return function(r,n){t||Bn(e),Fn()(Object(Ln.isString)(r)&&!Object(Ln.isEmpty)(r)&&Object(Ln.isFunction)(n),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,r)&&e.injectedReducers[r]===n||(e.injectedReducers[r]=n,e.replaceReducer(to(e.injectedReducers)))}}function no(e){return Bn(e),{injectReducer:ro(e,!0)}}var ao=function(e){var t=e.key,r=e.reducer,n=c.a.useContext(l.b);c.a.useEffect((function(){no(n.store).injectReducer(t,r)}),[])},oo=r(6);function co(e){if(204===e.status||205===e.status)return null;console.log(e);var t=e.headers.get("X-Page-Count");return e.url.toLowerCase().includes("pagenumber")&&t&&localStorage.setItem("pageCount",t),e.json()}function io(e){return so.apply(this,arguments)}function so(){return(so=Object(h.a)(Object(O.a)().mark((function e(t){var r,n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401===t.status&&Ce.push("/logout"),!(t.status>=200&&t.status<300)){e.next=3;break}return e.abrupt("return",t);case 3:return r=new Error(t.statusText),e.next=6,t.json();case 6:throw(n=e.sent).error&&(r.message=n.error.message),n.message&&(r.message=n.message),r.response=t,r;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(e,t){return fetch("https://aoperatbackend.azurewebsites.net"+e,t).then(io).then(co)}var uo=r(117),po=function(e,t,r){uo.Store.addNotification({title:e,message:t,type:r,insert:"top",container:"top-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,showIcon:!0}})},jo=Object(O.a)().mark(vo),bo=Object(O.a)().mark(wo),Oo=Object(O.a)().mark(ko),ho=Object(O.a)().mark(Co),fo=Object(O.a)().mark(So),mo=Object(O.a)().mark(Po),go=Object(O.a)().mark(To),xo=Object(O.a)().mark(Io),yo=Object(O.a)().mark(Ao);function vo(){var e,t,r,n,a,o;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(oo.e)(Object(Hr.a)(bn,(function(e){return e.pageNumber})));case 2:return e=c.sent,c.next=5,Object(oo.e)(hn());case 5:return t=c.sent,r="/Operat/my?pageNumber="+e,""!==t.filters.createdDateTimeFrom&&(r+="&createdDateTimeFrom=".concat(t.filters.createdDateTimeFrom)),""!==t.filters.createdDateTimeTo&&(r+="&createdDateTimeTo=".concat(t.filters.createdDateTimeTo)),t.sortFieldName&&(r+="&fieldName=".concat(t.sortFieldName,"&direction=").concat(t.sortDirection)),c.next=12,Object(oo.a)(Pe);case 12:return n=c.sent,a={method:"GET",headers:n},c.prev=14,c.next=17,Object(oo.a)(lo,r,a);case 17:return o=c.sent,c.next=20,Object(oo.c)(mn(o));case 20:c.next=26;break;case 22:return c.prev=22,c.t0=c.catch(14),c.next=26,Object(oo.c)((i=c.t0,{type:Qr,payload:i}));case 26:case"end":return c.stop()}var i}),jo,null,[[14,22]])}function wo(){var e,t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(oo.e)(On());case 2:return e=a.sent,t="/Operat/id/".concat(e.id),a.next=6,Object(oo.a)(Pe);case 6:return r=a.sent,n={method:"DELETE",headers:r},a.prev=8,a.next=11,Object(oo.a)(lo,t,n);case 11:return a.next=13,Object(oo.c)(fn());case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(8),console.log(a.t0);case 18:case"end":return a.stop()}}),bo,null,[[8,15]])}function ko(){var e,t,r,n,a,o,c,i,s,d,l;return Object(O.a)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return e="/Operat",u.next=3,Object(oo.e)(Object(Hr.a)(bn,(function(e){return e.selectedOperatType})));case 3:return t=u.sent,u.next=6,Object(oo.e)(Nn());case 6:return r=u.sent,n=r.user.id,u.next=10,Object(oo.a)(Pe,"json");case 10:return a=u.sent,o=Date.now(),c=new Date(o),i=document.querySelector("#new-operat-form"),s=new FormData(i),d={name:""===s.get("operat-name")?"".concat(t.name+" : "+c.toLocaleString()):s.get("operat-name"),orderId:ue,operatorId:n,operatTypeId:t.id},l={method:"POST",headers:a,body:JSON.stringify(d)},u.prev=17,u.next=20,Object(oo.a)(lo,e,l);case 20:return u.next=22,Object(oo.c)(fn());case 22:case 29:u.next=33;break;case 24:if(u.prev=24,u.t0=u.catch(17),402!==u.t0.response.status){u.next=31;break}return u.next=29,Object(oo.c)(jr(W,{message:"Twoja subkskrypcja jest wyczerpana lub niekatywna."}));case 31:return u.next=33,Object(oo.c)(jr(W,{message:"Tworzenie operatu nie powiod\u0142o si\u0119"}));case 33:case"end":return u.stop()}}),Oo,null,[[17,24]])}function Co(){var e,t,r,n,a;return Object(O.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(oo.e)(On());case 2:if((e=o.sent).orderId!==ue){o.next=7;break}return o.next=6,Object(oo.c)(gn({}));case 6:return o.abrupt("return");case 7:return t="/Order/id/"+e.orderId,r={Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},n={method:"GET",headers:r},o.prev=10,o.next=13,Object(oo.a)(lo,t,n);case 13:return a=o.sent,o.next=16,Object(oo.c)(gn(a));case 16:o.next=22;break;case 18:return o.prev=18,o.t0=o.catch(10),o.next=22,Object(oo.c)((c=o.t0,{type:on,payload:c}));case 22:case"end":return o.stop()}var c}),ho,null,[[10,18]])}function So(e){var t,r,n,a;return Object(O.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:for(t="/Operat/id/".concat(e.id,"/send?sendToPrincipal=").concat(e.sendToPrincipal),r=0;r<e.emails.length;r++)t+="&emails=".concat(e.emails[r]);return n={"Content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},a={method:"POST",headers:n},o.prev=4,o.next=7,Object(oo.c)(jr(K,{message:"Trwa wysy\u0142anie operatu"}));case 7:return o.next=9,Object(oo.a)(lo,t,a);case 9:return o.next=11,Object(oo.c)(br());case 11:o.next=18;break;case 13:return o.prev=13,o.t0=o.catch(4),o.next=17,Object(oo.c)(jr(W,{message:"Wysy\u0142anie nie powiod\u0142o si\u0119"}));case 17:console.log(o.t0);case 18:case"end":return o.stop()}}),fo,null,[[4,13]])}function Po(e,t){var r,n,a;return Object(O.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r={Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},(n=new FormData).append("file",t.file),a={method:"POST",headers:r,body:n},o.prev=4,o.next=7,Object(oo.c)(jr(K,{message:"Trwa wgrywanie operatu"}));case 7:return o.next=9,Object(oo.a)(lo,e,a);case 9:return o.next=11,Object(oo.c)(fn());case 11:return o.next=13,Object(oo.c)(br());case 13:return o.next=15,Object(oo.a)(po,"Informacja","Operat zosta\u0142 pomy\u015blnie wgrany na platform\u0119 Aoperat.","info");case 15:o.next=22;break;case 17:return o.prev=17,o.t0=o.catch(4),o.next=21,Object(oo.c)(jr(W,{message:"Przy wgrywaniu operatu wyst\u0105pi\u0142 b\u0142\u0105d"}));case 21:console.log(o.t0);case 22:case"end":return o.stop()}}),mo,null,[[4,17]])}function To(e){var t;return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="/OperatFiles/id/".concat(e.id,"/own"),r.next=3,Object(oo.a)(Po,t,e);case 3:case"end":return r.stop()}}),go)}function Io(e){var t;return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="/OperatFiles/id/".concat(e.id,"/upload-signed"),r.next=3,Object(oo.a)(Po,t,e);case 3:case"end":return r.stop()}}),xo)}function Ao(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oo.g)(Yr,vo);case 2:return e.next=4,Object(oo.g)(Zr,wo);case 4:return e.next=6,Object(oo.g)(en,ko);case 6:return e.next=8,Object(oo.g)(nn,Co);case 8:return e.next=10,Object(oo.g)(cn,So);case 10:return e.next=12,Object(oo.g)(sn,To);case 12:return e.next=14,Object(oo.g)(un,Io);case 14:case"end":return e.stop()}}),yo)}var zo="@@saga-injector/daemon",Eo="@@saga-injector/once-till-unmount",Ro=["@@saga-injector/restart-on-remount",zo,Eo],No=function(e){return Fn()(Object(Ln.isString)(e)&&!Object(Ln.isEmpty)(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},Do=function(e){var t={saga:Ln.isFunction,mode:function(e){return Object(Ln.isString)(e)&&Ro.includes(e)}};Fn()(Object(Ln.conformsTo)(e,t),"(app/utils...) injectSaga: Expected a valid saga descriptor")};function _o(e,t){return function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;t||Bn(e);var o=Object(u.a)(Object(u.a)({},n),{},{mode:n.mode||zo}),c=o.saga,i=o.mode;No(r),Do(o);var s=Reflect.has(e.injectedSagas,r);(!s||s&&i!==zo&&i!==Eo)&&(e.injectedSagas[r]=Object(u.a)(Object(u.a)({},o),{},{task:e.runSaga(c,a)}))}}function Fo(e,t){return function(r){if(t||Bn(e),No(r),Reflect.has(e.injectedSagas,r)){var n=e.injectedSagas[r];n.mode&&n.mode!==zo&&(n.task.cancel(),e.injectedSagas[r]="done")}}}function Lo(e){return Bn(e),{injectSaga:_o(e,!0),ejectSaga:Fo(e,!0)}}var Bo=function(e){var t=e.key,r=e.saga,n=e.mode,a=c.a.useContext(l.b);c.a.useEffect((function(){var e=Lo(a.store);return e.injectSaga(t,{saga:r,mode:n}),function(){e.ejectSaga(t)}}),[])},Uo=function(e){var t=Object(o.useState)(""),r=Object(I.a)(t,2),n=r[0],a=r[1];return Object(Oe.jsxs)(E.Form,{id:"new-operat-form",onSubmit:function(t){t.preventDefault(),e.handleCreateOperat()},children:[Object(Oe.jsxs)(E.Input,{type:"select",required:!0,className:"dark-select",id:"operat-type-select",value:n.id?n.id:"",onChange:function(t){"CLEAR"===t.target.value?a(""):(e.handleSelectOperatType(e.operatTypes.operatTypes.find((function(e){return e.id===t.target.value}))),a(e.operatTypes.operatTypes.find((function(e){return e.id===t.target.value}))))},style:{width:"100%"},placeholder:"wybierz typ operatu",children:[Object(Oe.jsx)("option",{value:"",disabled:!0,children:"Wybierz rodzaj operatu"}),e.operatTypes.operatTypes.map((function(e){return Object(Oe.jsx)("option",{value:e.id,children:e.name},e.id)})),Object(Oe.jsx)("option",{value:"CLEAR",children:"---Kasuj wyb\xf3r---"})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"operat-name",children:"Nazwa operatu"}),Object(Oe.jsx)(E.Input,{type:"text",id:"operat-name",name:"operat-name"})]}),Object(Oe.jsx)(E.Button,{type:"submit",color:"success",children:"Stw\xf3rz operat"})]})},Go=function(e){var t=e.handleSetOperatFilters,r=Object(o.useState)(""),n=Object(I.a)(r,2),a=n[0],c=n[1],i=Object(o.useState)(""),s=Object(I.a)(i,2),d=s[0],l=s[1];return Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsxs)(E.Form,{onSubmit:function(e){e.preventDefault(),t({createdDateTimeFrom:a,createdDateTimeTo:d})},children:[Object(Oe.jsx)("label",{for:"filter-operat-created-date-time-from",children:"Data utworzenia od"}),Object(Oe.jsx)(E.Input,{type:"date",placeholder:"Data utworzenia od",id:"filter-operat-created-date-time-from",name:"filter-operat-created-date-time-from",onChange:function(e){c(e.target.value)},value:a}),Object(Oe.jsx)("label",{for:"filter-operat-created-date-time-to",children:"Data utworzenia do"}),Object(Oe.jsx)(E.Input,{type:"date",placeholder:"Data utworzenia do",id:"filter-operat-created-date-time-to",name:"filter-operat-created-date-time-to",onChange:function(e){l(e.target.value)},value:d}),Object(Oe.jsx)(E.Button,{onClick:function(){c(""),l(""),t({createdDateTimeFrom:"",createdDateTimeTo:""})},children:"Wyczy\u015b\u0107"}),Object(Oe.jsx)(E.Button,{type:"submit",color:"success",children:"Filtruj"})]})})})},Mo=function(e){var t=e.setIsIdHidden,r=e.isIdHidden,n=e.label;return Object(Oe.jsx)(E.FormGroup,{children:Object(Oe.jsx)(E.Col,{sm:{size:10},children:Object(Oe.jsx)(E.FormGroup,{children:Object(Oe.jsxs)(E.Label,{for:"authorizedExperts",sm:10,onClick:function(){t(!r)},children:[Object(Oe.jsx)(E.Input,{name:"show-operat-id",id:"show-operat-id",type:"checkbox",checked:!r,onChange:function(){t(!r)}}),n]})})})})},Wo="operatsPage";var Ko=Object(Hr.b)({operats:hn(),operatTypes:Dn(),operatOrder:Object(Hr.a)(bn,(function(e){return e.operatOrder}))});var qo=Object(l.c)(Ko,(function(e){return{handleLoadOperats:function(){return e(fn())},handleRemoveOperat:function(){return e({type:Zr})},handleSetActiveOperat:function(t){return e(function(e){return{type:$r,payload:e}}(t))},handleCreateOperat:function(){return e({type:en})},handleSelectOperatType:function(t){return e(function(e){return{type:tn,payload:e}}(t))},handleSetPageNumber:function(t){return e(function(e){return{type:rn,payload:e}}(t))},handleLoadOperatOrder:function(){return e({type:nn})},handleSendPdf:function(t,r,n){return e(function(e,t,r){return{type:cn,id:e,emails:t,sendToPrincipal:r}}(t,r,n))},handleUploadOwnGeneratedOperat:function(t,r){return e(function(e,t){return{type:sn,id:e,file:t}}(t,r))},handleUploadSignedOperat:function(t,r){return e(function(e,t){return{type:un,id:e,file:t}}(t,r))},handleSetOperatFilters:function(t){return e({type:dn,payload:t})},handleSetOperatSortParameters:function(t){return e({type:ln,payload:t})}}})),Ho=Object(xn.c)(qo,o.memo)((function(e){ao({key:Wo,reducer:jn}),Bo({key:Wo,saga:Ao});var t=Object(p.a)("common").t,r=Object(j.f)(),n=Object(l.e)((function(e){return e.global.user})),a=Object(o.useState)(!0),c=Object(I.a)(a,2),i=c[0],s=c[1],d=Object(o.useState)(!1),b=Object(I.a)(d,2),O=b[0],h=b[1],f=Object(o.useState)(!1),m=Object(I.a)(f,2),g=m[0],x=m[1],y=n.userType===$;Object(o.useEffect)((function(){e.handleSetPageNumber("1")}),[]),Object(o.useEffect)((function(){e.handleLoadOperats()}),[r.location.search,e.operats.filters,e.operats.sortDirection,e.operats.sortFieldName]);var v={onSort:function(t,r){e.handleSetOperatSortParameters(t)},sortFunc:function(e,t,r,n,a,o){},sort:!0},w=[{dataField:"id",text:"ID",hidden:i},{dataField:"inProcess",text:t("history.table.headers.inProgress"),editable:!1,headerStyle:{width:"15%"},align:"center",headerAlign:"center",formatter:function(e,t){return Object(Oe.jsx)("label",{children:Object(Oe.jsx)("input",{type:"checkbox",defaultChecked:t.inProcess})})}},Object(u.a)(Object(u.a)({dataField:"createdDateTime",text:t("history.table.headers.applicationDate"),align:"center",headerAlign:"center",editable:!1},v),{},{formatter:function(e,t){return Object(Oe.jsx)("div",{children:e.split("T")[0]})},headerStyle:function(e,t){return{width:"15%",textAlign:"center"}}}),Object(u.a)(Object(u.a)({dataField:"name"},v),{},{sort:!0,text:t("history.table.headers.informations"),headerAlign:"center",align:"center",editable:!1})];return Object(Oe.jsx)("div",{className:"content",children:Object(Oe.jsxs)("div",{className:"container",children:[y&&Object(Oe.jsx)(Mo,{setIsIdHidden:function(e){return s(e)},isIdHidden:i,label:"Pokaza\u0107 id operatu?"}),Object(Oe.jsxs)(E.Row,{children:[Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{onClick:function(){return x((function(e){return!e}))},children:"Tworzenie operatu"}),Object(Oe.jsx)(E.Collapse,{isOpen:g,children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsx)(Uo,{operatTypes:e.operatTypes,handleCreateOperat:e.handleCreateOperat,handleSelectOperatType:e.handleSelectOperatType})})})})]}),Object(Oe.jsxs)(E.Col,{md:"12",children:[Object(Oe.jsx)(E.Button,{color:"success",onClick:function(){return h((function(e){return!e}))},children:"Filtry"}),Object(Oe.jsx)(E.Collapse,{isOpen:O,children:Object(Oe.jsx)(Go,{handleSetOperatFilters:e.handleSetOperatFilters})}),Object(Oe.jsx)(qr.a,{count:localStorage.getItem("pageCount"),color:"primary",page:new URLSearchParams(r.location.search).get("pageNumber")?parseInt(new URLSearchParams(r.location.search).get("pageNumber")):1,onChange:function(t,n){var a=new URLSearchParams(r.location.search);a.set("pageNumber",n.toString()),r.push({pathname:"/history",search:a.toString()}),e.handleSetPageNumber(n.toString()),e.handleLoadOperats()}}),e.operats.loading?Object(Oe.jsx)(xe,{}):Object(Oe.jsx)(N.a,{bootstrap4:!0,keyField:"id",data:e.operats.operats,columns:w,striped:!0,hover:!0,condensed:!0,bordered:!1,expandRow:{onlyOneExpanding:!0,onExpand:function(t,r,n,a){e.handleSetActiveOperat(t)},renderer:function(t){return Object(Oe.jsx)(Kr,{row:t,history:e.history,handleRemoveOperat:e.handleRemoveOperat,handleLoadOperats:e.handleLoadOperats,handleLoadOperatOrder:e.handleLoadOperatOrder,operatOrder:e.operatOrder,handleSendPdf:e.handleSendPdf,handleUploadOwnGeneratedOperat:e.handleUploadOwnGeneratedOperat,handleUploadSignedOperat:e.handleUploadSignedOperat})}}})]})]})]})})})),Vo=r(122);function Jo(e){var t=Object(o.useState)({lat:52.2492292821819,lng:21.0120537940507}),r=Object(I.a)(t,2),n=r[0],a=r[1],c=Object(o.useState)(!1),i=Object(I.a)(c,2),s=i[0],d=i[1];Object(o.useEffect)((function(){0!==e.locationInfo.latlng.lat?(a({lat:e.locationInfo.latlng.lat,lng:e.locationInfo.latlng.lng}),d(!0)):navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){a({lat:e.coords.latitude,lng:e.coords.longitude}),d(!0)}),(function(){return d(!0)})):d(!0)}),[e.locationInfo.latlng.lat,e.locationInfo.latlng.lng]);var l=function(t,r){return""!==e.locationInfo.address?function(t,r){var n="".concat(e.locationInfo.address," ").concat(e.locationInfo.locationPostCode),a=new r.Geocoder,o=new r.InfoWindow;a.geocode({address:n}).then((function(n){var a=n.results;if(a[0]){t.setZoom(11),t.setCenter(a[0].geometry.location);var c=new r.Marker({draggable:!0,map:t,position:a[0].geometry.location});return u(c),o.setContent(a[0].formatted_address),o.open(t,c),e.setCoords({lat:c.position.lat(),lng:c.position.lng()}),c}}))}(t,r):function(t,r){var a=new t.InfoWindow,o=new t.Marker({position:n,map:r,draggable:!0});return u(o),a.setContent("Przeci\u0105gnij mnie"),a.open(r,o),e.setCoords({lat:o.position.lat(),lng:o.position.lng()}),o}(r,t)};return Object(Oe.jsx)("div",{style:{height:"75vh",width:"75vh"},children:s&&Object(Oe.jsx)(Vo.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"/aoperat_frontend_pub",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADB2C_AUTHORITY:"https://aoperat.b2clogin.com/aoperat.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_AUTHORITY_DOMAIN:"aoperat.b2clogin.com",REACT_APP_ADB2C_CLIENT_ID:"df74523c-50b3-4232-b136-ecee23a35005",REACT_APP_ADB2C_EDIT_PROFILE_AUTHORITY:"https://aoperat.b2clogin.com/aoperat.onmicrosoft.com/b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_EDIT_PROFILE_POLICY:"b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_FORGOT_PASSWORD_AUTHORITY:"https://aoperat.b2clogin.com/aoperat.onmicrosoft.com/b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_FORGOT_PASSWORD_POLICY:"b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_KNOWN_AUTHORITIES:"aoperat.b2clogin.com",REACT_APP_ADB2C_LOGIN_SCOPES:"",REACT_APP_ADB2C_POST_LOGOUT_REDIRECT_URI:"/",REACT_APP_ADB2C_REDIRECT_URI:"/",REACT_APP_ADB2C_SIGNUP_SIGNIN_AUTHORITY:"https://aoperat.b2clogin.com/aoperat.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_SIGNUP_SIGNIN_POLICY:"b2c_1_aoperatfrontendsignupsignin1",REACT_APP_API_URL:"https://aoperatbackend.azurewebsites.net",REACT_APP_GOOGLE_API_URL:"https://maps.googleapis.com/maps/api/js?key="}).REACT_APP_GOOGLE_API_KEY},defaultCenter:n,defaultZoom:11,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=e.map,r=e.maps;return l(t,r)}})});function u(t){t.addListener("mouseup",(function(){e.setCoords({lat:t.position.lat(),lng:t.position.lng()})}))}}function Yo(e){return Object(Oe.jsx)("div",{style:{height:"75vh",width:"75vh"},children:Object(Oe.jsx)(Vo.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"/aoperat_frontend_pub",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADB2C_AUTHORITY:"https://aoperat.b2clogin.com/aoperat.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_AUTHORITY_DOMAIN:"aoperat.b2clogin.com",REACT_APP_ADB2C_CLIENT_ID:"df74523c-50b3-4232-b136-ecee23a35005",REACT_APP_ADB2C_EDIT_PROFILE_AUTHORITY:"https://aoperat.b2clogin.com/aoperat.onmicrosoft.com/b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_EDIT_PROFILE_POLICY:"b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_FORGOT_PASSWORD_AUTHORITY:"https://aoperat.b2clogin.com/aoperat.onmicrosoft.com/b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_FORGOT_PASSWORD_POLICY:"b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_KNOWN_AUTHORITIES:"aoperat.b2clogin.com",REACT_APP_ADB2C_LOGIN_SCOPES:"",REACT_APP_ADB2C_POST_LOGOUT_REDIRECT_URI:"/",REACT_APP_ADB2C_REDIRECT_URI:"/",REACT_APP_ADB2C_SIGNUP_SIGNIN_AUTHORITY:"https://aoperat.b2clogin.com/aoperat.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_SIGNUP_SIGNIN_POLICY:"b2c_1_aoperatfrontendsignupsignin1",REACT_APP_API_URL:"https://aoperatbackend.azurewebsites.net",REACT_APP_GOOGLE_API_URL:"https://maps.googleapis.com/maps/api/js?key="}).REACT_APP_GOOGLE_API_KEY},defaultCenter:e.cords,defaultZoom:11,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){return function(t,r){return new r.Marker({position:e.cords,map:t})}(t.map,t.maps)}})})}var Xo=function(e){var t=Object(p.a)("common").t,r=e.row.latitudeLongitude.split(","),n=r.length>1&&{lat:parseFloat(r[0]),lng:parseFloat(r[1])};return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(E.UncontrolledCollapse,{toggler:"#orderData",children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsxs)(E.CardBody,{children:[Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("p",{children:[Object(Oe.jsxs)("b",{children:[t("common.orderInfo.description"),":"]})," ",e.row.description]})}),Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("p",{children:[Object(Oe.jsxs)("b",{children:[t("common.orderInfo.address"),":"]})," ",e.row.location]})}),Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("p",{children:[Object(Oe.jsxs)("b",{children:[t("common.orderInfo.orderSubject"),":"]})," ",e.row.orderSubject]})}),Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("p",{children:[Object(Oe.jsxs)("b",{children:[t("common.orderInfo.valuationScope"),":"]})," ",e.row.valuationScope]})}),Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("p",{children:[Object(Oe.jsxs)("b",{children:[t("common.orderInfo.landRegisterNumber"),":"]})," ",e.row.ekw]})}),Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("p",{children:[Object(Oe.jsxs)("b",{children:[t("common.orderInfo.propertyIdentification"),":"]})," ",e.row.propertyIdentification]})}),Object(Oe.jsx)(E.Button,{className:"long-btn",id:"UncontrolledPopoverMAP",type:"button",color:"success",children:"Poka\u017c map\u0119"}),Object(Oe.jsx)(E.UncontrolledPopover,{placement:"right",target:"UncontrolledPopoverMAP",trigger:"legacy",children:Object(Oe.jsx)(E.PopoverBody,{children:"0"!==r[0]?Object(Oe.jsx)(Yo,{cords:n}):Object(Oe.jsx)("div",{children:"Nie podano wsp\xf3\u0142rzednych"})})})]})})})})};var Qo=function(e){var t=Object(o.useState)(null),r=Object(I.a)(t,2),n=r[0],a=r[1],c=Object(p.a)("common").t,i=Object(l.e)((function(e){return e.global.user})),s=Object(l.d)(),d=i.userType===$;Object(o.useEffect)((function(){s(jr(K,{message:ee})),_t.getUserType(e.id).then((function(t){t===Q&&Ke.getOperatorData(e.id).then((function(e){e.role=Q,a(e),s(br())})),t===Z&&Ht.getClientData(e.id).then((function(e){e.role=Z,a(e),s(br())})),t===$&&Ut.getAdminDataById(e.id).then((function(e){e.role=$,a(e),s(br())})),""===t&&s(br())})).finally((function(){return s(br())}))}),[e.id,s]);var u,j,b=function(e,t){return t&&Object(Oe.jsx)("div",{children:e+": "+t})};return Object(Oe.jsx)("div",{children:n?Object(Oe.jsxs)("div",{children:[d&&b(c("common.userInfo.role"),n.role),d&&b("Id",n.id),(u=c("common.userInfo.mail"),j=n.mail,j&&Object(Oe.jsxs)("div",{children:[u+": ",Object(Oe.jsx)("a",{href:"mailto:"+j,children:j})]})),b(c("common.userInfo.phone"),n.phone),b(c("common.userInfo.nameWithTitle"),n.nameWithTitle),b(c("common.userInfo.address"),n.address.replaceAll("undefined, ","").replaceAll("undefined","")),Object(Oe.jsx)("div",{children:Object(Oe.jsx)(E.Button,{color:"info",children:"Wy\u015blij wiadomo\u015b\u0107"})})]}):Object(Oe.jsx)("div",{children:c("common.userInfo.noPayerInfo")})})},Zo=function(e){var t=Object(p.a)("common").t,r=Object(o.useState)(""),n=Object(I.a)(r,2),a=n[0],c=n[1],i=Object(o.useState)(""),s=Object(I.a)(i,2),d=s[0],l=s[1];return Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsx)(E.Form,{id:"new-offer",onSubmit:function(t){t.preventDefault(),e.onSubmit(),e.hide()},children:Object(Oe.jsxs)("div",{className:"row",children:[Object(Oe.jsx)("div",{className:"col-6",children:Object(Oe.jsxs)("div",{className:"justify-content-center",children:[Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"exampleNumber",children:t("common.userInfo.description")}),Object(Oe.jsx)(E.Input,{type:"textarea",name:"description",id:"description",placeholder:t("common.userInfo.orderDescription")})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"exampleNumber",children:t("common.userInfo.offeredPrice")}),Object(Oe.jsx)(E.Input,{type:"number",id:"exampleNumber",name:"exampleNumber",min:10,max:9999999,onKeyPress:function(e){return Se.validatePositiveNumbers(e,/^[0-9]{0,10}$/)},placeholder:t("common.userInfo.offeredPrice"),onChange:function(e){(e.target.value.startsWith("-")||e.target.value<0||""===e.target.value)&&(e.target.value=""),e.target.value>=0&&c(e.target.value)},required:!0})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"exampleDate",children:t("common.userInfo.endDate")}),Object(Oe.jsx)(E.Input,{type:"date",name:"date",id:"exampleDate",placeholder:"date placeholder",onChange:function(e){l(e.target.value)},required:!0})]})]})}),Object(Oe.jsx)("div",{className:"col-4 d-flex justify-content-center align-items-center",children:Object(Oe.jsx)(E.Button,{color:"success",disabled:""===a||""===d,children:t("common.userInfo.makeAnOffer")})})]})})})})},$o=r(118),ec=r.n($o),tc=function(e){var t=e.handleSetPropositionFilters,r=Object(o.useState)(""),n=Object(I.a)(r,2),a=n[0],c=n[1],i=Object(o.useState)(""),s=Object(I.a)(i,2),d=s[0],l=s[1],u=Object(o.useState)(""),p=Object(I.a)(u,2),j=p[0],b=p[1],O=Object(o.useState)(""),h=Object(I.a)(O,2),f=h[0],m=h[1];return Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsxs)(E.Form,{onSubmit:function(e){e.preventDefault(),t({upTillDateFrom:a,upTillDateTo:d,priceFrom:j,priceTo:f})},children:[Object(Oe.jsx)("label",{for:"order-proposition-price-from",children:"Cena od"}),Object(Oe.jsx)(E.Input,{type:"number",placeholder:"Cena od",id:"order-proposition-price-from",name:"order-proposition-price-from",onChange:function(e){b(e.target.value)},value:j}),Object(Oe.jsx)("label",{for:"order-proposition-price-to",children:"Cena do"}),Object(Oe.jsx)(E.Input,{type:"number",placeholder:"Cena do",id:"order-proposition-price-to",name:"order-proposition-price-to",onChange:function(e){m(e.target.value)},value:f}),Object(Oe.jsx)("label",{for:"order-proposition-up-till-date-from",children:"Termin uko\u0144czenia od"}),Object(Oe.jsx)(E.Input,{type:"date",placeholder:"Termin uko\u0144czenia od",id:"order-proposition-up-till-date-from",name:"order-proposition-up-till-date-from",onChange:function(e){c(e.target.value)},value:a}),Object(Oe.jsx)("label",{for:"order-proposition-up-till-date-to",children:"Termin uko\u0144czenia do"}),Object(Oe.jsx)(E.Input,{type:"date",placeholder:"Termin uko\u0144czenia do",id:"order-proposition-up-till-date-to",name:"order-proposition-up-till-date-to",onChange:function(e){l(e.target.value)},value:d}),Object(Oe.jsx)(E.Button,{onClick:function(){c(""),l(""),b(""),m(""),t({upTillDateFrom:"",upTillDateTo:"",priceFrom:"",priceTo:""})},children:"Wyczy\u015b\u0107"}),Object(Oe.jsx)(E.Button,{type:"submit",color:"success",children:"Filtruj"})]})})})},rc=function(e,t,r,n,a){var o=t.some((function(e){return"reserved"===e.reservationStatus.toLowerCase()})),c="reserved"===e.reservationStatus.toLowerCase(),i=r[0].idTokenClaims.oid,s=n===r[0].idTokenClaims.oid;return!(!a||c||e.operatorId!==i)||(s?o?!c:c:a?!(c&&e.operatorId===i):o&&!c||e.operatorId!==i)};var nc=function(e){var t=Object(o.useState)(!0),r=Object(I.a)(t,2),n=r[0],a=r[1],c=Object(o.useState)(!1),i=Object(I.a)(c,2),s=i[0],d=i[1],O=Object(b.e)().accounts,h=Object(l.e)((function(e){return e.global.user})),f=h.userType===$,m=h.userType===Q,g=Object(p.a)("common").t,x=Object(j.f)(),y={onSort:function(t,r){e.handleSetPropositionsSortParameters(t)},sortFunc:function(e,t,r,n,a,o){},sort:!0};Object(o.useEffect)((function(){e.handleLoadPropositions()}),[e.propositions.sortFieldName,e.propositions.sortDirection,e.propositions.filters]);var v=[{dataField:"id",text:"ID",hidden:n},Object(u.a)(Object(u.a)({dataField:"description",text:g("market.table.headers.description"),editable:!1},y),{},{sort:!0,align:"center",headerAlign:"center"}),Object(u.a)(Object(u.a)({dataField:"price",text:g("market.table.headers.price"),editable:!1},y),{},{sort:!0,align:"center",headerAlign:"center"}),{dataField:"reservationStatus",text:g("market.table.headers.status"),editable:!1,align:"center",headerAlign:"center",formatter:function(e,t){return Object(Oe.jsx)("div",{children:"unknown"===t.reservationStatus.toLowerCase()?"":t.reservationStatus})}},Object(u.a)(Object(u.a)({dataField:"upTillDate",text:g("market.table.headers.upTillDate"),align:"center",headerAlign:"center"},y),{},{formatter:function(e,t){return Object(Oe.jsx)("div",{children:e&&e.split("T")[0]})},headerStyle:function(e,t){return{width:"16%",textAlign:"center"}}}),{text:"rzeczoznawca",align:"center",headerAlign:"center",editable:!0,formatter:function(e,t){return Object(Oe.jsx)(E.Button,{color:"primary",onClick:function(){x.push({pathname:"/users-profile",search:"?operatorId="+t.operatorId})},children:"Profil rzeczoznawcy"})}},{text:"ocena rzeczoznawcy",align:"center",headerAlign:"center",editable:!0,formatter:function(e,t){return t.avgOperatorRating?Object(Oe.jsxs)("div",{className:"d-flex justify-content-center",id:"avg-rating-"+t.id,children:[Object(Oe.jsx)(ec.a,{count:5,edit:!1,isHalf:!0,value:Math.ceil(t.avgOperatorRating),size:24,activeColor:"#ffd700"}),Object(Oe.jsx)(E.UncontrolledTooltip,{flip:!0,target:"avg-rating-"+t.id,children:t.avgOperatorRating.toFixed(3)})]}):"Brak danych"}},{text:g("market.table.headers.accept-resign"),align:"center",headerAlign:"center",editable:!0,formatter:function(t,r){return Object(Oe.jsx)(E.Button,{disabled:rc(r,e.propositions.propositions,O,e.activeOrder.clientId,m),color:"reserved"===r.reservationStatus.toLowerCase()?"danger":"success",onClick:function(){e.handleSetPropositionId(r.id),"unknown"===r.reservationStatus.toLowerCase()||"unreserved"===r.reservationStatus.toLowerCase()?e.handleReserveOrderAndProposition():e.handleUnreserveProposition()},children:"reserved"===r.reservationStatus.toLowerCase()?g("market.table.buttons.resign"):g("market.table.buttons.accept")})}}];return Object(Oe.jsxs)("div",{className:"content",children:[Object(Oe.jsx)(E.Button,{onClick:function(){return d((function(e){return!e}))},color:"success",children:"Filtry"}),Object(Oe.jsx)(E.Collapse,{isOpen:s,children:Object(Oe.jsx)(tc,{handleSetPropositionFilters:e.handleSetPropositionFilters})}),f&&Object(Oe.jsx)(Mo,{setIsIdHidden:a,label:g("market.showPropositionId"),isIdHidden:n}),e.propositions.loading?Object(Oe.jsx)(xe,{}):Object(Oe.jsx)(N.a,{bootstrap4:!0,keyField:"id",data:e.propositions.propositions,columns:v,striped:!0,hover:!0,bordered:!1})]})};var ac=function(e){var t=Object(l.e)((function(e){return e.global.user})),r=Object(o.useState)(!1),n=Object(I.a)(r,2),a=n[0],c=n[1],i=Object(o.useState)(!1),s=Object(I.a)(i,2),d=s[0],u=s[1],j=Object(o.useState)(!1),O=Object(I.a)(j,2),h=O[0],f=O[1],m=Object(p.a)("common").t,g=Object(b.e)().accounts;return Object(Oe.jsxs)("div",{children:[($===t.userType||t.userType===Q&&g[0].idTokenClaims.oid!==e.activeOrder.clientId)&&Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{color:"primary",className:"long-btn",onClick:function(){f(!h)},style:{marginBottom:"1rem"},children:m("market.table.buttons.submittOffer")})," ",Object(Oe.jsx)(E.Collapse,{isOpen:h,children:h&&Object(Oe.jsx)(Zo,{onSubmit:e.handleSaveProposition,hide:function(){return f(!1)}})})]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{className:"long-btn proposition-list-toggler",color:"secondary",style:{marginBottom:"1rem"},onClick:function(){c(!a)},children:m("market.table.buttons.submittedOffers")}),Object(Oe.jsx)(E.Collapse,{isOpen:a,children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:a&&Object(Oe.jsx)(nc,{handleReserveOrderAndProposition:e.handleReserveOrderAndProposition,handleUnreserveProposition:e.handleUnreserveProposition,handleSetPropositionId:e.handleSetPropositionId,propositions:e.propositions,handleLoadPropositions:e.handleLoadPropositions,activeOrder:e.activeOrder,handleSetPropositionsSortParameters:e.handleSetPropositionsSortParameters,handleSetPropositionFilters:e.handleSetPropositionFilters})})})})]}),g[0].idTokenClaims.oid!==e.activeOrder.clientId&&Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{color:"info",className:"long-btn",onClick:function(){u(!d)},style:{marginBottom:"1rem"},children:m("market.table.buttons.payerInformation")}),Object(Oe.jsx)(E.Collapse,{isOpen:d,children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:d&&Object(Oe.jsx)(Qo,{id:e.activeOrder.clientId})})})})]})]})},oc=r(163),cc=r(95),ic=r.n(cc),sc=function(e,t){var r="";""!==(e=e.toUpperCase())&&e||(r+="Numer ksi\u0119gi wieczystej nie mo\u017ce by\u0107 pusty<br/>");var n=e.split("/");if(3!==n.length)return r+="Nieprawid\u0142owa liczba sekcji numeru ksi\u0119gi wieczystej, powinny by\u0107 3 oddzielone znakiem /<br/>";4===n[0].length&&8===n[1].length&&1===n[2].length||(r+="Nieprawid\u0142owa d\u0142ugo\u015b\u0107 kt\xf3rej\u015b z sekcji numeru ksi\u0119gi wieczystej<br/>"),t.regions.includes(n[0])||(r+="Nie ma takiego kodu Wydzia\u0142u Ksi\u0105g Wieczystych S\u0105du Rejonowego<br/>");for(var a=0,o=0,c=0;c<n[0].length;c++)a+=t.weights[n[0][c]]*t.multipliers[o++];for(var i=0;i<n[1].length;i++)a+=t.weights[n[1][i]]*t.multipliers[o++];return isNaN(parseInt(n[1]))&&(r+="Druga sekcja numeru ksi\u0119gi wieczystej powinna by\u0107 dan\u0105 liczbow\u0105<br/>"),isNaN(parseInt(n[2]))?r+="Cyfra kontrolna numeru ksi\u0119gi wieczystej powinna by\u0107 dan\u0105 liczbow\u0105<br/>":(a%10!==parseInt(n[2])&&(r+="Niepoprawna suma kontrolna<br/>"),r)},dc=function(e){var t=Object(p.a)("common").t,r=Object(o.useState)(""),n=Object(I.a)(r,2),a=n[0],c=n[1],i=Object(o.useState)(""),s=Object(I.a)(i,2),d=s[0],l=s[1],j=Object(o.useState)(""),b=Object(I.a)(j,2),O=b[0],h=b[1],f=Object(o.useState)(!1),m=Object(I.a)(f,2),g=m[0],x=m[1],y=Object(o.useState)({lat:0,lng:0}),v=Object(I.a)(y,2),w=v[0],k=v[1],C=Object(o.useState)(""),S=Object(I.a)(C,2),P=S[0],T=S[1],A=Object(o.useState)(!1),z=Object(I.a)(A,2),R=z[0],N=z[1],D=Object(o.useState)(null),_=Object(I.a)(D,2),F=_[0],L=_[1],B=Object(o.useState)(null),U=Object(I.a)(B,2),G=U[0],M=U[1],W=Object(o.useState)(""),K=Object(I.a)(W,2),q=K[0],H=K[1],V=Object(o.useState)(""),J=Object(I.a)(V,2),Y=J[0],X=J[1],Q=Object(o.useState)(!1),Z=Object(I.a)(Q,2),$=Z[0],ee=Z[1],te=Object(o.useState)(""),re=Object(I.a)(te,2),ne=re[0],ae=re[1];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)(E.Form,{onSubmit:function(t){return function(t){if(t.preventDefault(),""!==q){var r=sc(q,e.ekwData);if(""!==r)return ee(!0),void ae(r)}e.onSubmit(),ee(!1),ae("")}(t)},id:"new-order-form",children:[Object(Oe.jsx)("input",{type:"hidden",value:"".concat(w.lat,",").concat(w.lng),name:"latlng-value"}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"orderName",children:t("market.table.headers.name")}),Object(Oe.jsx)(E.Input,{type:"text",name:"orderName",id:"orderName",value:a,onChange:function(e){c(e.target.value)},required:!0}),Object(Oe.jsx)(E.UncontrolledTooltip,{placement:"top",target:"orderName",children:t("market.newOrder.namePlaceholder")})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"description",children:t("market.table.headers.description")}),Object(Oe.jsx)(E.Input,{type:"textarea",name:"description",id:"description",value:d,onChange:function(e){l(e.target.value)}}),Object(Oe.jsx)(E.UncontrolledTooltip,{placement:"top",target:"description",children:t("market.newOrder.descriptionPlaceholder")})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"postal-code",children:t("market.newOrder.postalCode")}),Object(Oe.jsx)(ic.a,{mask:"99-999",value:P,onChange:function(e){T(e.target.value)},children:function(e){return Object(Oe.jsx)(E.Input,Object(u.a)(Object(u.a)({},e),{},{type:"text",name:"postal-code",id:"new-order-postal-code",pattern:"\\d{2}-\\d{3}$",required:!0}))}})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"address",children:t("common.userInfo.address")}),Object(Oe.jsx)(E.Input,{type:"text",name:"address",id:"address",value:O,onChange:function(e){h(e.target.value)}}),Object(Oe.jsx)(E.UncontrolledTooltip,{placement:"top",target:"address",children:t("market.newOrder.addressPlaceholder")})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Button,{className:"long-btn",id:"UncontrolledPopoverMAP",type:"button",color:"success",children:"Dodaj lokalizacj\u0119 na mapie"}),Object(Oe.jsx)(E.UncontrolledPopover,{placement:"right",target:"UncontrolledPopoverMAP",trigger:"legacy",children:Object(Oe.jsx)(E.PopoverBody,{children:Object(Oe.jsx)(Jo,{locationInfo:{address:O,locationPostCode:P,latlng:w},setCoords:function(e){k(e)}})})})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"order-subject",children:"Co chcesz wyceni\u0107?"}),Object(Oe.jsx)(oc.a,{options:[{value:"Lokal mieszkalny",label:"Lokal mieszkalny"},{value:"Dzia\u0142ka rolna",label:"Dzia\u0142ka rolna"}],onChange:function(e){L(e.value)}}),Object(Oe.jsx)("input",{tabIndex:-1,autoComplete:"off",value:F,id:"order-subject",name:"order-subject",style:{opacity:0,height:0},required:!0})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"quotation-range",children:"Zakres wyceny"}),Object(Oe.jsx)(oc.a,{options:[{value:"Na potrzeby sprzeda\u017cy",label:"Na potrzeby sprzeda\u017cy"},{value:"Prawo u\u017cytkowania wieczystego do gruntu",label:"Prawo u\u017cytkowania wieczystego do gruntu"}],onChange:function(e){M(e.value)}}),Object(Oe.jsx)("input",{tabIndex:-1,autoComplete:"off",value:G,id:"valuation-scope",name:"valuation-scope",style:{opacity:0,height:0},required:!0})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"order-land-register-code",children:"Nr ksi\u0119gi wieczystej (pole bedzie tylko widoczne dla rzeczoznawcy wykonuj\u0105cego)"}),Object(Oe.jsx)(ic.a,{mask:"aa9a/99999999/9",value:q,onChange:function(e){H(e.target.value)},invalid:$,children:function(e){return Object(Oe.jsx)(E.Input,Object(u.a)(Object(u.a)({},e),{},{type:"text",style:{textTransform:"uppercase"},name:"order-land-register-code",id:"order-land-register-code"}))}}),Object(Oe.jsx)(E.FormFeedback,{children:Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:ne}})})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"property-identification",children:"Identyfikacja nieruchomo\u015bci np. numer nieruchomo\u015bci. Pole to b\u0119dzie widoczne tylko dla rzeczoznawcy wykonuj\u0105cego"}),Object(Oe.jsx)(E.Input,{id:"property-identification",name:"property-identification",type:"text",value:Y,onChange:function(e){return X(e.target.value)}})]}),Object(Oe.jsx)(E.Button,{color:"success",disabled:""===a||""===P||""===F||""===G,children:t("common.add")}),Object(Oe.jsx)(E.FormGroup,{children:Object(Oe.jsx)(E.Col,{sm:{size:10},children:Object(Oe.jsx)(E.FormGroup,{children:Object(Oe.jsxs)(E.Label,{for:"authorizedExperts",sm:10,children:[Object(Oe.jsx)(E.Input,{type:"checkbox",name:"authorizedExperts",id:"authorizedExperts",value:g,onChange:function(e){x(e.target.checked)}}),t("market.table.headers.authorizedExperts")]})})})}),Object(Oe.jsx)(E.FormGroup,{children:Object(Oe.jsx)(E.Col,{sm:{size:10},children:Object(Oe.jsx)(E.FormGroup,{children:Object(Oe.jsxs)(E.Label,{for:"aoperatValidation",sm:10,children:[Object(Oe.jsx)(E.Input,{type:"checkbox",name:"aoperatValidation",id:"aoperatValidation",checked:R,onChange:function(e){N(e.target.checked)}}),t("market.table.headers.aoperatValidation")]})})})})]}),e.saveOrder.error&&Object(Oe.jsx)(E.UncontrolledAlert,{color:"danger",children:Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:e.saveOrder.error.message}})}),e.saveOrder.loading&&Object(Oe.jsx)(xe,{})]})},lc=r(84),uc=r.n(lc);var pc=function(e){var t=Object(l.d)(),r=Object(o.useState)(""),n=Object(I.a)(r,2),a=n[0],c=n[1],i=Object(o.useState)(!1),s=Object(I.a)(i,2),d=s[0],u=s[1],p=Object(j.f)(),b=Object(o.useRef)(null);return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(uc.a,{ref:b}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("div",{children:Object(Oe.jsxs)(E.Input,{type:"select",className:"dark-select",id:"operat-type-select",value:a.id?a.id:"",onChange:function(t){"CLEAR"===t.target.value?c(""):c(e.operatTypes.operatTypes.find((function(e){return e.id===t.target.value})))},style:{width:"272px"},placeholder:"wybierz typ operatu",children:[Object(Oe.jsx)("option",{value:"",disabled:!0,children:"Wybierz rodzaj operatu"}),e.operatTypes.operatTypes.map((function(e){return Object(Oe.jsx)("option",{value:e.id,children:e.name},e.id)})),Object(Oe.jsx)("option",{value:"CLEAR",children:"---Kasuj wyb\xf3r---"})]})}),Object(Oe.jsx)("div",{className:"d-flex justify-content-between",children:Object(Oe.jsx)(E.Button,{style:{width:"272px",marginBottom:"1rem"},color:"primary",onClick:function(){return function(e){var r=Date.now(),n=new Date(r),o={name:"".concat(e.name+", "+a.name+" : "+n.toLocaleString()),orderId:e.id,operatorId:e.operators[0],operatTypeId:a.id};t(jr(K,{body:o,message:re})),Ae.createOperat(o).then((function(){t(br()),c(""),p.push("/history")}))}(e.activeOrder)},disabled:""===a,children:"Stw\xf3rz operat"})}),Object(Oe.jsx)(E.Button,{style:{width:"272px",marginBottom:"1rem"},color:"info",onClick:function(){return u(!d)},children:"informacje o zleceniodawcy"}),Object(Oe.jsx)(E.Collapse,{isOpen:d,style:{marginTop:"1rem"},children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:d&&Object(Oe.jsx)(Qo,{id:e.activeOrder.clientId})})})})]})]})};var jc=function(e){var t=Object(l.d)(),r=Object(b.e)().accounts,n=Object(l.e)((function(e){return e.global.user})),a=Object(j.f)(),c=Object(o.useState)(!1),i=Object(I.a)(c,2),s=i[0],d=i[1],u=Object(o.useState)(!1),p=Object(I.a)(u,2),O=p[0],h=p[1],f=function(){return n.userType===$},m=function(){return n.userType===Z};return Object(Oe.jsxs)("div",{children:[(m()&&e.activeOrder.clientId===n.user.id||f())&&Object(Oe.jsx)(E.Button,{color:"primary",className:"long-btn",id:"payButton",style:{marginBottom:"1rem"},onClick:function(){m()&&t(jr(V,{orderId:e.activeOrder.id})),f()&&e.handlePayForOperat()},children:"zap\u0142a\u0107"}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{color:"secondary",className:"long-btn proposition-list-toggler",onClick:function(){return h(!O)},style:{marginBottom:"1rem"},children:"wys\u0142ane oferty"}),Object(Oe.jsx)(E.Collapse,{isOpen:O,children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:O&&Object(Oe.jsx)(nc,{handleReserveOrderAndProposition:e.handleReserveOrderAndProposition,handleUnreserveProposition:e.handleUnreserveProposition,handleSetPropositionId:e.handleSetPropositionId,propositions:e.propositions,handleLoadPropositions:e.handleLoadPropositions,activeOrder:e.activeOrder,handleSetPropositionsSortParameters:e.handleSetPropositionsSortParameters,handleSetPropositionFilters:e.handleSetPropositionFilters})})})})]}),r[0].idTokenClaims.oid!==e.activeOrder.clientId&&Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{color:"info",className:"long-btn",onClick:function(){return d(!s)},style:{marginBottom:"1rem"},children:"informacje o zleceniodawcy"}),Object(Oe.jsx)(E.Collapse,{isOpen:s,children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:s&&Object(Oe.jsx)(Qo,{id:e.activeOrder.clientId})})})})]}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)(E.Button,{color:"info",style:{width:"272px",marginBottom:"1rem"},onClick:function(){e.activeOrder.operators&&a.push({pathname:"/users-profile",search:"?operatorId="+e.activeOrder.operators[0]})},children:"Dane o rzeczoznawcy"})})]})},bc=function(e){var t=e.onSubmit,r=e.operat,n=Object(o.useState)(5),a=Object(I.a)(n,2),c=a[0],i=a[1],s=Object(o.useState)(""),d=Object(I.a)(s,2),l=d[0],u=d[1],p=Object(o.useState)(!1),j=Object(I.a)(p,2),b=j[0],O=j[1];Object(o.useEffect)((function(){return Ae.getOperatReview(r.id).then((function(e){e.length>0&&(i(e[0].rating),u(e[0].comment))})).finally((function(){return setTimeout(O(!0),500)})),function(){i(5),u(""),O(!1)}}),[r.id]);return Object(Oe.jsx)("div",{children:b?Object(Oe.jsxs)(E.Form,{onSubmit:function(e){return t(e,c)},children:[Object(Oe.jsx)("h4",{children:"Twoja opinia o operacie:"}),Object(Oe.jsx)(E.FormGroup,{children:Object(Oe.jsx)(E.Input,{type:"textarea",name:"review-comment",id:"review-comment",placeholder:"Komentarz",value:l,onChange:function(e){return u(e.target.value)},required:!0})}),Object(Oe.jsx)(ec.a,{count:5,value:c,edit:!0,onChange:function(e){return i(e)},size:24,id:"review-rating-stars",name:"review-rating-stars",activeColor:"#ffd700"}),Object(Oe.jsx)(E.Button,{color:"success",children:"Zapisz recenzj\u0119"})]}):Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{sm:"12",md:{size:3,offset:5},children:Object(Oe.jsx)(E.Spinner,{color:"primary",style:{width:"8rem",height:"8rem"},animation:"border",variant:"info",children:" "})})})})},Oc=function(){var e=Object(h.a)(Object(O.a)().mark((function e(t,r,n,a,o){var c,i;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c=t.target.elements["review-comment"].value,o(jr(K,{message:le})),i={comment:c,rating:r,operatorId:n.operators[0],clientId:n.clientId,operatId:a},Ae.postReview(i).catch((function(e){return console.log(e)})).finally((function(){return o(br())}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a,o){return e.apply(this,arguments)}}();var hc=function(e){var t=Object(l.d)(),r=Object(o.useState)(null),n=Object(I.a)(r,2),a=n[0],c=n[1],i=Object(j.f)(),s=function(){var r=Object(h.a)(Object(O.a)().mark((function r(){return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t(jr(K,{message:se})),$t.getFiles(e.activeOrder.clientId).then((function(r){var n,a=Object(pe.a)(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.item2.includes(e.activeOrder.id+".pdf"))return t(br()),void window.open(o.item2,"_blank")}}catch(c){a.e(c)}finally{a.f()}alert("nie znaleziono pliku pdf")})).finally((function(){return t(br())}));case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(o.useEffect)((function(){Ae.getByOrderId(e.activeOrder.id).then((function(e){c(e)}))}),[e.activeOrder]),Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.Button,{style:{width:"272px",marginBottom:"1rem"},color:"primary",onClick:Object(h.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Pobierz operat"}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(E.Button,{color:"info",style:{width:"272px",marginBottom:"1rem"},onClick:function(){i.push({pathname:"/users-profile",search:"?operatorId="+e.activeOrder.operators[0]})},children:"Dane o rzeczoznawcy"}),Object(Oe.jsx)(E.Col,{sm:{size:4},children:Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Input,{id:"checkbox2",type:"checkbox",onChange:Object(h.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isObstructed){e.next=4;break}e.t0=!0,e.next=7;break;case 4:return e.next=6,ve()({title:Object(Oe.jsx)(Oe.Fragment,{children:"Czy operat zosta\u0142 zakwestionowany przez s\u0105d?"}),message:"Zakwestionowane operaty s\u0105 widoczne w statystyce rzeczoznawc\xf3w i wp\u0142ywaj\u0105 na ocen\u0119 koncow\u0105 pracy rzeczoznawcy",confirmText:"Zakwestionuj",cancelText:"Anuluj",confirmColor:"success",cancelColor:"link text-primary"});case 6:e.t0=e.sent;case 7:e.t0&&(t(jr(K,{message:"Trwa wysy\u0142anie danych"})),Ae.obstructOperat(a.id).then((function(){c(Object(u.a)(Object(u.a)({},a),{},{isObstructed:!a.isObstructed}))})).finally((function(){return t(br())})));case 9:case"end":return e.stop()}}),e)}))),checked:a&&a.isObstructed})," ",Object(Oe.jsx)(E.Label,{children:"Operat zakwestionowany"})]})}),a&&Object(Oe.jsx)(bc,{operat:a,onSubmit:function(r,n){return Oc(r,n,e.activeOrder,a.id,t)}})]})},fc=function(e){var t=e.handleSetOrderFilters,r=Object(o.useState)(""),n=Object(I.a)(r,2),a=n[0],c=n[1];return Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsxs)(E.Form,{onSubmit:function(e){e.preventDefault(),t({locationPostCode:a})},children:[Object(Oe.jsx)(E.Input,{placeholder:"Kod pocztowy",id:"filter-locationPostCode",name:"filter-locationPostCode",onChange:function(e){c(e.target.value)},value:a}),Object(Oe.jsx)(E.Button,{onClick:function(){c(""),t({locationPostCode:""})},children:"Wyczy\u015b\u0107"}),Object(Oe.jsx)(E.Button,{color:"success",children:"Filtruj"})]})})})},mc=function(e){return e.marketPage||fa},gc=function(){return Object(Hr.a)(mc,(function(e){return e.orders}))},xc=function(){return Object(Hr.a)(mc,(function(e){return e.activeOrder}))},yc=function(){return Object(Hr.a)(mc,(function(e){return e.propositionId}))},vc=function(){return Object(Hr.a)(mc,(function(e){return e.propositions}))};function wc(){return{type:qn}}function kc(e){return{type:Vn,payload:e}}function Cc(){return{type:Zn}}function Sc(e){return{type:$n,payload:e}}function Pc(){return{type:ea}}function Tc(e){return{type:ta,payload:e}}function Ic(e){return{type:ia,payload:e}}var Ac=Object(O.a)().mark(Gc),zc=Object(O.a)().mark(Mc),Ec=Object(O.a)().mark(Wc),Rc=Object(O.a)().mark(Kc),Nc=Object(O.a)().mark(qc),Dc=Object(O.a)().mark(Hc),_c=Object(O.a)().mark(Vc),Fc=Object(O.a)().mark(Jc),Lc=Object(O.a)().mark(Yc),Bc=Object(O.a)().mark(Xc),Uc=Object(O.a)().mark(Qc);function Gc(){var e,t,r,n,a;return Object(O.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(oo.e)(gc());case 2:return e=o.sent,t="/Order/user?pageNumber=".concat(e.pageNumber),e.filters&&(t+="&locationPostCode=".concat(e.filters.locationPostCode)),e.sortFieldName&&(t+="&fieldName=".concat(e.sortFieldName,"&direction=").concat(e.sortDirection)),o.next=8,Object(oo.a)(Pe);case 8:return r=o.sent,n={method:"GET",headers:r},o.prev=10,o.next=13,Object(oo.a)(lo,t,n);case 13:return a=o.sent,o.next=16,Object(oo.c)(kc(a));case 16:o.next=22;break;case 18:return o.prev=18,o.t0=o.catch(10),o.next=22,Object(oo.c)((c=o.t0,{type:Jn,payload:c}));case 22:case"end":return o.stop()}var c}),Ac,null,[[10,18]])}function Mc(){var e,t,r,n,a,o,c,i,s,d;return Object(O.a)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return e=document.querySelector("#new-order-form"),t=new FormData(e),l.next=4,Object(oo.e)(Nn());case 4:return r=l.sent,n=document.getElementById("authorizedExperts").checked,a=document.getElementById("aoperatValidation").checked,o=t.get("order-land-register-code"),c={name:t.get("orderName"),description:t.get("description"),location:t.get("address"),requiresZbpList:n,latitudeLongitude:t.get("latlng-value"),locationPostCode:t.get("postal-code"),clientId:r.user.id,shouldBeValidated:a,orderSubject:t.get("order-subject"),valuationScope:t.get("valuation-scope"),ekw:o,propertyIdentification:t.get("property-identification")},i="/Order",l.next=12,Object(oo.a)(Pe,"json");case 12:return s=l.sent,d={method:"POST",headers:s,body:JSON.stringify(c)},l.prev=14,l.next=17,Object(oo.a)(lo,i,d);case 17:return l.next=19,Object(oo.c)({type:Xn});case 19:return l.next=21,Object(oo.c)(wc());case 21:l.next=27;break;case 23:return l.prev=23,l.t0=l.catch(14),l.next=27,Object(oo.c)((u=l.t0,{type:Qn,payload:u}));case 27:case"end":return l.stop()}var u}),zc,null,[[14,23]])}function Wc(){var e,t,r,n,a;return Object(O.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(oo.e)(xc());case 2:return e=o.sent,t="/Order/id/".concat(e.id),o.next=6,Object(oo.a)(Pe);case 6:return r=o.sent,n={method:"GET",headers:r},o.prev=8,o.next=11,Object(oo.a)(lo,t,n);case 11:return a=o.sent,o.next=14,Object(oo.c)(Sc(a));case 14:o.next=18;break;case 16:o.prev=16,o.t0=o.catch(8);case 18:case"end":return o.stop()}}),Ec,null,[[8,16]])}function Kc(){var e,t,r,n,a,o;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(oo.e)(xc());case 2:return e=c.sent,c.next=5,Object(oo.e)(vc());case 5:return t=c.sent,r="/OrderProposition/orderId/".concat(e.id,"/by-user?pageNumber=1"),t.sortFieldName&&(r+="&fieldName=".concat(t.sortFieldName,"&direction=").concat(t.sortDirection)),t.filters&&(""!==t.filters.priceFrom&&(r+="&priceFrom=".concat(t.filters.priceFrom)),""!==t.filters.priceTo&&(r+="&priceTo=".concat(t.filters.priceTo)),""!==t.filters.upTillDateFrom&&(r+="&upTillDateFrom=".concat(t.filters.upTillDateFrom)),""!==t.filters.upTillDateTo&&(r+="&upTillDateTo=".concat(t.filters.upTillDateTo))),c.next=11,Object(oo.a)(Pe);case 11:return n=c.sent,a={method:"GET",headers:n},c.prev=13,c.next=16,Object(oo.a)(lo,r,a);case 16:return o=c.sent,c.next=19,Object(oo.c)(Tc(o));case 19:c.next=25;break;case 21:return c.prev=21,c.t0=c.catch(13),c.next=25,Object(oo.c)((i=c.t0,{type:ra,payload:i}));case 25:case"end":return c.stop()}var i}),Rc,null,[[13,21]])}function qc(){var e,t,r,n,a,o,c,i;return Object(O.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(oo.e)(xc());case 2:return e=s.sent,s.next=5,Object(oo.e)(Nn());case 5:return t=s.sent,r=document.querySelector("#new-offer"),n=new FormData(r),a={orderId:e.id,description:""!==n.get("description")?n.get("description"):"".concat(n.get("exampleNumber").value," PLN do dnia ").concat(n.get("date").value),operatorId:t.user.id,price:n.get("exampleNumber"),upTillDate:n.get("date")},o="/OrderProposition?pageNumber=1",s.next=12,Object(oo.a)(Pe,"json");case 12:return c=s.sent,i={method:"POST",headers:c,body:JSON.stringify(a)},s.prev=14,s.next=17,Object(oo.a)(lo,o,i);case 17:return s.next=19,Object(oo.c)(Pc());case 19:s.next=24;break;case 21:s.prev=21,s.t0=s.catch(14),console.log(s.t0);case 24:case"end":return s.stop()}}),Nc,null,[[14,21]])}function Hc(){var e,t;return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(oo.e)(yc());case 2:return e=r.sent,t="/OrderProposition/id/".concat(e,"/reserve"),r.next=6,Object(oo.a)(Vc,t);case 6:case"end":return r.stop()}}),Dc)}function Vc(e){var t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(oo.a)(Pe);case 2:return t=a.sent,r={method:"PUT",headers:t},a.prev=4,a.next=7,Object(oo.a)(lo,e,r);case 7:return n=a.sent,a.next=10,Object(oo.c)(Ic(n));case 10:return a.next=12,Object(oo.c)(Cc());case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(4),console.log(a.t0);case 17:case"end":return a.stop()}}),_c,null,[[4,14]])}function Jc(){var e,t;return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(oo.e)(yc());case 2:return e=r.sent,t="/OrderProposition/id/".concat(e,"/unreserve"),r.next=6,Object(oo.a)(Vc,t);case 6:case"end":return r.stop()}}),Fc)}function Yc(){var e,t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(oo.e)(xc());case 2:return e=a.sent,t="/Order/id/".concat(e.id),a.next=6,Object(oo.a)(Pe);case 6:return r=a.sent,n={method:"DELETE",headers:r},a.prev=8,a.next=11,Object(oo.a)(lo,t,n);case 11:return a.next=13,Object(oo.c)(wc());case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(8),console.log(a.t0);case 18:case"end":return a.stop()}}),Lc,null,[[8,15]])}function Xc(){var e,t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(oo.e)(xc());case 2:return e=a.sent,t="/Order/id/".concat(e.id,"/pay"),a.next=6,Object(oo.a)(Pe);case 6:return r=a.sent,n={method:"PUT",headers:r},a.prev=8,a.next=11,Object(oo.c)(jr(K,{message:"Prosz\u0119 czeka\u0107, trwa p\u0142acenie za operat"}));case 11:return a.next=13,Object(oo.a)(lo,t,n);case 13:return a.next=15,Object(oo.c)(wc());case 15:return a.next=17,Object(oo.c)(br());case 17:a.next=24;break;case 19:return a.prev=19,a.t0=a.catch(8),console.log(a.t0),a.next=24,Object(oo.c)(br());case 24:case"end":return a.stop()}}),Bc,null,[[8,19]])}function Qc(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oo.f)(qn,Gc);case 2:return e.next=4,Object(oo.f)(Yn,Mc);case 4:return e.next=6,Object(oo.f)(Zn,Wc);case 6:return e.next=8,Object(oo.f)(ea,Kc);case 8:return e.next=10,Object(oo.f)(na,qc);case 10:return e.next=12,Object(oo.f)(aa,Hc);case 12:return e.next=14,Object(oo.f)(oa,Jc);case 14:return e.next=16,Object(oo.f)(sa,Yc);case 16:return e.next=18,Object(oo.f)(ha,Xc);case 18:case"end":return e.stop()}}),Uc)}function Zc(e){return{type:vn,payload:e}}function $c(e){return{type:kn,id:e}}function ei(e){return{type:Sn,payload:e}}var ti="marketPage";var ri=Object(Hr.b)({orders:gc(),saveOrder:Object(Hr.a)(mc,(function(e){return e.saveOrder})),operatTypes:Dn(),activeOrder:xc(),user:Nn(),propositions:vc(),ekwData:Object(Hr.a)(Rn,(function(e){return e.ekw}))});var ni=Object(l.c)(ri,(function(e){return{loadOrders:function(){return e(wc())},handleSaveOrder:function(){return e({type:Yn})},handleSetPropositionId:function(t){return e(function(e){return{type:ca,payload:e}}(t))},handleReserveOrderAndProposition:function(){return e({type:aa})},handleUnreserveProposition:function(){return e({type:oa})},handleSetOrdersPageNumber:function(t){return e(function(e){return{type:Hn,payload:e}}(t))},handleLoadPropositions:function(){return e(Pc())},handleSaveProposition:function(){return e({type:na})},handleSetActiveOrder:function(t){e(function(e){return{type:da,payload:e}}(t)),e({type:Oa})},handleRemoveOrder:function(){return e({type:sa})},handleReplaceOrder:function(){return e(Cc())},handleLoadOperatTypes:function(){return e({type:yn})},handleLoadUser:function(t){return e($c(t))},handleSetOrderSortParameters:function(t){e(function(e,t){return{type:ua,fieldName:e,sortDirection:t}}(t)),e(wc())},handleSetOrderFilters:function(t){return e({type:pa,payload:t})},handleSetPropositionsSortParameters:function(t){return e({type:ja,payload:t})},handleSetPropositionFilters:function(t){return e({type:ba,payload:t})},handlePayForOperat:function(){return e({type:ha})},handleLoadEkwData:function(){return e({type:Pn})},handleLoadPublicSettings:function(){return e({type:In})}}})),ai=Object(xn.c)(ni,o.memo)((function(e){ao({key:ti,reducer:ma}),Bo({key:ti,saga:Qc});var t=Object(p.a)("common").t,r=Object(l.e)((function(e){return e.global.user})),n=Object(o.useState)(!1),a=Object(I.a)(n,2),c=a[0],i=a[1],s=Object(o.useRef)(null),d=Object(b.e)().accounts,O=Object(o.useState)(!1),h=Object(I.a)(O,2),f=h[0],m=h[1],g=Object(o.useState)(!0),x=Object(I.a)(g,2),y=x[0],v=x[1],w=r.userType===$,k=r.userType===Z,C={onSort:function(t,r){e.handleSetOrderSortParameters(t)},sortFunc:function(e,t,r,n,a,o){},sort:!0},S=function(t){switch(t.status){case"announced":return Object(Oe.jsx)(ac,{handleRemoveOrder:e.handleRemoveOrder,activeOrder:e.activeOrder,handleReserveOrderAndProposition:e.handleReserveOrderAndProposition,handleUnreserveProposition:e.handleUnreserveProposition,handleSetPropositionId:e.handleSetPropositionId,propositions:e.propositions,handleSaveProposition:e.handleSaveProposition,handleLoadPropositions:e.handleLoadPropositions,user:e.user,handleSetPropositionsSortParameters:e.handleSetPropositionsSortParameters,handleSetPropositionFilters:e.handleSetPropositionFilters});case"reserved":return Object(Oe.jsx)(jc,{activeOrder:e.activeOrder,handleReserveOrderAndProposition:e.handleReserveOrderAndProposition,handleUnreserveProposition:e.handleUnreserveProposition,handleSetPropositionId:e.handleSetPropositionId,propositions:e.propositions,handleLoadPropositions:e.handleLoadPropositions,handleReplaceOrder:e.handleReplaceOrder,handleSetPropositionsSortParameters:e.handleSetPropositionsSortParameters,handleSetPropositionFilters:e.handleSetPropositionFilters,handlePayForOperat:e.handlePayForOperat});case"paid":return!k&&t.operators[0]===d[0].idTokenClaims.oid&&Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.Button,{color:"info",style:{width:"272px",marginBottom:"1rem"},onClick:function(){e.activeOrder.operators&&R.push({pathname:"/users-profile",search:"?operatorId="+e.activeOrder.operators[0]})},children:"Dane o rzeczoznawcy"}),Object(Oe.jsx)(pc,{activeOrder:e.activeOrder,operatTypes:e.operatTypes})]});case"signed":return Object(Oe.jsx)(hc,{activeOrder:e.activeOrder})}},P=Object(o.useState)(""),T=Object(I.a)(P,2),A=T[0],z=T[1],R=Object(j.f)();return Object(o.useEffect)((function(){e.handleSetOrdersPageNumber("1")}),[]),Object(o.useEffect)((function(){e.loadOrders(),e.handleLoadOperatTypes(),e.handleLoadEkwData(),e.handleLoadPublicSettings()}),[e.orders.filters]),Object(o.useEffect)((function(){var t=new URLSearchParams(R.location.search);t.get("pageNumber")&&e.handleSetOrdersPageNumber(t.get("pageNumber")),t.get("id")&&z(t.get("id"))}),[R.location.search]),Object(Oe.jsx)("div",{className:"content",children:Object(Oe.jsxs)("div",{className:"container",children:[Object(Oe.jsx)(E.Button,{color:"primary",onClick:function(){i(!c)},innerRef:s,children:t("market.table.buttons.newOrder")}),Object(Oe.jsx)(E.Collapse,{isOpen:c,children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsx)(dc,{saveOrder:e.saveOrder,onSubmit:e.handleSaveOrder,ekwData:e.ekwData})})})}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(E.Button,{color:"success",onClick:function(){return m(!f)},children:"Filtry"}),Object(Oe.jsx)(E.Collapse,{isOpen:f,children:Object(Oe.jsx)(fc,{handleSetOrderFilters:e.handleSetOrderFilters})}),w&&Object(Oe.jsx)(Mo,{setIsIdHidden:v,label:t("market.showOrderId"),isIdHidden:y}),Object(Oe.jsx)(E.Row,{children:Object(Oe.jsxs)(E.Col,{md:"12",children:[Object(Oe.jsx)(qr.a,{count:localStorage.getItem("pageCount"),color:"primary",page:new URLSearchParams(R.location.search).get("pageNumber")?parseInt(new URLSearchParams(R.location.search).get("pageNumber")):1,onChange:function(t,r){var n=new URLSearchParams(R.location.search);n.set("pageNumber",r.toString()),R.push({pathname:"/market",search:n.toString()}),e.handleSetOrdersPageNumber(r.toString()),e.loadOrders()}}),e.orders.loading?Object(Oe.jsx)(xe,{}):Object(Oe.jsx)(N.a,{bootstrap4:!0,keyField:"id",data:e.orders.orders,columns:[{dataField:"id",text:"ID",hidden:y},{dataField:"inProcess",text:t("market.table.headers.inProgress"),editable:!1,align:"center",sort:!0,headerAlign:"center",formatter:function(e,t){return Object(Oe.jsx)(E.Input,{type:"checkbox",checked:"inprogress"===t.status.toLowerCase(),disabled:!0})},headerStyle:function(e,t){return{width:"10%",textAlign:"center"}}},Object(u.a)(Object(u.a)({dataField:"createdDateTime",text:t("market.table.headers.applicationDate"),align:"center",headerAlign:"center",editable:!1},C),{},{formatter:function(e,t){return Object(Oe.jsx)("div",{id:t.id,children:e.split("T")[0]})},headerStyle:function(e,t){return{width:"15%",textAlign:"center"}}}),Object(u.a)(Object(u.a)({dataField:"name",text:t("market.table.headers.name"),align:"center",headerAlign:"center"},C),{},{editable:!1,formatter:function(e,t){return Object(Oe.jsx)("div",{children:e.length>30?e.substring(0,30)+"...":e})}}),Object(u.a)(Object(u.a)({dataField:"locationPostCode",text:t("market.table.headers.postCode"),align:"center",headerAlign:"center"},C),{},{editable:!1,formatter:function(e){return Object(Oe.jsx)("div",{children:e})}}),{dataField:"status",text:t("market.table.headers.status"),align:"center",headerAlign:"center",editable:!1,formatter:function(e){return Object(Oe.jsx)("div",{children:t("market.table.statuses.".concat(e))})}}],striped:!0,hover:!0,condensed:!0,bordered:!1,expandRow:{onlyOneExpanding:!0,expanded:[A],renderer:function(n){return Object(Oe.jsxs)("div",{style:{wordBreak:"break-all"},children:[Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{className:"long-btn",color:"success",id:"orderData",style:{marginBottom:"1rem"},children:t("market.table.buttons.orderData")}),Object(Oe.jsx)(Xo,{row:n})]}),S(n),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(E.Button,{className:"long-btn",color:"danger",disabled:!$===r.userType&&e.activeOrder.clientId!==e.user.user.id,onClick:function(){return we("Czy na pewno chcesz usun\u0105\u0107 zlecenie?","Ostrze\u017cenie",(function(){return e.handleRemoveOrder()}))},children:t("market.table.buttons.deleteOrder")})]})},onExpand:function(t){A===t.id?z(""):z(t.id);var r=new URLSearchParams(R.location.search);r.set("id",t.id),R.push({pathname:"/market",search:r.toString()}),e.handleSetActiveOrder(t)}}})]})})]})})})),oi=r(211),ci=r.n(oi),ii=r(161),si=r.n(ii);var di=function(e){var t=e.reloadOperat,r=e.operat,n=Object(p.a)("common").t,a=Object(l.d)(),c=Object(l.e)((function(e){return e.operat.csv})),i=Object(l.e)((function(e){return e.operat})),s=Object(o.useState)([]),d=Object(I.a)(s,2),j=d[0],b=d[1],f=Object(o.useState)(),m=Object(I.a)(f,2),g=m[0],x=m[1],y=Object(o.useRef)(null),v=[{dataField:"id",text:"ID",hidden:!0},{dataField:"Data",text:"Data",editable:!0,align:"center",headerAlign:"center",sort:!0},{dataField:"CenaTransakcyjna",text:"Cena Transakcyjna",align:"center",headerAlign:"center",editable:!0,sort:!0},{dataField:"RodzajRynku",text:"Rodzaj Rynku",headerAlign:"center",align:"center",sort:!0,editable:!0},{dataField:"UdzialWPrawie",text:"Udzial W Prawie",headerAlign:"center",align:"center",editable:!0,sort:!0},{dataField:"PowierzchniaLokalu",text:"Powierzchnia Lokalu",headerAlign:"center",align:"center",editable:!0,sort:!0},{dataField:"Adres",text:"Adres",headerAlign:"center",align:"center",editable:!0,sort:!0},{dataField:"KondygnacjaLokalu",text:"Kondygnacja Lokalu",headerAlign:"center",align:"center",editable:!0,sort:!0},{dataField:"KondygnacjaBudynku",text:"Kondygnacja Budynku",headerAlign:"center",align:"center",editable:!0,sort:!0},{dataField:"LiczbaIzb",text:"Liczba Izb",headerAlign:"center",align:"center",editable:!0,sort:!0}];Object(o.useEffect)((function(){var e=i.files.csv;e&&Object.keys(e).length>0&&(a(jr(K,{message:ee})),function(e,t){st.getFile(t).then((function(t){e({type:gr,payload:{csv:Wr(t)}})})).then((function(){e(br())}))}(a,e.item2))}),[i.files.csv]);var w=ci()({mode:"dbclick"}),k=ii.CSVExport.ExportCSVButton,C=function(e){var t=e.slice(e.indexOf("\n")+1).split("\n").filter((function(e){return""!==e}));if(t.some((function(e){return 8!==(e.match(/;/g)||[]).length}))){var r=e.split("\n")[0].split(";").map((function(e){return e.trim()})).filter((function(e){return""!==e})),n=v.filter((function(e){return"ID"!==e.text})).map((function(e){return e.dataField})).filter((function(e){return!r.includes(e.trim())}));S(9,n)}else a(function(e){return{type:Ir,payload:{newRows:Mr(e)}}}(t))},S=function(){var e=Object(h.a)(Object(O.a)().mark((function e(t,r){var a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="\n      Liczba kolumn w pliku si\u0119 nie zgadza.\n      Plik  powinien zawiera\u0107 ".concat(t," kolumn.\n      Brakuj\u0105ce kolumny to : ").concat(r.map((function(e){return e})),"\n      "),e.next=3,ve()({title:Object(Oe.jsx)(Oe.Fragment,{children:n("history.table.confirm.warning")}),message:a,confirmText:"Wr\xf3\u0107",cancelText:"",confirmColor:"danger",cancelColor:"link text-primary"});case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsxs)(E.CardBody,{children:[Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{className:"container",children:Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{md:"12",children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(si.a,{keyField:"id",data:i.csv,columns:v,exportCSV:{onlyExportSelection:!0,exportAll:!0},children:function(e){return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{color:"warning",onClick:function(){a(jr(K,{message:te})),st.sendCSVFile(c.map((function(e){return Object(u.a)({},e)})),i.id).then((function(){t(),a(br())}))},children:"Wy\u015blij dane"}),Object(Oe.jsx)(E.Button,{color:"info",onClick:function(){a({type:kr,payload:{newRow:{Data:"data",CenaTransakcyjna:"cena transakcyjna",RodzajRynku:"rodzaj rynku",UdzialWPrawie:"udzia\u0142 w prawie",PowierzchniaLokalu:"powierzchnia lokalu",Adres:"adres",KondygnacjaLokalu:"kondygnacja lokalu",KondygnacjaBudynku:"kondygnacja budynku",LiczbaIzb:"liczba izb",id:Object(lr.a)()}}})},children:"Dodaj lini\u0119"}),Object(Oe.jsx)(E.Button,{color:"info",onClick:function(){a({type:Cr,payload:{rows:j}}),b([])},children:"Usu\u0144 zaznaczone linie"}),Object(Oe.jsx)(k,Object(u.a)(Object(u.a)({},e.csvProps),{},{children:"Export do pliku"})),Object(Oe.jsx)(E.Button,{onClick:function(){return y.current.click()},children:g?"wybierz plik ["+g.name+"]":"wybierz plik"}),Object(Oe.jsx)("input",{type:"file",id:"file",ref:y,style:{display:"none"},accept:".csv",onChange:function(e){x(e.target.files[0])}}),Object(Oe.jsx)(E.Button,{disabled:!g,onClick:function(e){e.preventDefault(),function(){var e=g,t=new FileReader;t.onload=function(e){var t=e.target.result;C(t)},t.readAsText(e)}()},children:"Importuj"}),Object(Oe.jsx)(E.Button,{color:"secondary",id:"copyInputArea",onClick:function(){a(jr(q,{operat:r,dataType:"csv"}))},style:{marginBottom:"1rem"},children:"kopiuj dane transakcyjne z innego operatu"}),Object(Oe.jsx)("hr",{}),Object(Oe.jsx)(N.a,Object(u.a)(Object(u.a)({},e.baseProps),{},{selectRow:{mode:"checkbox",clickToEdit:!0,clickToSelect:!0,onSelect:function(e,t,r,n){t&&b((function(t){return[].concat(Object(ct.a)(t),[e.id])})),!t&&b(j.filter((function(t){return t!==e.id})))},onSelectAll:function(e,t){!e&&b([]),e&&b(t.map((function(e){return e.id})))}},tabIndexCell:!0,bootstrap4:!0,striped:!0,hover:!0,condensed:!0,bordered:!1,cellEdit:w}))]})}})})})})})]})})})};function li(){var e=Object(o.useState)(!1),t=Object(I.a)(e,2),r=t[0],n=t[1],a=Object(l.e)((function(e){return e.operat}));return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.Button,{style:{width:"16rem"},color:"info",onClick:function(){return n(!r)},children:"Informacje"}),Object(Oe.jsx)(E.Collapse,{isOpen:r,children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:a.operatInfo&&Object.keys(a.operatInfo).map((function(e){return a.operatInfo[e]&&Object(Oe.jsx)("p",{children:e+": "+a.operatInfo[e]})}))})})})]})}var ui,pi,ji=function(e){var t=new Date(e),r=""+(t.getMonth()+1),n=""+t.getDate(),a=t.getFullYear();return r.length<2&&(r="0"+r),n.length<2&&(n="0"+n),[a,r,n].join("-")},bi=["title","titleId"];function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oi.apply(this,arguments)}function hi(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fi(e,t){var r=e.title,n=e.titleId,a=hi(e,bi);return o.createElement("svg",Oi({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-exclamation-circle",viewBox:"0 0 16 16",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,ui||(ui=o.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"})),pi||(pi=o.createElement("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})))}var mi=o.forwardRef(fi);r.p;var gi=function(e){var t=Object(b.e)().accounts,r=Object(l.e)((function(e){return e.operat})),n=Object(l.e)((function(e){return e.global.ekw})),a=Object(l.d)();Object(o.useEffect)((function(){var t=r.files.input;t&&(Object.keys(t).length>0?function(){var e,r;a(jr(K,{})),e=a,r=t.item2,st.getFile(r).then((function(t){e({type:mr,payload:{input:t.input}})})).then((function(){e(br())}))}():a(Br(e.operatTypeParams.input))),0===Object.keys(t).length&&(i(),c())}),[r.operatTypeId,r.files,e.operatTypeParams,a]);var c=function(){var t=JSON.parse(JSON.stringify(e.operatTypeParams.input));if(e.order&&e.order.ekw&&""!==e.order.ekw)try{var r=t.findIndex((function(e){return"kw"===e.name})),n=t[r].findIndex((function(e){return"nr"===e.name}));t[r].data[n].value=e.order.ekw,a(Br(t))}catch(o){console.log(o)}},i=function(){for(var r=JSON.parse(JSON.stringify(e.operatTypeParams.input)),n=0;n<r.length;n++)for(var o=0;o<r[n].data.length;o++)"now()"===r[n].data[o].default&&"date"===r[n].data[o].type&&(r[n].data[o].value=ji(new Date)),"author()"===r[n].data[o].value&&(r[n].data[o].value=[t[0].idTokenClaims.given_name,t[0].idTokenClaims.family_name].filter((function(e){return e})).join(" "));a(Br(r))},s=function(e,t,r){a(function(e,t,r){return{type:fr,payload:{value:e,id:t,idx:r}}}(e,t,r))},d=Object(o.useRef)(null);return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(uc.a,{ref:d}),r.input&&r.input.length>0&&r.input.map((function(e,t){return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{color:"info",id:e.name+"Area"+t,style:{width:"16rem"},children:e.text})," ",e.data.some((function(e){return e.hasOwnProperty("isValid")&&!e.isValid}))&&Object(Oe.jsx)(mi,{fill:"red"}),Object(Oe.jsx)(E.UncontrolledCollapse,{toggler:e.name+"Area"+t,children:e.data.map((function(r,n){return Object(Oe.jsxs)(E.FormGroup,{row:!0,children:[Object(Oe.jsx)(E.Col,{md:"3",children:Object(Oe.jsx)("p",{children:r.description})}),Object(Oe.jsxs)(E.Col,{sm:8,children:["ekw"===r.type?Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.Button,{onClick:function(){return a((t=r.value,n=e.name,void nr.get(t).then((function(e){return{type:Er,payload:{code:t,name:n,ekw:e}}}))));var t,n},children:"Pobierz z ekw"}),Object(Oe.jsx)(E.Button,{href:(r.value,new URL("https://przegladarka-ekw.ms.gov.pl/eukw_prz/KsiegiWieczyste/wyszukiwanieKW").toString()),target:"_blank",children:"Przegl\u0105daj EKW"}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(ic.a,{mask:"aa9a/99999999/9",value:r.value,onChange:function(e){s(e.target.value,t,n)},invalid:"undefined"!==typeof r.isValid&&!r.isValid,placeholder:r.description,children:function(t){return Object(Oe.jsx)(E.Input,Object(u.a)(Object(u.a)({},t),{},{type:r.type,style:{textTransform:"uppercase"},name:e.name+r.type+n,id:r.name+n}))}})]}):Object(Oe.jsx)(E.Input,{type:r.type,name:e.name+r.type+n,id:r.name+n,placeholder:r.description,value:r.value,onChange:function(e){s(e.target.value,t,n)}}),r.tooltip&&""!==r.tooltip&&Object(Oe.jsx)(E.UncontrolledTooltip,{placement:"top",target:r.name+n,children:r.tooltip})]})]},e.name+n)}))})]},e.name+"Area"+t)})),Object(Oe.jsx)(E.Button,{color:"secondary",id:"saveInputArea",onClick:function(){var e;(function(){var e=r.input.findIndex((function(e){return"kw"===e.name})),t=r.input[e].data.findIndex((function(e){return"nr"===e.name})),o=r.input[e].data[t],c=sc(o.value,n);if(""!==c){var i=JSON.parse(JSON.stringify(r.input));return i[e].data[t].isValid=!1,a(Br(i)),a(jr(W,{message:c})),!1}return!0})()&&a((e=r.id,{type:_r,id:e}))},style:{marginBottom:"1rem",width:"16rem"},children:"zapisz dane opisowe"}),Object(Oe.jsx)(E.Button,{color:"secondary",id:"copyInputArea",onClick:function(){a(jr(q,{operat:e.operat,dataType:"params"}))},style:{marginBottom:"1rem"},children:"kopiuj dane opisowe z innego operatu"})]})},xi=r(121);var yi=function(e){var t=Object(u.a)({},{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:20,borderColor:"#c2b7b7",borderStyle:"dashed",color:"#0e0c0c",outline:"none"}),r=Object(l.d)(),n=Object(l.e)((function(e){return e.operat})),a=Object(o.useCallback)((function(t){var a=n.photo.data[e.id].data.filter((function(e){return!e.file}));0===a.length&&(a=n.photo.data[e.id].data.slice(0,t.length));for(var o=0;o<a.length;o++){if(o+1>t.length)return;var c=a[o].title,i=t[o].slice(0,t[o].size,"image/png"),s=new File([i],c,{type:"image/png"}),d={id:Object(lr.a)(),title:c,url:URL.createObjectURL(t[o]),file:s};e.enableBtn(),r(Fr(e.id,d))}}),[r,n.photo.data,e]),c=Object(xi.a)({onDrop:a,multiple:!!e.multiple&&e.multiple}),i=c.getRootProps,s=c.getInputProps;return Object(Oe.jsxs)("section",{className:"container",children:[Object(Oe.jsxs)("div",Object(u.a)(Object(u.a)({},i({className:"dropzone",style:t})),{},{children:[Object(Oe.jsx)("input",Object(u.a)({},s())),Object(Oe.jsx)("p",{children:"Upu\u015b\u0107 lub kliknij aby wczytac plik zdj\u0119cia."})]})),Object(Oe.jsx)("aside",{})]})},vi=function(e){Object(g.a)(r,e);var t=Object(x.a)(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this,e)).next=function(){var e=n.state,t=e.animating,r=e.activeIndex,a=n.props.images;if(!t){var o=r===a.length-1?0:r+1;n.setState({activeIndex:o})}},n.previous=function(){var e=n.state,t=e.animating,r=e.activeIndex,a=n.props.images;if(!t){var o=0===r?a.length-1:r-1;n.setState({activeIndex:o})}},n.goToIndex=function(e){n.state.animating||n.setState({activeIndex:e})},n.setAnimating=function(e){n.setState({animating:e})},n.state={activeIndex:0,animating:!1},n}return Object(m.a)(r,[{key:"componentDidMount",value:function(){this.setState({activeIndex:this.props.currentIndex})}},{key:"render",value:function(){var e=this,t=this.props.images,r=this.state.activeIndex,n=t.map((function(t){return Object(Oe.jsx)(E.CarouselItem,{onExiting:function(){return e.setAnimating(!0)},onExited:function(){return e.setAnimating(!1)},children:Object(Oe.jsx)("div",{className:"d-flex justify-content-center",children:Object(Oe.jsx)("img",{src:t.url,alt:t.title,className:"img-fluid"})})},t.id)}));return Object(Oe.jsxs)(E.Carousel,{activeIndex:r,next:this.next,previous:this.previous,children:[Object(Oe.jsx)(E.CarouselIndicators,{items:t,activeIndex:r,onClickHandler:this.goToIndex}),n,Object(Oe.jsx)(E.CarouselControl,{direction:"prev",directionText:"Previous",onClickHandler:this.previous}),Object(Oe.jsx)(E.CarouselControl,{direction:"next",directionText:"Next",onClickHandler:this.next})]})}}]),r}(c.a.Component),wi=function(e){Object(g.a)(r,e);var t=Object(x.a)(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this,e)).toggleModal=function(){n.setState({isModalOpen:!n.state.isModalOpen})},n.showModalImage=function(e){n.toggleModal(),n.setState({currentIndex:e})},n.state={isModalOpen:!1,images:[],imagesToShow:0,currentIndex:0},n}return Object(m.a)(r,[{key:"render",value:function(){var e=this,t=this.state,r=t.isModalOpen,n=t.images,a=t.imagesToShow,o=t.currentIndex,c=n.slice(0,a),i=0!==n.length?n.length-a:0;return Object(Oe.jsxs)(E.Container,{children:[Object(Oe.jsx)(E.Row,{children:Object(Oe.jsxs)(E.Col,{md:{size:10,offset:1},className:"thumbnail-gallery",children:[Object(Oe.jsx)("h5",{className:"text-center my-3",children:"Galeria zdj\u0119\u0107 "}),Object(Oe.jsx)(E.Row,{children:c.map((function(t,r){return Object(Oe.jsx)(E.Col,{md:"3",className:"my-2",onClick:function(){return e.showModalImage(r)},children:Object(Oe.jsxs)(E.Card,{className:"image-card",children:[Object(Oe.jsx)(E.CardImg,{src:t.url}),Object(Oe.jsx)("p",{children:t.title}),0!==i&&r===a-1?Object(Oe.jsxs)(E.CardImgOverlay,{className:"overlay",children:[Object(Oe.jsx)("h2",{className:"mb-0",children:i}),Object(Oe.jsx)("small",{children:" More "})]}):null]})},r)}))})]})}),Object(Oe.jsxs)(E.Modal,{className:"modal-xl",isOpen:r,toggle:this.toggleModal,children:[Object(Oe.jsx)(E.ModalHeader,{children:"Galeria zdj\u0119\u0107"}),Object(Oe.jsx)(E.ModalBody,{children:Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{md:"12",children:Object(Oe.jsx)(vi,{images:n,currentIndex:o})})})})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.images,n=e.limit;return{images:r,imagesToShow:e.hasOwnProperty("limit")?n:6}}}]),r}(c.a.Component),ki=r(156);var Ci=function(e){var t=Object(l.d)(),r=Object(l.e)((function(e){return e.operat})),n=Object(l.e)((function(e){return e.operat})),a=Object(p.a)("common").t,c=Object(o.useState)([]),i=Object(I.a)(c,2),s=i[0],d=i[1],j=Object(o.useCallback)((function(t){for(var r=e.operatTypeParams.photo.map((function(e){return Object(u.a)({},e)})),n=0;n<r.length;n++)r[n].data=r[n].data.map((function(e){var r=t.find((function(t){return t.item1===e.title}));return r?Object(u.a)(Object(u.a)({},e),{},{url:r.item2}):e}));return{data:r}}),[e.operatTypeParams]);Object(o.useEffect)((function(){var n=r.files.photo.map((function(e){return Object(u.a)({},e)}));n&&n.length>0?t(Ur(j(n))):t(Ur({data:e.operatTypeParams.photo}))}),[t,r.files,e.operatTypeParams,j]);var b=function(e){d((function(t){return[].concat(Object(ct.a)(t),[e])})),t(jr(K,{message:de})),st.sendPICTUREFile(r.photo.data[e].data,r.id).then((function(){t(function(e){return{type:zr,payload:{id:e}}}(e)),t(br())}))},f=function(e){return!r.photo.data[e].data.every((function(e){return e.hasOwnProperty("url")||e.hasOwnProperty("file")}))||!r.photo.data[e].data.some((function(e){return e.hasOwnProperty("file")}))||s.includes(e)},m=function(){var e=Object(h.a)(Object(O.a)().mark((function e(n){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d((function(e){return[].concat(Object(ct.a)(e),[n])})),t(jr(K,{message:ce})),r.photo.data[n].data.map(function(){var e=Object(h.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st.removeSingleFile(r.id,t.title).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(Lr(n)),t(br());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsx)(E.Card,{children:Object(Oe.jsxs)(E.CardBody,{children:[Object(Oe.jsx)(E.Button,{color:"secondary",id:"copyInputArea",onClick:function(){t(jr(q,{operat:e.operat,history:e.history,dataType:"photos"}))},style:{marginBottom:"1rem"},children:"kopiuj zdj\u0119cia z innego operatu"}),!!r.photo.data&&r.photo.data.map((function(o,c){return Object(Oe.jsx)("div",{children:Object(Oe.jsx)(E.Card,{style:{boxShadow:"6px 6px 10px 2px rgb(0 0 0 / 15%)"},children:Object(Oe.jsxs)(E.CardBody,{children:[Object(Oe.jsx)(E.Button,{color:"info",id:o.name+"Area"+c,style:{marginBottom:"1rem",width:"14rem"},children:a(o.text)}),Object(Oe.jsx)(E.Button,{color:"success",id:o.name+"send"+c,style:{marginBottom:"1rem",width:"17rem"},onClick:function(){b(c)},disabled:f(c),children:"wy\u015blij ".concat(o.text)}),Object(Oe.jsx)(E.Button,{color:"danger",id:o.name+"send"+c,style:{marginBottom:"1rem",width:"16rem"},onClick:function(){m(c)},disabled:!r.photo.data[c].data.every((function(e){return e.hasOwnProperty("url")})),children:"usu\u0144 ".concat(o.text)}),"zdjecia_okolica"===o.name&&Object(Oe.jsx)(E.Button,{style:{marginBottom:"1rem",width:"14rem"},onClick:function(){var a=e.order.location;if(!a&&""!==a)try{a=n.input.find((function(e){return"adres"===e.name})).data.find((function(e){return"full"===e.name})).value}catch(o){console.log(o)}sr.get(a,"GoogleRoadmap").then((function(e){var n=r.photo.data[c].data.filter((function(e){return!e.file}));0===n.length&&(n=r.photo.data[c].data.slice(0,1));var a=n[0].title,o=e.slice(0,e.size,"image/png"),i=new File([o],a,{type:"image/png"}),s={id:Object(lr.a)(),title:a,url:URL.createObjectURL(e),file:i};t(Fr(c,s)),Object(ki.saveAs)(e,"file.png")}))},children:"Pobierz z google maps"}),Object(Oe.jsxs)(E.UncontrolledCollapse,{toggler:o.name+"Area"+c,children:[Object(Oe.jsx)("br",{}),Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{sm:"12",md:{size:6,offset:3},children:Object(Oe.jsx)(yi,{id:c,multiple:!0,enableBtn:function(){return d((function(e){return e.filter((function(e){return e!==c}))}))},fileNames:o.data.map((function(e){return e.title}))})})}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(wi,{images:o.data,limit:4})]})]})})},o.name+"Area"+c)}))]})})},Si=function(e){return e.operat||Ea},Pi=Object(O.a)().mark(Ai),Ti=Object(O.a)().mark(zi),Ii=Object(O.a)().mark(Ei);function Ai(e){var t,r,n,a,o;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(oo.c)({type:Dr});case 2:return c.next=4,Object(oo.c)(jr(K,{message:te}));case 4:return c.next=6,Object(oo.e)(Object(Hr.a)(Si,(function(e){return e.input})));case 6:return t=c.sent,r=new FormData,n=new Blob([JSON.stringify({input:t})],{type:"application/json"}),r.append("file",n,"params.json"),c.next=12,Object(oo.a)(Pe);case 12:return c.t0=c.sent,c.t1=r,a={method:"POST",headers:c.t0,body:c.t1},o="/OperatFiles/upload/".concat(e.id,"/convert"),c.prev=16,c.next=19,Object(oo.a)(lo,o,a);case 19:return c.next=21,Object(oo.c)(br());case 21:c.next=26;break;case 23:c.prev=23,c.t2=c.catch(16),console.log(c.t2);case 26:case"end":return c.stop()}}),Pi,null,[[16,23]])}function zi(){var e,t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(oo.a)(Pe);case 2:return a.t0=a.sent,e={method:"POST",headers:a.t0},a.next=6,Object(oo.e)(Object(Hr.a)(Si,(function(e){return e.id})));case 6:return t=a.sent,r="/Operat/id/".concat(t,"/generate"),a.prev=8,a.next=11,Object(oo.c)(jr(K,{message:ie}));case 11:return a.next=13,Object(oo.d)({posts:Object(oo.a)(lo,r,e),timeout:Object(oo.b)(6e4)});case 13:if(n=a.sent,!n.timeout){a.next=17;break}throw new Error("timeout of 60000 ms exceeded");case 17:return a.next=19,Object(oo.c)(br());case 19:return a.next=21,Object(oo.a)(po,"","Operat zostal wygenerowany","success");case 21:case 28:a.next=32;break;case 23:if(a.prev=23,a.t1=a.catch(8),402!==a.t1.response.status){a.next=30;break}return a.next=28,Object(oo.c)(jr(W,{message:"Twoja subskrypcja jest wyczerpana lub nieaktywna."}));case 30:return a.next=32,Object(oo.c)(jr(W,{message:a.t1.message?a.t1.message:a.t1}));case 32:case"end":return a.stop()}}),Ti,null,[[8,23]])}function Ei(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oo.g)(_r,Ai);case 2:return e.next=4,Object(oo.g)(Rr,zi);case 4:case"end":return e.stop()}}),Ii)}var Ri=function(e){ao({key:"create",reducer:Ra}),Bo({key:"create",saga:Ei});var t=Object(l.d)(),r=Object(l.e)((function(e){return e.global.user})),n=Object(l.e)((function(e){return e.operat})),a=Object(o.useState)({}),c=Object(I.a)(a,2),i=c[0],s=c[1],d=Object(o.useState)({}),u=Object(I.a)(d,2),b=u[0],O=u[1],h=Object(o.useState)([]),f=Object(I.a)(h,2),m=f[0],g=f[1],x=Object(p.a)("common").t,y=Object(j.g)();Object(o.useEffect)((function(){var e=new URLSearchParams(y.search);return Ae.get(e.get("id")).then((function(e){tt.getSingleOrder(e.orderId).then((function(e){return O(e)})),s(e),Gr(t,e).then((function(e){Et.getTypeParams(e).then((function(e){g(e),Array.isArray(e)&&t({type:wr,payload:e={input:[],photo:[]}}),t(br())}))}))})),function(){t({type:Or})}}),[t,y.search]);var v=function(){return Gr(t,i)};Object(o.useState)(!1);var w=Object(o.useState)(!1),k=Object(I.a)(w,2),C=k[0],S=k[1],P=Object(o.useState)(!1),T=Object(I.a)(P,2),A=T[0],z=T[1],R=Object(o.useState)(!1),N=Object(I.a)(R,2),D=N[0],_=N[1],F=r.userType===$,L=!!n.files.csv&&(n.files.input.item1&&n.files.csv.item1&&(10===n.files.photo.length||n.photo.data&&n.photo.data.every((function(e){return e.data.every((function(e){return e.hasOwnProperty("url")&&!e.hasOwnProperty("file")}))}))));return Object(Oe.jsxs)("div",{className:"content",children:[F&&Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(li,{}),Object(Oe.jsx)("br",{})]}),Object(Oe.jsx)(E.Button,{style:{width:"16rem"},color:"success",onClick:function(){return t({type:Rr})},disabled:!L,children:x("create.buttons.generate")}),!L&&Object(Oe.jsxs)(Oe.Fragment,{children:["      ",Object(Oe.jsx)("i",{style:{padding:"14px"},className:"fa fa-solid fa-question",id:"cannot-generate-info"}),Object(Oe.jsx)(E.UncontrolledTooltip,{placement:"top",target:"cannot-generate-info",children:Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:function(){var e="";return n.files.csv?(n.files.input.item1||(e+="Brak danych opisowych<br /> \n"),n.files.csv.item1||(e+="Brak cen transakcyjnych<br /> \n"),10===n.files.photo.length&&(n.photo.data||n.photo.data.every((function(e){return e.data.every((function(e){return e.hasOwnProperty("url")&&!e.hasOwnProperty("file")}))})))||(e+="Brak zdj\u0119\u0107<br />"),e):""}()}})})]}),Object(Oe.jsx)("br",{}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{color:"info",onClick:function(){return S(!C)},disabled:!m.input,style:{marginBottom:"1rem",width:"16rem"},children:x("create.buttons.description")}),Object(Oe.jsx)(E.Collapse,{isOpen:C,children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:C&&Object(Oe.jsx)(gi,{reloadOperat:v,operatTypeParams:m,operat:i,order:b})})})})]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{color:"info",onClick:function(){return z(!A)},style:{marginBottom:"1rem",width:"16rem"},children:x("create.buttons.csvFiles")}),Object(Oe.jsx)(E.Collapse,{isOpen:A,children:A&&Object(Oe.jsx)(di,{reloadOperat:v,operat:i})})]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{disabled:0===m.length,color:"info",onClick:function(){return _(!D)},style:{marginBottom:"1rem",width:"16rem"},children:x("create.buttons.photos")}),Object(Oe.jsx)(E.Collapse,{isOpen:D,children:D&&Object(Oe.jsx)(Ci,{operatTypeParams:m,operat:i,order:b})})]})]})};var Ni=function(e){var t=Object(u.a)({},{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:20,borderColor:"#c2b7b7",borderStyle:"dashed",color:"#0e0c0c",outline:"none"}),r=Object(l.d)(),n=Object(o.useState)([]),a=Object(I.a)(n,2),c=a[0],i=a[1],s=Object(b.e)().accounts,d=function(){var e=Object(h.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve()({title:Object(Oe.jsx)(Oe.Fragment,{children:"Ostrze\u017cenie"}),message:"Tw\xf3j plik jest za du\u017cy.",cancelText:"OK"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p="do wys\u0142ania",j="wys\u0142any",f=Object(o.useCallback)((function(t){t.length>0?i((function(r){return r.length<e.maxLength?[].concat(Object(ct.a)(r),[{id:Object(lr.a)(),file:t[0],condition:p}]):Object(ct.a)(r)})):d()}),[p,e.maxLength]),m=Object(xi.a)({onDrop:f,multiple:!1,accept:e.acceptedExt,minSize:0,maxSize:512e4}),g=m.getRootProps,x=m.getInputProps,y=function(e,t){"Too many files to send"!==e[0]?(i(c.map((function(e){return e.id===t.id&&(e.condition=j),e}))),r(br())):r(jr(F,{}))},v=function(e){wt.sendOperatorFile(s[0].idTokenClaims.oid,e,"stamp.png").then((function(t){return y(t,e)}))},w=function(e){wt.sendOperatorFile(s[0].idTokenClaims.oid,e).then((function(t){return y(t,e)}))},k=function(e){wt.sendOperatorFile(s[0].idTokenClaims.oid,e,"diploma.jpg").then((function(t){return y(t,e)}))},C=function(){return c.map((function(t,n){return Object(Oe.jsx)("tbody",{children:Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("th",{scope:"row",children:n+1}),Object(Oe.jsx)("td",{children:t.file.name}),Object(Oe.jsx)("td",{children:t.condition}),Object(Oe.jsxs)("td",{children:[Object(Oe.jsx)(E.Button,{color:"primary",onClick:function(){!function(t){switch(r(jr(K,{message:ee})),e.fileType){case"stamp":v(t);break;case"pdf":w(t);break;case"diploma":k(t)}".png, .jpg"===e.acceptedExt?v(t):w(t)}(t)},disabled:t.condition===j,children:"Wy\u015blij"}),"    ",Object(Oe.jsx)(E.Button,{color:"warning",onClick:function(){i(c.filter((function(e){return e.id!==t.id})))},children:"Usu\u0144"})]})]})},n)}))};return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("section",{className:"container",children:[Object(Oe.jsxs)("div",Object(u.a)(Object(u.a)({},g({className:"dropzone",style:t})),{},{children:[Object(Oe.jsx)("input",Object(u.a)({},x())),Object(Oe.jsx)("p",{children:"Upu\u015b\u0107 lub kliknij aby wczytac pliki."}),Object(Oe.jsxs)("p",{children:["Akceptowane formaty pliku to: ",Object(Oe.jsx)("b",{children:e.acceptedExt.replaceAll(".","").toLowerCase()}),"."]}),Object(Oe.jsx)("p",{children:"Maksymalna wielko\u015b\u0107 pliku to 5 MB."})]})),Object(Oe.jsx)("aside",{})]}),c.length>0&&Object(Oe.jsxs)(E.Table,{children:[Object(Oe.jsx)("thead",{children:Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("th",{children:"#"}),Object(Oe.jsx)("th",{children:"nazwa pliku"}),Object(Oe.jsx)("th",{children:"Status"}),Object(Oe.jsx)("th",{children:"Akcja"})]})}),C()]})]})};var Di=function(e){var t=Object(b.e)().accounts,r=Object(o.useState)([]),n=Object(I.a)(r,2),a=n[0],c=n[1],i=Object(l.d)(),s=function(){var e=Object(h.a)(Object(O.a)().mark((function e(r){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve()({title:Object(Oe.jsx)(Oe.Fragment,{children:"Ostrze\u017cenie"}),message:"Czy na pewno chcesz usun\u0105\u0107 plik ".concat(r.item1),confirmText:"Usu\u0144",confirmColor:"danger",cancelColor:"link text-primary"});case 2:e.sent&&(i(jr(K,{message:ce})),wt.removeOperatorFileByName(t[0].idTokenClaims.oid,r.item1).then((function(){c(a.filter((function(e){return e.item1!==r.item1}))),i(br())})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){i(jr(K,{message:ee})),wt.getOperatorFiles(t[0].idTokenClaims.oid).then((function(e){c(e),i(br())}))}),[t,i]),Object(Oe.jsx)(Oe.Fragment,{children:a.length>0&&Object(Oe.jsxs)(E.Table,{children:[Object(Oe.jsx)("thead",{children:Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("th",{children:"#"}),Object(Oe.jsx)("th",{children:"nazwa pliku"}),Object(Oe.jsx)("th",{children:"Akcja"})]})}),a.map((function(e,t){return Object(Oe.jsx)("tbody",{children:Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("th",{scope:"row",children:t+1}),Object(Oe.jsx)("td",{children:e.item1}),Object(Oe.jsxs)("td",{children:[Object(Oe.jsx)(E.Button,{color:"primary",onClick:function(){wt.getFileBlob(e.item2,e.item1)},children:"pobierz"}),"    ",Object(Oe.jsx)(E.Button,{color:"warning",onClick:function(){s(e)},children:"Usu\u0144"})]})]})},t)}))]})})};var _i=function(e){var t=Object(o.useState)(!1),r=Object(I.a)(t,2),n=r[0],a=r[1],c=Object(o.useState)(!1),i=Object(I.a)(c,2),s=i[0],d=i[1],l=Object(o.useState)(!1),u=Object(I.a)(l,2),p=u[0],j=u[1],b=Object(o.useState)(!1),O=Object(I.a)(b,2),h=O[0],f=O[1];return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{md:"8",children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsxs)(E.CardBody,{children:[Object(Oe.jsx)(E.Button,{color:"primary",onClick:function(){return a(!n)},children:"Wy\u015blij Pliki"}),Object(Oe.jsx)(E.Collapse,{isOpen:n,children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsx)(Ni,{acceptedExt:".pdf, .pem",fileType:"pdf",maxLength:100})})})}),Object(Oe.jsx)(E.Button,{color:"primary",onClick:function(){return d(!s)},children:"Wy\u015blij piecz\u0105tke"}),Object(Oe.jsx)(E.Collapse,{isOpen:s,children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsx)(Ni,{acceptedExt:".png, .jpg",fileType:"stamp",maxLength:1})})})}),Object(Oe.jsx)(E.Button,{color:"primary",onClick:function(){return j(!p)},children:"Wy\u015blij dyplom"}),Object(Oe.jsx)(E.Collapse,{isOpen:p,children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsx)(Ni,{acceptedExt:".png, .jpg",fileType:"diploma",maxLength:1})})})}),Object(Oe.jsx)(E.Button,{color:"primary",id:"showFiles",onClick:function(){return f(!h)},children:"poka\u017c wys\u0142ane Pliki"}),Object(Oe.jsx)(E.Collapse,{toggler:"#showFiles",isOpen:h,children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:h&&Object(Oe.jsx)(Di,{})})})})]})})})})})};var Fi=function(e){var t=Object(b.e)().accounts,r=Object(p.a)("common").t,n=Object(l.e)((function(e){return e.global.user})),a=Object(l.d)(),c=Object(o.useState)({licenceNumber:0,inZbpList:!1,mail:"",address:"",id:"",name:"",nameWithTitle:"",degree:"",firstName:"",lastName:"",description:"",phone:""}),i=Object(I.a)(c,2),s=i[0],d=i[1],j=Object(o.useState)({city:s.address.split(",")[2],postalCode:s.address.split(",")[1],street:s.address.split(",")[0]}),O=Object(I.a)(j,2),h=O[0],f=O[1],m=n.userType===Q,g=n.userType===$,x=n.userType===Z;return Object(o.useEffect)((function(){g&&Ut.getAdminDataById(t[0].idTokenClaims.oid).then((function(e){y(e)})),m&&Ke.getOperatorData(t[0].idTokenClaims.oid).then((function(e){y(e)})),x&&Ht.getClientData(t[0].idTokenClaims.oid).then((function(e){y(e)}))}),[t,g,m,x]),Object(Oe.jsxs)(Oe.Fragment,{children:[" ",Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{md:"8",children:Object(Oe.jsxs)(E.Card,{className:"card-user",children:[Object(Oe.jsx)(E.CardHeader,{children:Object(Oe.jsx)(E.CardTitle,{tag:"h5",children:r("userProfile.profileEdition")})}),Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)(E.Row,{children:[Object(Oe.jsx)(E.Col,{className:"pr-1",md:"3",children:Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)("label",{children:r("userProfile.userName")}),Object(Oe.jsx)(E.Input,{placeholder:"Username",type:"text",value:s.name,readOnly:!0})]})}),Object(Oe.jsx)(E.Col,{className:"pl-1",md:"4",children:Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)("label",{htmlFor:"exampleInputEmail1",children:r("userProfile.userEmail")}),Object(Oe.jsx)(E.Input,{placeholder:"Email",type:"email",value:s.mail,readOnly:!0})]})}),Object(Oe.jsx)(E.Col,{className:"pl-1",md:"4",children:Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)("label",{htmlFor:"phone",children:"Nr telefonu"}),Object(Oe.jsx)(E.Input,{placeholder:"",type:"phone",value:s.phone,onChange:function(e){return d((function(t){return Object(u.a)(Object(u.a)({},t),{},{phone:e.target.value})}))}})]})})]}),!x&&Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{className:"pr-1",md:"5",children:Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)("label",{children:r("userProfile.userDegree")}),Object(Oe.jsx)(E.Input,{onChange:function(e){return d((function(t){return Object(u.a)(Object(u.a)({},t),{},{degree:e.target.value})}))},value:s.degree,placeholder:"tytu\u0142 naukowy",type:"text"})]})})}),Object(Oe.jsxs)(E.Row,{children:[Object(Oe.jsx)(E.Col,{className:"pr-1",md:"6",children:Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)("label",{children:r("userProfile.userFirstName")}),Object(Oe.jsx)(E.Input,{value:s.firstName,placeholder:"Imi\u0119",type:"text",onChange:function(e){return d((function(t){return Object(u.a)(Object(u.a)({},t),{},{firstName:e.target.value})}))}})]})}),Object(Oe.jsx)(E.Col,{className:"pl-1",md:"6",children:Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)("label",{children:r("userProfile.userLastName")}),Object(Oe.jsx)(E.Input,{value:s.lastName,placeholder:"Nazwisko",type:"text",onChange:function(e){return d((function(t){return Object(u.a)(Object(u.a)({},t),{},{lastName:e.target.value})}))}})]})})]}),!x&&Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{md:"12",children:Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)("label",{children:"O mnie"}),Object(Oe.jsx)(E.Input,{defaultValue:s.description,type:"textarea",onChange:function(e){return d((function(t){return Object(u.a)(Object(u.a)({},t),{},{description:e.target.value})}))}})]})})}),!x&&Object(Oe.jsxs)(E.Row,{children:[Object(Oe.jsx)(E.Col,{md:"12",children:Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)("label",{children:r("userProfile.userLicenceNumber")}),Object(Oe.jsx)(E.Input,{value:s.licenceNumber,type:"number",defaultValue:"Nr Licencji",onChange:function(e){(e.target.value.startsWith("-")||e.target.value<0||""===e.target.value)&&(e.target.value=""),e.target.value>=0&&d((function(t){return Object(u.a)(Object(u.a)({},t),{},{licenceNumber:parseInt(e.target.value)})}))}})]})}),!x&&Object(Oe.jsx)(E.Col,{md:"12",children:Object(Oe.jsx)(E.FormGroup,{children:Object(Oe.jsx)(E.Col,{sm:{size:12},children:Object(Oe.jsx)(E.FormGroup,{children:Object(Oe.jsxs)(E.Label,{for:"authorizedExperts",sm:10,children:[Object(Oe.jsx)(E.Input,{bsSize:"lg",type:"checkbox",name:"authorizedExperts",id:"authorizedExperts",checked:s.inZbpList,onClick:function(){d((function(e){return Object(u.a)(Object(u.a)({},e),{},{inZbpList:!s.inZbpList})}))}}),r("userProfile.inZbpList")]})})})})})]}),Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)("div",{className:"update ml-auto mr-auto",children:Object(Oe.jsx)(E.Button,{className:"btn-round",color:"primary",type:"submit",onClick:function(){!function(){a(jr(K,{message:ne}));var e=JSON.parse(JSON.stringify(s));e.address="".concat(h.street,",").concat(h.city,",").concat(h.postalCode),g&&Ut.updateUserInfo(e).then((function(){return a(br())}));m&&Ke.updateOper(e).then((function(){return a(br())}));x&&Ht.updateClient(e).then((function(){return a(br())}))}()},children:"Aktualizuj"})})})]})})]})})})]});function y(e){d(e),f({city:e.address.split(",")[1],postalCode:e.address.split(",")[2],street:e.address.split(",")[0]})}},Li=r.p+"static/media/damir-bosnjak.efcaca50.jpg";var Bi=function(e){var t=e.headers,r=e.data,n=e.style,a=e.className,o=e.deleteAction;return Object(Oe.jsxs)(E.Table,{style:n,className:a,children:[Object(Oe.jsx)("thead",{children:Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("th",{children:"#"}),t.map((function(e,t){return Object(Oe.jsx)("th",{children:e},t)}))]})}),Object(Oe.jsx)("tbody",{children:r.map((function(e,t){return Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("th",{scope:"row",children:t+1}),Object.entries(e).map((function(e,t){return"id"!==e[0]&&Object(Oe.jsx)("td",{children:e[1]},t)})),o&&Object(Oe.jsx)("td",{children:Object(Oe.jsx)(E.Button,{color:"danger",onClick:function(){return o(e.id)},children:"Usu\u0144"})})]},t+e.title)}))})]})};var Ui=function(e){var t=Object(b.e)().accounts,r=Object(o.useState)(""),n=Object(I.a)(r,2),a=n[0],c=n[1],i=Object(j.g)();return Object(o.useEffect)((function(){if(i.search){var t=new URLSearchParams(i.search).get("operatorId");e.handleSetOperatorId(t),e.handleLoadOperatorProfileData()}}),[]),Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{md:"12",children:Object(Oe.jsxs)(E.Card,{className:"card-user",children:[Object(Oe.jsx)("div",{className:"image",children:Object(Oe.jsx)("img",{alt:"...",src:Li})}),Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsxs)("div",{className:"author",children:[Object(Oe.jsxs)("a",{href:"/users-profile",onClick:function(e){return e.preventDefault()},children:[Object(Oe.jsx)("img",{alt:"...",className:"avatar border-gray",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAG2YAABzjgAA+swAAIT6AAB5gQAA/RMAADBtAAASKQ0eJk4AAAMAUExURevr7Jydn5manJucnuPj5JiZm9vb3PT09MvLzMLCw5GSlPr6+qeoqdXV1tHR0rW1trW2uKusrbi4urO0tLq6vKiqq7e4uLW2tqGipLm6ury8vr6+vr+/wLu8vM7OztDQ0cjJytjY2dTU1aipqqqrrMXGxqanqKmqq6Wmp9LT062usKSlprS0ta2trra2t6ytrqWmqK2ur66vsK6ur7CwsbOztK+vsK+wsbKys7GxsqOkpqOkpZ6foampq6qqrJ2eoKenqaysraKjpZqbnbi4uaKjpKSlp5eYmqioqqurrKChory8vKGio6amqKCho7Gys7CxsrGysrKzs5+gop+gobS1tbq6u7e3uLCxsbKztLi4uJWWmJaXmba3t7i5ub29vZWXmZSWmLq6upOVl5SVl7m5up6foLq7u7u7vJqcnZOUlpeZm5aYmpKUlry8vZKTlpGTlZCRlJCRk6ytr9bX197e3q+vsb2+v8DAweDh4bOztebm5ujp6e/v756eoP///4CAgIGBgYKCgoODg4SEhIWFhYaGhoeHh4iIiImJiYqKiouLi4yMjI2NjY6Ojo+Pj5CQkJGRkZKSkpOTk5SUlJWVlZaWlpeXl5iYmJmZmZqampubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb6+vr+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3t/f3+Dg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f7+/v///zfARREAAAeqSURBVHja7N3xVxJZFMBxQAQVilzPSTslBxcDdwdtBQRBDQUFBYNMDTcoNLAMM7QD23JozvvX94cJZBhQZ+bdO2/26F/Q59wv8K48JwP5n/wY7iH3kHvIPYT6D89bLBazfiF8Y+T09PT09MOHzc3Nd+8yeoTwb99+/PjkSbfj8eN83qYPSCOTOTs7O3veEP69UkcegEIdMpPJCI6zz5/f9p9HPp9//97KMsTwLZO5o2Nh4RmrkHrpmxzHwsICzyLEWSq1IXd1TE6aWYNYSqVSqSRzHpOTDsdDliC2ksBQ4HA4zOxA6iURRJ7DccizAbE9fVpyNXhlXTkcjsNDHxMQKyGEWBV35Tg89Pl8rKTVUtHVoc/n89mYgPBK3686Dt8EIcQwMzOjKUTF+1XHMbG0tLT095s3y8vL77WCqHq/Ehy+Lsdybm9aC4irRKGrLkcut7cXiUTQIS1588jfPo/cXiQSibxGhtTpdyU4kCElyq/zXMdx9AwT0qI+j1zbEQwiQmyUX+fXXR0Fg0EXGsQK1dXRUTAYDIbRIJBdBYNhNIgFsqtgOBx2IkFguwqHQyEcSAu2q3AICwLcVSjEh1oYEPCuQgbix4A4obsK+QmPAwHtKhTy+3+gvEacsF2F/H5/wIAIAevK7/cHAhgQgPNuzzwCgcAiFgSoK3/bgQWhuUdJuwosYkGgu1pcnDdgQCju5wPmMY8CAeyqPY/5+To8BKErPAjY50fb8QIHAnIu6Z7HCxwI0Lmk24ECge8KB4LQ1YuNDYS3X4SuNjbGESAIXW2M40DAuxofH0c4ayF0hQNB6AoJAt8VDgShq/GdHQwIYFfteezMIkCgzrsiBwZkhPp+LulqFgXyB/X9XDoPFEgTviscCE99P+/+/PjlwIAQ6vu5dB4vX2JAALvaaTu8OBCoc0m7q5deHAjYuaQzD68fAwJ3Luk4vC4MyAh4V17vAwxIE7orr9fLY0AIdFde7xpBg8B09cuBCAHtyrvmxoLAdrXm/h0DUgfvas3tdvPQEBdCV2632+3eHgWFwL9ftR12+yYg5CfIfi7pyu3ettvtdkAI2B4lnYfdbndBQiD28wGO9XUwiAFmP5e8zu0CxGOFgrgQu1pf93hcUJA84HlX/DoXIDkoCNB+3r8rj8fjgYIA7ef9u4KGoHXl8XheAUKAzyXdXXlezcFBwM8lXV29moODoHY1BwfB7QoSgtoVIARuj+rXFTAEtCvxPJKPoCBm1K6SyZ9gx3jorrodc0kObh/B7CrJzQJCELviZA1EJsQAtp9LuwKFENA9SjwPbhoSYgbbzwVGl0PeQGT/gg5sP+/tipuFhRCkruQORD5kFPa8qzAsJb/Ehj3v/uqKM8NDSANmPxd11cD5fgS8K5Q/3yOE2L7l9vYWALpKPuI4jsP7M3DhB+JcovyBbmoeJ0K/K45oASG0u0py09pAND7v0oM0qe7nSU4zCKG7R2kJofw5yGsFcVLcz1UOROXztah2pSWE6vkqatUO0qS2n3McFyXaQYiP2h6l0qH6qYCU9nMuGmUBon6P4qLRh9pCrJS6UjsQ9Q+cXKKwR3HRaPQfrSGESlfRFaI5pK7284OKg8aDiyl0tcIEpKV4j6LooPIoaYParlZ4NiBE2X5+7fiXMAIh6rpaIcxAeDVdUXHQem78A/n7ecfRYAlCphXsURTnQfG/JJC/RwkO9iCy9yjBEWcNoqyrlTiTEPldxZmEKOgqHt9iDyL782MlHo9vsQeRtZ9fO5iDyNyjOg72IIq62tqaYg0ib4+6drAJkd3VFJMQBV1NTe2yC5HTFZOQO+9R3fPYZQ4iu6spwcEq5PY9StTV7m6WLYjtVFlXu9nsCDMQi9+ruKtsNptOp9N/WTWHmJ/I2s8l88im0+n0/v7+Qc6mHcSiZI8a4Dg4OFhdVXGnRjHks9I9StpVx7G6uvrpU8yJCHmudD+/cR6CIxaLxR5gQJT/3ufOjljMaDQ6ASHN18q+P5fRVcdhNBqNQ9tWAEhL+ffnCuZhNBqNQ0NDQ0N+qpCmyu85lTu+fEkkEnYLDcio6u/PFXbVcSQSiYTJ5FQFeU7le0518xAcJpPJNKMMUqL0/Tk1h2l4eHh4RB6kPkHlHvKA827HsS/bMXx+nvqtdUcItfvt9OcxfH6eSqVSqa8/boU06d2/AnR8LRaLN0Pq9O6339aVckfqa7FYLB7fBKF0DxlhHsXj42PjQEgIqqspCEehUBgA8dG5347S1fFxoVAo2PpCWrrqqlAoFE5OWn0gBr11VTg5Oan0gdC63w45j1Svo2KVQujdQ8bq6qRSqVQkkAlq95DxuqpUKmUJhNb9dsyuKpVyeVQC0WNX5XK52gOx6LKrcrlabYghE5Tut+N2VS5Xq3YxhNo9ZNyuqtXqhQhipXS/HburavVCDKkzvUcN7qp60QPZ1GtXFxc1EYTV/fwaMmgetV4Iu/v5jV3VarW6CML2fj64q1qt9mc3hPX9fPA8ape9ED3sUX3mcXl5KYboY4/q5xgTQdjfz/t31QvRb1djYz0QvXYlhbC/n/ftqgeinz1KMo8eiG72KKlDBNHPHtXbVT+ILrsaG7vqgei0q6ur770QfXZ19V2A/DcAHpmC7NcZ4/wAAAAASUVORK5CYII="}),i.search?Object(Oe.jsx)("h5",{className:"title",children:e.operatorProfileData.operator&&e.operatorProfileData.operator.name}):Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("h5",{className:"title"}),Object(Oe.jsxs)("h5",{className:"title",children:[t[0].idTokenClaims.given_name," ",t[0].idTokenClaims.family_name]}),Object(Oe.jsx)("h5",{className:"title"})]})]}),i.search&&Object(Oe.jsxs)("div",{children:[e.operatorProfileData.operator.description&&""!==e.operatorProfileData.operator.description&&Object(Oe.jsx)("cite",{children:e.operatorProfileData.operator.description}),Object(Oe.jsxs)(E.Accordion,{open:a,toggle:function(e){return c(e===a?"":e)},children:[Object(Oe.jsxs)(E.AccordionItem,{children:[Object(Oe.jsx)(E.AccordionHeader,{targetId:"1",children:"Dyplom"}),Object(Oe.jsx)(E.AccordionBody,{accordionId:"1",children:""===e.operatorProfileData.diploma||"string"!==typeof e.operatorProfileData.diploma?"operator nie wgra\u0142 dyplomu do systemu":Object(Oe.jsx)("img",{src:e.operatorProfileData.diploma,alt:"dyplom"})})]}),Object(Oe.jsxs)(E.AccordionItem,{children:[Object(Oe.jsx)(E.AccordionHeader,{targetId:"2",children:"Przebyte szkolenia"}),Object(Oe.jsx)(E.AccordionBody,{accordionId:"2",children:e.operatorProfileData.trainings.length>0?Object(Oe.jsx)(Bi,{headers:["Tytu\u0142","Adres url"],data:e.operatorProfileData.trainings}):"Brak danych"})]}),Object(Oe.jsxs)(E.AccordionItem,{children:[Object(Oe.jsx)(E.AccordionHeader,{targetId:"3",children:"Kontakt"}),Object(Oe.jsx)(E.AccordionBody,{accordionId:"3",children:Object(Oe.jsx)("ul",{style:{textAlign:"left",fontSize:"1.5rem"},children:e.operatorProfileData.operator&&Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)("li",{children:["Adres e-mail: ",Object(Oe.jsx)("a",{href:"mailto:"+e.operatorProfileData.operator.mail,children:e.operatorProfileData.operator.mail})]}),Object(Oe.jsxs)("li",{children:["Nr telefonu: ",e.operatorProfileData.operator.phone]})]})})})]}),Object(Oe.jsxs)(E.AccordionItem,{children:[Object(Oe.jsx)(E.AccordionHeader,{targetId:"4",children:"Opinie zleceniodawc\xf3w"}),Object(Oe.jsx)(E.AccordionBody,{accordionId:"4",children:e.operatorProfileData.reviews.length>0?Object(Oe.jsx)(Bi,{headers:["Data","Zleceniodawca","Komentarz","Ocena"],data:e.operatorProfileData.reviews}):"Brak danych"})]}),Object(Oe.jsxs)(E.AccordionItem,{children:[Object(Oe.jsx)(E.AccordionHeader,{targetId:"5",children:"Pozosta\u0142e dane"}),Object(Oe.jsxs)(E.AccordionBody,{accordionId:"5",style:{textAlign:"left",fontSize:"1rem"},children:[function(){if(!e.operatorProfileData.operator)return null;var t="Operator "+e.operatorProfileData.operator.name+" "+(e.operatorProfileData.operator.inZbpList?"":"nie ")+"jest zapisany do listy rzeczoznawc\xf3w ZBP.";return Object(Oe.jsx)("p",{children:t})}(),"Liczba wykonanych operat\xf3w: ",e.operatorProfileData.operatCount]})]})]})]})]})})]})})})})},Gi=r(11),Mi=r.n(Gi),Wi=function(e){var t=e.onSubmit;return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)(E.Form,{onSubmit:function(e){e.preventDefault(),t()},id:"operator-training-form",children:[Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"training-title",children:"Tytu\u0142 szkolenia"}),Object(Oe.jsx)(E.Input,{type:"text",name:"training-title",id:"training-title",placeholder:"Tytu\u0142 szkolenia",required:!0})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"training-url",children:"Adres url"}),Object(Oe.jsx)(E.Input,{type:"text",name:"training-url",id:"training-url",placeholder:"Adres url",required:!0})]}),Object(Oe.jsx)(E.Button,{color:"success",children:"Dodaj szkolenie"})]})})};var Ki=function(e){var t=Object(b.e)().accounts;return Object(o.useEffect)((function(){e.handleSetOperatorId(t[0].idTokenClaims.oid),e.handleLoadTrainings()}),[]),Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{md:"8",children:Object(Oe.jsx)(E.Card,{children:Object(Oe.jsxs)(E.CardBody,{children:[Object(Oe.jsx)(E.Button,{color:"success",id:"show-operator-training-form-btn",style:{width:"11rem"},children:"Nowe szkolenie"}),Object(Oe.jsx)(E.UncontrolledCollapse,{toggler:"#show-operator-training-form-btn",children:Object(Oe.jsx)(E.Card,{style:{boxShadow:"6px 6px 10px 2px rgb(0 0 0 / 15%)"},children:Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsx)(Wi,{onSubmit:e.handleAddTraining})})})}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(E.Button,{color:"success",id:"show-operator-trainings-btn",style:{width:"11rem"},children:"Szkolenia"}),Object(Oe.jsx)(E.UncontrolledCollapse,{toggler:"#show-operator-trainings-btn",children:Object(Oe.jsx)(E.Card,{style:{boxShadow:"6px 6px 10px 2px rgb(0 0 0 / 15%)"},children:Object(Oe.jsx)(E.CardBody,{children:e.trainings.trainings&&(0===e.trainings.trainings.length?"Brak szkole\u0144":Object(Oe.jsx)(Bi,{headers:["Tytu\u0142","Adres"],data:e.trainings.trainings,deleteAction:function(t){return e.handleRemoveTraining(t)}}))})})})]})})})})})};function qi(){return{type:ya}}function Hi(e){return{type:va,payload:e}}function Vi(e){return{type:Pa,payload:e}}var Ji=function(e){return e.user||Aa},Yi=Object(O.a)().mark(es),Xi=Object(O.a)().mark(ts),Qi=Object(O.a)().mark(rs),Zi=Object(O.a)().mark(ns),$i=Object(O.a)().mark(as);function es(){var e,t,r,n,a,o;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(oo.e)(Nn());case 2:return e=c.sent,t=e.user.id,r="/Operator/".concat(t,"/training"),c.next=7,Object(oo.a)(Pe);case 7:return n=c.sent,a={method:"GET",headers:n},c.prev=9,c.next=12,Object(oo.a)(lo,r,a);case 12:return o=c.sent,c.next=15,Object(oo.c)(Hi(o));case 15:c.next=21;break;case 17:return c.prev=17,c.t0=c.catch(9),c.next=21,Object(oo.c)((i=c.t0,{type:wa,payload:i}));case 21:case"end":return c.stop()}var i}),Yi,null,[[9,17]])}function ts(){var e,t,r,n,a,o,c,i,s,d;return Object(O.a)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(oo.e)(Object(Hr.a)(Ji,(function(e){return e.operatorId})));case 2:return e=l.sent,l.next=5,Object(oo.a)(Pe);case 5:return t=l.sent,r={method:"GET",headers:t},l.prev=7,l.next=10,Object(oo.c)(jr(K,{message:"Prosz\u0119 czeka\u0107, trwa wczytywanie danych u\u017cytkownika"}));case 10:return l.next=12,Object(oo.a)(lo,"/User/id/".concat(e),r);case 12:return n=l.sent,l.next=15,Object(oo.a)(lo,"/Operat/".concat(e,"/count"),r);case 15:return a=l.sent,l.next=18,Object(oo.a)(lo,"/Operator/".concat(e,"/review"),r);case 18:return o=l.sent,l.next=21,Object(oo.a)(lo,"/Operator/".concat(e,"/training"),r);case 21:return c=l.sent,l.next=24,Object(oo.a)(lo,"/OperatorFiles/id/".concat(e,"/filename/diploma.jpg"),r);case 24:i=l.sent,l.t0=n,l.next="client"===l.t0?28:"operator"===l.t0?30:"admin"===l.t0?32:34;break;case 28:return s="/Client/id/".concat(e),l.abrupt("break",35);case 30:return s="/Operator/id/".concat(e),l.abrupt("break",35);case 32:return s="/Admin/id/".concat(e),l.abrupt("break",35);case 34:throw Error("Invalid user type");case 35:return l.next=37,Object(oo.a)(lo,s,r);case 37:return d=l.sent,l.next=40,Object(oo.c)({type:Sa,payload:{operatCount:a,reviews:o,trainings:c,diploma:i,operator:d}});case 40:return l.next=42,Object(oo.c)(br());case 42:l.next=50;break;case 44:return l.prev=44,l.t1=l.catch(7),l.next=48,Object(oo.c)(Vi(l.t1));case 48:return l.next=50,Object(oo.c)(jr(W,{message:"Przy wczytywaniu danych u\u017cytkownika wyst\u0105pi\u0142 b\u0142\u0105d"}));case 50:case"end":return l.stop()}}),Xi,null,[[7,44]])}function rs(){var e,t,r,n,a,o,c;return Object(O.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e=document.querySelector("#operator-training-form"),i.next=3,Object(oo.e)(Nn());case 3:return t=i.sent,r=new FormData(e),n={operatorId:t.user.id,title:r.get("training-title"),url:r.get("training-url")},a="/Operator/training",i.next=9,Object(oo.a)(Pe,"json");case 9:return o=i.sent,c={method:"POST",headers:o,body:JSON.stringify(n)},i.prev=11,i.next=14,Object(oo.a)(lo,a,c);case 14:return i.next=16,Object(oo.c)(qi());case 16:i.next=21;break;case 18:i.prev=18,i.t0=i.catch(11),console.log(i.t0);case 21:case"end":return i.stop()}}),Qi,null,[[11,18]])}function ns(e){var t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t="/Operator/training/".concat(e.id),a.next=3,Object(oo.a)(Pe);case 3:return r=a.sent,n={method:"DELETE",headers:r},a.prev=5,a.next=8,Object(oo.a)(lo,t,n);case 8:return a.next=10,Object(oo.c)(qi());case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(5),console.log(a.t0);case 15:case"end":return a.stop()}}),Zi,null,[[5,12]])}function as(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oo.f)(ya,es);case 2:return e.next=4,Object(oo.f)(Ca,ts);case 4:return e.next=6,Object(oo.f)(Ta,rs);case 6:return e.next=8,Object(oo.f)(Ia,ns);case 8:case"end":return e.stop()}}),$i)}var os="user";var cs=Object(Hr.b)({trainings:Object(Hr.a)(Ji,(function(e){return e.trainings})),operatorProfileData:Object(Hr.a)(Ji,(function(e){return e.operatorProfileData}))});var is=Object(l.c)(cs,(function(e){return{handleLoadTrainings:function(){return e(qi())},handleSetOperatorId:function(t){return e({type:ka,payload:t})},handleLoadOperatorProfileData:function(){return e({type:Ca})},handleAddTraining:function(){return e({type:Ta})},handleRemoveTraining:function(t){return e(function(e){return{type:Ia,id:e}}(t))}}})),ss=Object(xn.c)(is,o.memo)((function(e){ao({key:os,reducer:za}),Bo({key:os,saga:as});var t=Object(l.e)((function(e){return e.global.user})),r=Object(o.useState)("1"),n=Object(I.a)(r,2),a=n[0],c=n[1],i=Object(j.g)(),s=t.userType===Z,d=function(e,t){return Object(Oe.jsx)(E.NavItem,{children:Object(Oe.jsx)(E.NavLink,{className:Mi()({active:a===e}),onClick:function(){var t;a!==(t=e)&&c(t)},children:t})})};return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)("div",{className:"content",children:[Object(Oe.jsxs)(E.Nav,{tabs:!0,children:[d("1","U\u017cytkownik"),!i.search&&Object(Oe.jsxs)(Oe.Fragment,{children:[d("2","Edycja profilu"),!s&&d("3","Pliki"),!s&&d("4","Szkolenia")]})]}),Object(Oe.jsxs)(E.TabContent,{activeTab:a,children:[Object(Oe.jsx)(E.TabPane,{tabId:"1",children:Object(Oe.jsx)(Ui,{handleLoadOperatorProfileData:e.handleLoadOperatorProfileData,handleSetOperatorId:e.handleSetOperatorId,operatorProfileData:e.operatorProfileData})}),Object(Oe.jsx)(E.TabPane,{tabId:"2",children:Object(Oe.jsx)(Fi,{})}),!s&&Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.TabPane,{tabId:"3",children:Object(Oe.jsx)(_i,{})}),Object(Oe.jsx)(E.TabPane,{tabId:"4",children:Object(Oe.jsx)(Ki,{handleLoadTrainings:e.handleLoadTrainings,handleLoadOperatorProfileData:e.handleLoadOperatorProfileData,handleSetOperatorId:e.handleSetOperatorId,operatorProfileData:e.operatorProfileData,trainings:e.trainings,handleAddTraining:e.handleAddTraining,handleRemoveTraining:e.handleRemoveTraining})})]})]})]})})})),ds=function(e){return e.usersPage||Ma},ls=function(){return Object(Hr.a)(ds,(function(e){return e.userType}))},us=function(){return Object(Hr.a)(ds,(function(e){return e.users}))};function ps(){return{type:Na}}function js(e){return{type:_a,payload:e}}var bs=Object(O.a)().mark(fs),Os=Object(O.a)().mark(ms),hs=Object(O.a)().mark(gs);function fs(){var e,t,r,n,a,o;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(oo.e)(ls());case 2:return e=c.sent,c.next=5,Object(oo.e)(us());case 5:t=c.sent,c.t0=e,c.next=c.t0===Z?9:c.t0===Q?11:c.t0===$?13:15;break;case 9:return r="/User/promote/clients",c.abrupt("break",18);case 11:return r="/User/promote/operators",c.abrupt("break",18);case 13:return r="/User/promote/admins",c.abrupt("break",18);case 15:return c.next=17,Object(oo.c)(js("Incorrect user type"));case 17:return c.abrupt("return");case 18:return r+="?pageNumber=".concat(t.pageNumber,"&pageSize=5"),r+="&name=".concat(t.filters.name,"&mail=").concat(t.filters.mail),t.sortFieldName&&(r+="&fieldName=".concat(t.sortFieldName,"&direction=").concat(t.sortDirection)),n={Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},a={method:"GET",headers:n},c.prev=23,c.next=26,Object(oo.a)(lo,r,a);case 26:return o=c.sent,c.next=29,Object(oo.c)({type:Da,payload:o});case 29:c.next=35;break;case 31:return c.prev=31,c.t1=c.catch(23),c.next=35,Object(oo.c)(js(c.t1));case 35:case"end":return c.stop()}}),bs,null,[[23,31]])}function ms(e){var t,r,n,a;return Object(O.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(oo.e)(ls());case 2:t=o.sent,o.t0=t,o.next=o.t0===Z?6:o.t0===Q?8:10;break;case 6:return r="/Operator/promote/clientid/".concat(e.userId),o.abrupt("break",11);case 8:return r="/Admin/promote/operatorid/".concat(e.userId),o.abrupt("break",11);case 10:return o.abrupt("return");case 11:return n={Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},a={method:"PUT",headers:n},o.prev=13,o.next=16,Object(oo.a)(lo,r,a);case 16:return o.next=18,Object(oo.c)(ps());case 18:o.next=23;break;case 20:o.prev=20,o.t1=o.catch(13),console.log(o.t1);case 23:case"end":return o.stop()}}),Os,null,[[13,20]])}function gs(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oo.g)(Na,fs);case 2:return e.next=4,Object(oo.g)(La,ms);case 4:case"end":return e.stop()}}),hs)}var xs=function(e){var t=e.handleSetUserFilters,r=Object(o.useState)(""),n=Object(I.a)(r,2),a=n[0],c=n[1],i=Object(o.useState)(""),s=Object(I.a)(i,2),d=s[0],l=s[1];return Object(Oe.jsx)(E.Card,{children:Object(Oe.jsx)(E.CardBody,{children:Object(Oe.jsxs)(E.Form,{onSubmit:function(e){e.preventDefault(),t({name:a,mail:d})},children:[Object(Oe.jsx)(E.Input,{placeholder:"Nazwa u\u017cytkownika",id:"filter-username",name:"filter-username",onChange:function(e){c(e.target.value)},value:a}),Object(Oe.jsx)(E.Input,{placeholder:"Email u\u017cytkownika",id:"filter-user-email",name:"filter-user-email",onChange:function(e){l(e.target.value)},value:d}),Object(Oe.jsx)(E.Button,{onClick:function(){c(""),l(""),t({name:"",mail:""})},children:"Wyczy\u015b\u0107"}),Object(Oe.jsx)(E.Button,{type:"submit",color:"success",children:"Filtruj"})]})})})},ys="usersPage";var vs=Object(Hr.b)({userType:ls(),users:us()});var ws=Object(l.c)(vs,(function(e){return{handleSetUserType:function(t){return e({type:Fa,payload:t})},handleLoadUsers:function(){return e(ps())},handlePromoteUser:function(t){return e(function(e){return{type:La,userId:e}}(t))},handleSetUsersPageNumber:function(t){return e({type:Ua,payload:t})},handleSetUserFilters:function(t){return e({type:Ga,payload:t})},handleSetUsersSortParameters:function(t){return e({type:Ba,payload:t})}}})),ks=Object(xn.c)(ws,o.memo)((function(e){ao({key:ys,reducer:Wa}),Bo({key:ys,saga:gs});var t=Object(j.f)(),r=Object(o.useState)(!1),n=Object(I.a)(r,2),a=n[0],c=n[1],i=Object(o.useState)(!1),s=Object(I.a)(i,2),d=s[0],l=s[1],p=[{label:"Klient",value:"client"},{label:"Operator",value:"operator"},{label:"Administrator",value:"admin"}],b=function(){var t=Object(h.a)(Object(O.a)().mark((function t(r,n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve()({title:Object(Oe.jsx)(Oe.Fragment,{children:"Ostrze\u017cenie"}),message:"Czy na pewno chcesz wypromowa\u0107 u\u017cytkownika ".concat(n),confirmText:"Tak",confirmColor:"info",cancelColor:"link text-primary",cancelText:"nie"});case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:e.handlePromoteUser(r);case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){e.handleSetUsersPageNumber("1")}),[]);var f={onSort:function(t,r){e.handleSetUsersSortParameters(t)},sortFunc:function(e,t,r,n,a,o){},sort:!0};return Object(o.useEffect)((function(){e.handleLoadUsers()}),[e.userType,e.users.pageNumber,e.users.filters,e.users.sortFieldName,e.users.sortDirection]),Object(Oe.jsx)("div",{className:"content",children:Object(Oe.jsxs)("div",{className:"container",children:[Object(Oe.jsx)(E.Button,{color:"success",onClick:function(){return l((function(e){return!e}))},children:"Filtry"}),Object(Oe.jsx)(E.Collapse,{isOpen:d,children:Object(Oe.jsx)(xs,{handleSetUserFilters:e.handleSetUserFilters})}),Object(Oe.jsxs)(E.Dropdown,{isOpen:a,toggle:function(){return c(!a)},children:[Object(Oe.jsx)(qr.a,{count:localStorage.getItem("pageCount"),color:"primary",page:new URLSearchParams(t.location.search).get("pageNumber")?parseInt(new URLSearchParams(t.location.search).get("pageNumber")):1,onChange:function(r,n){var a=new URLSearchParams(t.location.search);a.set("pageNumber",n.toString()),t.push({pathname:"/users-promotion",search:a.toString()}),e.handleSetUsersPageNumber(n)}}),Object(Oe.jsxs)(E.DropdownToggle,{caret:!0,children:["Wybierz rodzaj u\u017cytkownika [",p.map((function(t){return t.value===e.userType?t.label:""})),"]"]}),Object(Oe.jsx)(E.DropdownMenu,{children:p.map((function(t){return Object(Oe.jsx)(E.DropdownItem,{onClick:function(){e.handleSetUserType(t.value)},children:t.label},t.value)}))})]}),Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{md:"12",children:e.users.loading?Object(Oe.jsx)(xe,{}):Object(Oe.jsx)(N.a,{bootstrap4:!0,keyField:"id",data:e.users.users,columns:[{dataField:"id",text:"ID",hidden:!1},Object(u.a)(Object(u.a)({dataField:"name",text:"Nazwa"},f),{},{editable:!1,align:"center",headerAlign:"center"}),Object(u.a)(Object(u.a)({dataField:"mail",text:"Adres e-mail"},f),{},{editable:!1,align:"center",headerAlign:"center"}),e.userType!==Z&&{text:"Profil u\u017cytkownika",align:"center",headerAlign:"center",formatter:function(e,r){return Object(Oe.jsx)(E.Button,{color:"primary",onClick:function(){return t.push({pathname:"/users-profile",search:"?operatorId="+r.id})},children:"Profil u\u017cytkownika"})}},{text:"Promocja",align:"center",headerAlign:"center",formatter:function(e,t){return Object(Oe.jsx)(E.Button,{disabled:!t.canPromote,color:"success",onClick:function(){return b(t.id,t.name)},children:"Promocja"})}}],striped:!0,hover:!0,condensed:!0,bordered:!1})})})]})})}));var Cs=function(){var e=Object(b.e)().instance;return Object(o.useEffect)((function(){e.logout()}),[e]),Object(Oe.jsx)(Oe.Fragment,{})},Ss=function(e){return e.subscriptions||$a},Ps=function(){return Object(Hr.a)(Ss,(function(e){return e.operatorsInfo}))};function Ts(){return{type:Ka}}function Is(e){return{type:Ha,payload:e}}function As(e){return{type:Za,payload:e}}var zs=Object(O.a)().mark(Ds),Es=Object(O.a)().mark(_s),Rs=Object(O.a)().mark(Fs),Ns=Object(O.a)().mark(Ls);function Ds(){var e,t,r,n,a;return Object(O.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(oo.e)(Ps());case 2:return e=o.sent,t={Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},r={method:"GET",headers:t},n="/Subscription/operators-info",n+="?pageNumber=".concat(e.pageNumber,"&pageSize=5"),e.filters&&(n+="&name=".concat(e.filters.name,"&mail=").concat(e.filters.mail)),e.sortFieldName&&(n+="&fieldName=".concat(e.sortFieldName,"&direction=").concat(e.sortDirection)),o.prev=9,o.next=12,Object(oo.a)(lo,n,r);case 12:return a=o.sent,o.next=15,Object(oo.c)({type:qa,payload:a});case 15:o.next=21;break;case 17:return o.prev=17,o.t0=o.catch(9),o.next=21,Object(oo.c)(Is(o.t0));case 21:case"end":return o.stop()}}),zs,null,[[9,17]])}function _s(e){var t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t="/Subscription/by-repo",r={Authorization:"Bearer ".concat(localStorage.getItem("idToken")),"Content-type":"application/json"},n={method:"PUT",headers:r,body:JSON.stringify(e.payload)},a.next=5,Object(oo.c)(jr(K,{message:"Trwa zapisywanie zmian w subskrypcji"}));case 5:return a.prev=5,a.next=8,Object(oo.a)(lo,t,n);case 8:return a.next=10,Object(oo.c)(jr(J));case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(5),a.next=16,Object(oo.c)(jr(W,{message:"Nie uda\u0142o si\u0119 zapisa\u0107 zmian w subskrypcji"}));case 16:case"end":return a.stop()}}),Es,null,[[5,12]])}function Fs(e){var t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t="/Subscription",r={Authorization:"Bearer ".concat(localStorage.getItem("idToken")),"Content-type":"application/json"},n={method:"POST",headers:r,body:JSON.stringify(e.payload)},a.next=5,Object(oo.c)(jr(K,{message:"Trwa dodawanie subskrypcji"}));case 5:return a.prev=5,a.next=8,Object(oo.a)(lo,t,n);case 8:return a.next=10,Object(oo.c)(jr(X));case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(5),a.next=16,Object(oo.c)(jr(W,{message:"Nie uda\u0142o si\u0119 utworzy\u0107 subskrypcji"}));case 16:case"end":return a.stop()}}),Rs,null,[[5,12]])}function Ls(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oo.g)(Ka,Ds);case 2:return e.next=4,Object(oo.g)(Qa,_s);case 4:return e.next=6,Object(oo.g)(Za,Fs);case 6:case"end":return e.stop()}}),Ns)}var Bs={margin:"5px"},Us={margin:"5px",float:"right"};var Gs=function(e){var t=e.subscription,r=e.handleUpdateSubscription,n=Object(o.useState)(t.isActive),a=Object(I.a)(n,2),c=a[0],i=a[1],s=Object(o.useState)(t.canRenew),d=Object(I.a)(s,2),l=d[0],u=d[1],p=Object(o.useState)(t.nrOfOperats),j=Object(I.a)(p,2),b=j[0],O=j[1],h=Object(o.useState)(t.maxNrOfOperats),f=Object(I.a)(h,2),m=f[0],g=f[1],x=Object(o.useState)(t.nrOfGenerations),y=Object(I.a)(x,2),v=y[0],w=y[1],k=Object(o.useState)(t.maxNrOfGenerations),C=Object(I.a)(k,2),S=C[0],P=C[1];return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)(E.Form,{id:"update-subscription-form",onSubmit:function(e){e.preventDefault(),function(){var e={id:t.id,isActive:c,canRenew:l,nrOfOperats:b,maxNrOfOperats:m,nrOfGenerations:v,maxNrOfGenerations:S,createdDateTime:t.createdDateTime};r(e)}()},children:[Object(Oe.jsxs)(E.Row,{children:[Object(Oe.jsxs)(E.Col,{children:[Object(Oe.jsx)(E.Label,{for:"subscription-is-active",children:Object(Oe.jsx)("b",{children:"Aktywna:"})}),Object(Oe.jsx)(E.Input,{style:Bs,id:"subscription-is-active",type:"checkbox",checked:c,onChange:function(e){i(!c)}})]}),Object(Oe.jsxs)(E.Col,{children:[Object(Oe.jsx)(E.Label,{for:"subscription-can-renew",children:Object(Oe.jsx)("b",{children:"Odnowi si\u0119 w nast\u0119pnym miesi\u0105cu:"})}),Object(Oe.jsx)(E.Input,{style:Bs,id:"subscription-can-renew",type:"checkbox",checked:l,onChange:function(e){u(!l)}})]})]}),Object(Oe.jsxs)(E.Row,{children:[Object(Oe.jsxs)(E.Col,{children:[Object(Oe.jsx)(E.Label,{for:"subscription-nr-of-operats",children:Object(Oe.jsx)("b",{children:"Liczba stworzonych operat\xf3w:"})}),Object(Oe.jsx)(E.Input,{style:Bs,id:"subscription-nr-of-operats",type:"number",step:"1",min:"0",value:b,onChange:function(e){return O(parseInt(e.target.value))}})]}),Object(Oe.jsxs)(E.Col,{children:[Object(Oe.jsx)(E.Label,{for:"subscription-max-nr-of-operats",children:Object(Oe.jsx)("b",{children:"Limit tworzenia operat\xf3w:"})}),Object(Oe.jsx)(E.Input,{style:Bs,id:"subscription-max-nr-of-operats",type:"number",step:"1",min:"1",value:m,onChange:function(e){return g(parseInt(e.target.value))}})]})]}),Object(Oe.jsxs)(E.Row,{children:[Object(Oe.jsxs)(E.Col,{children:[Object(Oe.jsx)(E.Label,{for:"subscription-nr-of-generations",children:Object(Oe.jsx)("b",{children:"Liczba wygenerowanych pdf:"})}),Object(Oe.jsx)(E.Input,{style:Bs,id:"subscription-nr-of-generations",type:"number",step:"1",min:"0",value:v,onChange:function(e){return w(parseInt(e.target.value))}})]}),Object(Oe.jsxs)(E.Col,{children:[Object(Oe.jsx)(E.Label,{for:"subscription-max-nr-of-generations",children:Object(Oe.jsx)("b",{children:"Limit generowania pdf:"})}),Object(Oe.jsx)(E.Input,{style:Bs,id:"subscription-max-nr-of-generations",type:"number",step:"1",min:"1",value:S,onChange:function(e){return P(parseInt(e.target.value))}})]})]}),Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.Button,{color:"success",type:"submit",style:Us,children:"Zapisz"})})})]})})},Ms="subscriptions";var Ws=Object(Hr.b)({operatorsInfo:Ps(),currentOperator:Object(Hr.a)(Ss,(function(e){return e.currentOperator}))});var Ks=Object(l.c)(Ws,(function(e){return{handleLoadOperatorsInfo:function(){return e(Ts())},handleSetSubscriptionPageNumber:function(t){return e({type:Va,payload:t})},handleSetOperatorsInfoSortParameter:function(t){return e({type:Ja,payload:t})},handleSetOperatorsInfoFilters:function(t){return e({type:Ya,payload:t})},handleSetCurrentOperator:function(t,r){return e({type:Xa,payload:{id:t,name:r}})},handleUpdateSubscription:function(t){return e({type:Qa,payload:t})},handleCreateSubscription:function(t){return e(As(t))}}})),qs=Object(xn.c)(Ks,o.memo)((function(e){ao({key:Ms,reducer:eo}),Bo({key:Ms,saga:Ls});var t=Object(l.d)(),r=Object(j.f)(),n=Object(o.useState)(!1),a=Object(I.a)(n,2),c=a[0],i=a[1],s={onSort:function(t,r){e.handleSetOperatorsInfoSortParameter(t)},sortFunc:function(e,t,r,n,a,o){},sort:!0},d=[{dataField:"id",text:"ID"},Object(u.a)({dataField:"name",text:"Nazwa"},s),Object(u.a)({dataField:"mail",text:"Adres e-mail"},s),Object(u.a)(Object(u.a)({dataField:"nrOfOperats",text:"Stworzone operaty"},s),{},{formatter:function(e,t){return void 0!==t.nrOfOperats&&void 0!==t.maxNrOfOperats?Object(Oe.jsx)("p",{children:"".concat(t.nrOfOperats,"/").concat(t.maxNrOfOperats)}):Object(Oe.jsx)("div",{})}}),Object(u.a)(Object(u.a)({dataField:"nrOfGenerations",text:"Wygenerowane pdfy"},s),{},{formatter:function(e,t){return void 0!==t.nrOfGenerations&&void 0!==t.maxNrOfGenerations?Object(Oe.jsx)("p",{children:"".concat(t.nrOfGenerations,"/").concat(t.maxNrOfGenerations)}):Object(Oe.jsx)("div",{})}}),{text:"Utw\xf3rz subskrypcj\u0119",formatter:function(r,n){return Object(Oe.jsx)(E.Button,{color:"primary",disabled:n.hasSubscription,onClick:function(){e.handleSetCurrentOperator(n.id,n.name),t(jr(Y))},children:" Utw\xf3rz"})}}];return Object(o.useEffect)((function(){e.handleSetSubscriptionPageNumber("1")}),[]),Object(o.useEffect)((function(){e.handleLoadOperatorsInfo()}),[e.operatorsInfo.pageNumber,e.operatorsInfo.filters,e.operatorsInfo.sortFieldName,e.operatorsInfo.sortDirection]),Object(Oe.jsx)("div",{className:"content",children:Object(Oe.jsx)("div",{className:"container",children:Object(Oe.jsxs)(E.Col,{md:"12",children:[Object(Oe.jsx)(E.Button,{color:"success",onClick:function(){return i((function(e){return!e}))},children:"Filtry"}),Object(Oe.jsx)(E.Collapse,{isOpen:c,children:Object(Oe.jsx)(xs,{handleSetUserFilters:e.handleSetOperatorsInfoFilters})}),Object(Oe.jsx)(qr.a,{count:localStorage.getItem("pageCount"),color:"primary",page:new URLSearchParams(r.location.search).get("pageNumber")?parseInt(new URLSearchParams(r.location.search).get("pageNumber")):e.operatorsInfo.pageNumber,onChange:function(t,n){var a=new URLSearchParams(r.location.search);a.set("pageNumber",n.toString()),r.push({pathname:"/subscriptions",search:a.toString()}),e.handleSetSubscriptionPageNumber(n)}}),e.operatorsInfo.loading?Object(Oe.jsx)(xe,{}):Object(Oe.jsx)(N.a,{bootstrap4:!0,keyField:"id",columns:d,data:e.operatorsInfo.data,striped:!0,hover:!0,condensed:!0,bordered:!1,expandRow:{nonExpandable:e.operatorsInfo.data.filter((function(e){return!1===e.hasSubscription})).map((function(e){return e.id})),expandColumnPosition:"right",showExpandColumn:!0,expandByColumnOnly:!0,expandColumnRenderer:function(e){e.expanded,e.rowKey;var t=e.expandable;return Object(Oe.jsx)(E.Button,{disabled:!t,children:"Edytuj"})},expandHeaderColumnRenderer:function(e){return e.isAnyExpands,"Edytuj"},renderer:function(t){var r={id:t.id,isActive:t.isActive,canRenew:t.canRenew,nrOfOperats:t.nrOfOperats,maxNrOfOperats:t.maxNrOfOperats,nrOfGenerations:t.nrOfGenerations,maxNrOfGenerations:t.maxNrOfGenerations,createdDateTime:t.createdDateTime};return Object(Oe.jsx)(Gs,{subscription:r,handleUpdateSubscription:e.handleUpdateSubscription})}}})]})})})}));function Hs(e){return[{path:"/market",name:e("market.market"),icon:"nc-icon nc-cart-simple",component:ai},{path:"/history",name:e("history.history"),icon:"nc-icon nc-istanbul",component:Ho},{path:"/create",component:Ri},{path:"/users-profile",name:e("userProfile.userProfile"),icon:"nc-icon nc-single-02",component:ss},{path:"/logout",component:Cs}]}var Vs=function(e){var t=Object(b.e)().instance,r=Object(l.e)((function(e){return e.global.user})),n=Object(l.d)();return Object(o.useEffect)((function(){if(""===r.userType){var e=t.getActiveAccount();Ht.getAdminDataById(e.idTokenClaims.oid).then((function(t){if(!t){var r={id:e.idTokenClaims.oid,name:e.name,mail:e.idTokenClaims.emails[0],address:"".concat(e.idTokenClaims.streetAddress,", ").concat(e.idTokenClaims.postalCode,", ").concat(e.idTokenClaims.city)};n(jr(K,{newClient:r,message:"Trwa tworzenie u\u017cytkownika"})),Ht.createNewClient(r).then((function(){n($c(r.id)),n(br())}))}}))}}),[r.userType,t,n,e.history]),Object(Oe.jsx)("div",{})};var Js=function(e){var t=Object(o.useState)(!1),r=Object(I.a)(t,2),n=r[0],a=r[1],c=Object(o.useRef)(null);return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(uc.a,{ref:c}),Object(Oe.jsxs)(E.Dropdown,{nav:!0,isOpen:n,toggle:function(e){a(!n)},children:[Object(Oe.jsxs)(E.DropdownToggle,{caret:!0,nav:!0,children:[Object(Oe.jsx)("i",{className:"nc-icon nc-bell-55"}),Object(Oe.jsx)("p",{children:Object(Oe.jsx)("span",{className:"d-lg-none d-md-block",children:"Wiadomo\u015bci"})})]}),Object(Oe.jsx)(E.DropdownMenu,{right:!0})]})]})};var Ys=function(e){var t=Object(o.useState)(!1),r=Object(I.a)(t,2),n=r[0],a=r[1],c=Object(b.e)().instance;return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)(E.Dropdown,{nav:!0,isOpen:n,toggle:function(e){a(!n)},children:[Object(Oe.jsxs)(E.DropdownToggle,{caret:!0,nav:!0,children:[Object(Oe.jsx)("i",{className:"nc-icon nc-settings-gear-65"}),Object(Oe.jsx)("p",{children:Object(Oe.jsx)("span",{className:"d-lg-none d-md-block",children:"Konto"})})]}),Object(Oe.jsx)(E.DropdownMenu,{right:!0,children:Object(Oe.jsx)(E.DropdownItem,{tag:"a",onClick:function(){!function(e){try{Ce.push("/"),console.log("Trying to logout");var t=e.logout();console.log(t)}catch(r){console.log(r)}}(c)},children:"Wyloguj"})})]})})};var Xs=function(e){var t=Object(b.e)().accounts;return Object(l.e)((function(e){return e.global.user})),Object(Oe.jsxs)("div",{children:[false,"  ",false," ",t[0].idTokenClaims.name]})},Qs=r(164),Zs=r(79),$s=r(213),ed={en:{common:r(214)},pl:{common:$s}};Qs.a.use(Zs.e).init({resources:ed,lng:"pl",interpolation:{escapeValue:!1}});var td=Qs.a;var rd,nd,ad=function(){return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(E.Button,{color:"primary",onClick:function(){return td.changeLanguage("pl")},children:"PL"}),Object(Oe.jsx)(E.Button,{color:"primary",onClick:function(){return td.changeLanguage("en")},children:"EN"})]})},od=function(e){Object(g.a)(r,e);var t=Object(x.a)(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this,e)).state={isOpen:!1,dropdownOpen:!1,color:"transparent"},n.toggle=n.toggle.bind(Object(z.a)(n)),n.sidebarToggle=c.a.createRef(),n}return Object(m.a)(r,[{key:"toggle",value:function(){this.state.isOpen?this.setState({color:"transparent"}):this.setState({color:"dark"}),this.setState({isOpen:!this.state.isOpen})}},{key:"getBrand",value:function(){var e="Default Brand";return Hs(this.props.t).map((function(t,r){return-1!==window.location.href.indexOf(t.path)&&(e=t.name),null})),e}},{key:"openSidebar",value:function(){document.documentElement.classList.toggle("nav-open"),this.sidebarToggle.current.classList.toggle("toggled")}},{key:"updateColor",value:function(){window.innerWidth<993&&this.state.isOpen?this.setState({color:"dark"}):this.setState({color:"transparent"})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateColor.bind(this))}},{key:"componentDidUpdate",value:function(e){window.innerWidth<993&&e.history.location.pathname!==e.location.pathname&&-1!==document.documentElement.className.indexOf("nav-open")&&(document.documentElement.classList.toggle("nav-open"),this.sidebarToggle.current.classList.toggle("toggled"))}},{key:"render",value:function(){var e=this;return Object(Oe.jsx)(E.Navbar,{color:-1!==this.props.location.pathname.indexOf("full-screen-maps")?"dark":this.state.color,expand:"lg",className:-1!==this.props.location.pathname.indexOf("full-screen-maps")?"navbar-absolute fixed-top":"navbar-absolute fixed-top "+("transparent"===this.state.color?"navbar-transparent ":""),children:Object(Oe.jsxs)(E.Container,{fluid:!0,children:[Object(Oe.jsxs)("div",{className:"navbar-wrapper",children:[Object(Oe.jsx)("div",{className:"navbar-toggle",children:Object(Oe.jsxs)("button",{type:"button",ref:this.sidebarToggle,className:"navbar-toggler",onClick:function(){return e.openSidebar()},children:[Object(Oe.jsx)("span",{className:"navbar-toggler-bar bar1"}),Object(Oe.jsx)("span",{className:"navbar-toggler-bar bar2"}),Object(Oe.jsx)("span",{className:"navbar-toggler-bar bar3"})]})}),Object(Oe.jsx)(E.NavbarBrand,{href:"/",children:this.getBrand()})]}),Object(Oe.jsxs)(E.NavbarToggler,{onClick:this.toggle,children:[Object(Oe.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"}),Object(Oe.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"}),Object(Oe.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"})]}),Object(Oe.jsxs)(E.Collapse,{isOpen:this.state.isOpen,navbar:!0,className:"justify-content-end",children:[Object(Oe.jsx)(E.NavbarBrand,{children:Object(Oe.jsx)(ad,{})}),Object(Oe.jsx)(E.NavbarBrand,{href:"/users-profile",children:Object(Oe.jsx)(Xs,{})}),Object(Oe.jsxs)(E.Nav,{navbar:!0,children:[Object(Oe.jsx)(E.NavItem,{children:Object(Oe.jsxs)(d.b,{to:"/users-profile",className:"nav-link btn-magnify",children:[Object(Oe.jsx)("i",{className:"nc-icon nc-layout-11"}),Object(Oe.jsx)("p",{children:Object(Oe.jsx)("span",{className:"d-lg-none d-md-block",children:"Stats"})})]})}),Object(Oe.jsx)(Js,{}),Object(Oe.jsx)(Ys,{})]})]})]})})}}]),r}(c.a.Component),cd=function(e){Object(g.a)(r,e);var t=Object(x.a)(r);function r(){return Object(f.a)(this,r),t.apply(this,arguments)}return Object(m.a)(r,[{key:"render",value:function(){return Object(Oe.jsx)("footer",{className:"footer"+(this.props.default?" footer-default":""),children:Object(Oe.jsx)(E.Container,{fluid:!!this.props.fluid})})}}]),r}(c.a.Component),id=cd,sd=r.p+"static/media/logo.3f5181e4.svg",dd=function(e){Object(g.a)(r,e);var t=Object(x.a)(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this,e)).activeRoute.bind(Object(z.a)(n)),n.sidebar=c.a.createRef(),n}return Object(m.a)(r,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"componentDidMount",value:function(){navigator.platform.indexOf("Win")>-1&&(rd=new A.a(this.sidebar.current,{suppressScrollX:!0,suppressScrollY:!1}))}},{key:"componentWillUnmount",value:function(){navigator.platform.indexOf("Win")>-1&&rd.destroy()}},{key:"render",value:function(){var e=this;return Object(Oe.jsxs)("div",{className:"sidebar","data-color":this.props.bgColor,"data-active-color":this.props.activeColor,children:[Object(Oe.jsxs)("div",{className:"logo",children:[Object(Oe.jsx)("a",{href:"/market",className:"simple-text logo-mini",children:Object(Oe.jsx)("div",{className:"logo-img",children:Object(Oe.jsx)("img",{src:sd,alt:"react-logo"})})}),Object(Oe.jsx)("a",{href:"/market",className:"simple-text logo-normal",children:"AOPERAT"})]}),Object(Oe.jsx)("div",{className:"sidebar-wrapper",ref:this.sidebar,children:Object(Oe.jsxs)(E.Nav,{children:[this.props.routes.map((function(t,r){return t.name&&Object(Oe.jsx)("li",{className:e.activeRoute(t.path)+(t.pro?" active-pro":""),children:Object(Oe.jsxs)(d.c,{to:t.path,className:"nav-link",activeClassName:"active",children:[Object(Oe.jsx)("i",{className:t.icon}),Object(Oe.jsx)("p",{children:t.name})]})},r)})),Object(Oe.jsx)("li",{children:Object(Oe.jsxs)("a",{href:"http://feedback.aoperat.pl/",target:"blank",className:"nav-link",children:[Object(Oe.jsx)("i",{className:"nc-icon nc-bullet-list-67"}),Object(Oe.jsx)("p",{children:"Pomys\u0142y"})]})}),"client"===this.props.userType&&Object(Oe.jsx)("li",{children:Object(Oe.jsxs)("a",{href:"https://forms.office.com/r/wzhM9Jrsxy",target:"blank",className:"nav-link",children:[Object(Oe.jsx)("i",{className:"nc-icon nc-single-copy-04"}),Object(Oe.jsx)("p",{children:"Jestem rzeczoznawc\u0105"})]})})]})})]})}}]),r}(c.a.Component),ld=r(220),ud=function(e){Object(g.a)(r,e);var t=Object(x.a)(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this,e)).toggleColorPicker=function(){n.setState({isColorPickerOpen:!n.state.isColorPickerOpen})},n.state={classes:"dropdown",isColorPickerOpen:!1},n.handleClick=n.handleClick.bind(Object(z.a)(n)),n}return Object(m.a)(r,[{key:"handleClick",value:function(){"dropdown"===this.state.classes?this.setState({classes:"dropdown show"}):this.setState({classes:"dropdown"})}},{key:"render",value:function(){var e=this;return Object(Oe.jsx)("div",{className:"fixed-plugin",style:{marginBottom:"78vh"},children:Object(Oe.jsxs)("div",{className:this.state.classes,children:[Object(Oe.jsx)("div",{onClick:this.handleClick,children:Object(Oe.jsx)("i",{className:"fa fa-cog fa-2x"})}),Object(Oe.jsxs)("ul",{className:"dropdown-menu show",children:[this.state.isColorPickerOpen&&Object(Oe.jsx)(ld.a,{triangle:"hide",hidden:!0,color:this.props.mainBgColor,onBlur:function(){return e.setState({isColorPickerOpen:!1})},onChangeComplete:function(t){return e.props.handleMainBgClick(t.hex)}}),Object(Oe.jsx)("li",{className:"header-title",children:"MAIN BACKGROUND"}),Object(Oe.jsx)("li",{className:"adjustments-line",children:Object(Oe.jsxs)("div",{className:"badge-colors text-center",children:[Object(Oe.jsx)("span",{className:"#f4f3ef"===this.props.mainBgColor?"badge filter badge-dark active":"badge filter badge-dark",style:{backgroundColor:"#f4f3ef"},"data-color":"#f4f3ef",onClick:function(){e.props.handleMainBgClick("#f4f3ef"),e.setState({isColorPickerOpen:!1})}}),Object(Oe.jsx)("span",{className:"#f4f3ef"!==this.props.mainBgColor?"badge filter badge-light active":"badge filter badge-light",style:{backgroundColor:this.props.mainBgColor},onClick:function(){e.toggleColorPicker()}})]})}),Object(Oe.jsx)("li",{className:"header-title",children:"SIDEBAR BACKGROUND"}),Object(Oe.jsx)("li",{className:"adjustments-line",children:Object(Oe.jsxs)("div",{className:"badge-colors text-center",children:[Object(Oe.jsx)("span",{className:"black"===this.props.bgColor?"badge filter badge-dark active":"badge filter badge-dark","data-color":"black",onClick:function(){e.props.handleBgClick("black")}}),Object(Oe.jsx)("span",{className:"white"===this.props.bgColor?"badge filter badge-light active":"badge filter badge-light","data-color":"white",onClick:function(){e.props.handleBgClick("white")}})]})}),Object(Oe.jsx)("li",{className:"header-title",children:"SIDEBAR ACTIVE COLOR"}),Object(Oe.jsx)("li",{className:"adjustments-line",children:Object(Oe.jsxs)("div",{className:"badge-colors text-center",children:[Object(Oe.jsx)("span",{className:"primary"===this.props.activeColor?"badge filter badge-primary active":"badge filter badge-primary","data-color":"primary",onClick:function(){e.props.handleActiveClick("primary")}}),Object(Oe.jsx)("span",{className:"info"===this.props.activeColor?"badge filter badge-info active":"badge filter badge-info","data-color":"info",onClick:function(){e.props.handleActiveClick("info")}}),Object(Oe.jsx)("span",{className:"success"===this.props.activeColor?"badge filter badge-success active":"badge filter badge-success","data-color":"success",onClick:function(){e.props.handleActiveClick("success")}}),Object(Oe.jsx)("span",{className:"warning"===this.props.activeColor?"badge filter badge-warning active":"badge filter badge-warning","data-color":"warning",onClick:function(){e.props.handleActiveClick("warning")}}),Object(Oe.jsx)("span",{className:"danger"===this.props.activeColor?"badge filter badge-danger active":"badge filter badge-danger","data-color":"danger",onClick:function(){e.props.handleActiveClick("danger")}})]})})]})]})})}}]),r}(o.Component),pd=function(){var e=Object(o.useState)(!1),t=Object(I.a)(e,2),r=t[0],n=t[1],a=function(){return document.querySelector("#wrapper")};Object(o.useEffect)((function(){a().addEventListener("scroll",c)}),[]);var c=function(){var e=a().scrollTop;e>300?n(!0):e<=300&&n(!1)};return Object(Oe.jsx)("div",{className:"fixed-plugin",style:{marginBottom:"12vh",color:"#FFFFFF",display:r?"inline":"none"},children:Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("div",{onClick:function(){a().scrollTop=0},children:[Object(Oe.jsx)("i",{className:"fa fa-arrow-up fa-2x"})," ",Object(Oe.jsx)("br",{}),"Do g\xf3ry"]})})})};var jd=function(e){var t=Object(o.useState)("black"),r=Object(I.a)(t,2),n=r[0],a=r[1],i=Object(o.useState)("#f4f3ef"),s=Object(I.a)(i,2),d=s[0],f=s[1],m=Object(o.useState)("success"),g=Object(I.a)(m,2),x=g[0],y=g[1],v=c.a.createRef(),w=Object(l.e)((function(e){return e.global.user})),k=Object(l.d)(),C=Object(p.a)("common").t,S=Object(b.e)().accounts;Object(o.useEffect)(Object(h.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:return k($c(S[0].idTokenClaims.oid)),navigator.platform.indexOf("Win")>-1&&(nd=new A.a("#wrapper")),e.abrupt("return",(function(){navigator.platform.indexOf("Win")>-1&&nd.destroy()}));case 5:case"end":return e.stop()}}),e)}))),[]),Object(o.useEffect)((function(){}),[w.userType]);var P=function(){switch(w.userType){case"admin":return function(e){return[{path:"/market",name:e("market.market"),icon:"nc-icon nc-cart-simple",component:ai},{path:"/history",name:e("history.history"),icon:"nc-icon nc-istanbul",component:Ho},{path:"/create",component:Ri},{path:"/users-profile",name:e("userProfile.userProfile"),icon:"nc-icon nc-single-02",component:ss},{path:"/users-promotion",name:e("users.users"),icon:"nc-icon nc-globe",component:ks},{path:"/subscriptions",name:"Subskrypcje",icon:"nc-icon nc-paper",component:qs},{path:"/logout",component:Cs}]}(C);case"operator":return Hs(C);case"client":return function(e){return[{path:"/market",name:e("market.market"),icon:"nc-icon nc-cart-simple",component:ai},{path:"/users-profile",name:e("userProfile.userProfile"),icon:"nc-icon nc-single-02",component:ss},{path:"/logout",component:Cs}]}(C);default:return[{path:"/start",name:"",icon:"nc-icon nc-single-02",component:Vs}]}}();return Object(Oe.jsxs)("div",{className:"wrapper",id:"wrapper",style:{backgroundColor:d},children:[Object(Oe.jsx)(dd,Object(u.a)(Object(u.a)({},e),{},{userType:w.userType,routes:P,bgColor:n,activeColor:x})),Object(Oe.jsxs)("div",{className:"main-panel",ref:v,style:{backgroundColor:d},children:[Object(Oe.jsx)(od,Object(u.a)(Object(u.a)({},e),{},{routes:P,t:C})),Object(Oe.jsx)(j.c,{children:P.map((function(e,t){return Object(Oe.jsx)(j.a,{path:e.path,component:e.component},t)}))}),Object(Oe.jsx)(id,{fluid:!0})]}),Object(Oe.jsx)(ud,{bgColor:n,activeColor:x,mainBgColor:d,handleActiveClick:function(e){y(e)},handleBgClick:function(e){a(e)},handleMainBgClick:function(e){f(e)}}),Object(Oe.jsx)(pd,{})]})};var bd=function(e){var t=Object(b.e)().instance,r=Object(b.d)();return Object(o.useEffect)((function(){if(!r)try{t.loginRedirect().then((function(e){t.setActiveAccount(e.account),console.log(e)}))}catch(e){console.log(e)}}),[t,r]),Object(Oe.jsx)(Oe.Fragment,{})},Od="https://aoperatbackend.azurewebsites.net",hd={generateCertificate:function(e){return fd.apply(this,arguments)}};function fd(){return(fd=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"POST",headers:e.t0,body:e.t1},e.next=7,window.fetch("".concat(Od,"/Certificate/generate"),r).then(md);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function md(e){return e.text().then((function(t){var r=t&&JSON.parse(t);return e.ok?r:Promise.reject(r||e.statusText)}))}var gd=function(e){var t=Object(b.e)().accounts,r=Object(l.d)(),n=Object(o.useState)(""),a=Object(I.a)(n,2),c=a[0],i=a[1],s=Object(o.useState)(""),d=Object(I.a)(s,2),u=d[0],p=d[1];return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)(E.Form,{onSubmit:function(e){return function(e){e.preventDefault();var n=t[0].idTokenClaims.given_name+" "+t[0].idTokenClaims.family_name,a={operatorId:t[0].idTokenClaims.oid,nameLastName:n,certificatePassword:c,certificateSignDate:new Date};r(jr(K,{message:oe})),hd.generateCertificate(a).then((function(){r(br())})).catch((function(e){return r(jr(W,{message:e}))}))}(e)},children:[Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"certificatePassword",children:"Has\u0142o do certyfikatu"}),Object(Oe.jsx)(E.Input,{type:"password",name:"certificatePassword",id:"certificatePassword",value:c,onChange:function(e){i(e.target.value)},required:!0})]}),Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"certificatePassword",children:"Powt\xf3rz has\u0142o"}),Object(Oe.jsx)(E.Input,{type:"password",name:"repeatPassword",id:"repeatPassword",value:u,onChange:function(e){p(e.target.value)},required:!0})]}),Object(Oe.jsx)(E.Button,{disabled:0===c.length||c!==u,style:{width:"100%"},color:"success",children:"Wygeneruj certyfikat"})]})})},xd=function(){var e=Object(l.d)();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Nie ma danych do wy\u015bwietlenia"}),Bd(e)]})},yd=function(){var e=Object(l.d)();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Twoja Oferta zosta\u0142a wys\u0142ana"}),Ld(e)]})},vd=function(){var e=Object(l.d)();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Posiadasz za du\u017co plik\xf3w na swoim koncie"}),Ld(e)]})},wd=function(){var e=Object(l.d)();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Podczas promocji u\u017cytkownika wyst\u0105pi\u0142 b\u0142\u0105d, prawdopodnie u\u017cytkownik zosta\u0142 ju\u017c wypromowany."}),Bd(e)]})},kd=function(){var e=Object(l.d)();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Operat zosta\u0142 pomy\u015blnie wys\u0142any"}),Bd(e)]})},Cd=function(){var e=Object(l.d)();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Wybierz spos\xf3b w jaki chcesz podpisa\u0107 operat"}),Ud(e)]})},Sd=function(){var e=Object(l.d)(),t=Object(l.e)((function(e){return e.operat})),r=Object(o.useState)(""),n=Object(I.a)(r,2),a=n[0],c=n[1];return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Wybierz spos\xf3b w jaki chcesz podpisa\u0107 operat"}),Object(Oe.jsxs)(E.ModalBody,{children:[Object(Oe.jsxs)(E.Row,{children:[Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.FormGroup,{children:Object(Oe.jsx)(E.Input,{type:"password",name:"certificatePassword",id:"certificatePassword",value:a,placeholder:"Has\u0142o do certyfikatu",onChange:function(e){return c(e.target.value)}})})}),Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.Button,{onClick:function(){e(jr(K,{message:ae})),Ae.signPdf(t.id,{password:a}).then((function(){e(br())})).catch((function(t){e(jr(W,{message:t}))}))},style:{marginTop:"0px"},color:"success",children:"Podpisz operat"})})]}),Object(Oe.jsx)(E.Row,{children:Object(Oe.jsxs)(E.Col,{children:["Je\u017celi nie posiadasz certyfikatu:"," ",Object(Oe.jsx)(E.Button,{color:"link",onClick:function(){return e(jr(M,{}))},children:"Przejd\u017a do generowania certyfikatu"})]})}),Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.Button,{color:"link",onClick:function(){return e(jr(U,{}))},children:"Powr\xf3t"})})})]})]})},Pd=function(){var e=Object(l.d)();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Generowanie nowego certyfikatu"}),Object(Oe.jsxs)(E.ModalBody,{children:[Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(gd,{})})}),Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)(E.Button,{style:{width:"100%"},onClick:function(){return e(jr(G,{}))},children:"Anuluj"})})})]})]})},Td=function(){var e=Object(l.e)((function(e){return e.modal.data})),t=Object(l.d)();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"B\u0142\u0105d"}),Object(Oe.jsx)(E.ModalBody,{children:Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:e.message}})}),Bd(t)]})},Id=function(){var e=Object(l.e)((function(e){return e.modal.data}));return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:e.message}),Fd()]})},Ad=function(){var e=Object(l.e)((function(e){return e.modal.data})),t=Object(l.e)((function(e){return e.operatsPage})),r=Object(l.d)(),n=e.operat,a=t.operats.operats.filter((function(e){return e.operatTypeId===n.operatTypeId&&e.id!==n.id})),o=Object(Oe.jsx)(E.ListGroup,{style:{overflow:"scroll",maxHeight:"67vh"},children:a.map((function(t){return Object(Oe.jsx)(E.ListGroupItem,{action:!0,onClick:Object(h.a)(Object(O.a)().mark((function a(){var o;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ve()({title:"Ostrze\u017cenie",message:"Czy na pewno chcesz skopiowa\u0107 dane z tego operatu? Dane zostan\u0105 nadpisane",confirmText:"Kopiuj",cancelText:"Wr\xf3\u0107",confirmColor:"success",cancelColor:"link text-primary"});case 2:if(!a.sent){a.next=15;break}o=function(){r(br()),Gr(r,n)},r(jr(K,{message:"Trwa kopiowanie danych z operatu"})),a.t0=e.dataType,a.next="params"===a.t0?9:"csv"===a.t0?11:"photos"===a.t0?13:15;break;case 9:return st.copyOperatParams(t.id,n.id).then((function(){o()})),a.abrupt("break",15);case 11:return st.copyOperatCsv(t.id,n.id).then((function(){o()})),a.abrupt("break",15);case 13:return st.copyOperatPhotos(t.id,n.id).then((function(){o()})),a.abrupt("break",15);case 15:case"end":return a.stop()}}),a)}))),tag:"a",children:t.name},t.id)}))});return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Wybierz operat, z kt\xf3rego chcesz skopiowa\u0107 dane"}),Object(Oe.jsx)(E.ModalBody,{children:a.length>0?o:"Brak operat\xf3w, z kt\xf3rych mo\u017cna by skopiowa\u0107 dane"}),Bd(r,!0)]})},zd=function(){var e=Object(l.d)(),t=Object(o.useState)(""),r=Object(I.a)(t,2),n=r[0],a=r[1],c=Object(o.useState)([]),i=Object(I.a)(c,2),s=i[0],d=i[1],u=Object(o.useState)(!1),p=Object(I.a)(u,2),j=p[0],b=p[1],O=Object(l.e)((function(e){return e.modal.data}));return console.log(O),Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Wy\u015blij operat"}),Object(Oe.jsxs)(E.ModalBody,{children:[Object(Oe.jsxs)(E.Form,{onSubmit:function(e){e.preventDefault(),s.includes(n)||(a(""),d((function(e){return Object(ct.a)(e).concat(n)})))},children:[Object(Oe.jsxs)(E.FormGroup,{children:[Object(Oe.jsx)(E.Label,{for:"operat-email",children:"Podaj adres email"}),Object(Oe.jsx)(E.Input,{value:n,onChange:function(e){return a(e.target.value)},type:"email",name:"operat-email",required:!0})]}),O.operat.orderId!==ue&&Object(Oe.jsx)(E.FormGroup,{row:!0,style:{marginLeft:"1em"},children:Object(Oe.jsxs)(E.Col,{children:[Object(Oe.jsx)(E.Input,{id:"checkbox2",type:"checkbox",checked:j,onChange:function(){return b((function(e){return!e}))}})," ",Object(Oe.jsx)(E.Label,{onClick:function(){return b((function(e){return!e}))},children:"Wys\u0142a\u0107 do zleceniodawcy?"})]})}),Object(Oe.jsx)(E.Button,{type:"submit",children:"Dodaj adres email"})]}),Object(Oe.jsx)("ul",{class:"list-group",children:s.map((function(e,t){return Object(Oe.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[e,Object(Oe.jsx)("span",{onClick:function(){return d((function(t){return t.filter((function(t){return t!==e}))}))},children:Object(Oe.jsx)("i",{className:"nc-icon nc-simple-remove"})})]},t)}))}),Object(Oe.jsx)(E.Button,{color:"success",disabled:0===s.length&&!1===j,onClick:function(){return O.sendFunction(O.operat.id,s,j)},children:"Wy\u015blij"})]}),Bd(e,!0)]})},Ed=function(){var e=Object(l.d)(),t=Object(l.e)((function(e){return e.modal.data})),r=Object(l.e)((function(e){return e.global.publicSettings}));return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Op\u0142ata za operat"}),Object(Oe.jsx)(E.ModalBody,{children:Object(Oe.jsx)(E.Row,{children:Object(Oe.jsxs)(E.Col,{children:["Tyty\u0142 przelewu: ",Object(Oe.jsx)("b",{children:t.orderId}),Object(Oe.jsx)("br",{}),"Nr Konta: ",r.bankAccount]})})}),Bd(e,!0)]})},Rd=function(){var e=Object(l.d)();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Zmiany w subskrypcji zosta\u0142y pomy\u015blnie zapisane."}),Object(Oe.jsx)(E.ModalFooter,{children:Object(Oe.jsx)(E.Button,{color:"info",onClick:function(){e(br()),e(Ts())},children:"Ok"})})]})},Nd=function(){var e=Object(l.d)(),t=Object(o.useState)(20),r=Object(I.a)(t,2),n=r[0],a=r[1],c=Object(o.useState)(200),i=Object(I.a)(c,2),s=i[0],d=i[1],u=Object(l.e)((function(e){return e.subscriptions.currentOperator}));function p(){return(p=Object(h.a)(Object(O.a)().mark((function t(){var r;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r={id:u.id,maxNrOfOperats:n,maxNrOfGenerations:s},e(As(r));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Utw\xf3rz subskrypcj\u0119"}),Object(Oe.jsxs)(E.Form,{id:"create-subscription-form",onSubmit:function(e){e.preventDefault(),function(){p.apply(this,arguments)}()},children:[Object(Oe.jsxs)(E.ModalBody,{children:[Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)("h5",{children:"Operator"})})}),Object(Oe.jsx)(E.Row,{children:Object(Oe.jsxs)(E.Col,{children:[Object(Oe.jsxs)("p",{children:[Object(Oe.jsx)("b",{children:"Id:\xa0"}),u.id]}),Object(Oe.jsxs)("p",{children:[Object(Oe.jsx)("b",{children:"Nazwa:\xa0"}),u.name]})]})}),Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{children:Object(Oe.jsx)("h5",{children:"Ustawienia subskrypcji"})})}),Object(Oe.jsxs)(E.Row,{children:[Object(Oe.jsxs)(E.Col,{children:[Object(Oe.jsx)(E.Label,{for:"subscription-max-nr-of-operats",children:Object(Oe.jsx)("b",{children:"Limit tworzenia operat\xf3w:"})}),Object(Oe.jsx)(E.Input,{id:"subscription-max-nr-of-operats",type:"number",step:"1",min:"1",value:n,onChange:function(e){a(parseInt(e.target.value))}})]}),Object(Oe.jsxs)(E.Col,{children:[Object(Oe.jsx)(E.Label,{for:"subscription-max-nr-of-generations",children:Object(Oe.jsx)("b",{children:"Limit tworzenia operat\xf3w:"})}),Object(Oe.jsx)(E.Input,{id:"subscription-max-nr-of-generations",type:"number",step:"1",min:"1",value:s,onChange:function(e){d(parseInt(e.target.value))}})]})]})]}),Object(Oe.jsxs)(E.ModalFooter,{children:[Object(Oe.jsx)(E.Button,{color:"info",type:"submit",children:"Utw\xf3rz"}),Object(Oe.jsx)(E.Button,{color:"danger",onClick:function(){e(br())},children:"Anuluj"})]})]})]})},Dd=function(){var e=Object(l.d)();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(E.ModalHeader,{children:"Subskrypcja zosta\u0142a utworzona"}),Object(Oe.jsx)(E.ModalFooter,{children:Object(Oe.jsx)(E.Button,{color:"info",onClick:function(){e(br()),e(Ts())},children:"Ok"})})]})},_d=function(e){return Object(Oe.jsx)(E.Row,{children:Object(Oe.jsx)(E.Col,{sm:"12",md:{size:3,offset:4},children:Object(Oe.jsx)(E.Spinner,{color:"primary",style:e,animation:"border",variant:"info",children:" "})})})},Fd=function(){return Object(Oe.jsx)(E.ModalBody,{children:_d({width:"8rem",height:"8rem"})})},Ld=function(e){return Object(Oe.jsxs)(E.ModalBody,{children:[" ",_d({width:"6rem",height:"6rem"}),Bd(e)]})},Bd=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(Oe.jsx)(E.ModalFooter,{children:Object(Oe.jsx)(E.Button,{color:"info",onClick:function(){e(br())},children:t?"anuluj":"ok"})})},Ud=function(e){return Object(Oe.jsxs)(E.ModalFooter,{children:[Object(Oe.jsx)(E.Button,{color:"info",href:"https://moj.gov.pl/nforms/signer/upload?xFormsAppName=SIGNER",target:"blank",children:"Profil zaufany"}),Object(Oe.jsx)(E.Button,{color:"info",onClick:function(){return e(jr(G))},children:"W\u0142asny certyfikat"}),Object(Oe.jsx)(E.Button,{color:"danger",onClick:function(){e(br())},children:"Anuluj"})]})};var Gd=function(e){return e.modal||ga},Md=Object(Hr.b)({showModal:Object(Hr.a)(Gd,(function(e){return e.showModal})),type:Object(Hr.a)(Gd,(function(e){return e.type})),data:Object(Hr.a)(Gd,(function(e){return e.data}))});var Wd=Object(l.c)(Md,(function(e){return{handleShowLoadingScreen:function(){return e(jr())},handleHideLoadingScreen:function(){return e(br())}}})),Kd=Object(xn.c)(Wd,o.memo)((function(e){ao({key:"modal",reducer:xa});return Object(Oe.jsx)("div",{children:Object(Oe.jsx)(E.Modal,{isOpen:e.showModal,children:function(){switch(e.type){case D:return Object(Oe.jsx)(xd,{});case _:return Object(Oe.jsx)(yd,{});case F:return Object(Oe.jsx)(vd,{});case L:return Object(Oe.jsx)(wd,{});case B:return Object(Oe.jsx)(kd,{});case U:return Object(Oe.jsx)(Cd,{});case G:return Object(Oe.jsx)(Sd,{});case M:return Object(Oe.jsx)(Pd,{});case W:return Object(Oe.jsx)(Td,{});case K:return Object(Oe.jsx)(Id,{});case q:return Object(Oe.jsx)(Ad,{});case H:return Object(Oe.jsx)(zd,{});case V:return Object(Oe.jsx)(Ed,{});case J:return Object(Oe.jsx)(Rd,{});case Y:return Object(Oe.jsx)(Nd,{});case X:return Object(Oe.jsx)(Dd,{})}}()})})})),qd=Object(O.a)().mark(Xd),Hd=Object(O.a)().mark(Qd),Vd=Object(O.a)().mark(Zd),Jd=Object(O.a)().mark($d),Yd=Object(O.a)().mark(el);function Xd(){var e,t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e="/OperatType",a.next=3,Object(oo.a)(Pe);case 3:return t=a.sent,r={method:"GET",headers:t},a.prev=5,a.next=8,Object(oo.a)(lo,e,r);case 8:return n=a.sent,a.next=11,Object(oo.c)(Zc(n));case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(5),a.next=17,Object(oo.c)((o=a.t0,{type:wn,payload:o}));case 17:case"end":return a.stop()}var o}),qd,null,[[5,13]])}function Qd(e){var t,r,n,a,o,c;return Object(O.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.id,i.next=3,Object(oo.a)(Pe);case 3:return r=i.sent,n={method:"GET",headers:r},a="",i.prev=6,i.next=9,Object(oo.a)(lo,"/User/id/".concat(t),n);case 9:o=i.sent,i.t0=o,i.next="admin"===i.t0?13:"client"===i.t0?15:"operator"===i.t0?17:19;break;case 13:return a="/Admin/id/".concat(t),i.abrupt("break",19);case 15:return a="/Client/id/".concat(t),i.abrupt("break",19);case 17:return a="/Operator/id/".concat(t),i.abrupt("break",19);case 19:if(""!==a){i.next=24;break}return i.next=22,Object(oo.c)(ei("user not found"));case 22:i.next=33;break;case 24:return i.next=26,Object(oo.c)(jr(K,{message:"Trwa wysy\u0142anie operatu"}));case 26:return i.next=28,Object(oo.a)(lo,a,n);case 28:return c=i.sent,i.next=31,Object(oo.c)({type:Cn,payload:{user:c,userType:o}});case 31:return i.next=33,Object(oo.c)(br());case 33:i.next=39;break;case 35:return i.prev=35,i.t1=i.catch(6),i.next=39,Object(oo.c)(ei(i.t1));case 39:case"end":return i.stop()}}),Hd,null,[[6,35]])}function Zd(){var e,t,r,n,a,o,c,i;return Object(O.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e="/LandRegister/regions",t="/LandRegister/weights",r="/LandRegister/multipliers",s.next=5,Object(oo.a)(Pe);case 5:return n=s.sent,a={method:"GET",headers:n},s.prev=7,s.next=10,Object(oo.a)(lo,e,a);case 10:return o=s.sent,s.next=13,Object(oo.a)(lo,t,a);case 13:return c=s.sent,s.next=16,Object(oo.a)(lo,r,a);case 16:return i=s.sent,s.next=19,Object(oo.c)({type:Tn,payload:{regions:o,weights:c,multipliers:i}});case 19:s.next=24;break;case 21:s.prev=21,s.t0=s.catch(7),console.log(s.t0);case 24:case"end":return s.stop()}}),Vd,null,[[7,21]])}function $d(){var e,t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e="/Info/PublicSettings",a.next=3,Object(oo.a)(Pe);case 3:return t=a.sent,r={method:"GET",headers:t},a.prev=5,a.next=8,Object(oo.a)(lo,e,r);case 8:return n=a.sent,a.next=11,Object(oo.c)({type:An,payload:n});case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(5),console.log(a.t0);case 16:case"end":return a.stop()}}),Jd,null,[[5,13]])}function el(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oo.g)(yn,Xd);case 2:return e.next=4,Object(oo.g)(kn,Qd);case 4:return e.next=6,Object(oo.g)(Pn,Zd);case 6:return e.next=8,Object(oo.g)(In,$d);case 8:case"end":return e.stop()}}),Yd)}r(430);var tl="global";var rl=function(e){var t=Object(b.e)().instance;return ao({key:tl,reducer:En}),Bo({key:tl,saga:el}),Object(o.useEffect)((function(){var r=t.addEventCallback((function(r){if(r.eventType===v.a.LOGIN_FAILURE&&(r.error&&r.error.errorMessage.indexOf("AADB2C90118")>-1&&(r.interactionType===w.g.Redirect?t.loginRedirect(S.forgotPassword):r.interactionType===w.g.Popup&&t.loginPopup(S.forgotPassword).catch((function(e){}))),r.error&&r.error.errorMessage.indexOf("AADB2C90091")>-1&&(r.interactionType===w.g.Redirect?t.loginRedirect(S.signUpSignIn):r.interactionType===w.g.Popup&&t.loginPopup(S.signUpSignIn).catch((function(e){})))),r.eventType===v.a.LOGIN_SUCCESS&&null!==r&&void 0!==r&&r.payload){var n=e.pca.getAllAccounts();if(n.length>0&&e.pca.setActiveAccount(n[0]),r.payload.idTokenClaims.tfp===C.forgotPassword)return window.alert("Password has been reset successfully. \nPlease sign-in with your new password"),t.logout()}}));return function(){r&&t.removeEventCallback(r)}}),[t,e]),Object(Oe.jsxs)("div",{className:"App",children:[Object(Oe.jsx)(b.a,{children:Object(Oe.jsx)(nl,{})}),Object(Oe.jsx)(b.c,{children:Object(Oe.jsx)(bd,{})})]})};function nl(e){var t=Object(b.e)().instance,r=Object(p.a)("common").t;return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(j.c,{children:Object(Oe.jsx)(j.a,{path:"/",render:function(e){return Object(Oe.jsx)(jd,Object(u.a)(Object(u.a)({t:r},e),{},{account:t.getActiveAccount()}))}})}),Object(Oe.jsx)(Kd,{})]})}var al=Object(Hr.b)({});var ol=Object(l.c)(al,(function(e){return{}})),cl=Object(xn.c)(ol,o.memo)((function(e){var t=e.pca;ao({key:tl,reducer:En}),Bo({key:tl,saga:el});var r=Object(j.f)(),n=new y(r);return t.setNavigationClient(n),Object(Oe.jsxs)(b.b,{instance:t,children:[Object(Oe.jsx)(uo.ReactNotifications,{}),Object(Oe.jsx)(rl,{pca:t})]})})),il=r(448),sl=r(450),dl=r(219),ll=r(200),ul=r(221);var pl=new sl.a(P),jl=pl.getAllAccounts();jl.length>0&&pl.setActiveAccount(jl[0]);var bl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=xn.c,n={},a=Object(ul.a)(n),o=[a,Object(ll.a)(t)],c=[xn.a.apply(void 0,o)],i=Object(xn.d)(to(),e,r.apply(void 0,c));i.runSaga=a.run,i.injectedReducers={},i.injectedSagas={};var s=Object(Kn.b)(i);return{store:i,persistor:s}}({},Gn),Ol=bl.store,hl=bl.persistor,fl=function(){return Object(Oe.jsx)(dl.a,{loading:null,persistor:hl,children:Object(Oe.jsx)(l.a,{store:Ol,children:Object(Oe.jsx)(c.a.StrictMode,{children:Object(Oe.jsx)(il.a,{i18n:td,children:Object(Oe.jsx)(d.a,{children:Object(Oe.jsx)(cl,{pca:pl})})})})})})};s.a.render(Object(Oe.jsx)(fl,{}),document.getElementById("root"))}},[[431,1,2]]]);
//# sourceMappingURL=main.fdf53d0d.chunk.js.map