{"version":3,"sources":["utils/NavigationClient.js","authConfig.js","constants/modalType.constants.js","constants/userRoles.constants.js","constants/loadingMessages.constants.js","constants/global.constants.js","components/LoadingIndicator/Circle.js","components/LoadingIndicator/Wrapper.js","components/LoadingIndicator/index.js","utils/showConfirmBox.js","views/Modal/constants.js","views/Modal/actions.js","helpers/history.js","helpers/validators.js","utils/HeadersCall.js","services/operat.service.js","services/operator.service.js","services/order.service.js","utils/addNotification.js","services/operatFiles.service.js","services/operatorFiles.service.js","services/operatType.service.js","services/user.service.js","services/admin.service.js","services/client.service.js","services/clientFiles.service.js","services/landRegister.service.js","services/map.service.js","views/History/HistoryRow.jsx","utils/capitalizeFirstLetter.js","views/History/constants.js","views/History/reducer.js","views/History/selectors.js","views/History/actions.js","views/App/constants.js","views/App/reducer.js","views/App/selectors.js","utils/checkStore.js","utils/history.js","views/Market/constants.js","views/Market/reducer.js","views/Modal/reducer.js","views/User/constants.js","views/User/reducer.js","views/Operat/constants.js","views/Operat/reducer.js","views/Users/constants.js","views/Users/reducer.js","utils/DateFormat.js","views/Chat/constants.js","views/Chat/reducer.js","views/Subscriptions/constants.js","views/Subscriptions/reducer.js","views/Home/constants.js","views/Home/reducer.js","reducers.js","utils/reducerInjectors.js","utils/injectReducer.js","utils/request.js","views/Modal/timeout.js","utils/parametersMapper.js","views/History/saga.js","utils/constants.js","utils/sagaInjectors.js","utils/injectSaga.js","components/NewOperatForm/index.js","components/Filters/Operat.js","components/ShowIdCheckbox/index.js","views/History/History.jsx","views/Maps/MapWithMarker.jsx","views/Maps/MapToPrewiew.jsx","views/Common/OrderInfoUncontrolledCollapse.jsx","views/Chat/actions.js","views/Common/UserInfo.jsx","components/NewOfferForm/index.js","components/Filters/OrderProposition.js","views/Market/PropositionList.jsx","views/Market/AnnouncedOrder.jsx","utils/validateLandRegisterCode.js","components/NewOrderForm/index.js","views/Market/PaidOrder.jsx","views/Market/ReservedOrder.jsx","components/ReviewForm/index.js","views/Market/SignedOrder.jsx","components/Filters/Market.js","views/Market/selectors.js","views/Market/actions.js","views/Market/saga.js","views/App/actions.js","views/Market/Market.jsx","views/Operat/actions.js","assets/img/exclamation.svg","views/Operat/CsvComponent.jsx","views/Operat/InfoForAdmin.jsx","views/Operat/InputArea.jsx","views/Common/ImageDropzone.jsx","views/Operat/ImageCarousel.jsx","views/Operat/ReactstrapImageGallery.jsx","views/Operat/PhotoArea.jsx","views/Operat/selectors.js","views/Operat/saga.js","utils/fixPercentValue.js","views/Operat/Weights.jsx","views/Operat/Protocol.jsx","views/Operat/Create.jsx","views/User/UserImageDropzone.jsx","views/User/UserUploadedFiles.jsx","views/User/UserFilesTab.jsx","views/User/EditUser.jsx","assets/img/damir-bosnjak.jpg","components/Tables/ReadonlyTable.js","views/User/UserProfileTab.jsx","assets/img/default-avatar.png","components/OperatorTrainingForm/index.js","views/User/OperatorTrainingsTab.jsx","views/User/actions.js","views/User/selectors.js","views/User/saga.js","views/User/Users.jsx","views/Users/selectors.js","views/Users/actions.js","views/Users/saga.js","components/Filters/Users.js","views/Users/Users.jsx","views/Logout/index.js","views/Subscriptions/selectors.js","views/Subscriptions/actions.js","views/Subscriptions/saga.js","views/Subscriptions/SubscriptionRow.jsx","views/Subscriptions/Subscriptions.jsx","i18n.js","translations/pl/home-user.md","translations/pl/home-operator.md","translations/pl/home-admin.md","translations/en/home-user.md","translations/en/home-operator.md","translations/en/home-admin.md","views/Home/actions.js","views/Home/saga.js","views/Home/selectors.js","views/Home/Home.jsx","routes/admin.routes.js","routes/client.routes.js","routes/operator.routes.js","views/EmptyUser/EmptyUser.jsx","routes/empty.routes.js","components/Navbars/MessageBell.jsx","components/Navbars/SettingsItem.jsx","components/Navbars/NameItem.jsx","components/Navbars/Language.jsx","components/Sidebar/Sidebar.jsx","layouts/GeneralLayout.jsx","components/Navbars/DemoNavbar.jsx","components/Footer/Footer.jsx","logo.svg","components/FixedPlugin/FixedPlugin.jsx","components/FixedPlugin/ScrollButton.jsx","views/Login.jsx","services/certificate.service.js","views/Modal/NewCertificateForm.jsx","views/Modal/Modals.collection.js","views/Modal/selectors.js","views/Modal/LoadingModal.jsx","views/App/saga.js","views/Chat/selectors.js","views/Chat/saga.js","views/Chat/Chat.js","views/App/App.jsx","index.js","configureStore.js"],"names":["CustomNavigationClient","_NavigationClient","_inherits","_super","_createSuper","history","_this","_classCallCheck","call","_createClass","key","value","_navigateInternal","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","options","relativePath","wrap","_context","prev","next","replace","window","location","origin","noHistory","this","push","abrupt","stop","_x","_x2","apply","arguments","NavigationClient","b2cPolicies","signUpSignIn","process","forgotPassword","editProfile","authority","msalConfig","auth","clientId","REACT_APP_ADB2C_CLIENT_ID","knownAuthorities","split","redirectUri","postLogoutRedirectUri","navigateToLoginRequestUrl","cache","cacheLocation","storeAuthStateInCookie","system","loggerOptions","loggerCallback","level","message","containsPii","LogLevel","Error","console","error","Info","info","Verbose","debug","Warning","warn","loginRequest","scopes","modalTypeConstants","SHOW_NO_DATA","CONFIRM_SEND_PROPOSITION","TOO_MUCH_OPERATOR_FILES","PROMOTE_USER_ERROR","SEND_OPERAT_CONFIRMATION","SIGN_OPERAT","OWN_CERTIFICATE","NEW_CERTIFICATE","ERROR_MESSAGE","LOADING","OPERATS_LIST_MODAL","SEND_OPERAT_MODAL","PAY_FOR_OPERAT","CREATE_SUBSCRIPTION_FORM","CREATE_SUBSCRIPTION_SUCCESSFUL","CONFIRM_RESET_SUBSCRIPTIONS","RESET_SUBSCRIPTIONS_SUCCESSFUL","ADD_ATTACHMENTS","ATTACHMENTS_OPTIONS","CONFIRM_SUCCESS","CONFIRM_ERROR","userRolesConstants","OPERATOR","CLIENT","ADMIN","loadingMessagesConstants","globalConstants","EMPTY_GUID","circleFadeDelay","keyframes","_templateObject","_taggedTemplateLiteral","Circle","props","CirclePrimitive","styled","div","_templateObject2","rotate","concat","delay","_jsx","Wrapper","LoadingIndicator","_jsxs","children","showConfirmBox","_ref","title","okFunction","confirm","_Fragment","confirmText","cancelText","confirmColor","cancelColor","sent","_x3","MODAL_SHOW_LOADING_SCREEN","MODAL_HIDE_LOADING_SCREEN","showLoadingScreen","type","data","payload","showModal","hideLoadingScreen","createBrowserHistory","validators","validatePositiveNumbers","evt","regex","theEvent","event","keyCode","which","String","fromCharCode","val","target","clipboardData","getData","test","classList","remove","tcl","add","setTimeout","returnValue","preventDefault","callForHeader","_callForHeader","account","request","response","headers","bearer","content","msalInstance","getActiveAccount","_objectSpread","acquireTokenSilent","catch","log","acquireTokenRedirect","then","tokenResponse","idTokenClaims","exp","auth_time","localStorage","setItem","idToken","Headers","append","t0","apiUrl","operatService","get","_x5","_get","createOperat","_x7","_createOperat","getFile","_x6","_getFile","generateOperat","_x8","_generateOperat","signPdf","_x9","_x10","_signPdf","copyOperat","_x11","_copyOperat","sendOperat","_x12","_sendOperat","getByOrderId","_x13","_getByOrderId","postReview","_x14","_postReview","getOperatReview","_x15","_getOperatReview","obstructOperat","_x16","_obstructOperat","addAttachments","_x4","_addAttachments","id","includeOc","includeDiploma","files","formData","requestOptions","FormData","forEach","x","t1","method","body","fetch","_callee2","_context2","handleResponse","_callee3","_context3","_callee4","_context4","JSON","stringify","_callee5","_context5","_callee6","certificatePassword","_context6","_callee7","_context7","_callee8","_context8","_callee9","orderId","_context9","_callee10","review","_context10","_callee11","operatId","_context11","_callee12","_context12","text","startsWith","parse","ok","status","Promise","reject","statusText","pageCount","operatorService","getOperatorData","_getOperatorData","getOperators","_getOperators","promote","_promote","updateOper","_updateOper","getOperatorReviews","_getOperatorReviews","getOperatorTrainings","_getOperatorTrainings","addTraining","_addTraining","deleteTraining","_deleteTraining","operatorId","training","promotion","length","undefined","orderService","getOperatorOrders","_getOperatorOrders","reserveOrder","_reserveOrder","getSingleOrder","_getSingleOrder","guidOrder","guidOperator","addNotification","Store","insert","container","animationIn","animationOut","dismiss","duration","showIcon","operatFilesService","getFormatedFilesByOperat","_getFormatedFilesByOperat","getFilesByOperat","_getFilesByOperat","sendJSONFile","_x18","_x19","_sendJSONFile","sendCSVFile","_x20","_x21","_x22","_sendCSVFile","sendPICTUREFile","_x17","_sendPICTUREFile","copyOperatParams","_copyOperatParams","copyOperatCsv","_copyOperatCsv","copyOperatPhotos","_copyOperatPhotos","uploadOwnGenerated","_uploadOwnGenerated","removeSingleFile","_removeSingleFile","copyOperatWeights","_copyOperatWeights","useCache","_args3","fromId","toId","file","fileName","replaceAll","filter","Object","prototype","hasOwnProperty","element","idx","name","blb","Blob","input","weights","jsonToCSV","resolve","json","items","map","item","header","keys","i","_loop","property","weight","find","isNaN","max","Math","ratings","parseInt","rate","v","_ret","join","_toConsumableArray","row","fieldName","operatorFilesService","getOperatorFiles","_getOperatorFiles","sendOperatorFile","_sendOperatorFile","removeOperatorFileByName","_removeOperatorFileByName","getFileBlob","_getFileBlob","getFileByFilename","_getFileByFilename","filename","responseType","resp","handleDownloadResponse","blob","URL","createObjectURL","link","document","createElement","href","setAttribute","appendChild","click","parentNode","removeChild","operatTypeService","getTypeParams","_getTypeParams","userService","getUserType","_getUserType","adminService","getAdminDataById","_getAdminDataById","updateUserInfo","_updateUserInfo","clientService","createNewClient","_createNewClient","getClientData","_getClientData","updateClient","_updateClient","newClient","clientFilesService","getFiles","_getFiles","landRegisterService","check","_check","code","encodeURIComponent","mapService","address","zoom","_args","HistoryRow","t","useTranslation","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","operat","setOperat","useHistory","inputFile","useRef","inputFileSigned","useEffect","handleLoadOperatOrder","redirectToOperatPage","search","URLSearchParams","set","pathname","toString","operatOrder","loading","Row","Col","Button","color","onClick","disabled","isOwnGenerated","style","width","result","handleLoadOperats","handleSetActiveOperat","err","translate","current","shouldBeValidated","toLowerCase","UncontrolledTooltip","placement","ref","display","accept","onChange","handleUploadOwnGeneratedOperat","currentTarget","includes","_step","_iterator","_createForOfIteratorHelper","s","n","done","item2","open","reload","e","f","handleUploadSignedOperat","sendFunction","handleSendPdf","handleRemoveOperat","capitalizeFirstLetter","string","charAt","toUpperCase","slice","LOAD_OPERATS","OPERATS_LOADED","LOAD_OPERATS_ERROR","REMOVE_OPERAT","SET_ACTIVE_OPERAT","CREATE_OPERAT","SELECT_OPERAT_TYPE","SET_PAGE_NUMBER","LOAD_OPERAT_ORDER","OPERAT_ORDER_LOADED","LOAD_OPERAT_ORDER_ERROR","SEND_PDF","UPLOAD_OWN_GENERATED","SET_OPERATS_FILTERS","SET_OPERATS_SORT_PARAMETERS","UPLOAD_SIGNED_OPERAT","initialState","activeOperat","selectedOperatType","operats","sortFieldName","sortDirection","filters","createdDateTimeFrom","createdDateTimeTo","pageNumber","operatsPageReducer","state","action","produce","draft","selectOperatsPage","operatsPage","makeSelectActiveOperat","createSelector","makeSelectOperats","makeSelectPageNumber","loadOperats","operatsLoaded","operatTypeParameters","orderless","operatOrderLoaded","LOAD_OPERAT_TYPES","OPERAT_TYPES_LOADED","LOAD_OPERAT_TYPES_ERROR","LOAD_USER","USER_LOADED","LOAD_USER_ERROR","LOAD_EKW_DATA","EKW_DATA_LOADED","LOAD_PUBLIC_SETTINGS","PUBLIC_SETTINGS_LOADED","operatTypes","user","userType","ekw","regions","multipliers","publicSettings","globalReducer","selectGlobal","global","makeSelectUser","makeSelectOperatTypes","checkStore","store","shape","isFunction","subscribe","getState","replaceReducer","runSaga","injectedReducers","isObject","injectedSagas","invariant","conformsTo","LOAD_ORDERS","SET_ORDERS_PAGE_NUMBER","ORDERS_LOADED","LOAD_ORDERS_ERROR","SAVE_ORDER","ORDER_SAVED","SAVE_ORDER_ERROR","REPLACE_ORDER","ORDER_REPLACED","LOAD_PROPOSITIONS","PROPOSITIONS_LOADED","LOAD_PROPOSITIONS_ERROR","SAVE_PROPOSITION","RESERVE_ORDER_AND_PROPOSITION","UNRESERVE_PROPOSITION","SET_PROPOSITION_ID","PROPOSITION_REPLACED","REMOVE_ORDER","SET_ACTIVE_ORDER","ORDER_REMOVED","SET_ORDER_SORT_PARAMETERS","SET_ORDER_FILTERS","SET_PROPOSITIONS_SORT_PARAMETERS","SET_PROPOSITIONS_FILTER","CLEAR_PROPOSITION_FILTERS","activeOrder","description","operators","hasOperator","locationPostCode","lattitudeLongtitude","requeiresZbpList","isPrivate","shouldBeValidate","createdDateTime","orders","propositions","priceFrom","priceTo","upTillDateFrom","upTillDateTo","saveOrder","propositionId","marketPageReducer","modalReducer","LOAD_TRAININGS","TRAININGS_LOADED","LOAD_TRAININGS_ERROR","LOAD_OPERATOR_PROFILE_DATA","OPERATOR_PROFILE_DATA_LOADED","LOAD_OPERATOR_PROFILE_DATA_ERROR","ADD_TRAINING","REMOVE_TRAINING","operatorProfileData","trainings","operatCount","reviews","diploma","operator","userReducer","FILES_CLEAR_STATE","FILES_PUT_OPERAT","FILES_GET_INPUT","FILES_GET_PROTOCOL","FILES_GET_CSV","FILES_GET_BY_OPERAT","FILES_LOADED","FILES_LOAD_OPERAT_TYPE","FILES_ADD_LINE_TO_CSV","FILES_REMOVE_LINE_FROM_CSV","FILES_LOAD_EMPTY_INPUT","FILES_LOAD_EMPTY_PROTOCOL","FILES_LOAD_EMPTY_PHOTO","FILES_LOAD_PHOTO_FILE_TO_GALLERY","FILES_SEND_PHOTOS","FILES_ADD_LINES_TO_CSV_FROM_CSV","FILES_PUT_PROTOCOL","LOAD_OPERAT_INITIAL_WEIGHTS","REMOVE_PHOTOS","REMOVE_PHOTO_FILES","DOWNLOAD_FROM_EKW","GENERATE_OPERAT","GENERATE_PROTOCOL","SET_ALL_VALID","SAVE_INPUT_AREA","CSV_EDIT_CELL","SAVE_WEIGHTS_AREA","FILES_GET_WEIGHTS","FILES_PUT_WEIGHTS","OPERAT_UPDATE_LIST","OPERAT_UPDATE_PROTOCOL_LIST","ADD_NEW_WEIGHT","PUT_RATE","ADD_NEW_RATE","REMOVE_WEIGHTS","REMOVE_RATINGS","SET_OPERAT","SAVE_CSV_AREA","operatTypeId","csv","photo","protocol","randomString","Date","now","operatReducer","ex","updateList","src","list","del","splice","listIdx","kw","cellIndex","findIndex","cellToEdit","dataField","newValue","uuidv4","participation","justification","rateText","rowIndex","operatInfo","newRow","newRows","rows","some","shift","item1","_step2","_iterator2","generated","entries","obj","j","isValid","indexes","_loop2","_i2","_loop3","_i4","found","columnToChange","LOAD_USERS","USERS_LOADED","LOAD_USERS_ERROR","SET_USER_TYPE","PROMOTE_USER","DELETE_USER","SET_USER_SORT_PARAMETERS","SET_USERS_PAGE_NUMBER","SET_USER_FILTERS","users","mail","usersPageReducer","formatDate","date","d","month","getMonth","day","getDate","year","getFullYear","toDateString","monthNames","hours","getHours","minutes","getMinutes","seconds","getSeconds","LOAD_MESSAGES_WITH_USER","SET_CURRENTLY_CHAT_WITH","SET_CONNECTION","SET_MESSAGES_WITH_USER","LOAD_CONVERSATIONS","MARK_CONVERSATION_AS_READ","MARK_CONVERSATION_AS_UNREAD","SET_CHAT_IS_OPEN","TOGGLE_MESSAGE_VISIBLE","OPEN_CHAT","connection","messages","currentlyChatWith","conversations","chatIsOpen","markConversationAs","userId","client","index","indexOf","unread","chatReducer","author","messageId","isStatusVisible","isDateVisible","LOAD_OPERATORS_INFO","OPERATORS_INFO_LOADED","LOAD_OPERATORS_INFO_ERROR","SET_SUBSCRIPTION_PAGE_NUMBER","SET_OPERATORS_INFO_SORT_PARAMETER","SET_OPERATORS_INFO_FILTERS","SET_CURRENT_OPERATOR","UPDATE_SUBSCRIPTION","CREATE_SUBSCRIPTION","RESET_SUBSCRIPTIONS","operatorsInfo","currentOperator","subscriptionsReducer","LOAD_HOME_PAGE_CONTENT","HOME_PAGE_CONTENT_LOADED","LOAD_HOME_PAGE_CONTENT_ERROR","pageContent","createReducer","combineReducers","router","connectRouter","marketPage","modal","usersPage","chat","subscriptions","homePage","homePageReducer","injectReducerFactory","reducer","isString","isEmpty","Reflect","has","getInjectors","injectReducer","useInjectReducer","_ref2","context","React","useContext","ReactReduxContext","parseJSON","checkStatus","_checkStatus","_error","handleRequestWithTimeout","delayTime","requestUrl","_yield$race","race","timeout","_marked","handleRawParameters","jsonString","formattedJson","getOperats","_marked2","removeOperat","_marked3","saveOperat","_marked4","getOperatOrder","_marked5","sendPdf","_marked6","uploadOperat","_marked7","uploadOwnGeneratedOperat","_marked8","uploadSignedOperat","_marked9","globalData","_operats","select","put","_action$payload","createOperatRequestUrl","parameters","creatOperatRequestOptions","saveWeightsRequestOptions","saveWeightsRequestUrl","t2","order","Authorization","getItem","sendToPrincipal","emails","takeLatest","DAEMON","ONCE_TILL_UNMOUNT","allowedModes","checkKey","checkDescriptor","descriptor","saga","mode","injectSagaFactory","args","newDescriptor","hasSaga","task","ejectSagaFactory","cancel","injectSaga","ejectSaga","useInjectSaga","injectors","NewOperatForm","useSelector","isTest","handleOnChange","checked","newOperat","_defineProperty","Form","onSubmit","handleCreateOperat","Input","required","className","placeholder","FormGroup","Label","for","margin","OperatFilters","handleSetOperatFilters","setCreatedDateTimeFrom","_useState3","_useState4","setCreatedDateTimeTo","Card","CardBody","ShowIdCheckbox","setIsIdHidden","isIdHidden","label","sm","size","mapStateToProps","createStructuredSelector","withConnect","connect","setActiveOperat","handleSelectOperatType","operatType","selectOperatType","handleSetPageNumber","setPageNumber","handleSetOperatSortParameters","compose","memo","isFiltersVisible","setIsFiltersVisible","_useState5","_useState6","isNewOperatFormVisible","setIsNewOperatFormVisible","isAdmin","sortable","onSort","field","sortFunc","a","b","rowA","rowB","sort","columns","hidden","editable","headerStyle","align","headerAlign","formatter","cellContent","defaultChecked","inProcess","colum","colIndex","textAlign","Collapse","isOpen","md","Pagination","count","page","newPage","BootstrapTable","bootstrap4","keyField","striped","hover","condensed","bordered","expandRow","onlyOneExpanding","onExpand","isExpand","renderer","MapWithMarker","lat","lng","center","setCenter","loadedCoords","setLoadedCoords","locationInfo","latlng","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","handleApiLoaded","maps","geocoder","Geocoder","infowindow","InfoWindow","geocode","results","setZoom","geometry","marker","Marker","draggable","makeMarkerDraggable","setContent","formatted_address","setCoords","geocodeAddress","geocodeFromLocation","close","marginLeft","fontWeight","fontSize","height","GoogleMapReact","bootstrapURLKeys","REACT_APP_GOOGLE_API_KEY","defaultCenter","defaultZoom","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","addListener","MapToPrewiew","cords","OrderInfoUncontrolledCollapse","cordsList","latitudeLongitude","parseFloat","UncontrolledCollapse","toggler","orderSubject","valuationScope","propertyIdentification","UncontrolledPopover","trigger","PopoverBody","setCurrentlyChatWith","markConversationAsRead","setChatIsOpen","UserInfo","setUser","loggedInUser","role","admin","finally","createRow","phone","nameWithTitle","NewOffer","price","setPrice","maxDate","setMaxDate","hide","min","onKeyPress","OrderPropositionFilters","handleSetPropositionFilters","setUpTillDateFrom","setUpTillDateTo","setPriceFrom","_useState7","_useState8","setPriceTo","isButtonDisabled","accounts","isOperator","isAnyReserved","reservationStatus","isReserved","oid","isMineOrder","PropositionList","useMsal","handleSetPropositionsSortParameters","handleLoadPropositions","avgOperatorRating","ReactStars","edit","isHalf","ceil","activeColor","flip","toFixed","handleSetPropositionId","handleReserveOrderAndProposition","handleUnreserveProposition","AnnouncedOrder","sendedOffers","setSendedOffers","userInfo","setUserInfo","offer","setOffer","marginBottom","handleSaveProposition","validateLandRegisterCode","ekwData","splitted","controlSum","NewOrderForm","requiresZbpList","landRegisterCode","isEkwInvalid","ekwErrorMessage","setOrder","mapPopoverOpen","setMapPopoverOpen","newOrder","addOrder","InputMask","mask","inputProps","pattern","Popover","toggle","lineHeight","autoComplete","invalid","textTransform","FormFeedback","dangerouslySetInnerHTML","__html","UncontrolledAlert","PaidOrder","setOperatType","notifyRegister","NotificationAlert","timeElapsed","today","toLocaleString","marginTop","ReservedOrder","isClient","handlePayForOperat","ReviewForm","rating","setRating","comment","setComment","finished","setFinished","offset","Spinner","animation","variant","addReview","elements","SignedOrder","operatorContactOpen","setOperatorContactOpen","downloadSignedOperat","res","isObstructed","MarketFilters","handleSetOrderFilters","setLocationPostCode","selectMarketPage","makeSelectOrders","makeSelectActiveOrder","makeSelectPropositionId","makeSelectPropositions","loadOrders","ordersLoaded","replaceOrder","orderReplaced","loadPropositions","propositionsLoaded","propositionReplaced","proposition","getOrders","replaceOrderSaga","getPropositions","saveProposition","reserveOrderAndProposition","replaceProposition","unreserveProposition","removeOrder","payForOperat","_marked10","dashboardData","_orders","restOfOrder","_objectWithoutProperties","_excluded","_propositions","formElement","querySelector","upTillDate","requestURL","takeEvery","loadOperatTypes","operatTypesLoaded","loadUser","loadUserError","loadEkwData","loadPublicSettings","handleSaveOrder","setPropositionId","handleSetOrdersPageNumber","setOrdersPageNumber","handleSetActiveOrder","setActiveOrder","handleRemoveOrder","handleReplaceOrder","handleLoadOperatTypes","handleLoadUser","handleSetOrderSortParameters","setOrderSortParameters","handleLoadEkwData","handleLoadPublicSettings","setNewOrder","newOrderButton","isFiltersOpen","setIsFiltersOpen","renderSwitch","_useState9","_useState10","expanded","setExpanded","innerRef","substring","wordBreak","UserInfoUncontrolledCollapse","loadFileToGallery","removePhotos","loadOperatEmptyInput","loadOperatInitialWeights","loadOperatEmptyPhoto","updateProtocolList","getFormatedFiles","filesLoaded","loadOperatWeights","generateNewRowForCSV","generateNewRowsForCSVFromCSV","rowObj","assign","csvJSON","lines","currentline","trim","editCsvCell","updateWeights","updateRatings","_path","_path2","_extends","bind","source","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgExclamation","svgRef","titleId","xmlns","fill","viewBox","ForwardRef","CsvComponent","operatTypeParams","operatState","selectedRows","setSelectedRows","csvToRead","setCsvToRead","columnKeys","csvColumns","baseColumnProps","cols","_ref3","Exclamation","editorRenderer","editorProps","column","columnIndex","colName","EditComponent","onUpdate","createCsvDataRenderer","rangeLow","rangeHigh","EditWeightComponent","createCsvWeightsRenderer","range","csvItems","loadOperatCSV","dataJson","cellEdit","cellEditFactory","ExportCSVButton","CSVExport","processCSV","str","expectedColumnCount","requiredColumns","showWarning","addLinesToCSVFromCSV","setValue","charCode","prevState","onBlur","_ref4","actualColumnCount","handleTableChange","_ref5","_ref5$cellEdit","rowId","ToolkitProvider","exportCSV","onlyExportSelection","exportAll","saveCsvArea","csvProps","reader","FileReader","onload","readAsText","submit","dataType","wrapperClasses","baseProps","remote","selectRow","clickToEdit","clickToSelect","onSelect","isSelect","allRows","onSelectAll","tabIndexCell","onTableChange","InfoForAdmin","isInfoVisible","setIsInfoVisible","InputArea","listInputData","setListInputData","loadOperatInput","applyMacros","loadInitialDataFromOrder","temp","kwIndex","kwNrIndex","default","given_name","family_name","defaut","kw_owner","handleChangeValue","updateValue","dataItem","genItem","reset","button","class","overflowWrap","tooltip","landRegisterValidationResult","validateAndShowErrors","ImageDropzone","flex","flexDirection","alignItems","padding","borderWidth","borderRadius","borderColor","borderStyle","outline","onDrop","useCallback","acceptedFiles","fileNames","newFile","File","fileData","enableBtn","_useDropzone","useDropzone","multiple","getRootProps","getInputProps","ImageCarousel","currentIndex","activeIndex","setActiveIndex","animating","setAnimating","nextIndex","images","previous","slides","image","_image$url","CarouselItem","onExiting","onExited","alt","Carousel","CarouselIndicators","onClickHandler","newIndex","CarouselControl","direction","directionText","ReactstrapImageGallery","isModalOpen","setIsModalOpen","setCurrentIndex","imageLimit","limit","visibleImages","hasMore","handleToggleModal","Container","CardImg","CardImgOverlay","Modal","ModalHeader","ModalBody","PhotoArea","disabledBtns","setDisableBtns","mapPhotos","finded","p","handleSendPhotos","photos","photoGroupId","isSendPhotosButtonDisabled","every","handlePhotosDelete","boxShadow","img","saveAs","selectOperat","makeSelectInput","makeSelectId","makeSelectWeights","makeSelectProtocol","makeSelectCsv","saveWeightsArea","handleUploadConvertRequest","saveInputArea","generateProtocol","fetchFormatedFiles","reduce","partialSum","protocolData","saveRequestOptions","saveRequestUrl","generateRequestOptions","generateRequestUrl","t3","sendPhotos","fixPercentValue","selectedWeight","selectWeight","selectedWeightIndex","setRowIndex","innerCols","cell","formatExtraData","selectedInnerRows","setSelectedInnerRows","clickToExpand","dateField","blurToSave","_ref2$cellEdit","ProtocolArea","startTimeRef","endTimeRef","loadOperatProtocol","updateProtocol","createInput","_startTimeRef$current","_startTimeRef$current2","startHour","startMinutes","_endTimeRef$current$p","_endTimeRef$current$p2","endHour","endMinutes","Create","setOperatTypeParams","requiredPhotosCount","setRequiredPhotosCount","useLocation","params","operatRes","orderRes","Array","isArray","inputArea","setInputArea","csvArea","setCsvArea","_useState11","_useState12","photoArea","setPhotoArea","_useState13","_useState14","protocolArea","setProtocolArea","_useState15","_useState16","weightsArea","setWeightsArea","isAllFilled","createGenerateOperatInfo","Weights","Protocol","UserImageDropzone","uploadedFile","setUploadedFile","toBigWarning","maxLength","condition","acceptedExt","minSize","maxSize","sendFile","exactFile","generateRows","scope","fileType","send","Table","UserUploadedFiles","operatorFiles","setOperatorFile","deleteFile","UserProfileTab","sendNew","setSendNew","showSendStamp","setShowSendStamp","showSendDiploma","setShowSendDiploma","showSendOc","setShowSendOc","showFiles","setShowFiles","initlUserState","licenceNumber","inZbpList","degree","firstName","lastName","EditUser","city","postalCode","street","setAddress","isOper","updateStates","CardHeader","CardTitle","tag","htmlFor","readOnly","defaultValue","marginRight","update","sendUpdate","ReadonlyTable","deleteAction","_props$operatorProfil","openAccordion","setOpenAccordion","fakeImg","Accordion","AccordionItem","AccordionHeader","targetId","AccordionBody","accordionId","createInZpbInformation","OperatorTrainingForm","OperatorTrainingsTab","handleLoadTrainings","handleAddTraining","handleRemoveTraining","loadTrainings","trainingsLoaded","loadOperatorProfileDataError","selectUser","getTrainings","getOperatorProfileData","removeTraining","userData","userUrl","handleLoadOperatorProfileData","loadOperatorProfileData","activeTab","setActiveTab","createNavItem","tabNr","NavItem","NavLink","classnames","active","tab","Nav","tabs","TabContent","TabPane","tabId","UserFilesTab","selectUsersPage","makeSelectUserType","makeSelectUsers","loadUsers","loadUsersError","getUsers","promoteUser","deleteUser","watch","_users","UsersFilters","handleSetUserFilters","username","setUsername","email","setEmail","handleSetUserType","handleLoadUsers","handlePromoteUser","handleDeleteUser","handleSetUsersPageNumber","handleSetUsersSortParameters","isDropdownOpen","setIsDropdownOpen","userTypes","getPromotedUserRole","promoteTo","_userTypes$find","Dropdown","DropdownToggle","caret","DropdownMenu","DropdownItem","canPromote","Logout","instance","logout","selectSubscription","makeSelectOperatorsInfo","loadOperatorsInfo","loadOperatorsInfoError","createSubscription","getOperatorsInfo","updateSubscription","sendAndHandleRequest","resetSubscriptions","margin5px","saveButtonStyle","float","SubscriptionRow","subscription","handleUpdateSubscription","isActive","canRenew","nrOfOperats","maxNrOfOperats","nrOfGenerations","maxNrOfGenerations","subscriptionState","setSubscriptionState","newState","editedSubscription","submitUpdateSubscriptionForm","step","handleLoadOperatorsInfo","handleSetSubscriptionPageNumber","handleSetOperatorsInfoSortParameter","handleSetOperatorsInfoFilters","handleSetCurrentOperator","handleCreateSubscription","handleResetSubscriptions","areFiltersVisible","setAreFiltersVisible","hasSubscription","nonExpandable","expandColumnPosition","showExpandColumn","expandByColumnOnly","expandColumnRenderer","rowKey","expandable","expandHeaderColumnRenderer","isAnyExpands","resources","en","common","pl","commonPl","i18n","use","initReactI18next","init","interpolation","escapeValue","loadHomePageContentError","getHomePageContent","getContentPath","language","adminContentPathPl","operatorContentPathPl","userContentPathPl","adminContentPathEn","operatorContentPathEn","userContentPathEn","getContent","_getContent","path","contentPath","selectHomePage","handleLoadPageContent","ReactMarkdown","remarkPlugins","remarkGfm","adminRoutes","icon","component","Market","History","Users","User","Subscriptions","external","Home","clientRoutes","operatorRoutes","EmptyUser","exist","streetAddress","firstname","lastname","extension_Numertelefonu","emptyRoutes","MessageBell","setOpen","nav","right","SettingsItem","logoutResponse","LogoutHandler","NameItem","Language","ps","setLanguage","selec","changeLanguage","Header","_React$Component","dropdownOpen","_assertThisInitialized","sidebarToggle","createRef","setState","brandName","routing","getRouting","prop","documentElement","innerWidth","addEventListener","updateColor","_this2","Navbar","expand","openSidebar","NavbarBrand","getBrand","NavbarToggler","navbar","Link","to","Component","Footer","fluid","Sidebar","activeRoute","sidebar","routeName","platform","PerfectScrollbar","suppressScrollX","suppressScrollY","destroy","bgColor","logo","routes","pro","activeClassName","FixedPlugin","_Component","toggleColorPicker","isColorPickerOpen","classes","handleClick","TwitterPicker","triangle","mainBgColor","onChangeComplete","handleMainBgClick","hex","labels","mainBg","backgroundColor","menuBg","handleBgClick","handleActiveClick","ScrollButton","visible","setVisible","getWrapper","toggleVisible","_getWrapper","removeEventListener","scrolled","scrollTop","GeneralLayout","setBackgroundColor","mainBackgroundColor","setMainBackgroundColor","setActiveColor","mainPanel","setRoutes","_useTranslation","fixedPluginLabels","setFixedPluginLabels","chooseRouteByUserType","DemoNavbar","Switch","Route","Login","isAuthenticated","useIsAuthenticated","loginRedirect","setActiveAccount","certificateService","generateCertificate","_generateCertificate","setCertificatePassword","repeatPassword","setRepeatPassword","_accounts$0$idTokenCl","_accounts$0$idTokenCl2","nameLastName","dto","certificateSignDate","addCertificate","Modals","createModalFooter","createModalBodyWithFooter","createSignOperatModalFooter","password","NewCertificateForm","createModalBody","setOperats","currentOperat","listGroup","ListGroup","overflow","maxHeight","ListGroupItem","setEmails","sendToOwner","setSendToOwner","shortId","bankAccount","companyName","companyAddress","setMaxNumberOfOperats","setMaxNrOfGenerations","_submitCreateSubscriptionForm","submitCreateSubscriptionForm","ModalFooter","ModifySubscriptionFooter","_useState17","_useState18","isLoading","setIsLoading","_useState19","_useState20","setFiles","_useState21","_useState22","setIncludeOc","_useState23","_useState24","setIncludeDiploma","_useState25","_useState26","sentFiles","setSentFiles","_loadFiles","filteredFiles","_","loadFiles","buttonsComponent","onClose","fileLimitExceededWarning","_ref6","_handleSendAttachments","filesWithoutIds","fileRejections","uniqueFilesCount","y","filesToAdd","filesToAddWithIds","countBefore","countAfter","showSentAttachments","setShowSentAttachments","_handleJoinFiles","SentAttachmentsTable","_ref7","_useState27","_useState28","_useState29","_useState30","_loadFiles2","_handleDeleteItem","handleDeleteItem","handleDownloadItem","selectModal","handleShowLoadingScreen","handleHideLoadingScreen","renderModal","getOperatTypes","getUser","getEkwData","getPublicSettings","regionsUrl","weightsUrl","multipliersUrl","selectChat","openChat","handleLoadMessagesWithUser","loadMessagesWithUser","handleSetMessagesWithUser","setMessagesWithUser","handleSetConnection","handleSetCurrentlyChatWith","handleLoadConversations","handleMarkConversationAsRead","handleMarkConversationAsUnread","markConversationAsUnread","handleSetChatIsOpen","handleToggleMessageVisible","toggleMessageVisible","handleMarkMessagesAsSeen","markMessagesAsSeen","handleOpenChat","usersOffcanvasOpen","setUsersOffcanvasOpen","setUsers","setConnection","joinRoom","_joinRoom","_connection","HubConnectionBuilder","withUrl","withAutomaticReconnect","configureLogging","Information","build","on","newMess","returnObjects","onclose","start","invoke","_fetchData","fetchData","sendMessage","emoji","Offcanvas","OffcanvasHeader","OffcanvasBody","cursor","Badge","pill","Launcher","onMessageWasSent","agentProfile","teamName","newMessagesCount","onMessageClick","messageList","showEmoji","MainContent","callbackId","addEventCallback","eventType","EventType","LOGIN_FAILURE","errorMessage","interactionType","InteractionType","Redirect","Popup","loginPopup","LOGIN_SUCCESS","pca","getAllAccounts","tfp","alert","removeEventCallback","CookieConsent","enableDeclineButton","flipButtons","onAccept","REACT_APP_GOOGLE_ANALYTICS_ID","ReactGA","onDecline","Cookies","declineButtonText","buttonText","buttonClasses","declineButtonClasses","buttonStyle","declineButtonStyle","rel","AuthenticatedTemplate","Pages","UnauthenticatedTemplate","render","LoadingModal","Chat","navigationClient","setNavigationClient","MsalProvider","ReactNotifications","PublicClientApplication","_configureStore","composeEnhancers","sagaMiddleware","createSagaMiddleware","middlewares","routerMiddleware","enhancers","applyMiddleware","peristedState","serializedState","loadState","createStore","saveState","run","configureStore","AppProvider","Provider","StrictMode","I18nextProvider","BrowserRouter","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.226a8dba.chunk.js","sourcesContent":["import { NavigationClient } from '@azure/msal-browser'\n\n/**\n * This is an example for overriding the default function MSAL uses to navigate to other urls in your webpage\n */\nexport class CustomNavigationClient extends NavigationClient {\n  constructor (history) {\n    super()\n    this.history = history\n  }\n\n  /**\n     * Navigates to other pages within the same web application\n     * You can use the useHistory hook provided by react-router-dom to take advantage of client-side routing\n     * @param url\n     * @param options\n     */\n  async navigateInternal (url, options) {\n    const relativePath = url.replace(window.location.origin, '')\n    if (options.noHistory) {\n      this.history.replace(relativePath)\n    } else {\n      this.history.push(relativePath)\n    }\n\n    return false\n  }\n}\n","import { LogLevel } from '@azure/msal-browser'\n\nexport const b2cPolicies = {\n  names: {\n    signUpSignIn: process.env.REACT_APP_ADB2C_SIGNUP_SIGNIN_POLICY,\n    forgotPassword: process.env.REACT_APP_ADB2C_FORGOT_PASSWORD_POLICY,\n    editProfile: process.env.REACT_APP_ADB2C_EDIT_PROFILE_POLICY\n  },\n  authorities: {\n    signUpSignIn: {\n      authority: process.env.REACT_APP_ADB2C_SIGNUP_SIGNIN_AUTHORITY\n    },\n    forgotPassword: {\n      authority: process.env.REACT_APP_ADB2C_FORGOT_PASSWORD_AUTHORITY\n    },\n    editProfile: {\n      authority: process.env.REACT_APP_ADB2C_EDIT_PROFILE_AUTHORITY\n    }\n  },\n  authorityDomain: process.env.REACT_APP_ADB2C_AUTHORITY_DOMAIN\n}\n\nexport const msalConfig = {\n\n  auth: {\n    clientId: process.env.REACT_APP_ADB2C_CLIENT_ID, // This is the ONLY mandatory field that you need to supply.\n    authority: process.env.REACT_APP_ADB2C_AUTHORITY, // Use a sign-up/sign-in user-flow as a default authority\n    knownAuthorities: process.env.REACT_APP_ADB2C_KNOWN_AUTHORITIES.split(','), // Mark your B2C tenant's domain as trusted.\n    redirectUri: process.env.REACT_APP_ADB2C_REDIRECT_URI, // Points to window.location.origin. You must register this URI on Azure Portal/App Registration.\n    postLogoutRedirectUri: process.env.REACT_APP_ADB2C_POST_LOGOUT_REDIRECT_URI, // Indicates the page to navigate after logout.\n    navigateToLoginRequestUrl: true // If \"true\", will navigate back to the original request location before processing the auth code response.\n  },\n  cache: {\n    cacheLocation: 'localStorage', // This configures where your cache will be stored\n    storeAuthStateInCookie: false // Set this to \"true\" if you are having issues on IE11 or Edge\n  },\n  system: {\n    loggerOptions: {\n      loggerCallback: (level, message, containsPii) => {\n        if (containsPii) {\n          return\n        }\n        switch (level) {\n          case LogLevel.Error:\n            console.error(message)\n            return\n          case LogLevel.Info:\n            console.info(message)\n            return\n          case LogLevel.Verbose:\n            console.debug(message)\n            return\n          case LogLevel.Warning:\n            console.warn(message)\n            break\n          default:\n        }\n      }\n    }\n  }\n}\n\n/**\n * Scopes you add here will be prompted for user consent during sign-in.\n * By default, MSAL.js will add OIDC scopes (openid, profile, email) to any login request.\n * For more information about OIDC scopes, visit:\n * https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-permissions-and-consent#openid-connect-scopes\n */\n// Add here scopes for id token to be used at MS Identity Platform endpoints.\nexport const loginRequest = {\n  scopes: /* [\"User.Read\"] */[]\n}\n\n// export const editProfile = {\n//     authority: process.env.REACT_APP_ADB2C_EDIT_PROFILE_AUTHORITY,\n// };\n\n// export const policyNames = {\n//     signUpSignIn: process.env.REACT_APP_ADB2C_SIGNUP_SIGNIN_POLICY\n// };\n","export const modalTypeConstants = {\n  SHOW_NO_DATA: 'SHOW_NO_DATA',\n  CONFIRM_SEND_PROPOSITION: 'CONFIRM_SEND_PROPOSITION',\n  TOO_MUCH_OPERATOR_FILES: 'TOO_MUCH_OPERATOR_FILES',\n  PROMOTE_USER_ERROR: 'PROMOTE_USER_ERROR',\n  SEND_OPERAT_CONFIRMATION: 'SEND_OPERAT_CONFIRMATION',\n  SIGN_OPERAT: 'SIGN_OPERAT',\n  OWN_CERTIFICATE: 'OWN_CERTIFICATE',\n  NEW_CERTIFICATE: 'NEW_CERTIFICATE',\n  ERROR_MESSAGE: 'ERROR_MESSAGE',\n  LOADING: 'LOADING',\n  OPERATS_LIST_MODAL: 'OPERATS_LIST_MODAL',\n  SEND_OPERAT_MODAL: 'SEND_OPERAT_MODAL',\n  PAY_FOR_OPERAT: 'PAY_FOR_OPERAT_MODAL',\n  CREATE_SUBSCRIPTION_FORM: 'CREATE_SUBSCRIPTION_FORM',\n  CREATE_SUBSCRIPTION_SUCCESSFUL: 'CREATE_SUBSCRIPTION_SUCCESFUL',\n  CONFIRM_RESET_SUBSCRIPTIONS: 'CONFIRM_RESET_SUBSCRIPTIONS',\n  RESET_SUBSCRIPTIONS_SUCCESSFUL: 'RESET_SUBSCRIPTIONS_SUCCESSFUL',\n  ADD_ATTACHMENTS: 'ADD_ATTACHMENTS',\n  ATTACHMENTS_OPTIONS: 'ATTACHMENT_OPTIONS',\n  CONFIRM_SUCCESS: 'CONFIRM_SUCCESS',\n  CONFIRM_ERROR: 'CONFIRM_ERROR'\n}\n","export const userRolesConstants = {\n  OPERATOR: 'operator',\n  CLIENT: 'client',\n  ADMIN: 'admin'\n}\n","export const loadingMessagesConstants = {\n  LOADING_DATA: 'Prosz czeka, trwa adowanie danych',\n  SEND_OFFER: 'Prosz czeka, trwa wysyanie Twojej oferty',\n  DELETE_OPERAT: 'Prosz czeka, trwa usuwanie operatu',\n  DELETE_ORDER: 'Prosz czeka, trwa usuwanie zlecenia',\n  SAVE_OPERAT: 'Prosz czeka, trwa zapisywanie operatu',\n  SAVE_USER_DATA: 'Prosz czeka, trwa zapisywanie danych uytkownika',\n  SING_OPERAT: 'Prosz czeka, trwa podpisywanie operatu',\n  GENERATE_CERTIFICATE: 'Prosz czeka, trwa generowanie certyfikatu',\n  DELETE_FILE: 'Prosz czeka, trwa usuwanie pliku',\n  GENERATE_OPERAT: 'Prosz czeka, trwa generowanie operatu',\n  DOWNLOAD_OPERAT: 'Prosz czeka, trwa pobieranie operatu',\n  SEND_PHOTOS: 'Prosz czeka, trwa wysyanie zdj',\n  DELETE_PHOTOS: 'Prosz czeka, trwa usuwanie zdj',\n  OPERATOR_PROFILE: 'Prosz czeka, trwa wczytywanie profilu operatora',\n  ADD_REVIEW: 'Prosz czeka, trwa wysyanie opinii',\n  ADD_TRAINING: 'Prosz czeka, trwa dodawanie szkolenia',\n  DELETE_TRAINING: 'Prosz czeka, trwa usuwanie szkolenia'\n}\n","export const globalConstants = {\n  EMPTY_GUID: '00000000-0000-0000-0000-000000000000'\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled, { keyframes } from 'styled-components'\n\nconst circleFadeDelay = keyframes`\n  0%,\n  39%,\n  100% {\n    opacity: 0;\n  }\n\n  40% {\n    opacity: 1;\n  }\n`\n\nfunction Circle (props) {\n  const CirclePrimitive = styled.div`\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    ${props.rotate &&\n    `\n      -webkit-transform: rotate(${props.rotate}deg);\n      -ms-transform: rotate(${props.rotate}deg);\n      transform: rotate(${props.rotate}deg);\n    `} &:before {\n      content: '';\n      display: block;\n      margin: 0 auto;\n      width: 15%;\n      height: 15%;\n      background-color: #999;\n      border-radius: 100%;\n      animation: ${circleFadeDelay} 1.2s infinite ease-in-out both;\n      ${props.delay &&\n      `\n        -webkit-animation-delay: ${props.delay}s;\n        animation-delay: ${props.delay}s;\n      `};\n    }\n  `\n  return <CirclePrimitive />\n}\n\nCircle.propTypes = {\n  delay: PropTypes.number,\n  rotate: PropTypes.number\n}\n\nexport default Circle\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  margin: 2em auto;\n  width: 40px;\n  height: 40px;\n  position: relative;\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport Circle from './Circle'\nimport Wrapper from './Wrapper'\n\nfunction LoadingIndicator () {\n  return (\n    <Wrapper>\n      <Circle />\n      <Circle rotate={30} delay={-1.1} />\n      <Circle rotate={60} delay={-1} />\n      <Circle rotate={90} delay={-0.9} />\n      <Circle rotate={120} delay={-0.8} />\n      <Circle rotate={150} delay={-0.7} />\n      <Circle rotate={180} delay={-0.6} />\n      <Circle rotate={210} delay={-0.5} />\n      <Circle rotate={240} delay={-0.4} />\n      <Circle rotate={270} delay={-0.3} />\n      <Circle rotate={300} delay={-0.2} />\n      <Circle rotate={330} delay={-0.1} />\n    </Wrapper>\n  )\n}\n\nexport default LoadingIndicator\n","import confirm from 'reactstrap-confirm'\n\nexport const showConfirmBox = async (message, title, okFunction) => {\n  const result = await confirm({\n    title: <>{title}</>,\n    message,\n    confirmText: 'Usu',\n    cancelText: 'Anuluj',\n    confirmColor: 'danger',\n    cancelColor: 'link text-primary'\n  })\n  if (result) {\n    okFunction()\n  }\n}\n","export const MODAL_SHOW_LOADING_SCREEN = 'MODAL_SHOW_LOADING_SCREEN'\nexport const MODAL_HIDE_LOADING_SCREEN = 'MODAL_HIDE_LOADING_SCREEN'\n","import { MODAL_HIDE_LOADING_SCREEN, MODAL_SHOW_LOADING_SCREEN } from './constants'\n\nexport function showLoadingScreen (type, data) {\n  return {\n    type: MODAL_SHOW_LOADING_SCREEN,\n    payload: { showModal: true, type, data }\n  }\n}\n\nexport function hideLoadingScreen () {\n  return {\n    type: MODAL_HIDE_LOADING_SCREEN\n  }\n}\n","import { createBrowserHistory } from 'history'\n\nexport const history = createBrowserHistory()\n","export const validators = {\n  validatePositiveNumbers\n}\n\nfunction validatePositiveNumbers (evt, regex) {\n  if (evt == null || regex == null) {\n    return\n  }\n  const theEvent = evt || window.event\n  let key = theEvent.keyCode || theEvent.which\n  key = String.fromCharCode(key)\n  let val = theEvent.target.value + key\n  if (theEvent.type === 'paste') {\n    val = window.event.clipboardData.getData('text/plain')\n  }\n\n  if (regex.test(val)) {\n    theEvent.target.classList.remove('validate')\n  } else {\n    const tcl = theEvent.target.classList\n    tcl.add('validate')\n    setTimeout(function () {\n      tcl.remove('validate')\n    }, 400)\n    theEvent.returnValue = false\n    if (theEvent.preventDefault) {\n      theEvent.preventDefault()\n    }\n  }\n};\n","import { loginRequest } from '../authConfig'\nimport { msalInstance } from '../index'\nimport { history } from 'helpers'\nexport const shouldRefreshToken = () => {\n  const currentUnixTimeInSeconds = parseInt(new Date().getTime() / 1000)\n  const tokenWillExpireSoon = localStorage.getItem('idToken') && localStorage.getItem('idTokenExp') && parseInt(localStorage.getItem('idTokenExp')) < currentUnixTimeInSeconds + 60\n  return !localStorage.getItem('idToken') || !localStorage.getItem('idTokenExp') || tokenWillExpireSoon\n}\nexport async function callForHeader (type) {\n  const account = msalInstance.getActiveAccount()\n  if (!account) {\n    throw Error('No active account! Verify a user has been signed in and setActiveAccount has been called.')\n  }\n\n  const request = {\n    ...loginRequest,\n    account\n  }\n\n  const response = await msalInstance.acquireTokenSilent(request).catch(error => {\n    // fallback to interaction when silent call fails\n    console.log(error)\n    return msalInstance.acquireTokenRedirect(request).then(tokenResponse => {\n      return tokenResponse\n    }).catch(error => {\n      history.push('/logout')\n      console.log(error)\n    })\n  })\n  if (response.idTokenClaims.exp < response.idTokenClaims.auth_time) { history.push('/logout') }\n  localStorage.setItem('idToken', response.idToken)\n  localStorage.setItem('idTokenExp', response.idTokenClaims.exp)\n\n  const headers = new Headers()\n  const bearer = `Bearer ${response.idToken}`\n  headers.append('Authorization', bearer)\n\n  let content\n  switch (type) {\n    case 'json':\n      content = 'application/json'\n      headers.append('Content-Type', content)\n      break\n    case 'plain':\n      content = 'text/plain;charset=UTF-8'\n      headers.append('Content-Type', content)\n      break\n    default:\n      break\n  }\n\n  return headers\n}\n","import { callForHeader } from '../utils/HeadersCall'\n\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const operatService = {\n  get,\n  createOperat,\n  getFile,\n  generateOperat,\n  signPdf,\n  copyOperat,\n  sendOperat,\n  getByOrderId,\n  postReview,\n  getOperatReview,\n  obstructOperat,\n  addAttachments\n}\n\nasync function addAttachments (id, includeOc, includeDiploma, files) {\n  const formData = new FormData()\n  formData.append('includeoc', includeOc)\n  formData.append('includediploma', includeDiploma)\n  files.forEach(x => formData.append('additionalattachments', x))\n  // formData.append(\"additionalattachments\", JSON.stringify(files))\n\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader(),\n    body: formData\n  }\n\n  return window.fetch(`${apiUrl}/Operat/id/${id}/add-attachments`, requestOptions)\n}\n\nasync function get (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(`${apiUrl}/Operat/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function getFile (url) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(url, requestOptions).then(handleResponse)\n}\n\nasync function createOperat (body) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(body)\n  }\n  return window.fetch(`${apiUrl}/Operat`, requestOptions).then(handleResponse)\n}\n\nasync function generateOperat (id) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n  return await window.fetch(`${apiUrl}/Operat/id/${id}/generate`, requestOptions).then(handleResponse)\n}\n\nasync function signPdf (id, certificatePassword) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(certificatePassword)\n  }\n  return await window.fetch(`${apiUrl}/Operat/id/${id}/sign`, requestOptions).then(handleResponse)\n}\n\nasync function copyOperat (id) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Operat/id/${id}/copy`, requestOptions).then(handleResponse)\n}\n\nasync function sendOperat (id) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Operat/id/${id}/send`, requestOptions).then(handleResponse)\n}\n\nasync function getByOrderId (orderId) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await fetch(`${apiUrl}/Operat/orderid/${orderId}`, requestOptions).then(handleResponse)\n}\n\nasync function postReview (review) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(review)\n  }\n\n  return await fetch(`${apiUrl}/Operat/review`, requestOptions).then(handleResponse)\n}\n\nasync function getOperatReview (operatId) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/Operat/${operatId}/review`, requestOptions).then(handleResponse)\n}\n\nasync function obstructOperat (operatId) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/Operat/id/${operatId}/obstructed/trigger`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    let data = ''\n    if (text.startsWith('Data')) {\n      data = text\n    } else {\n      data = text && JSON.parse(text)\n    }\n    if (!response.ok) {\n      if (response.status === 404 || response.status === 500) {\n        return []\n      }\n      return Promise.reject(data || response.statusText)\n    }\n    const pageCount = response.headers.get('X-Page-Count')\n    pageCount && localStorage.setItem('pageCount', pageCount)\n    return data\n  })\n}\n","import { callForHeader } from 'utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const operatorService = {\n  getOperatorData,\n  getOperators,\n  promote,\n  updateOper,\n  getOperatorReviews,\n  getOperatorTrainings,\n  addTraining,\n  deleteTraining\n}\n\nasync function getOperatorData (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Operator/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function getOperators () {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n  return await window.fetch(`${apiUrl}/Operator`, requestOptions).then(handleResponse)\n}\n\nasync function promote (clientId) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader()\n  }\n\n  return await window.fetch(`${apiUrl}/Operator/promote/clientid/${clientId}`, requestOptions).then((response) => handleResponse(response, true))\n}\n\nasync function updateOper (body) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(body)\n  }\n\n  return await fetch(`${apiUrl}/Operator/by-repo`, requestOptions).then((response) => handleResponse(response))\n}\n\nasync function getOperatorReviews (operatorId) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader()\n  }\n  return await fetch(`${apiUrl}/Operator/${operatorId}/review`, requestOptions).then(handleResponse)\n}\n\nasync function getOperatorTrainings (operatorId) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader()\n  }\n  return await fetch(`${apiUrl}/Operator/${operatorId}/training`, requestOptions).then(handleResponse)\n}\n\nasync function addTraining (training) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(training)\n  }\n\n  return await fetch(`${apiUrl}/Operator/training`, requestOptions).then(handleResponse)\n}\n\nasync function deleteTraining (training) {\n  const requestOptions = {\n    method: 'DELETE',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/Operator/training/${training}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response, promotion = false) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 400 && promotion) {\n        return response.status\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n\n    return data\n  })\n}\n","import { callForHeader } from '../utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const orderService = {\n  getOperatorOrders,\n  reserveOrder,\n  getSingleOrder\n}\n\nasync function reserveOrder (guidOrder, guidOperator) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(`${apiUrl}/Order/${guidOrder}/reserve/${guidOperator}`, requestOptions).then(handleResponse)\n}\n\nasync function getSingleOrder (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(`${apiUrl}/Order/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function getOperatorOrders (guidOperator) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Order/announced/${guidOperator}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 404) {\n        return []\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n    const pageCount = response.headers.get('X-Page-Count')\n    pageCount && localStorage.setItem('pageCount', pageCount)\n    return data\n  }).then(data => { return data })\n}\n","import { Store } from 'react-notifications-component'\n\nexport const addNotification = (title, message, type) => {\n  Store.addNotification({\n    title,\n    message,\n    type,\n    insert: 'top',\n    container: 'top-right',\n    animationIn: ['animate__animated', 'animate__fadeIn'],\n    animationOut: ['animate__animated', 'animate__fadeOut'],\n    dismiss: {\n      duration: 5000,\n      showIcon: true\n    }\n  })\n}\n","import { addNotification } from 'utils/addNotification'\nimport { callForHeader } from '../utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const operatFilesService = {\n  getFormatedFilesByOperat,\n  getFilesByOperat,\n  getFile,\n  sendJSONFile,\n  sendCSVFile,\n  sendPICTUREFile,\n  copyOperatParams,\n  copyOperatCsv,\n  copyOperatPhotos,\n  uploadOwnGenerated,\n  removeSingleFile,\n  copyOperatWeights\n}\n\nasync function getFormatedFilesByOperat (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(`${apiUrl}/OperatFiles/id/${id}/formated`, requestOptions).then(handleResponse)\n}\n\nasync function getFilesByOperat (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/OperatFiles/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function getFile (url, useCache = false) {\n  const headers = new Headers()\n  headers.append('Cache-Control', 'no-cache')\n  const requestOptions = useCache === true\n    ? {\n        method: 'GET'\n      }\n    : {\n        method: 'GET',\n        headers: headers\n      }\n  return await window.fetch(url, requestOptions).then(handleResponse)\n}\n\nasync function copyOperatParams (fromId, toId) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/OperatFiles/id/${fromId}/copy/params/id/${toId}`, requestOptions).then(handleResponse)\n}\n\nasync function copyOperatCsv (fromId, toId) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/OperatFiles/id/${fromId}/copy/csv/id/${toId}`, requestOptions).then(handleResponse)\n}\n\nasync function copyOperatWeights (fromId, toId) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/OperatFiles/id/${fromId}/copy/weights/id/${toId}`, requestOptions).then(handleResponse)\n}\n\nasync function uploadOwnGenerated (id, file) {\n  const data = new FormData()\n  data.append('file', file)\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader(),\n    body: data\n  }\n\n  return await fetch(`${apiUrl}/OperatFiles/id/${id}/own`, requestOptions).then(handleResponse)\n}\n\nasync function removeSingleFile (id, fileName) {\n  const requestOptions = {\n    method: 'DELETE',\n    headers: await callForHeader()\n  }\n\n  return await fetch(`${apiUrl}/OperatFiles/id/${id}/filename/${fileName.replaceAll('/', '%252F')}`, requestOptions).then(handleResponse)\n}\n\nasync function copyOperatPhotos (fromId, toId) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/OperatFiles/id/${fromId}/copy/pic/id/${toId}`, requestOptions).then(handleResponse)\n}\n\nasync function sendPICTUREFile (data, id) {\n  data = data.filter(x => Object.prototype.hasOwnProperty.call(x, 'file'))\n  if (data.length === 0) {\n    return\n  }\n  const formData = new FormData()\n  data.forEach((element, idx) => {\n    formData.append(`file${idx}`, element.file, element.file.name)\n  })\n\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader(),\n    body: formData\n  }\n\n  return await window.fetch(`${apiUrl}/OperatFiles/upload2/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function sendJSONFile (data, id) {\n  const formData = new FormData()\n  const blb = new Blob([JSON.stringify({ input: data })], { type: 'application/json' })\n  formData.append('file', blb, 'params.json')\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader(),\n    body: formData\n  }\n\n  return await window.fetch(`${apiUrl}/OperatFiles/upload/${id}/convert`, requestOptions).then(handleResponse)\n}\n\nasync function sendCSVFile (data, id, weights) {\n  const formData = new FormData()\n  if (!jsonToCSV(data, weights)) {\n    return Promise.resolve()\n  }\n  const blb = new Blob([jsonToCSV(data, weights)], { type: 'text/csv' })\n  formData.append('file', blb, 'data.csv')\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader(),\n    body: formData\n  }\n\n  return await window.fetch(`${apiUrl}/OperatFiles/upload/${id}`, requestOptions).then(handleResponse)\n}\n\nfunction jsonToCSV (json, weights) {\n  const items = json.map(item => { delete item.id; return item })\n  const header = items[0] ? Object.keys(items[0]) : ['Data', 'CenaTransakcyjna', 'RodzajRynku', 'UdzialWPrawie', 'PowierzchniaLokalu', 'Adres', 'KondygnacjaLokalu', 'KondygnacjaBudynku', 'LiczbIzb']\n  for (let i = 0; i < items.length; i++) {\n    for (const property in items[i]) {\n      const weight = weights.find(x => x.name === property)\n      if (weight) {\n        if (!isNaN(items[i][property])) {\n          const max = Math.max.apply(Math, weight.ratings.map(x => parseInt(x.rate)))\n          if (parseInt(items[i][property]) > max) {\n            addNotification('', 'Bd w linii: ' + (i + 1), 'danger')\n            return false\n          }\n        }\n      }\n    }\n  }\n  const csv = [\n    header.join(';'), // header row first\n    ...items.map(row => header.map(fieldName => row[fieldName]).join(';'))\n  ].join('\\r\\n')\n\n  return csv\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    let data = ''\n    if (text.startsWith('Data')) {\n      data = text\n    } else {\n      data = text && JSON.parse(text)\n    }\n    if (!response.ok) {\n      if (response.status === 404) {\n        // TODO auto logout if 404 response returned from api\n        return []\n      }\n\n      if (response.status === 500) {\n        // TODO auto logout if 500 response returned from api\n        return []\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n\n    return data\n  })\n}\n","import { callForHeader } from '../utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const operatorFilesService = {\n  getOperatorFiles,\n  sendOperatorFile,\n  removeOperatorFileByName,\n  getFileBlob,\n  getFileByFilename\n}\n\nasync function getFileBlob (url, filename) {\n  const requestOptions = {\n    method: 'GET',\n    responseType: 'blob'\n  }\n  return window.fetch(url, requestOptions).then(resp => handleDownloadResponse(resp, filename))\n}\n\nasync function getFileByFilename (id, filename) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader()\n  }\n  return fetch(`${apiUrl}/OperatorFiles/id/${id}/filename/${filename}`, requestOptions).then(handleResponse)\n}\n\nasync function sendOperatorFile (id, data, fileName = null) {\n  const url = fileName ? `${apiUrl}/OperatorFiles/upload/${id}/filename/${fileName}` : `${apiUrl}/OperatorFiles/upload/${id}`\n  const formData = new FormData()\n\n  formData.append('file', data.file, data.file.name)\n\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader(),\n    body: formData\n  }\n\n  return await window.fetch(url, requestOptions).then(handleResponse)\n}\n\nasync function getOperatorFiles (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader()\n  }\n\n  return await window.fetch(`${apiUrl}/OperatorFiles/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function removeOperatorFileByName (id, name) {\n  const requestOptions = {\n    method: 'DELETE',\n    headers: await callForHeader()\n  }\n\n  return await window.fetch(`${apiUrl}/OperatorFiles/id/${id}/filename/${name}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 404) {\n        return []\n      }\n      if (response.status === 500) {\n        return []\n      }\n\n      if (response.status === 400) {\n        return [data]\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n    return data\n  })\n}\n\nfunction handleDownloadResponse (response, filename) {\n  return response.blob()\n    .then((blob) => {\n      // Create blob link to download\n      const url = window.URL.createObjectURL(\n        new Blob([blob])\n      )\n      const link = document.createElement('a')\n      link.href = url\n      link.setAttribute(\n        'download',\n        filename\n      )\n\n      // Append to html link element page\n      document.body.appendChild(link)\n\n      // Start download\n      link.click()\n\n      // Clean up and remove the link\n      link.parentNode.removeChild(link)\n    }\n    )\n}\n","import { callForHeader } from '../utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const operatTypeService = {\n  getTypeParams\n}\n\nasync function getTypeParams (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(`${apiUrl}/OperatType/id/${id}/params`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    let data = ''\n    if (text.startsWith('Data')) {\n      data = text\n    } else {\n      if (text.startsWith('\"{')) {\n        text = text\n          .replace(/\\\\\\\\n/g, '\\\\n')\n          .replace('\"{', '{')\n          .replace('}\"', '}')\n          .replace(/\\s+/g, ' ')\n          .replace(/\\\\\"/g, '\"')\n        data = JSON.parse(text)\n      } else {\n        data = text && JSON.parse(text)\n      }\n    }\n    if (!response.ok) {\n      if (response.status === 404) {\n        // TODO auto logout if 404 response returned from api\n        return []\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n\n    return data\n  })\n}\n","import { callForHeader } from 'utils/HeadersCall'\n\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const userService = {\n  getUserType\n}\n\nasync function getUserType (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader()\n  }\n\n  return await window.fetch(`${apiUrl}/User/id/${id}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n    const pageCount = response.headers.get('X-Page-Count')\n    pageCount && localStorage.setItem('pageCount', pageCount)\n    return data\n  }).then(data => { return data })\n}\n","import { callForHeader } from 'utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const adminService = {\n  getAdminDataById,\n  promote,\n  updateUserInfo\n}\n\nasync function updateUserInfo (body) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(body)\n  }\n\n  return await window.fetch(`${apiUrl}/Admin/by-repo`, requestOptions).then(handleResponse)\n}\n\nasync function getAdminDataById (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Admin/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function promote (operatorId) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader()\n  }\n\n  return await window.fetch(`${apiUrl}/Admin/promote/operatorid/${operatorId}`, requestOptions).then((response) => handleResponse(response, true))\n}\n\nfunction handleResponse (response, promotion = false) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 400 && promotion) {\n        return response.status\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n\n    return data\n  })\n}\n","import { callForHeader } from '../utils/HeadersCall'\n\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const clientService = {\n  getAdminDataById,\n  createNewClient,\n  getClientData,\n  updateClient\n}\n\nasync function updateClient (body) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(body)\n  }\n\n  return await fetch(`${apiUrl}/Client/by-repo`, requestOptions).then((response) => handleResponse(response))\n}\n\nasync function getClientData (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n  return await fetch(`${apiUrl}/Client/id/${id}`, requestOptions).then(handleResponse)\n}\n\nasync function createNewClient (newClient) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(newClient)\n  }\n\n  return await window.fetch(`${apiUrl}/Client`, requestOptions).then(handleResponse)\n}\n\nasync function getAdminDataById (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Client/id/${id}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 400) {\n        // TODO auto logout if 400 response returned from api\n        return []\n      }\n      if (response.status === 404) {\n        // TODO auto logout if 404 response returned from api\n        return false\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n    return data\n  })\n}\n","import { callForHeader } from '../utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const clientFilesService = {\n  getFiles\n}\n\nasync function getFiles (id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return window.fetch(`${apiUrl}/ClientFiles/id/${id}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 404) {\n        return []\n      }\n\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n    return data\n  }).then(data => { return data })\n}\n","import { callForHeader } from '../utils/HeadersCall'\n\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const landRegisterService = {\n  get,\n  check\n}\n\nasync function get (code) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  const url = encodeURIComponent(`${apiUrl}/LandRegister/data/${code}`)\n  return await fetch(url, requestOptions).then((response) => handleResponse(response))\n}\n\nasync function check (code) {\n  const requestOptions = {\n    method: 'GET',\n    headers: await callForHeader('json')\n  }\n\n  return await fetch(`${apiUrl}/LandRegister/check/${code}`, requestOptions).then((response) => handleResponse(response))\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      const error = (data && data) || response.statusText\n      return Promise.reject(error)\n    }\n    return data\n  })\n}\n","import { callForHeader } from 'utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const mapService = {\n  get\n}\n\nasync function get (address, type, zoom = 15) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json')\n  }\n\n  return await window.fetch(`${apiUrl}/Map/img?address=${address}&type=${type}&zoom=${zoom}`, requestOptions).then(response => response.blob())\n}\n","import LoadingIndicator from 'components/LoadingIndicator'\nimport React, { useEffect, useState, useRef } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router'\nimport { Button, Col, Row, UncontrolledTooltip } from 'reactstrap'\nimport { showConfirmBox } from 'utils/showConfirmBox'\nimport { hideLoadingScreen, showLoadingScreen } from 'views/Modal/actions'\nimport { modalTypeConstants } from '../../constants'\nimport { operatFilesService, operatService } from '../../services'\nfunction HistoryRow (props) {\n  const { t } = useTranslation('common')\n  const dispatch = useDispatch()\n  const [operat, setOperat] = useState(null)\n  const history = useHistory()\n  const inputFile = useRef(null)\n  const inputFileSigned = useRef(null)\n  useEffect(() => {\n    setOperat(props.row)\n    props.handleLoadOperatOrder()\n    // eslint-disable-next-line\n  }, [])\n\n  const downloadOperat = () => {\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'downloadOperat', translate: true }))\n    operatFilesService.getFilesByOperat(operat.id).then(response => {\n      for (const file of response) {\n        if (file.item2.includes('signed.pdf') || file.item2.includes('unsigned.pdf')) {\n          dispatch(hideLoadingScreen())\n          let childWindow = window.open(file.item2, '_blank');\n          childWindow.location.reload(); \n          return\n        }\n      }\n      dispatch(hideLoadingScreen())\n      dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'downloadOperatFailed', translate: true }))\n    }).catch(err => {dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'downloadOperatFailed', translate: true }))})\n  }\n\n  const signPdf = () => {\n    dispatch(showLoadingScreen(modalTypeConstants.SIGN_OPERAT))\n  }\n\n  const redirectToOperatPage = (id) => {\n    const search = new URLSearchParams()\n    search.set('id', id || operat.id)\n    history.push({ pathname: '/create', search: search.toString() })\n  }\n\n  return (\n    <div>\n      {props.operatOrder.loading\n        ? <LoadingIndicator />\n        : <div>\n          <Row>\n            <Col>\n              <Button\n                color='info'\n                type='submit'\n                onClick={() => {\n                  redirectToOperatPage()\n                }}\n                disabled={operat && operat.isOwnGenerated}\n                style={{ width: '100%' }}\n              >\n                {t('history.table.buttons.showOperat')}\n              </Button>\n            </Col>\n            <Col>\n              <Button\n                color='info' type='submit' onClick={() => {\n                  operatService.copyOperat(operat.id).then(result => {\n                    props.handleLoadOperats()\n                    props.handleSetActiveOperat(result)\n                    redirectToOperatPage(result.id)\n                  }).catch(err => {\n                    if (typeof (err) === 'object' && err.hasOwnProperty('status') && err.status === 402) {\n                      dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'unactiveSubscription', translate: true }))\n                    } else {\n                      dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'operatCopyFailed', translate: true }))\n                    }\n                  })\n                }}\n                disabled={operat && operat.isOwnGenerated}\n                style={{ width: '100%' }}\n              >\n                {t('history.table.buttons.copy')}\n              </Button>\n            </Col>\n            <Col>\n              <Button\n                color='info' type='file' onClick={() => inputFile.current.click()} disabled={(props.operatOrder.operatOrder.shouldBeValidated && props.operatOrder.operatOrder.shouldBeValidated) || (operat && operat.status.toLowerCase() === 'signed')}\n                id='upload-own-generated-btn'\n                style={{ width: '100%' }}\n              >\n                {t('history.table.buttons.upload')}\n              </Button>\n            </Col>\n            <UncontrolledTooltip\n              placement='top'\n              target='upload-own-generated-btn'\n            >\n              Przycisk suy do wgrywania wasnego operatu, wygenerowanego poza platform Aoperat.\n            </UncontrolledTooltip>\n            <input\n              type='file'\n              id='file-upload-own-operat'\n              ref={inputFile}\n              style={{ display: 'none' }}\n              accept='.pdf'\n              onChange={(event) => props.handleUploadOwnGeneratedOperat(operat.id, event.currentTarget.files[0])}\n            />\n            <Col>\n              <Button\n                disabled={operat && !['generated', 'signed'].includes(operat.status.toLowerCase())}\n                color='info' onClick={() => {\n                  downloadOperat()\n                }}\n                style={{ width: '100%' }}\n              >\n                {t('history.table.buttons.download')}\n              </Button>\n            </Col>\n          </Row>\n          <br />\n          <Row>\n            <Col>\n              <Button\n                disabled={operat && operat.status.toLowerCase() !== 'generated'} color='info'\n                onClick={() => { dispatch(showLoadingScreen(modalTypeConstants.ATTACHMENTS_OPTIONS, { id: operat.id })) }}\n                style={{ width: '100%' }}\n              >\n                Zarzdzaj zacznikami\n              </Button>\n            </Col>\n            <Col>\n              <Button disabled={operat && operat.status.toLowerCase() !== 'generated'} color='info' type='submit' onClick={() => { signPdf() }} style={{ width: '100%' }}>\n                {t('history.table.buttons.sign')}\n              </Button>\n            </Col>\n            <Col>\n              <Button\n                color='info' type='file' onClick={() => inputFileSigned.current.click()} disabled={operat && operat.status.toLowerCase() === 'signed'}\n                id='upload-signed-btn'\n                style={{ width: '100%' }}\n              >\n                {t('history.table.buttons.uploadSigned')}\n              </Button>\n            </Col>\n            <UncontrolledTooltip\n              placement='top'\n              target='upload-signed-btn'\n            >\n              Przycisk suy do wgrywania podpisanego operatu, po uprzednim wygenerowaniu go w platformie Aoperat i podpisaniu go np. poprzez profil zaufany.\n            </UncontrolledTooltip>\n            <input\n              type='file'\n              id='file-upload-signed-operat'\n              ref={inputFileSigned}\n              style={{ display: 'none' }}\n              accept='.pdf'\n              onChange={(event) => props.handleUploadSignedOperat(operat.id, event.currentTarget.files[0])}\n            />\n            <Col>\n              <Button disabled={operat && operat.status.toLowerCase() !== 'signed'} color='info' type='submit' onClick={() => { dispatch(showLoadingScreen(modalTypeConstants.SEND_OPERAT_MODAL, { operat: props.row, sendFunction: props.handleSendPdf })) }} style={{ width: '100%' }}>\n                {t('history.table.buttons.send')}\n              </Button>\n            </Col>\n\n          </Row>\n          <br />\n          <Row>\n            <Col>\n              <Button disabled={operat && operat.status.toLowerCase() === 'signed'} color='danger' onClick={() => showConfirmBox(t('history.table.confirm.message'), t('history.table.confirm.warning'), () => props.handleRemoveOperat())} style={{ width: '100%' }}>\n                {t('history.table.buttons.delete')}\n              </Button>\n            </Col>\n            <Col />\n            <Col />\n            <Col />\n          </Row>\n        </div>}\n    </div>\n\n  )\n}\n\nexport default HistoryRow\n","export const capitalizeFirstLetter = (string) => {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n","export const LOAD_OPERATS = 'LOAD_OPERATS'\nexport const OPERATS_LOADED = 'OPERATS_LOADED'\nexport const LOAD_OPERATS_ERROR = 'LOAD_OPERATS_ERROR'\nexport const REMOVE_OPERAT = 'REMOVE_OPERAT'\nexport const SET_ACTIVE_OPERAT = 'SET_ACTIVE_OPERAT'\nexport const CREATE_OPERAT = 'CREATE_OPERAT'\nexport const SELECT_OPERAT_TYPE = 'SELECT_OPERAT_TYPE'\nexport const SET_PAGE_NUMBER = 'SET_PAGE_NUMBER'\nexport const LOAD_OPERAT_ORDER = 'LOAD_OPERAT_ORDER'\nexport const OPERAT_ORDER_LOADED = 'OPERAT_ORDER_LOADED'\nexport const LOAD_OPERAT_ORDER_ERROR = 'LOAD_OPERAT_ORDER_ERROR'\nexport const SEND_PDF = 'SEND_PDF'\nexport const UPLOAD_OWN_GENERATED = 'UPLOAD_OWN_GENERATED'\nexport const SET_OPERATS_FILTERS = 'SET_OPERATS_FILTERS'\nexport const SET_OPERATS_SORT_PARAMETERS = 'SET_OPERATS_SORT_PARAMETERS'\nexport const UPLOAD_SIGNED_OPERAT = 'UPLOAD_SIGNED_OPERAT'\n","/* eslint-disable default-param-last */\nimport produce from 'immer'\nimport { capitalizeFirstLetter } from 'utils/capitalizeFirstLetter'\nimport {\n  LOAD_OPERATS, LOAD_OPERATS_ERROR, LOAD_OPERAT_ORDER,\n  LOAD_OPERAT_ORDER_ERROR, OPERATS_LOADED, OPERAT_ORDER_LOADED,\n  SELECT_OPERAT_TYPE, SET_ACTIVE_OPERAT, SET_PAGE_NUMBER,\n  SET_OPERATS_FILTERS, SET_OPERATS_SORT_PARAMETERS\n} from './constants'\n\nexport const initialState = {\n  activeOperat: {\n\n  },\n  operatOrder: {\n    loading: false,\n    error: false,\n    operatOrder: {}\n  },\n  selectedOperatType: {\n\n  },\n  operats: {\n    loading: false,\n    error: false,\n    sortFieldName: 'CreatedDateTime',\n    sortDirection: 'desc',\n    filters: {\n      createdDateTimeFrom: '',\n      createdDateTimeTo: ''\n    },\n    operats: []\n  },\n  pageNumber: 1\n\n}\n\n/* eslint-disable default-case, no-param-reassign */\nconst operatsPageReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case LOAD_OPERATS:\n        draft.operats.operats = []\n        draft.operats.loading = true\n        draft.operats.error = false\n        break\n      case LOAD_OPERATS_ERROR:\n        draft.operats.loading = false\n        draft.operats.error = action.payload\n        break\n      case OPERATS_LOADED:\n        draft.operats.operats = action.payload\n        draft.operats.loading = false\n        draft.operats.error = false\n        break\n      case SET_ACTIVE_OPERAT:\n        draft.activeOperat = action.payload\n        break\n      case SELECT_OPERAT_TYPE:\n        draft.selectedOperatType = action.payload\n        break\n      case SET_PAGE_NUMBER:\n        draft.pageNumber = action.payload\n        break\n      case LOAD_OPERAT_ORDER:\n        draft.operatOrder.operatOrder = {}\n        draft.operatOrder.loading = true\n        draft.operatOrder.error = false\n        break\n      case OPERAT_ORDER_LOADED:\n        draft.operatOrder.operatOrder = action.payload\n        draft.operatOrder.error = false\n        draft.operatOrder.loading = false\n        break\n      case LOAD_OPERAT_ORDER_ERROR:\n        draft.operatOrder.loading = false\n        draft.operatOrder.error = action.payload\n        break\n      case SET_OPERATS_FILTERS:\n        draft.operats.filters = action.payload\n        break\n      case SET_OPERATS_SORT_PARAMETERS:\n        draft.operats.sortFieldName = capitalizeFirstLetter(action.payload)\n        draft.operats.sortDirection = draft.operats.sortDirection === 'asc' ? 'desc' : 'asc'\n        break\n    }\n  })\n\nexport default operatsPageReducer\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectOperatsPage = (state) => state.operatsPage || initialState\n\nconst makeSelectActiveOperat = () =>\n  createSelector(selectOperatsPage, (state) => state.activeOperat)\n\nconst makeSelectOperats = () =>\n  createSelector(selectOperatsPage, (state) => state.operats)\n\nconst makeSelectSelectedOperatType = () =>\n  createSelector(selectOperatsPage, (state) => state.selectedOperatType)\nconst makeSelectPageNumber = () =>\n  createSelector(selectOperatsPage, (state) => state.pageNumber)\n\nconst makeSelectOperatOrder = () =>\n  createSelector(selectOperatsPage, (state) => state.operatOrder)\n\nexport {\n  selectOperatsPage,\n  makeSelectActiveOperat,\n  makeSelectOperats,\n  makeSelectSelectedOperatType,\n  makeSelectPageNumber,\n  makeSelectOperatOrder\n}\n","import {\n  CREATE_OPERAT, LOAD_OPERATS, LOAD_OPERATS_ERROR,\n  UPLOAD_OWN_GENERATED, SEND_PDF, LOAD_OPERAT_ORDER,\n  LOAD_OPERAT_ORDER_ERROR, OPERATS_LOADED, OPERAT_ORDER_LOADED,\n  REMOVE_OPERAT, SELECT_OPERAT_TYPE, SET_ACTIVE_OPERAT,\n  SET_PAGE_NUMBER, SET_OPERATS_FILTERS,\n  SET_OPERATS_SORT_PARAMETERS,\n  UPLOAD_SIGNED_OPERAT\n} from './constants'\n\nexport function loadOperats () {\n  return {\n    type: LOAD_OPERATS\n  }\n}\n\nexport function operatsLoaded (operats) {\n  return {\n    type: OPERATS_LOADED,\n    payload: operats\n  }\n}\n\nexport function loadOperatsError (error) {\n  return {\n    type: LOAD_OPERATS_ERROR,\n    payload: error\n  }\n}\n\nexport function removeOperat () {\n  return {\n    type: REMOVE_OPERAT\n  }\n}\n\nexport function setActiveOperat (operat) {\n  return {\n    type: SET_ACTIVE_OPERAT,\n    payload: operat\n  }\n}\n\nexport function createOperat (operat, operatTypeParameters, orderless = true) {\n  return {\n    type: CREATE_OPERAT,\n    payload: {\n      operat,\n      operatTypeParameters,\n      orderless\n    }\n  }\n}\n\nexport function selectOperatType (operatType) {\n  return {\n    type: SELECT_OPERAT_TYPE,\n    payload: operatType\n  }\n}\n\nexport function setPageNumber (pageNumber) {\n  return {\n    type: SET_PAGE_NUMBER,\n    payload: pageNumber\n  }\n}\n\nexport function loadOperatOrder () {\n  return {\n    type: LOAD_OPERAT_ORDER\n  }\n}\n\nexport function operatOrderLoaded (operatOrder) {\n  return {\n    type: OPERAT_ORDER_LOADED,\n    payload: operatOrder\n  }\n}\n\nexport function loadOperatOrderError (error) {\n  return {\n    type: LOAD_OPERAT_ORDER_ERROR,\n    payload: error\n  }\n}\n\nexport function sendPdf (id, emails, sendToPrincipal) {\n  return {\n    type: SEND_PDF,\n    id,\n    emails,\n    sendToPrincipal\n  }\n}\n\nexport function uploadOwnGeneratedOperat (id, file) {\n  return {\n    type: UPLOAD_OWN_GENERATED,\n    id,\n    file\n  }\n}\n\nexport function uploadSignedOperat (id, file) {\n  return {\n    type: UPLOAD_SIGNED_OPERAT,\n    id,\n    file\n  }\n}\n\nexport function setOperatFilters (payload) {\n  return {\n    type: SET_OPERATS_FILTERS,\n    payload\n  }\n}\n\nexport function setOperatSortParameters (payload) {\n  return {\n    type: SET_OPERATS_SORT_PARAMETERS,\n    payload\n  }\n}\n","export const SET_USER_ID = 'SET_USER_ID'\nexport const LOAD_OPERAT_TYPES = 'LOAD_OPERAT_TYPES'\nexport const OPERAT_TYPES_LOADED = 'OPERAT_TYPES_LOADED'\nexport const LOAD_OPERAT_TYPES_ERROR = 'LOAD_OPERAT_TYPES_ERROR'\nexport const LOAD_USER = 'LOAD_USER'\nexport const USER_LOADED = 'USER_LOADED'\nexport const LOAD_USER_ERROR = 'LOAD_USER_ERROR'\nexport const LOAD_EKW_DATA = 'LOAD_EKW_DATA'\nexport const EKW_DATA_LOADED = 'EKW_DATA_LOADED'\nexport const LOAD_PUBLIC_SETTINGS = 'LOAD_PUBLIC_SETTINGS'\nexport const PUBLIC_SETTINGS_LOADED = 'PUBLIC_SETTINGS_LOADED'\nexport const SET_NOTIFY_REGISTER = 'SET_NOTIFY_REGISTER'\n","/* eslint-disable default-param-last */\nimport produce from 'immer'\nimport {\n  EKW_DATA_LOADED,\n  LOAD_OPERAT_TYPES,\n  LOAD_OPERAT_TYPES_ERROR,\n  LOAD_USER,\n  LOAD_USER_ERROR,\n  OPERAT_TYPES_LOADED,\n  PUBLIC_SETTINGS_LOADED,\n  USER_LOADED\n} from './constants'\n\nexport const initialState = {\n  operatTypes: {\n    loading: false,\n    error: false,\n    operatTypes: []\n  },\n  user: {\n    userType: '',\n    loading: false,\n    error: false,\n    user: {}\n  },\n  ekw: {\n    regions: [],\n    weights: [],\n    multipliers: []\n  },\n  publicSettings: {}\n}\n\n/* eslint-disable default-case, no-param-reassign */\nconst globalReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case LOAD_OPERAT_TYPES:\n        draft.operatTypes.operatTypes = []\n        draft.operatTypes.error = false\n        draft.operatTypes.loading = true\n        break\n      case OPERAT_TYPES_LOADED:\n        draft.operatTypes.operatTypes = action.payload\n        draft.operatTypes.loading = false\n        draft.operatTypes.error = false\n        break\n      case LOAD_OPERAT_TYPES_ERROR:\n        draft.operatTypes.loading = false\n        draft.operatTypes.error = action.payload\n        break\n      case LOAD_USER:\n        draft.user.loading = true\n        draft.user.error = false\n        draft.user.user = {}\n        draft.user.userType = ''\n        break\n      case USER_LOADED:\n        draft.user.userType = action.payload.userType\n        draft.user.user = action.payload.user\n        draft.user.loading = false\n        draft.user.error = false\n        break\n      case LOAD_USER_ERROR:\n        draft.user.loading = false\n        draft.user.error = action.payload\n        break\n      case EKW_DATA_LOADED:\n        draft.ekw = action.payload\n        break\n      case PUBLIC_SETTINGS_LOADED:\n        draft.publicSettings = action.payload\n        break\n    }\n  })\nexport default globalReducer\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectGlobal = (state) => state.global || initialState\n\nconst makeSelectUser = () =>\n  createSelector(selectGlobal, (state) => state.user)\n\nconst makeSelectOperatTypes = () =>\n  createSelector(selectGlobal, (state) => state.operatTypes)\n\nconst makeSelectEkw = () =>\n  createSelector(selectGlobal, state => state.ekw)\n\nconst makeSelectPublicSettings = () =>\n  createSelector(selectGlobal, state => state.publicSettings)\n\nexport {\n  selectGlobal,\n  makeSelectUser,\n  makeSelectOperatTypes,\n  makeSelectEkw,\n  makeSelectPublicSettings\n}\n","import { conformsTo, isFunction, isObject } from 'lodash'\nimport invariant from 'invariant'\n\n/**\n * Validate the shape of redux store\n */\nexport default function checkStore (store) {\n  const shape = {\n    dispatch: isFunction,\n    subscribe: isFunction,\n    getState: isFunction,\n    replaceReducer: isFunction,\n    runSaga: isFunction,\n    injectedReducers: isObject,\n    injectedSagas: isObject\n  }\n  invariant(\n    conformsTo(store, shape),\n    '(app/utils...) injectors: Expected a valid redux store'\n  )\n}\n","import { createBrowserHistory } from 'history'\nconst history = createBrowserHistory()\nexport default history\n","export const LOAD_ORDERS = 'LOAD_ORDERS'\nexport const SET_ORDERS_PAGE_NUMBER = 'SET_ORDERS_PAGE_NUMBER'\nexport const ORDERS_LOADED = 'ORDERS_LOADED'\nexport const LOAD_ORDERS_ERROR = 'LOAD_ORDERS_ERROR'\nexport const SAVE_ORDER = 'SAVE_ORDER'\nexport const ORDER_SAVED = 'ORDER_SAVED'\nexport const SAVE_ORDER_ERROR = 'SAVE_ORDER_ERROR'\nexport const REPLACE_ORDER = 'REPLACE_ORDER'\nexport const ORDER_REPLACED = 'ORDER_REPLACED'\nexport const LOAD_PROPOSITIONS = 'LOAD_PROPOSITIONS'\nexport const PROPOSITIONS_LOADED = 'PROPOSITIONS_LOADED'\nexport const LOAD_PROPOSITIONS_ERROR = 'LOAD_PROPOSITIONS_ERROR'\nexport const SAVE_PROPOSITION = 'SAVE_PROPOSITION'\nexport const RESERVE_ORDER_AND_PROPOSITION = 'RESERVE_ORDER_AND_PROPOSITION'\nexport const UNRESERVE_PROPOSITION = 'UNRESERVE_PROPOSITION'\nexport const SET_PROPOSITION_ID = 'SET_PROPOSITION_ID'\nexport const PROPOSITION_REPLACED = 'PROPOSITION_REPLACED'\nexport const REMOVE_ORDER = 'REMOVE_ORDER'\nexport const SET_ACTIVE_ORDER = 'SET_ACTIVE_ORDER'\nexport const ORDER_REMOVED = 'ORDER_REMOVED'\nexport const SET_ORDER_SORT_PARAMETERS = 'SET_ORDER_SORT_PARAMETERS'\nexport const SET_ORDER_FILTERS = 'SET_ORDER_FILTERS'\nexport const SET_PROPOSITIONS_SORT_PARAMETERS = 'SET_PROPOSITIONS_SORT_PARAMETERS'\nexport const SET_PROPOSITIONS_FILTER = 'SET_PROPOSITIONS_FILTER'\nexport const CLEAR_PROPOSITION_FILTERS = 'CLEAR_PROPOSITION_FILTERS'\nexport const PAY_FOR_OPERAT = 'PAY_FOR_OPERAT'\n","/* eslint-disable default-param-last */\nimport produce from 'immer'\nimport { capitalizeFirstLetter } from 'utils/capitalizeFirstLetter'\nimport {\n  LOAD_ORDERS, SET_ORDERS_PAGE_NUMBER, ORDERS_LOADED,\n  LOAD_ORDERS_ERROR,\n  SAVE_ORDER, ORDER_SAVED, SAVE_ORDER_ERROR, ORDER_REPLACED,\n  LOAD_PROPOSITIONS, PROPOSITIONS_LOADED, LOAD_PROPOSITIONS_ERROR,\n  SET_PROPOSITION_ID, PROPOSITION_REPLACED, SET_ACTIVE_ORDER, ORDER_REMOVED,\n  SET_ORDER_SORT_PARAMETERS, SET_ORDER_FILTERS, SET_PROPOSITIONS_SORT_PARAMETERS,\n  SET_PROPOSITIONS_FILTER,\n  CLEAR_PROPOSITION_FILTERS\n} from './constants'\n\nexport const initialState = {\n  activeOrder: {\n    clientId: '',\n    status: '',\n    description: '',\n    operators: [],\n    hasOperator: false,\n    location: '',\n    locationPostCode: '',\n    lattitudeLongtitude: '',\n    requeiresZbpList: false,\n    isPrivate: false,\n    shouldBeValidate: false,\n    name: '',\n    createdDateTime: '',\n    id: ''\n  },\n  orders: {\n    loading: false,\n    error: false,\n    pageNumber: 1,\n    sortFieldName: null,\n    sortDirection: 'desc',\n    filters: {\n      locationPostCode: ''\n    },\n    orders: []\n  },\n  propositions: {\n    loading: false,\n    error: false,\n    sortFieldName: null,\n    sortDirection: 'desc',\n    filters: {\n      priceFrom: '',\n      priceTo: '',\n      upTillDateFrom: '',\n      upTillDateTo: ''\n    },\n    propositions: []\n  },\n  saveOrder: {\n    loading: false,\n    error: false\n  },\n  propositionId: ''\n}\n\n/* eslint-disable default-case, no-param-reassign */\nconst marketPageReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case SET_ORDER_SORT_PARAMETERS:\n        draft.orders.sortFieldName = capitalizeFirstLetter(action.fieldName)\n        draft.orders.sortDirection = draft.orders.sortDirection === 'asc' ? 'desc' : 'asc'\n        break\n      case LOAD_ORDERS:\n        draft.orders.orders = []\n        draft.orders.loading = true\n        draft.orders.error = false\n        break\n      case ORDERS_LOADED:\n        draft.orders.loading = false\n        draft.orders.orders = action.payload\n        draft.orders.error = false\n        break\n      case LOAD_ORDERS_ERROR:\n        draft.orders.loading = false\n        draft.orders.error = action.payload\n        break\n      case SET_ORDERS_PAGE_NUMBER:\n        draft.orders.pageNumber = action.payload\n        break\n      case SAVE_ORDER:\n        draft.saveOrder.error = false\n        draft.saveOrder.loading = true\n        break\n      case ORDER_SAVED:\n        draft.saveOrder.error = false\n        draft.saveOrder.loading = false\n        break\n      case SAVE_ORDER_ERROR:\n        draft.saveOrder.error = action.payload\n        draft.saveOrder.loading = false\n        break\n      case ORDER_REPLACED:\n        draft.activeOrder = action.payload\n        draft.orders.orders = [action.payload].concat(state.orders.orders.filter(x => x.id !== action.payload.id))\n        break\n      case LOAD_PROPOSITIONS:\n        draft.propositions.loading = true\n        draft.propositions.error = false\n        draft.propositions.propositions = []\n        break\n      case PROPOSITIONS_LOADED:\n        draft.propositions.loading = false\n        draft.propositions.error = false\n        draft.propositions.propositions = action.payload\n        break\n      case LOAD_PROPOSITIONS_ERROR:\n        draft.propositions.loading = false\n        draft.propositions.error = action.payload\n        break\n      case SET_PROPOSITION_ID:\n        draft.propositionId = action.payload\n        break\n      case PROPOSITION_REPLACED:\n        draft.propositions.propositions = state.propositions.propositions.filter(x => x.id !== action.payload.id).concat(action.payload)\n        break\n      case ORDER_REMOVED:\n        draft.orders.orders = state.orders.orders.filter(x => x.id !== action.payload)\n        break\n      case SET_ACTIVE_ORDER:\n        draft.activeOrder = action.payload\n        break\n      case SET_ORDER_FILTERS:\n        draft.orders.filters = action.payload\n        break\n      case SET_PROPOSITIONS_SORT_PARAMETERS:\n        draft.propositions.sortFieldName = capitalizeFirstLetter(action.payload)\n        draft.propositions.sortDirection = draft.propositions.sortDirection === 'asc' ? 'desc' : 'asc'\n        break\n      case SET_PROPOSITIONS_FILTER:\n        draft.propositions.filters = action.payload\n        break\n      case CLEAR_PROPOSITION_FILTERS:\n        draft.propositions.filters = initialState.propositions.filters\n        break\n    }\n  })\nexport default marketPageReducer\n","/* eslint-disable default-param-last */\nimport produce from 'immer'\nimport {\n  MODAL_SHOW_LOADING_SCREEN, MODAL_HIDE_LOADING_SCREEN\n} from './constants'\n\nexport const initialState = {\n  showModal: false,\n  type: '',\n  data: {}\n}\n\n/* eslint-disable default-case, no-param-reassign */\nconst modalReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case MODAL_SHOW_LOADING_SCREEN:\n        draft.showModal = true\n        draft.type = action.payload.type\n        draft.data = action.payload.data\n        break\n      case MODAL_HIDE_LOADING_SCREEN:\n        draft.showModal = false\n        draft.type = ''\n        draft.data = {}\n        break\n    }\n  })\nexport default modalReducer\n","export const SET_TRAININGS = 'SET_TRAININGS'\nexport const LOAD_TRAININGS = 'LOAD_TRAININGS'\nexport const TRAININGS_LOADED = 'TRAININGS_LOADED'\nexport const LOAD_TRAININGS_ERROR = 'LOAD_TRAININGS_ERROR'\nexport const LOAD_OPERATOR_PROFILE_DATA = 'LOAD_OPERATOR_PROFILE_DATA'\nexport const OPERATOR_PROFILE_DATA_LOADED = 'OPERATOR_PROFILE_DATA_LOADED'\nexport const LOAD_OPERATOR_PROFILE_DATA_ERROR = 'LOAD_OPERATOR_PROFILE_DATA_ERROR'\nexport const ADD_TRAINING = 'ADD_TRAINING'\nexport const REMOVE_TRAINING = 'REMOVE_TRAINING'\n","import { LOAD_TRAININGS, TRAININGS_LOADED, LOAD_TRAININGS_ERROR, LOAD_OPERATOR_PROFILE_DATA, LOAD_OPERATOR_PROFILE_DATA_ERROR, OPERATOR_PROFILE_DATA_LOADED } from './constants'\nimport produce from 'immer'\n\nexport const initialState = {\n  operatorId: '',\n  operatorProfileData: {\n    loading: false,\n    error: false,\n    trainings: [],\n    operatCount: 0,\n    reviews: [],\n    diploma: '',\n    operator: {}\n  },\n  trainings: {\n    loading: false,\n    error: false,\n    trainings: []\n  }\n}\n\nconst userReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    // eslint-disable-next-line default-case\n    switch (action.type) {\n      case LOAD_TRAININGS:\n        draft.trainings.trainings = []\n        draft.trainings.error = false\n        draft.trainings.loading = true\n        break\n      case TRAININGS_LOADED:\n        draft.trainings.trainings = action.payload\n        draft.trainings.error = false\n        draft.trainings.loading = false\n        break\n      case LOAD_TRAININGS_ERROR:\n        draft.trainings.error = action.payload\n        draft.trainings.loading = false\n        break\n      case LOAD_OPERATOR_PROFILE_DATA:\n        draft.operatorProfileData.loading = true\n        draft.operatorProfileData.error = false\n        draft.operatorProfileData.trainings = []\n        draft.operatorProfileData.operatCount = 0\n        draft.operatorProfileData.reviews = []\n        draft.operatorProfileData.diploma = ''\n        draft.operatorProfileData.operator = {}\n        break\n      case OPERATOR_PROFILE_DATA_LOADED:\n        draft.operatorProfileData.loading = false\n        draft.operatorProfileData.error = false\n        draft.operatorProfileData.trainings = action.payload.trainings\n        draft.operatorProfileData.operatCount = action.payload.operatCount\n        draft.operatorProfileData.reviews = action.payload.reviews\n        draft.operatorProfileData.diploma = action.payload.diploma\n        draft.operatorProfileData.operator = action.payload.operator\n        break\n      case LOAD_OPERATOR_PROFILE_DATA_ERROR:\n        draft.operatorProfileData.error = action.payload\n        draft.operatorProfileData.loading = false\n        break\n    }\n  })\nexport default userReducer\n","export const FILES_CLEAR_STATE = 'FILES_CLEAR_STATE'\nexport const FILES_GET_OPERAT = 'FILES_GET_OPERAT'\nexport const FILES_PUT_OPERAT = 'FILES_PUT_OPERAT'\nexport const FILES_GET_INPUT = 'FILES_GET_INPUT'\nexport const FILES_GET_PROTOCOL = 'FILES_GET_PROTOCOL'\nexport const FILES_GET_CSV = 'FILES_GET_CSV'\nexport const FILES_GET_BY_OPERAT = 'FILES_GET_BY_OPERAT'\nexport const FILES_LOADED = 'FILES_LOADED'\nexport const FILES_EDIT_OPERAT = 'FILES_EDIT_OPERAT'\nexport const FILES_LOAD_EMPTY_OPERAT = 'FILES_LOAD_EMPTY_OPERAT'\nexport const FILES_LOAD_OPERAT_TYPE = 'FILES_LOAD_OPERAT_TYPE'\nexport const FILES_ADD_LINE_TO_CSV = 'FILES_ADD_LINE_TO_CSV'\nexport const FILES_REMOVE_LINE_FROM_CSV = 'FILES_REMOVE_LINE_FROM_CSV'\nexport const FILES_LOAD_EMPTY_INPUT = 'FILES_LOAD_EMPTY_INPUT'\nexport const FILES_LOAD_EMPTY_PROTOCOL = 'FILES_LOAD_EMPTY_PROTOCOL'\nexport const FILES_LOAD_EMPTY_PHOTO = 'FILES_LOAD_EMPTY_PHOTO'\nexport const FILES_LOAD_PHOTO_FILE_TO_GALLERY = 'FILES_LOAD_PHOTO_FILE_TO_GALLERY'\nexport const FILES_SEND_PHOTOS = 'FILES_SEND_PHOTOS'\nexport const FILES_ADD_LINES_TO_CSV_FROM_CSV = 'FILES_ADD_LINES_TO_CSV_FROM_CSV'\nexport const FILES_PUT_PROTOCOL = 'FILES_PUT_PROTOCOL'\nexport const LOAD_OPERAT_INITIAL_WEIGHTS = 'LOAD_OPERAT_INITIAL_WEIGHTS'\nexport const REMOVE_PHOTOS = 'REMOVE_PHOTOS'\nexport const REMOVE_PHOTO_FILES = 'REMOVE_PHOTO_FILES'\nexport const DOWNLOAD_FROM_EKW = 'DOWNLOAD_FROM_EKW'\nexport const GENERATE_OPERAT = 'GENERATE_OPERAT'\nexport const GENERATE_PROTOCOL = 'GENERATE_PROTOCOL'\nexport const REMOVE_OPERAT_FROM_GENERATED = 'REMOVE_OPERAT_FROM_GENERATED'\nexport const SET_ALL_VALID = 'SET_ALL_VALID'\nexport const CALL_SET_ALL_VALID = 'CALL_SET_ALL_VALID'\nexport const SAVE_INPUT_AREA = 'SAVE_INPUT_AREA'\nexport const CSV_EDIT_CELL = 'CSV_EDIT_CELL'\nexport const SAVE_WEIGHTS_AREA = 'SAVE_WEIGHTS_AREA'\nexport const FILES_GET_WEIGHTS = 'FILES_GET_WEIGHTS'\nexport const FILES_PUT_WEIGHTS = 'FILES_PUT_WEIGHTS'\nexport const OPERAT_UPDATE_LIST = 'OPERAT_UPDATE_LIST'\nexport const OPERAT_UPDATE_PROTOCOL_LIST = 'OPERAT_UPDATE_PROTOCOL_LIST'\nexport const ADD_NEW_WEIGHT = 'ADD_NEW_WEIGHT'\nexport const PUT_RATE = 'PUT_RATE'\nexport const ADD_NEW_RATE = 'ADD_NEW_RATE'\nexport const REMOVE_WEIGHTS = 'REMOVE_WEIGHTS'\nexport const REMOVE_RATINGS = 'REMOVE_RATINGS'\nexport const SET_OPERAT = 'SET_OPERAT'\nexport const SAVE_CSV_AREA = 'SAVE_CSV_AREA'\n","import { DOWNLOAD_FROM_EKW, LOAD_OPERAT_INITIAL_WEIGHTS, FILES_PUT_PROTOCOL, SET_OPERAT, ADD_NEW_RATE, REMOVE_WEIGHTS, FILES_LOADED, REMOVE_RATINGS, FILES_PUT_WEIGHTS, PUT_RATE, ADD_NEW_WEIGHT, CSV_EDIT_CELL, FILES_ADD_LINES_TO_CSV_FROM_CSV, FILES_ADD_LINE_TO_CSV, FILES_CLEAR_STATE, FILES_EDIT_OPERAT, FILES_GET_CSV, FILES_GET_INPUT, FILES_GET_OPERAT, FILES_LOAD_EMPTY_INPUT, FILES_LOAD_EMPTY_OPERAT, FILES_LOAD_EMPTY_PHOTO, FILES_LOAD_OPERAT_TYPE, FILES_LOAD_PHOTO_FILE_TO_GALLERY, FILES_PUT_OPERAT, FILES_REMOVE_LINE_FROM_CSV, REMOVE_OPERAT_FROM_GENERATED, REMOVE_PHOTOS, REMOVE_PHOTO_FILES, SET_ALL_VALID, FILES_GET_WEIGHTS, OPERAT_UPDATE_LIST, FILES_LOAD_EMPTY_PROTOCOL, FILES_GET_PROTOCOL, OPERAT_UPDATE_PROTOCOL_LIST } from './constants'\nimport { v4 as uuidv4 } from 'uuid'\n\nimport produce from 'immer'\nexport const initialState = {\n  operatTypeId: '',\n  id: '',\n  files: {},\n  csv: [],\n  disabled: true,\n  input: [],\n  weights: [],\n  photo: {},\n  operat: {},\n  protocol: [],\n  // used to refresh photos, appended to the end of the link\n  randomString: Date.now()\n}\n\nconst operatReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    let ekw = ''\n    try {\n      ekw = action.payload && action.payload.ekw && JSON.parse(action.payload.ekw)\n    } catch (ex) {\n      ekw = ''\n    }\n\n    const updateList = (src) => {\n      let list = src[action.payload.id].data[action.payload.idx].value\n      if (action.payload.del) {\n        list.splice(action.payload.listIdx, 1)\n      } else {\n        list = [...list, action.payload.value]\n      }\n      src[action.payload.id].data[action.payload.idx].value = list\n    }\n    const input = draft.input\n    const kw = action.payload && action.payload.name && input.find(x => x.name === action.payload.name)\n    // eslint-disable-next-line default-case\n    switch (action.type) {\n      case SET_OPERAT:\n        draft.operat = action.payload\n        break\n      case FILES_CLEAR_STATE:\n        draft.input = []\n        draft.disabled = false\n        draft.id = ''\n        draft.photo = []\n        draft.csv = []\n        draft.files = []\n        draft.weights = []\n        draft.protocol = []\n        draft.randomString = Date.now()\n        break\n      case FILES_PUT_OPERAT:\n        draft.input[action.payload.id].data[action.payload.idx].value = action.payload.value\n        break\n      case FILES_PUT_PROTOCOL:\n        draft.protocol[action.payload.id].data[action.payload.idx].value = action.payload.value\n        break\n      case OPERAT_UPDATE_LIST:\n        updateList(draft.input)\n        break\n      case OPERAT_UPDATE_PROTOCOL_LIST:\n        updateList(draft.protocol)\n        break\n      case FILES_PUT_WEIGHTS: {\n        const cellIndex = draft.weights.findIndex(row => row.name === action.payload.name)\n        const cellToEdit = draft.weights[cellIndex]\n        cellToEdit[action.payload.dataField] = action.payload.newValue\n        draft.weights[cellIndex] = cellToEdit\n        break\n      }\n      case ADD_NEW_WEIGHT: {\n        draft.weights = [...draft.weights, {\n          name: uuidv4(),\n          description: 'opis',\n          participation: 20,\n          rate: 0,\n          justification: '',\n          ratings: [\n            {\n              rate: 0,\n              rateText: 'Wybierz ocen',\n              description: 'opis'\n            }\n          ]\n        }]\n        break\n      }\n      case ADD_NEW_RATE: {\n        draft.weights[action.payload.rowIndex].ratings = [...draft.weights[action.payload.rowIndex].ratings, {\n          id: uuidv4(),\n          rate: draft.weights[action.payload.rowIndex].ratings.length === 0 ? 0 : Math.max.apply(Math, draft.weights[action.payload.rowIndex].ratings.map(x => parseInt(x.rate))) + 1,\n          rateText: 'ocena',\n          description: 'opis'\n        }]\n        break\n      }\n      case PUT_RATE: {\n        const cellIndex = draft.weights[action.payload.rowIndex].ratings.findIndex(row => row.rate === action.payload.rate)\n        const cellToEdit = draft.weights[action.payload.rowIndex].ratings[cellIndex]\n        cellToEdit[action.payload.dataField] = action.payload.newValue\n        draft.weights[action.payload.rowIndex].ratings[cellIndex] = cellToEdit\n        break\n      }\n      case FILES_GET_OPERAT:\n        draft.disabled = action.payload.disabled\n        draft.id = action.payload.id\n        draft.input = action.payload.files\n        break\n      case FILES_LOAD_OPERAT_TYPE:\n        draft.input = action.payload.input\n        draft.photo = action.payload.photo\n        break\n      case FILES_LOAD_EMPTY_PHOTO:\n        draft.photo = action.payload\n        break\n      case FILES_LOAD_EMPTY_INPUT:\n        draft.input = action.payload\n        break\n      case FILES_LOAD_EMPTY_PROTOCOL:\n        draft.protocol = action.payload\n        break\n      case LOAD_OPERAT_INITIAL_WEIGHTS:\n        draft.weights = action.payload\n        break\n      case FILES_GET_INPUT:\n        draft.input = action.payload.input\n        break\n      case FILES_GET_PROTOCOL:\n        draft.protocol = action.payload.protocol\n        break\n      case FILES_GET_WEIGHTS:\n        draft.weights = action.payload.weights\n        break\n      case FILES_GET_CSV:\n        draft.csv = action.payload.csv\n        break\n      case FILES_LOADED:\n        draft.id = action.payload.id\n        draft.files = action.payload.files\n        draft.operatInfo = action.payload.operatInfo\n        draft.disabled = true\n        draft.operatTypeId = action.payload.operatTypeId\n        draft.randomString = Date.now()\n        break\n      case FILES_LOAD_EMPTY_OPERAT:\n        draft.disabled = action.payload.disabled\n        draft.id = action.payload.id\n        break\n      case FILES_EDIT_OPERAT:\n        draft.disabled = action.payload.disabled\n        break\n      case FILES_ADD_LINE_TO_CSV:\n        draft.csv = draft.csv.concat(action.payload.newRow)\n        break\n      case FILES_ADD_LINES_TO_CSV_FROM_CSV:\n        draft.csv = draft.csv.concat(action.payload.newRows)\n        break\n      case FILES_REMOVE_LINE_FROM_CSV:\n        draft.csv = draft.csv.filter(item => !action.payload.rows.includes(item.id))\n        break\n      case FILES_LOAD_PHOTO_FILE_TO_GALLERY:\n        if (!draft.photo.data[action.payload.id].data.some(x => x.id && x.id === action.payload.files.id)) {\n          draft.photo.data[action.payload.id].data.shift()\n          draft.photo.data[action.payload.id].data.push(action.payload.files)\n        }\n        break\n      case REMOVE_PHOTOS:\n        for (const i of draft.photo.data[action.payload.id].data) {\n          delete i.file\n          delete i.url\n          draft.files.photo = draft.files.photo.filter(x => x.item1 !== i.title)\n        }\n        break\n      case REMOVE_PHOTO_FILES:\n        for (const i of draft.photo.data[action.payload.id].data) {\n          delete i.file\n        }\n        break\n      case REMOVE_OPERAT_FROM_GENERATED:\n        draft.generated = draft.generated.filter(item => item.id !== action.payload)\n        break\n      case DOWNLOAD_FROM_EKW:\n        Object.entries(ekw).forEach(key => {\n          kw.data = kw.data.map(obj => obj.name === key ? { ...obj, value: ekw[key] } : obj)\n        })\n        draft.input = input.map(x => x.name === action.payload.name ? kw : x)\n        break\n      case SET_ALL_VALID:\n        for (let i = 0; i < draft.input.length; i++) {\n          if (draft.input[i].data) {\n            for (let j = 0; j < draft.input[i].data.length; j++) {\n              if (typeof draft.input[i].data[j].isValid !== 'undefined') {\n                draft.input[i].data[j].isValid = true\n              }\n            }\n          }\n        }\n        break\n      case REMOVE_WEIGHTS:\n      {\n        let indexes = []\n        for (let i = 0; i < action.payload.indexes.length; i++) {\n          indexes = [...indexes, draft.weights.findIndex(x => x.name === action.payload.indexes[i])]\n        }\n        for (let i = 0; i < indexes.length; i++) {\n          draft.weights.splice(indexes[i] - i, 1)\n        }\n        break\n      }\n      case REMOVE_RATINGS:\n      {\n        const ratings = [...draft.weights[action.payload.rowIndex].ratings]\n        let indexes = []\n        for (let i = 0; i < action.payload.indexes.length; i++) {\n          indexes = [...indexes, ratings.findIndex(x => x.id === action.payload.indexes[i])]\n        }\n        for (let i = 0; i < indexes.length; i++) {\n          ratings.splice(indexes[i] - i, 1)\n        }\n        for (let i = 0; i < ratings.length; i++) {\n          ratings[i].rate = i\n        }\n        draft.weights[action.payload.rowIndex].ratings = ratings\n        break\n      }\n      case CSV_EDIT_CELL:\n      {\n        const found = draft.csv.find(x => x.id === action.id)\n        if (found) {\n          found[action.columnToChange] = action.newValue\n        }\n        break\n      }\n    }\n  })\n\nexport default operatReducer\n","export const LOAD_USERS = 'LOAD_USERS'\nexport const USERS_LOADED = 'USERS_LOADED'\nexport const LOAD_USERS_ERROR = 'LOAD_USERS_ERROR'\nexport const SET_USER_TYPE = 'SET_USER_TYPE'\nexport const PROMOTE_USER = 'PROMOTE_USER'\nexport const DELETE_USER = 'DELETE_USER'\nexport const SET_USER_SORT_PARAMETERS = 'SET_USER_SORT_PARAMETERS'\nexport const SET_USERS_PAGE_NUMBER = 'SET_USERS_PAGE_NUMBER'\nexport const SET_USER_FILTERS = 'SET_USER_FILTERS'\n","/* eslint-disable default-param-last */\nimport produce from 'immer'\nimport { capitalizeFirstLetter } from 'utils/capitalizeFirstLetter'\nimport {\n  LOAD_USERS, USERS_LOADED, LOAD_USERS_ERROR, SET_USER_TYPE, SET_USER_SORT_PARAMETERS, SET_USERS_PAGE_NUMBER, SET_USER_FILTERS\n} from './constants'\n\nexport const initialState = {\n  userType: 'client',\n  users: {\n    loading: false,\n    error: false,\n    pageNumber: 1,\n    sortFieldName: null,\n    sortDirection: 'desc',\n    users: [],\n    filters: {\n      mail: '',\n      name: ''\n    }\n  }\n}\n\n/* eslint-disable default-case, no-param-reassign */\nconst usersPageReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case SET_USER_TYPE:\n        draft.userType = action.payload\n        break\n      case LOAD_USERS:\n        draft.users.loading = true\n        draft.users.error = false\n        break\n      case USERS_LOADED:\n        draft.users.loading = false\n        draft.users.users = action.payload\n        break\n      case LOAD_USERS_ERROR:\n        draft.users.loading = false\n        draft.users.error = action.payload\n        break\n      case SET_USER_SORT_PARAMETERS:\n        draft.users.sortFieldName = capitalizeFirstLetter(action.payload)\n        draft.users.sortDirection = draft.users.sortDirection === 'asc' ? 'desc' : 'asc'\n        break\n      case SET_USERS_PAGE_NUMBER:\n        draft.users.pageNumber = action.payload\n        break\n      case SET_USER_FILTERS:\n        draft.users.filters = action.payload\n        break\n    }\n  })\n\nexport default usersPageReducer\n","export const formatDate = (date) => {\n  const d = new Date(date)\n  let month = '' + (d.getMonth() + 1)\n  let day = '' + d.getDate()\n  const year = d.getFullYear()\n\n  if (month.length < 2) { month = '0' + month }\n  if (day.length < 2) { day = '0' + day }\n\n  return [year, month, day].join('-')\n}\n\nexport const toDateString = (date, monthNames) => {\n  console.log(monthNames)\n  const d = new Date(date)\n  let month = '' + (d.getMonth() + 1)\n  let day = '' + d.getDate()\n  const year = d.getFullYear()\n  let hours = '' + d.getHours()\n  let minutes = '' + d.getMinutes()\n  let seconds = '' + d.getSeconds()\n\n  if (month.length < 2) { month = '0' + month }\n  if (day.length < 2) { day = '0' + day }\n  if (hours.length < 2) { hours = '0' + hours }\n  if (minutes.length < 2) { minutes = '0' + minutes }\n  if (seconds.length < 2) { seconds = '0' + seconds }\n  return `${day} ${monthNames[d.getMonth()]} ${year}, ${hours}:${minutes}:${seconds}`\n}\n","export const LOAD_MESSAGES_WITH_USER = 'LOAD_MESSAGES_WITH_USER'\nexport const SET_CURRENTLY_CHAT_WITH = 'SET_CURRENTLY_CHAT_WITH'\nexport const SET_CONNECTION = 'SET_CONNECTION'\nexport const SET_MESSAGES_WITH_USER = 'SET_MESSAGES_WITH_USER'\nexport const LOAD_CONVERSATIONS = 'LOAD_CONVERSATIONS'\nexport const SET_CONVERSATION = 'SET_CONVERSATION'\nexport const MARK_CONVERSATION_AS_READ = 'MARK_CONVERSATION_AS_READ'\nexport const MARK_CONVERSATION_AS_UNREAD = 'MARK_CONVERSATION_AS_UNREAD'\nexport const SET_CHAT_IS_OPEN = 'SET_CHAT_IS_OPEN'\nexport const TOGGLE_MESSAGE_VISIBLE = 'TOGGLE_MESSAGE_VISIBLE'\nexport const MARK_MESSAGES_AS_SEEN = 'MARK_MESSAGES_AS_SEEN'\nexport const OPEN_CHAT = 'OPEN_CHAT'\n","/* eslint-disable default-param-last */\nimport produce from 'immer'\nimport { toDateString } from 'utils/DateFormat'\nimport {\n  LOAD_MESSAGES_WITH_USER,\n  SET_CURRENTLY_CHAT_WITH,\n  SET_CONNECTION,\n  SET_MESSAGES_WITH_USER,\n  LOAD_CONVERSATIONS,\n  MARK_CONVERSATION_AS_READ,\n  MARK_CONVERSATION_AS_UNREAD,\n  SET_CHAT_IS_OPEN,\n  TOGGLE_MESSAGE_VISIBLE,\n  MARK_MESSAGES_AS_SEEN\n} from './constants'\n\nexport const initialState = {\n  connection: {},\n  messages: {},\n  currentlyChatWith: {},\n  conversations: [],\n  chatIsOpen: false\n}\n\nconst markConversationAs = (draft, userId, status) => {\n  const found = draft.conversations.find(x => x.client.id === userId)\n  if (!found) return\n  const index = draft.conversations.indexOf(found)\n  found.unread = status\n  draft.conversations[index] = found\n}\n/* eslint-disable default-case, no-param-reassign */\nconst chatReducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case LOAD_MESSAGES_WITH_USER:\n        draft.messages[action.userId] = action.messages.map(x => ({ ...x, date: toDateString(x.date, action.monthNames) }))\n        break\n      case SET_CURRENTLY_CHAT_WITH:\n        draft.currentlyChatWith = action.payload\n        break\n      case SET_CONNECTION:\n        draft.connection = action.payload\n        break\n      case SET_MESSAGES_WITH_USER:\n        draft.messages[action.userId] = Object.prototype.hasOwnProperty.call(draft.messages, action.userId) ? draft.messages[action.userId] = [...draft.messages[action.userId], action.message] : [action.message]\n        break\n      case LOAD_CONVERSATIONS:\n        draft.conversations = action.payload\n        break\n      case MARK_CONVERSATION_AS_READ:\n        markConversationAs(draft, action.payload, false)\n        break\n      case MARK_CONVERSATION_AS_UNREAD:\n        markConversationAs(draft, action.payload, true)\n        break\n      case SET_CHAT_IS_OPEN:\n        draft.chatIsOpen = action.payload\n        break\n      case MARK_MESSAGES_AS_SEEN:\n        for (let i = 0; i < draft.messages[action.userId].length; i++) {\n          if (draft.messages[action.userId][i].author === 'me') {\n            draft.messages[action.userId][i].status = 'seen'\n          }\n        }\n        break\n      case TOGGLE_MESSAGE_VISIBLE:\n        for (let i = 0; i < draft.messages[action.userId].length; i++) {\n          if (draft.messages[action.userId][i].id === action.messageId) { continue }\n          draft.messages[action.userId][i].isStatusVisible = false\n          draft.messages[action.userId][i].isDateVisible = false\n        }\n        var found = draft.messages[action.userId].find(x => x.id === action.messageId)\n        if (!found) break\n        found.isStatusVisible = !found.isStatusVisible\n        found.isDateVisible = !found.isDateVisible\n        break\n    }\n  })\nexport default chatReducer\n","export const LOAD_OPERATORS_INFO = 'LOAD_OPERATORS_INFO'\nexport const OPERATORS_INFO_LOADED = 'OPERATORS_INFO_LOADED'\nexport const LOAD_OPERATORS_INFO_ERROR = 'LOAD_OPERATORS_INFO_ERROR'\nexport const SET_SUBSCRIPTION_PAGE_NUMBER = 'SET_SUBSCRIPTION_PAGE_NUMBER'\nexport const SET_OPERATORS_INFO_SORT_PARAMETER = 'SET_OPERATORS_INFO_SORT_PARAMETER'\nexport const SET_OPERATORS_INFO_FILTERS = 'SET_OPERATORS_INFO_FILTERS'\nexport const SET_CURRENT_OPERATOR = 'SET_CURRENT_OPERATOR'\nexport const UPDATE_SUBSCRIPTION = 'UPDATE_SUBSCRIPTION'\nexport const CREATE_SUBSCRIPTION = 'CREATE_SUBSCRIPTION'\nexport const RESET_SUBSCRIPTIONS = 'RESET_SUBSCRIPTIONS'\n","\nimport produce from 'immer'\nimport { LOAD_OPERATORS_INFO, LOAD_OPERATORS_INFO_ERROR, OPERATORS_INFO_LOADED, SET_OPERATORS_INFO_FILTERS, SET_OPERATORS_INFO_SORT_PARAMETER, SET_SUBSCRIPTION_PAGE_NUMBER, SET_CURRENT_OPERATOR } from './constants'\nimport { capitalizeFirstLetter } from 'utils/capitalizeFirstLetter'\n\nexport const initialState = {\n  operatorsInfo: {\n    loading: false,\n    error: false,\n    data: [],\n    pageNumber: 1,\n    sortFieldName: null,\n    sortDirection: 'desc',\n    filters: {\n      mail: '',\n      name: ''\n    }\n  },\n  currentOperator: {\n    id: '',\n    name: ''\n  }\n}\n\nconst subscriptionsReducer = (state = initialState, action) => produce(state, (draft) => {\n  // eslint-disable-next-line default-case\n  switch (action.type) {\n    case LOAD_OPERATORS_INFO:\n      draft.operatorsInfo.data = []\n      draft.operatorsInfo.error = false\n      draft.operatorsInfo.loading = true\n      break\n    case OPERATORS_INFO_LOADED:\n      draft.operatorsInfo.data = action.payload\n      draft.operatorsInfo.error = false\n      draft.operatorsInfo.loading = false\n      break\n    case LOAD_OPERATORS_INFO_ERROR:\n      draft.operatorsInfo.data = []\n      draft.operatorsInfo.loading = false\n      draft.operatorsInfo.error = action.payload\n      break\n    case SET_SUBSCRIPTION_PAGE_NUMBER:\n      draft.operatorsInfo.pageNumber = action.payload\n      break\n    case SET_OPERATORS_INFO_SORT_PARAMETER:\n      draft.operatorsInfo.sortDirection =\n        draft.operatorsInfo.sortDirection === 'asc' ? 'desc' : 'asc'\n      draft.operatorsInfo.sortFieldName = capitalizeFirstLetter(action.payload)\n      break\n    case SET_OPERATORS_INFO_FILTERS:\n      draft.operatorsInfo.filters = action.payload\n      break\n    case SET_CURRENT_OPERATOR:\n      draft.currentOperator = action.payload\n      break\n  }\n})\n\nexport default subscriptionsReducer\n","export const LOAD_HOME_PAGE_CONTENT = 'LOAD_HOME_PAGE_CONTENT'\nexport const HOME_PAGE_CONTENT_LOADED = 'HOME_PAGE_CONTENT_LOADED'\nexport const LOAD_HOME_PAGE_CONTENT_ERROR = 'LOAD_HOME_PAGE_CONTENT_ERROR'\n","\nimport produce from 'immer'\nimport { LOAD_HOME_PAGE_CONTENT, HOME_PAGE_CONTENT_LOADED, LOAD_HOME_PAGE_CONTENT_ERROR } from './constants'\n\nexport const initialState = {\n  pageContent: {\n    content: '',\n    loading: true,\n    error: false\n  }\n}\n\nconst subscriptionsReducer = (state = initialState, action) => produce(state, (draft) => {\n  // eslint-disable-next-line default-case\n  switch (action.type) {\n    case LOAD_HOME_PAGE_CONTENT:\n      draft.pageContent.content = ''\n      draft.pageContent.error = false\n      draft.pageContent.loading = true\n      break\n    case HOME_PAGE_CONTENT_LOADED:\n      draft.pageContent.content = action.payload\n      draft.pageContent.error = false\n      draft.pageContent.loading = false\n      break\n    case LOAD_HOME_PAGE_CONTENT_ERROR:\n      draft.pageContent.data = ''\n      draft.pageContent.loading = false\n      draft.pageContent.error = action.payload\n      break\n  }\n})\n\nexport default subscriptionsReducer\n","/**\n * Combine all reducers in this file and export the combined reducers.\n */\n\nimport { combineReducers } from 'redux'\nimport { connectRouter } from 'connected-react-router'\n\nimport history from 'utils/history'\nimport marketPageReducer from 'views/Market/reducer'\nimport globalReducer from 'views/App/reducer'\nimport operatsPageReducer from 'views/History/reducer'\nimport modalReducer from 'views/Modal/reducer'\nimport userReducer from 'views/User/reducer'\nimport operatReducer from 'views/Operat/reducer'\nimport usersPageReducer from 'views/Users/reducer'\nimport chatReducer from 'views/Chat/reducer'\nimport subscriptionsReducer from 'views/Subscriptions/reducer'\nimport homePageReducer from 'views/Home/reducer'\n/**\n  * Merges the main reducer with the router state and dynamically injected reducers\n  */\nexport default function createReducer (injectedReducers = {}) {\n  const rootReducer = combineReducers({\n    router: connectRouter(history),\n    ...injectedReducers,\n    marketPage: marketPageReducer,\n    operatsPage: operatsPageReducer,\n    global: globalReducer,\n    modal: modalReducer,\n    user: userReducer,\n    operat: operatReducer,\n    usersPage: usersPageReducer,\n    chat: chatReducer,\n    subscriptions: subscriptionsReducer,\n    homePage: homePageReducer\n  })\n\n  return rootReducer\n}\n","import invariant from 'invariant'\nimport { isEmpty, isFunction, isString } from 'lodash'\n\nimport checkStore from './checkStore'\nimport createReducer from '../reducers'\n\nexport function injectReducerFactory (store, isValid) {\n  return function injectReducer (key, reducer) {\n    if (!isValid) checkStore(store)\n\n    invariant(\n      isString(key) && !isEmpty(key) && isFunction(reducer),\n      '(app/utils...) injectReducer: Expected `reducer` to be a reducer function'\n    )\n\n    // Check `store.injectedReducers[key] === reducer` for hot reloading when a key is the same but a reducer is different\n    if (\n      Reflect.has(store.injectedReducers, key) &&\n      store.injectedReducers[key] === reducer\n    ) { return }\n\n    store.injectedReducers[key] = reducer // eslint-disable-line no-param-reassign\n    store.replaceReducer(createReducer(store.injectedReducers))\n  }\n}\n\nexport default function getInjectors (store) {\n  checkStore(store)\n\n  return {\n    injectReducer: injectReducerFactory(store, true)\n  }\n}\n","/* eslint-disable */\n\nimport React from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { ReactReduxContext } from 'react-redux';\n\nimport getInjectors from './reducerInjectors';\n\n/**\n * Dynamically injects a reducer\n *\n * @param {string} key A key of the reducer\n * @param {function} reducer A reducer that will be injected\n *\n */\nexport default ({ key, reducer }) =>\n  (WrappedComponent) => {\n    class ReducerInjector extends React.Component {\n      //static WrappedComponent = WrappedComponent;\n\n      //static contextType = ReactReduxContext;\n\n      static displayName = `withReducer(${\n        WrappedComponent.displayName || WrappedComponent.name || 'Component'\n      })`;\n\n      constructor(props, context) {\n        super(props, context);\n\n        getInjectors(context.store).injectReducer(key, reducer);\n      }\n\n      render() {\n        return <WrappedComponent {...this.props} />;\n      }\n    }\n\n    return hoistNonReactStatics(ReducerInjector, WrappedComponent);\n  };\n\nconst useInjectReducer = ({ key, reducer }) => {\n  const context = React.useContext(ReactReduxContext);\n  React.useEffect(() => {\n    getInjectors(context.store).injectReducer(key, reducer);\n  }, []);\n};\n\nexport { useInjectReducer };\n","import { history } from '../helpers'\n/**\n * Parses the JSON returned by a network request\n *\n * @param  {object} response A response from a network request\n *\n * @return {object}          The parsed JSON from the request\n */\nfunction parseJSON (response) {\n  if (response.status === 204 || response.status === 205) {\n    return null\n  }\n  console.log(response)\n\n  const pageCount = response.headers.get('X-Page-Count')\n  response.url.toLowerCase().includes('pagenumber') && pageCount && localStorage.setItem('pageCount', pageCount)\n  return response.json()\n}\n\n/**\n   * Checks if a network request came back fine, and throws an error if not\n   *\n   * @param  {object} response   A response from a network request\n   *\n   * @return {object|undefined} Returns either the response, or throws an error\n   */\nasync function checkStatus (response) {\n  if (response.status === 401) {\n    history.push('/logout')\n  }\n  if (response.status >= 200 && response.status < 300) {\n    return response\n  }\n  if (response.status === 403) {\n    const error = new Error('Forbidden')\n    error.response = response\n    throw error\n  }\n\n  const error = new Error(response.statusText)\n  const json = await response.json()\n  if (json.error) {\n    error.message = json.error.message\n  }\n  if (json.message) {\n    error.message = json.message\n  }\n\n  error.response = response\n  throw error\n}\n\n/**\n   * Requests a URL, returning a promise\n   *\n   * @param  {string} url       The URL we want to request\n   * @param  {object} [options] The options we want to pass to \"fetch\"\n   *\n   * @return {object}           The response data\n   */\nexport default function request (url, options) {\n  return fetch(process.env.REACT_APP_API_URL + url, options)\n    .then(checkStatus)\n    .then(parseJSON)\n}\n","import request from 'utils/request'\nimport { call, delay, race } from 'redux-saga/effects'\n\nconst delayTime = 2 * 60 * 1000\n\nexport function * handleRequestWithTimeout (requestUrl, requestOptions) {\n  const { result, timeout } = yield race({\n    result: call(request, requestUrl, requestOptions),\n    timeout: delay(delayTime)\n  })\n\n  if (timeout) {\n    throw new Error('Timeout of 120 sec exceeded')\n  }\n\n  return result\n}\n","export default function handleRawParameters (jsonString) {\n  const formattedJson = jsonString\n    .replace(/\\\\\\\\n/g, '\\\\n').replace('\"{', '{')\n    .replace('}\"', '}')\n    .replace(/\\s+/g, ' ')\n    .replace(/\\\\\"/g, '\"')\n  return JSON.parse(formattedJson)\n}\n","import { globalConstants, modalTypeConstants } from '../../constants'\nimport { call, put, select, takeLatest } from 'redux-saga/effects'\nimport request from 'utils/request'\nimport { loadOperatOrderError, loadOperats, loadOperatsError, operatOrderLoaded, operatsLoaded } from './actions'\nimport { CREATE_OPERAT, LOAD_OPERAT_ORDER, LOAD_OPERATS, REMOVE_OPERAT, SEND_PDF, UPLOAD_OWN_GENERATED, UPLOAD_SIGNED_OPERAT } from './constants'\nimport { makeSelectActiveOperat, makeSelectOperats, makeSelectPageNumber } from './selectors'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { callForHeader } from 'utils/HeadersCall'\nimport { addNotification } from 'utils/addNotification'\nimport { handleRequestWithTimeout } from 'views/Modal/timeout'\nimport handleRawParameters from 'utils/parametersMapper'\n\nexport function * getOperats () {\n  const pageNumber = yield select(makeSelectPageNumber())\n  const operats = yield select(makeSelectOperats())\n  let requestUrl\n  requestUrl = '/Operat/my?pageNumber=' + pageNumber\n  if (operats.filters.createdDateTimeFrom !== '') {\n    requestUrl += `&createdDateTimeFrom=${operats.filters.createdDateTimeFrom}`\n  }\n  if (operats.filters.createdDateTimeTo !== '') {\n    requestUrl += `&createdDateTimeTo=${operats.filters.createdDateTimeTo}`\n  }\n  if (operats.sortFieldName) {\n    requestUrl += `&fieldName=${operats.sortFieldName}&direction=${operats.sortDirection}`\n  }\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const operats = yield call(request, requestUrl, options)\n    yield put(operatsLoaded(operats))\n  } catch (err) {\n    yield put(loadOperatsError(err))\n  }\n}\n\nexport function * removeOperat () {\n  const activeOperat = yield select(makeSelectActiveOperat())\n  const requestUrl = `/Operat/id/${activeOperat.id}`\n  const headers = yield call(callForHeader)\n  const options = { method: 'DELETE', headers }\n  try {\n    yield call(request, requestUrl, options)\n    yield put(loadOperats())\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport function * saveOperat (action) {\n  yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'Trwa tworzenie operatu...' }))\n  const { operat, operatTypeParameters, orderless } = action.payload\n  const createOperatRequestUrl = '/Operat'\n  const parameters = handleRawParameters(operatTypeParameters)\n  const headers = yield call(callForHeader, 'json')\n  const creatOperatRequestOptions = { method: 'POST', headers, body: JSON.stringify(operat) }\n\n  try {\n    const response = yield call(request, createOperatRequestUrl, creatOperatRequestOptions)\n    const formData = new FormData()\n    const blob = new Blob([JSON.stringify({ weights: parameters.weights })], { type: 'application/json' })\n    formData.append('file', blob, 'weights.json')\n    const saveWeightsRequestOptions = {\n      method: 'POST',\n      headers: yield call(callForHeader),\n      body: formData\n    }\n    const saveWeightsRequestUrl = `/OperatFiles/upload/${response.id}/convert`\n    yield call(handleRequestWithTimeout, saveWeightsRequestUrl, saveWeightsRequestOptions)\n    if (orderless === true) {\n      yield put(loadOperats())\n    }\n    yield put(hideLoadingScreen())\n  } catch (err) {\n    if (err.response && err.response.status === 402) {\n      yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'unactiveSubscription', translate: true }))\n    } else {\n      yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'createOperatFailed', translate: true }))\n    }\n  }\n}\n\nexport function * getOperatOrder () {\n  const activeOperat = yield select(makeSelectActiveOperat())\n  if (activeOperat.orderId === globalConstants.EMPTY_GUID) {\n    yield put(operatOrderLoaded({}))\n    return\n  }\n  const requestUrl = '/Order/id/' + activeOperat.orderId\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'GET', headers }\n  try {\n    const order = yield call(request, requestUrl, options)\n    yield put(operatOrderLoaded(order))\n  } catch (err) {\n    yield put(loadOperatOrderError(err))\n  }\n}\n\nexport function * sendPdf (action) {\n  let requestUrl = `/Operat/id/${action.id}/send?sendToPrincipal=${action.sendToPrincipal}`\n  for (let i = 0; i < action.emails.length; i++) {\n    requestUrl += `&emails=${action.emails[i]}`\n  }\n  const headers = {\n    'Content-type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'POST', headers }\n  try {\n    yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'sendingOperat', translate: true }))\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(hideLoadingScreen())\n  } catch (err) {\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'sendingOperatFailed', translate: true }))\n    console.log(err)\n  }\n}\n\nexport function * uploadOperat (requestUrl, action) {\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const data = new FormData()\n  data.append('file', action.file)\n  const options = { method: 'POST', headers, body: data }\n  yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'loadingOperat', translate: true }))\n  yield call(handleRequestWithTimeout, requestUrl, options)\n  yield put(loadOperats())\n  yield put(hideLoadingScreen())\n  yield call(addNotification, 'Informacja', 'Operat zosta pomylnie wgrany na platform Aoperat.', 'info')\n}\n\nexport function * uploadOwnGeneratedOperat (action) {\n  const requestUrl = `/OperatFiles/id/${action.id}/own`\n  try {\n    yield call(uploadOperat, requestUrl, action)\n  } catch (err) {\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'uploadOperatFailed', translate: true }))\n  }\n}\n\nexport function * uploadSignedOperat (action) {\n  const requestUrl = `/OperatFiles/id/${action.id}/upload-signed`\n  try {\n    yield call(uploadOperat, requestUrl, action)\n  } catch (err) {\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'uploadSignedOperatFailed', translate: true }))\n  }\n}\n\nexport default function * globalData () {\n  yield takeLatest(LOAD_OPERATS, getOperats)\n  yield takeLatest(REMOVE_OPERAT, removeOperat)\n  yield takeLatest(CREATE_OPERAT, saveOperat)\n  yield takeLatest(LOAD_OPERAT_ORDER, getOperatOrder)\n  yield takeLatest(SEND_PDF, sendPdf)\n  yield takeLatest(UPLOAD_OWN_GENERATED, uploadOwnGeneratedOperat)\n  yield takeLatest(UPLOAD_SIGNED_OPERAT, uploadSignedOperat)\n}\n","export const RESTART_ON_REMOUNT = '@@saga-injector/restart-on-remount'\nexport const DAEMON = '@@saga-injector/daemon'\nexport const ONCE_TILL_UNMOUNT = '@@saga-injector/once-till-unmount'\n","/* eslint-disable */\n\nimport invariant from 'invariant';\nimport { isEmpty, isFunction, isString, conformsTo } from 'lodash';\n\nimport checkStore from './checkStore';\nimport { DAEMON, ONCE_TILL_UNMOUNT, RESTART_ON_REMOUNT } from './constants';\n\nconst allowedModes = [RESTART_ON_REMOUNT, DAEMON, ONCE_TILL_UNMOUNT];\n\nconst checkKey = (key) =>\n  invariant(\n    isString(key) && !isEmpty(key),\n    '(app/utils...) injectSaga: Expected `key` to be a non empty string',\n  );\n\nconst checkDescriptor = (descriptor) => {\n  const shape = {\n    saga: isFunction,\n    mode: (mode) => isString(mode) && allowedModes.includes(mode),\n  };\n  invariant(\n    conformsTo(descriptor, shape),\n    '(app/utils...) injectSaga: Expected a valid saga descriptor',\n  );\n};\n\nexport function injectSagaFactory(store, isValid) {\n  return function injectSaga(key, descriptor = {}, args) {\n    if (!isValid) checkStore(store);\n\n    const newDescriptor = {\n      ...descriptor,\n      mode: descriptor.mode || DAEMON,\n    };\n    const { saga, mode } = newDescriptor;\n\n    checkKey(key);\n    checkDescriptor(newDescriptor);\n\n    let hasSaga = Reflect.has(store.injectedSagas, key);\n\n    if (process.env.NODE_ENV !== 'production') {\n      const oldDescriptor = store.injectedSagas[key];\n      // enable hot reloading of daemon and once-till-unmount sagas\n      if (hasSaga && oldDescriptor.saga !== saga) {\n        oldDescriptor.task.cancel();\n        hasSaga = false;\n      }\n    }\n\n    if (\n      !hasSaga ||\n      (hasSaga && mode !== DAEMON && mode !== ONCE_TILL_UNMOUNT)\n    ) {\n      /* eslint-disable no-param-reassign */\n      store.injectedSagas[key] = {\n        ...newDescriptor,\n        task: store.runSaga(saga, args),\n      };\n      /* eslint-enable no-param-reassign */\n    }\n  };\n}\n\nexport function ejectSagaFactory(store, isValid) {\n  return function ejectSaga(key) {\n    if (!isValid) checkStore(store);\n\n    checkKey(key);\n\n    if (Reflect.has(store.injectedSagas, key)) {\n      const descriptor = store.injectedSagas[key];\n      if (descriptor.mode && descriptor.mode !== DAEMON) {\n        descriptor.task.cancel();\n        // Clean up in production; in development we need `descriptor.saga` for hot reloading\n        if (process.env.NODE_ENV === 'production') {\n          // Need some value to be able to detect `ONCE_TILL_UNMOUNT` sagas in `injectSaga`\n          store.injectedSagas[key] = 'done'; // eslint-disable-line no-param-reassign\n        }\n      }\n    }\n  };\n}\n\nexport default function getInjectors(store) {\n  checkStore(store);\n\n  return {\n    injectSaga: injectSagaFactory(store, true),\n    ejectSaga: ejectSagaFactory(store, true),\n  };\n}\n","/* eslint-disable */\n\nimport React from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { ReactReduxContext } from 'react-redux';\n\nimport getInjectors from './sagaInjectors';\n\n/**\n * Dynamically injects a saga, passes component's props as saga arguments\n *\n * @param {string} key A key of the saga\n * @param {function} saga A root saga that will be injected\n * @param {string} [mode] By default (constants.DAEMON) the saga will be started\n * on component mount and never canceled or started again. Another two options:\n *   - constants.RESTART_ON_REMOUNT  the saga will be started on component mount and\n *   cancelled with `task.cancel()` on component unmount for improved performance,\n *   - constants.ONCE_TILL_UNMOUNT  behaves like 'RESTART_ON_REMOUNT' but never runs it again.\n *\n */\nexport default ({ key, saga, mode }) =>\n  (WrappedComponent) => {\n    class InjectSaga extends React.Component {\n      //static WrappedComponent = WrappedComponent;\n\n      //static contextType = ReactReduxContext;\n\n      static displayName = `withSaga(${\n        WrappedComponent.displayName || WrappedComponent.name || 'Component'\n      })`;\n\n      constructor(props, context) {\n        super(props, context);\n\n        this.injectors = getInjectors(context.store);\n\n        this.injectors.injectSaga(key, { saga, mode }, this.props);\n      }\n\n      componentWillUnmount() {\n        this.injectors.ejectSaga(key);\n      }\n\n      render() {\n        return <WrappedComponent {...this.props} />;\n      }\n    }\n\n    return hoistNonReactStatics(InjectSaga, WrappedComponent);\n  };\n\nconst useInjectSaga = ({ key, saga, mode }) => {\n  const context = React.useContext(ReactReduxContext);\n  React.useEffect(() => {\n    const injectors = getInjectors(context.store);\n    injectors.injectSaga(key, { saga, mode });\n\n    return () => {\n      injectors.ejectSaga(key);\n    };\n  }, []);\n};\n\nexport { useInjectSaga };\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n  Button,\n  Form,\n  FormGroup, Input, Label\n} from 'reactstrap'\n\nexport const NewOperatForm = (props) => {\n  const user = useSelector(state => state.global.user.user)\n  const [operat, setOperat] = useState({\n    name: '',\n    orderId: props.orderId,\n    operatorId: user.id,\n    operatTypeId: '',\n    isTest: false\n  })\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    const operatTypeParameters = props.operatTypes.find(x => x.id === operat.operatTypeId).parameters\n    props.handleCreateOperat(operat, operatTypeParameters, true)\n  }\n\n  const handleOnChange = (e) => {\n    const newValue = e.target.type === 'checkbox'\n      ? e.target.checked\n      : e.target.value\n    const newOperat = {\n      ...operat,\n      [e.target.name]: newValue\n    }\n    setOperat(newOperat)\n  }\n\n  return (\n    <Form\n      id='new-operat-form' onSubmit={handleSubmit}\n    >\n      <Input\n        type='select' required className='dark-select' id='operat-type-select' name='operatTypeId' value={operat.operatTypeId} onChange={handleOnChange} style={{ width: '100%' }} placeholder='Wybierz typ operatu'\n      >\n        <option value='' disabled>Wybierz rodzaj operatu</option>\n        {props.operatTypes.map((element) => {\n          return (\n            <option key={element.id} value={element.id}>{element.name}</option>\n          )\n        })}\n      </Input>\n      <FormGroup>\n        <Label for='operat-name'>\n          Nazwa operatu\n        </Label>\n        <Input type='text' id='operat-name' name='name' required onChange={handleOnChange} />\n      </FormGroup>\n      <FormGroup>\n        <Input\n          type='checkbox'\n          id='operat-is-test'\n          name='isTest'\n          style={{ margin: '3px' }}\n          checked={operat.isTest}\n          onChange={handleOnChange}\n        />\n        <Label for='operat-is-test'>\n          Operat testowy\n        </Label>\n      </FormGroup>\n      <Button type='submit' color='success'>Stwrz operat</Button>\n    </Form>\n  )\n}\n\nexport default NewOperatForm\n","import React, { useState } from 'react'\nimport {\n  Card,\n  CardBody,\n  Input,\n  Button,\n  Form\n} from 'reactstrap'\n\nexport const OperatFilters = ({ handleSetOperatFilters }) => {\n  const [createdDateTimeFrom, setCreatedDateTimeFrom] = useState('')\n  const [createdDateTimeTo, setCreatedDateTimeTo] = useState('')\n  const handleClear = () => {\n    setCreatedDateTimeFrom('')\n    setCreatedDateTimeTo('')\n    handleSetOperatFilters({ createdDateTimeFrom: '', createdDateTimeTo: '' })\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    handleSetOperatFilters({ createdDateTimeFrom, createdDateTimeTo })\n  }\n  return (\n    <Card>\n      <CardBody>\n        <Form onSubmit={handleSubmit}>\n          <label for='filter-operat-created-date-time-from'>\n            Data utworzenia od\n          </label>\n          <Input\n            type='date' placeholder='Data utworzenia od' id='filter-operat-created-date-time-from' name='filter-operat-created-date-time-from' onChange={(e) => {\n              setCreatedDateTimeFrom(e.target.value)\n            }} value={createdDateTimeFrom}\n          />\n          <label for='filter-operat-created-date-time-to'>\n            Data utworzenia do\n          </label>\n          <Input\n            type='date' placeholder='Data utworzenia do' id='filter-operat-created-date-time-to' name='filter-operat-created-date-time-to' onChange={(e) => {\n              setCreatedDateTimeTo(e.target.value)\n            }} value={createdDateTimeTo}\n          />\n          <Button onClick={handleClear}>Wyczy</Button>\n          <Button type='submit' color='success'>Filtruj</Button>\n        </Form>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default OperatFilters\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Col, FormGroup, Input, Label } from 'reactstrap'\nconst ShowIdCheckbox = ({ setIsIdHidden, isIdHidden, label }) => {\n  return (\n    <FormGroup>\n      <Col sm={{ size: 10 }}>\n        <FormGroup>\n          <Label\n            for='show-operat-id' sm={10} onClick={() => {\n              setIsIdHidden(!isIdHidden)\n            }}\n          >\n            <Input\n              name='show-operat-id'\n              id='show-operat-id'\n              type='checkbox'\n              checked={!isIdHidden}\n              onChange={() => {\n                setIsIdHidden(!isIdHidden)\n              }}\n            />\n            {label}\n          </Label>\n        </FormGroup>\n      </Col>\n    </FormGroup>\n  )\n}\n\nShowIdCheckbox.propTypes = {\n  setIsIdHidden: PropTypes.func.isRequired,\n  isIdHidden: PropTypes.bool.isRequired,\n  label: PropTypes.string.isRequired\n}\n\nexport default ShowIdCheckbox\n","//TODO: zmoienic rozszerzenie na js\nimport React, { memo, useEffect, useState } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Col, Row, Button, Collapse, Card, CardBody, Input\n} from 'reactstrap'\nimport { userRolesConstants } from '../../constants'\nimport HistoryRow from './HistoryRow'\nimport Pagination from '@mui/material/Pagination'\nimport { useHistory } from 'react-router'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectOperatOrder, makeSelectOperats } from './selectors'\nimport { createOperat, loadOperatOrder, loadOperats, removeOperat, selectOperatType, sendPdf, setActiveOperat, setOperatFilters, setOperatSortParameters, setPageNumber, uploadOwnGeneratedOperat, uploadSignedOperat } from './actions'\nimport { connect, useSelector } from 'react-redux'\nimport { compose } from 'redux'\nimport { makeSelectOperatTypes } from 'views/App/selectors'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport NewOperatForm from 'components/NewOperatForm'\nimport OperatFilters from 'components/Filters/Operat'\nimport ShowIdCheckbox from 'components/ShowIdCheckbox'\nimport { globalConstants } from '../../constants'\n\nconst key = 'operatsPage'\nfunction History (props) {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const { t } = useTranslation('common')\n  const history = useHistory()\n  const user = useSelector(state => state.global.user)\n  const [isIdHidden, setIsIdHidden] = useState(true)\n  const [isFiltersVisible, setIsFiltersVisible] = useState(false)\n  const [isNewOperatFormVisible, setIsNewOperatFormVisible] = useState(false)\n  const isAdmin = user.userType === userRolesConstants.ADMIN\n  useEffect(() => {\n    const search = new URLSearchParams(history.location.search)\n    if (!search.get('pageNumber')) { props.handleSetPageNumber('1') }\n    // eslint-disable-next-line\n  }, [])\n  useEffect(() => {\n    props.handleLoadOperats()\n    // eslint-disable-next-line\n  }, [history.location.search, props.operats.filters, props.operats.sortDirection, props.operats.sortFieldName])\n  const sortable = {\n    onSort: (field, order) => {\n      props.handleSetOperatSortParameters(field)\n    },\n    sortFunc: (a, b, order, dataField, rowA, rowB) => {\n\n    },\n    sort: true\n  }\n  const columns = [\n    {\n      dataField: 'id',\n      text: 'ID',\n      hidden: isIdHidden\n    },\n    {\n      dataField: 'inProcess',\n      text: t('history.table.headers.inProgress'),\n      editable: false,\n      headerStyle: { width: '15%' },\n      align: 'center',\n      headerAlign: 'center',\n      formatter: (cellContent, row) => (\n        <label>\n          <Input type='checkbox' defaultChecked={row.inProcess} />\n        </label>\n      )\n    },\n    {\n      dataField: 'isTest',\n      text: 'Test',\n      headerAlign: 'center',\n      align: 'center',\n      editable: false,\n      hidden: !isAdmin,\n      formatter: (cellContent, row) => (<div><Input type='checkbox' disabled checked={row.isTest} /></div>)\n    },\n    {\n      dataField: 'createdDateTime',\n      text: t('history.table.headers.applicationDate'),\n      align: 'center',\n      headerAlign: 'center',\n      editable: false,\n      ...sortable,\n      sort: true,\n      formatter: (cellContent, row) => <div>{cellContent.split('T')[0]}</div>,\n      headerStyle: (colum, colIndex) => {\n        return { width: '15%', textAlign: 'center' }\n      }\n    },\n    {\n      dataField: 'name',\n      ...sortable,\n      sort: true,\n      text: t('history.table.headers.informations'),\n      headerAlign: 'center',\n      align: 'center',\n      editable: false\n    },\n    {\n      dataField: 'author',\n      sort: false,\n      text: t('history.table.headers.author'),\n      headerAlign: 'center',\n      align: 'center',\n      editable: false\n    }\n  ]\n\n  const expandRow = () => {\n    return {\n      onlyOneExpanding: true,\n      onExpand: (row, isExpand, rowIndex, e) => {\n        props.handleSetActiveOperat(row)\n      },\n      renderer: (row) => (\n        <HistoryRow\n          row={row} history={props.history}\n          handleRemoveOperat={props.handleRemoveOperat} handleLoadOperats={props.handleLoadOperats}\n          handleLoadOperatOrder={props.handleLoadOperatOrder}\n          operatOrder={props.operatOrder}\n          handleSendPdf={props.handleSendPdf}\n          handleSetActiveOperat={props.handleSetActiveOperat}\n          handleUploadOwnGeneratedOperat={props.handleUploadOwnGeneratedOperat}\n          handleUploadSignedOperat={props.handleUploadSignedOperat}\n        />\n      )\n    }\n  }\n  const handleChangePageNumber = (event, newPage) => {\n    const search = new URLSearchParams(history.location.search)\n    search.set('pageNumber', newPage.toString())\n    history.push({\n      pathname: '/history',\n      search: search.toString()\n    })\n    props.handleSetPageNumber(newPage.toString())\n    props.handleLoadOperats()\n  }\n\n  return (\n    <div className='content'>\n      <div className='container'>\n        {isAdmin && <ShowIdCheckbox setIsIdHidden={(e) => setIsIdHidden(e)} isIdHidden={isIdHidden} label={t('history.showOperatId')} />}\n        <Row>\n          <div>\n            <Button onClick={() => setIsNewOperatFormVisible(isNewOperatFormVisible => !isNewOperatFormVisible)}>{t('history.table.buttons.createOperat')}</Button>\n            <Collapse isOpen={isNewOperatFormVisible}>\n              <Card>\n                <CardBody>\n                  <NewOperatForm\n                    operatTypes={props.operatTypes.operatTypes}\n                    handleCreateOperat={props.handleCreateOperat}\n                    orderId={globalConstants.EMPTY_GUID}\n                  />\n                </CardBody>\n              </Card>\n            </Collapse>\n          </div>\n          <Col md='12'>\n            <Button color='success' onClick={() => setIsFiltersVisible(v => !v)}>{t('history.table.buttons.filters')}</Button>\n            <Collapse isOpen={isFiltersVisible}>\n              <OperatFilters handleSetOperatFilters={props.handleSetOperatFilters} />\n            </Collapse>\n            <Pagination count={localStorage.getItem('pageCount')} color='primary' page={(new URLSearchParams(history.location.search)).get('pageNumber') ? parseInt((new URLSearchParams(history.location.search)).get('pageNumber')) : 1} onChange={handleChangePageNumber} />\n            {\n              props.operats.loading\n                ? <LoadingIndicator />\n                : <BootstrapTable\n                    bootstrap4\n                    keyField='id'\n                    data={props.operats.operats}\n                    columns={columns}\n                    striped\n                    hover\n                    condensed\n                    bordered={false}\n                    expandRow={expandRow()}\n                  />\n            }\n          </Col>\n        </Row>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = createStructuredSelector({\n  operats: makeSelectOperats(),\n  operatTypes: makeSelectOperatTypes(),\n  operatOrder: makeSelectOperatOrder()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleLoadOperats: () => dispatch(loadOperats()),\n    handleRemoveOperat: () => dispatch(removeOperat()),\n    handleSetActiveOperat: operat => dispatch(setActiveOperat(operat)),\n    handleCreateOperat: (operat, operatTypeParameters, orderless) => dispatch(createOperat(operat, operatTypeParameters, orderless)),\n    handleSelectOperatType: (operatType) => dispatch(selectOperatType(operatType)),\n    handleSetPageNumber: (pageNumber) => dispatch(setPageNumber(pageNumber)),\n    handleLoadOperatOrder: () => dispatch(loadOperatOrder()),\n    handleSendPdf: (id, emails, sendToPrincipal) => dispatch(sendPdf(id, emails, sendToPrincipal)),\n    handleUploadOwnGeneratedOperat: (id, file) => dispatch(uploadOwnGeneratedOperat(id, file)),\n    handleUploadSignedOperat: (id, file) => dispatch(uploadSignedOperat(id, file)),\n    handleSetOperatFilters: (filters) => dispatch(setOperatFilters(filters)),\n    handleSetOperatSortParameters: fieldName => dispatch(setOperatSortParameters(fieldName))\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(History)\n","import GoogleMapReact from 'google-map-react'\nimport React, { useEffect, useState } from 'react'\nimport { Button } from 'reactstrap'\nfunction MapWithMarker (props) {\n  const [center, setCenter] = useState({\n    lat: 52.2492292821819,\n    lng: 21.0120537940507\n  })\n  const [loadedCoords, setLoadedCoords] = useState(false)\n\n  useEffect(() => {\n    if (props.locationInfo.latlng.lat !== 0) {\n      setCenter({ lat: props.locationInfo.latlng.lat, lng: props.locationInfo.latlng.lng })\n      setLoadedCoords(true)\n    } else {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(position => {\n          setCenter({ lat: position.coords.latitude, lng: position.coords.longitude })\n          setLoadedCoords(true)\n        }, () => setLoadedCoords(true))\n      } else { setLoadedCoords(true) }\n    }\n  }, [props.locationInfo.latlng.lat, props.locationInfo.latlng.lng])\n\n  function geocodeAddress (map, maps) {\n    const address = `${props.locationInfo.address} ${props.locationInfo.locationPostCode}`\n\n    const geocoder = new maps.Geocoder()\n    const infowindow = new maps.InfoWindow()\n\n    geocoder\n      .geocode({ address: address })\n      .then(({ results }) => {\n        if (results[0]) {\n          map.setZoom(11)\n          map.setCenter(results[0].geometry.location)\n\n          const marker = new maps.Marker({\n            draggable: true,\n            map,\n            position: results[0].geometry.location\n          })\n          makeMarkerDraggable(marker)\n          infowindow.setContent(results[0].formatted_address)\n          infowindow.open(map, marker)\n          props.setCoords({ lat: marker.position.lat(), lng: marker.position.lng() })\n\n          return marker\n        } else {\n\n        }\n      })\n  }\n\n  const handleApiLoaded = (map, maps) => {\n    if (props.locationInfo.address !== '') {\n      return geocodeAddress(map, maps)\n    } else {\n      return geocodeFromLocation(maps, map)\n    }\n  }\n\n  return (\n    // Important! Always set the container height explicitly  \n    <div>\n      <div style={{display: 'flex'}}>\n        <Button onClick={props.close} color='danger' className='mb-3' style={{marginLeft: 'auto', fontWeight: 'bold', fontSize: '16px'}}>X</Button>\n      </div>\n      <div style={{ height: '75vh', width: '75vh' }}>\n        \n        {loadedCoords &&\n          <GoogleMapReact\n            bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_API_KEY }}\n            defaultCenter={center}\n            defaultZoom={11}\n            yesIWantToUseGoogleMapApiInternals\n            onGoogleApiLoaded={({ map, maps }) => handleApiLoaded(map, maps)}\n          />}\n      </div>\n    </div>\n  )\n\n  function geocodeFromLocation (maps, map) {\n    const infowindow = new maps.InfoWindow()\n\n    const marker = new maps.Marker({\n      position: center,\n      map,\n      draggable: true\n    })\n    makeMarkerDraggable(marker)\n    infowindow.setContent('Przecignij mnie')\n    infowindow.open(map, marker)\n    props.setCoords({ lat: marker.position.lat(), lng: marker.position.lng() })\n\n    return marker\n  }\n\n  function makeMarkerDraggable (marker) {\n    marker.addListener('mouseup', () => {\n      props.setCoords({ lat: marker.position.lat(), lng: marker.position.lng() })\n      // console.log({ lat: marker.position.lat(), lng: marker.position.lng() })\n    })\n  }\n}\n\nexport { MapWithMarker }\n","import GoogleMapReact from 'google-map-react'\nimport React from 'react'\n\nfunction MapToPrewiew (props) {\n  const handleApiLoaded = (map, maps) => {\n    const marker = new maps.Marker({\n      position: props.cords,\n      map\n    })\n\n    return marker\n  }\n\n  return (\n    // Important! Always set the container height explicitly\n    <div style={{ height: '75vh', width: '75vh' }}>\n      <GoogleMapReact\n        bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_API_KEY }}\n        defaultCenter={props.cords}\n        defaultZoom={11}\n        yesIWantToUseGoogleMapApiInternals\n        onGoogleApiLoaded={({ map, maps }) => handleApiLoaded(map, maps)}\n      />\n    </div>\n  )\n}\n\nexport { MapToPrewiew }\n","import React from 'react'\nimport {\n  Button,\n  Card,\n  CardBody,\n  UncontrolledCollapse,\n  UncontrolledPopover,\n  PopoverBody\n} from 'reactstrap'\n\nimport { MapToPrewiew } from '../Maps'\nimport { useTranslation } from 'react-i18next'\n\nfunction OrderInfoUncontrolledCollapse (props) {\n  const { t } = useTranslation('common')\n  const cordsList = props.row.latitudeLongitude.split(',')\n  const cords = cordsList.length > 1 && { lat: parseFloat(cordsList[0]), lng: parseFloat(cordsList[1]) }\n\n  return (\n    <>\n      <UncontrolledCollapse toggler='#orderData'>\n        <Card>\n          <CardBody>\n            <div>\n              <p>\n                <b>{t('common.orderInfo.description')}:</b> {props.row.description}\n              </p>\n            </div>\n            <div>\n              <p>\n                <b>{t('common.orderInfo.address')}:</b> {props.row.location}\n              </p>\n            </div>\n            <div>\n              <p>\n                <b>{t('common.orderInfo.orderSubject')}:</b> {props.row.orderSubject}\n              </p>\n            </div>\n            <div>\n              <p>\n                <b>{t('common.orderInfo.valuationScope')}:</b> {props.row.valuationScope}\n              </p>\n            </div>\n            <div>\n              <p>\n                <b>{t('common.orderInfo.landRegisterNumber')}:</b> {props.row.ekw}\n              </p>\n            </div>\n            <div>\n              <p>\n                <b>{t('common.orderInfo.propertyIdentification')}:</b> {props.row.propertyIdentification}\n              </p>\n            </div>\n            <Button\n              className='long-btn' id='UncontrolledPopoverMAP'\n              type='button' color='success'\n            >Poka map\n            </Button>\n            <UncontrolledPopover\n              placement='right'\n              target='UncontrolledPopoverMAP'\n              trigger='legacy'\n            >\n              <PopoverBody>\n                {cordsList[0] !== '0' ? <MapToPrewiew cords={cords} /> : <div>Nie podano wsprzednych</div>}\n              </PopoverBody>\n            </UncontrolledPopover>\n          </CardBody>\n        </Card>\n      </UncontrolledCollapse>\n    </>\n  )\n}\n\nexport default OrderInfoUncontrolledCollapse\n","import {\n  LOAD_CONVERSATIONS, LOAD_MESSAGES_WITH_USER, MARK_CONVERSATION_AS_READ,\n  MARK_CONVERSATION_AS_UNREAD, SET_CHAT_IS_OPEN, SET_CONNECTION, SET_CURRENTLY_CHAT_WITH,\n  SET_MESSAGES_WITH_USER, TOGGLE_MESSAGE_VISIBLE, OPEN_CHAT\n} from './constants'\n\nexport function loadMessagesWithUser (userId, messages, monthNames) {\n  return {\n    type: LOAD_MESSAGES_WITH_USER,\n    userId,\n    messages,\n    monthNames\n  }\n}\n\nexport function setCurrentlyChatWith (payload) {\n  return {\n    type: SET_CURRENTLY_CHAT_WITH,\n    payload\n  }\n}\n\nexport function setConnection (payload) {\n  return {\n    type: SET_CONNECTION,\n    payload\n  }\n}\n\nexport function setMessagesWithUser (userId, message) {\n  return {\n    type: SET_MESSAGES_WITH_USER,\n    userId,\n    message\n  }\n}\n\nexport function loadConversations (payload) {\n  return {\n    type: LOAD_CONVERSATIONS,\n    payload\n  }\n}\n\nexport function markConversationAsRead (userId) {\n  return {\n    type: MARK_CONVERSATION_AS_READ,\n    payload: userId\n  }\n}\n\nexport function markConversationAsUnread (userId) {\n  return {\n    type: MARK_CONVERSATION_AS_UNREAD,\n    payload: userId\n  }\n}\n\nexport function setChatIsOpen (payload) {\n  return {\n    type: SET_CHAT_IS_OPEN,\n    payload\n  }\n}\n\nexport function toggleMessageVisible (userId, messageId) {\n  return {\n    type: TOGGLE_MESSAGE_VISIBLE,\n    userId,\n    messageId\n  }\n}\n\nexport function markMessagesAsSeen (userId) {\n  return {\n    type: 'MARK_MESSAGES_AS_SEEN',\n    userId\n  }\n}\n\nexport function openChat (user, connection) {\n  return {\n    type: OPEN_CHAT,\n    user,\n    connection\n  }\n}\n","import React, { useEffect, useState } from 'react'\nimport { userService, adminService, clientService, operatorService } from '../../services'\nimport { useTranslation } from 'react-i18next'\n\nimport { userRolesConstants, modalTypeConstants } from '../../constants'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { Button } from 'reactstrap'\nimport { setCurrentlyChatWith, setChatIsOpen } from '../Chat/actions.js'\nfunction UserInfo (props) {\n  const [user, setUser] = useState(null)\n  const { t } = useTranslation('common')\n  const loggedInUser = useSelector(state => state.global.user)\n  const dispatch = useDispatch()\n  const isAdmin = loggedInUser.userType === userRolesConstants.ADMIN\n\n  useEffect(() => {\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'loadingData', translate: true }))\n    userService.getUserType(props.id).then((result) => {\n      if (result === userRolesConstants.OPERATOR) {\n        operatorService.getOperatorData(props.id).then((operator) => {\n          operator.role = userRolesConstants.OPERATOR\n          setUser(operator)\n          dispatch(hideLoadingScreen())\n        }).catch(err => {})\n      }\n      if (result === userRolesConstants.CLIENT) {\n        clientService.getClientData(props.id).then((client) => {\n          client.role = userRolesConstants.CLIENT\n          setUser(client)\n          dispatch(hideLoadingScreen())\n        }).catch(err => {})\n      }\n      if (result === userRolesConstants.ADMIN) {\n        adminService.getAdminDataById(props.id).then((admin) => {\n          admin.role = userRolesConstants.ADMIN\n          setUser(admin)\n          dispatch(hideLoadingScreen())\n        }).catch(err => {})\n      }\n      if (result === '') {\n        dispatch(hideLoadingScreen())\n      }\n    }).catch(err => {}).finally(() => dispatch(hideLoadingScreen()))\n  }, [props.id, dispatch])\n\n  const createRow = (label, data) => data &&\n    <div>\n      {label + ': ' + data}\n    </div>\n\n  const createMailTo = (label, data) => data &&\n    <div>\n      {label + ': '}\n      <a href={'mailto:' + data}>{data}</a>\n    </div>\n  return (\n    <div>\n      {user\n        ? <div>\n          {isAdmin && createRow(t('common.userInfo.role'), user.role)}\n          {isAdmin && createRow('Id', user.id)}\n          {createMailTo(t('common.userInfo.mail'), user.mail)}\n          {createRow(t('common.userInfo.phone'), user.phone)}\n          {createRow(t('common.userInfo.nameWithTitle'), user.nameWithTitle)}\n          {createRow(t('common.userInfo.address'), user.address.replaceAll('undefined, ', '').replaceAll('undefined', ''))}\n          <div><Button color='info' onClick={() => { dispatch(setCurrentlyChatWith(user)); dispatch(setChatIsOpen(true)) }}>{t('common.userInfo.sendMessage')}</Button></div>\n          </div>\n        : <div>\n          {t('common.userInfo.noPayerInfo')}\n        </div>}\n    </div>\n  )\n}\n\nexport default UserInfo\n","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Button, Card,\n  CardBody, Form,\n  FormGroup, Input, Label\n} from 'reactstrap'\nimport { validators } from '../../helpers'\n\nexport const NewOffer = (props) => {\n  const { t } = useTranslation('common')\n  const [price, setPrice] = useState('')\n  const [maxDate, setMaxDate] = useState('')\n\n  return (\n    <Card>\n      <CardBody>\n        <Form\n          id='new-offer'\n          onSubmit={(e) => {\n            e.preventDefault()\n            props.onSubmit()\n            props.hide()\n          }}\n        >\n          <div className='row'>\n            <div className='col-6'>\n              <div className='justify-content-center'>\n                <FormGroup>\n                  <Label for='exampleNumber'>{t('common.userInfo.description')}</Label>\n                  <Input\n                    type='textarea'\n                    name='description'\n                    id='description'\n                    placeholder={t('common.userInfo.orderDescription')}\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label for='exampleNumber'>{t('common.userInfo.offeredPrice')}</Label>\n                  <Input\n                    type='number'\n                    id='exampleNumber'\n                    name='exampleNumber'\n                    min={10}\n                    max={9999999}\n                    onKeyPress={(e) => validators.validatePositiveNumbers(e, /^[0-9]{0,10}$/)}\n                    placeholder={t('common.userInfo.offeredPrice')}\n                    onChange={(e) => {\n                      if (e.target.value.startsWith('-') || e.target.value < 0 || e.target.value === '') {\n                        e.target.value = ''\n                      }\n                      e.target.value >= 0 && setPrice(e.target.value)\n                    }}\n                    required\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label for='exampleDate'>{t('common.userInfo.endDate')}</Label>\n                  <Input\n                    type='date'\n                    name='date'\n                    id='exampleDate'\n                    placeholder='date placeholder'\n                    onChange={(e) => {\n                      setMaxDate(e.target.value)\n                    }}\n                    required\n                  />\n                </FormGroup>\n              </div>\n            </div>\n            <div className='col-4 d-flex justify-content-center align-items-center'>\n              <Button color='success' disabled={price === '' || maxDate === ''}>\n                {t('common.userInfo.makeAnOffer')}\n              </Button>\n            </div>\n          </div>\n        </Form>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default NewOffer\n","import React, { useState } from 'react'\nimport {\n  Card,\n  CardBody,\n  Input,\n  Button,\n  Form\n} from 'reactstrap'\n\nexport const OrderPropositionFilters = ({ handleSetPropositionFilters }) => {\n  const [upTillDateFrom, setUpTillDateFrom] = useState('')\n  const [upTillDateTo, setUpTillDateTo] = useState('')\n  const [priceFrom, setPriceFrom] = useState('')\n  const [priceTo, setPriceTo] = useState('')\n  const handleClear = () => {\n    setUpTillDateFrom('')\n    setUpTillDateTo('')\n    setPriceFrom('')\n    setPriceTo('')\n    handleSetPropositionFilters({ upTillDateFrom: '', upTillDateTo: '', priceFrom: '', priceTo: '' })\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    handleSetPropositionFilters({ upTillDateFrom, upTillDateTo, priceFrom, priceTo })\n  }\n  return (\n    <Card>\n      <CardBody>\n        <Form onSubmit={handleSubmit}>\n          <label for='order-proposition-price-from'>\n            Cena od\n          </label>\n          <Input\n            type='number' placeholder='Cena od' id='order-proposition-price-from' name='order-proposition-price-from' onChange={(e) => {\n              setPriceFrom(e.target.value)\n            }} value={priceFrom}\n          />\n          <label for='order-proposition-price-to'>\n            Cena do\n          </label>\n          <Input\n            type='number' placeholder='Cena do' id='order-proposition-price-to' name='order-proposition-price-to' onChange={(e) => {\n              setPriceTo(e.target.value)\n            }} value={priceTo}\n          />\n          <label for='order-proposition-up-till-date-from'>\n            Termin ukoczenia od\n          </label>\n          <Input\n            type='date' placeholder='Termin ukoczenia od' id='order-proposition-up-till-date-from' name='order-proposition-up-till-date-from' onChange={(e) => {\n              setUpTillDateFrom(e.target.value)\n            }} value={upTillDateFrom}\n          />\n          <label for='order-proposition-up-till-date-to'>\n            Termin ukoczenia do\n          </label>\n          <Input\n            type='date' placeholder='Termin ukoczenia do' id='order-proposition-up-till-date-to' name='order-proposition-up-till-date-to' onChange={(e) => {\n              setUpTillDateTo(e.target.value)\n            }} value={upTillDateTo}\n          />\n          <Button onClick={handleClear}>Wyczy</Button>\n          <Button type='submit' color='success'>Filtruj</Button>\n        </Form>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default OrderPropositionFilters\n","import React, { useEffect, useState } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport {\n  Button,\n  Collapse,\n  UncontrolledTooltip\n} from 'reactstrap'\nimport { useHistory } from 'react-router'\nimport { useTranslation } from 'react-i18next'\nimport { useMsal } from '@azure/msal-react'\nimport { userRolesConstants } from '../../constants'\nimport ReactStars from 'react-rating-stars-component'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport { useSelector } from 'react-redux'\nimport OrderPropositionFilters from 'components/Filters/OrderProposition'\nimport ShowIdCheckbox from 'components/ShowIdCheckbox'\nexport const isButtonDisabled = (row, propositions, accounts, clientId, isOperator) => {\n  const isAnyReserved = propositions.some(x => x.reservationStatus.toLowerCase() === 'reserved')\n  const isReserved = row.reservationStatus.toLowerCase() === 'reserved'\n  const oid = accounts[0].idTokenClaims.oid\n  const isMineOrder = clientId === accounts[0].idTokenClaims.oid\n  if (isOperator && !isReserved && row.operatorId === oid) {\n    return true\n  }\n  if (isMineOrder) {\n    return isAnyReserved ? !isReserved : isReserved\n  }\n  return isOperator\n    ? !(isReserved && row.operatorId === oid)\n    : ((isAnyReserved && !isReserved) || row.operatorId !== oid)\n}\nfunction PropositionList (props) {\n  const [isIdHidden, setIsIdHidden] = useState(true)\n  const [isFiltersVisible, setIsFiltersVisible] = useState(false)\n  const { accounts } = useMsal()\n  const user = useSelector(state => state.global.user)\n  const isAdmin = user.userType === userRolesConstants.ADMIN\n  const isOperator = user.userType === userRolesConstants.OPERATOR\n  const { t } = useTranslation('common')\n  const history = useHistory()\n  const sortable = {\n    onSort: (field, order) => {\n      props.handleSetPropositionsSortParameters(field)\n    },\n    sortFunc: (a, b, order, dataField, rowA, rowB) => {\n\n    },\n    sort: true\n  }\n  useEffect(() => {\n    props.handleLoadPropositions()\n  // eslint-disable-next-line\n  }, [props.propositions.sortFieldName, props.propositions.sortDirection, props.propositions.filters])\n\n  const columns = [\n    {\n      dataField: 'id',\n      text: 'ID',\n      hidden: isIdHidden\n    },\n    {\n      dataField: 'description',\n      text: t('market.table.headers.description'),\n      editable: false,\n      ...sortable,\n      sort: true,\n      align: 'center',\n      headerAlign: 'center'\n    },\n    {\n      dataField: 'price',\n      text: t('market.table.headers.price'),\n      editable: false,\n      ...sortable,\n      sort: true,\n      align: 'center',\n      headerAlign: 'center'\n    },\n    {\n      dataField: 'reservationStatus',\n      text: t('market.table.headers.status'),\n      editable: false,\n      align: 'center',\n      headerAlign: 'center',\n      formatter: (cellContent, row) => <div>{row.reservationStatus.toLowerCase() === 'unknown' ? '' : row.reservationStatus}</div>\n    },\n    {\n      dataField: 'upTillDate',\n      text: t('market.table.headers.upTillDate'),\n      align: 'center',\n      headerAlign: 'center',\n      ...sortable,\n      formatter: (cellContent, row) => <div>{cellContent && cellContent.split('T')[0]}</div>,\n      headerStyle: (colum, colIndex) => {\n        return { width: '16%', textAlign: 'center' }\n      }\n    },\n    {\n      text: 'rzeczoznawca',\n      align: 'center',\n      headerAlign: 'center',\n      editable: true,\n      formatter: (cellContent, row) => <Button\n        color='primary' onClick={() => {\n          history.push({ pathname: '/users-profile', search: '?operatorId=' + row.operatorId })\n        }}\n                                       >Profil rzeczoznawcy\n      </Button>\n    },\n    {\n      text: 'ocena rzeczoznawcy',\n      align: 'center',\n      headerAlign: 'center',\n      editable: true,\n      formatter: (cellContent, row) => row.avgOperatorRating\n        ? <div className='d-flex justify-content-center' id={'avg-rating-' + row.id}>\n          <ReactStars\n            count={5}\n            edit={false}\n            isHalf\n            value={Math.ceil(row.avgOperatorRating)}\n            size={24}\n            activeColor='#ffd700'\n          />\n          <UncontrolledTooltip\n            flip\n            target={'avg-rating-' + row.id}\n          >\n            {row.avgOperatorRating.toFixed(3)}\n          </UncontrolledTooltip>\n        </div>\n        : 'Brak danych'\n    },\n    {\n      text: t('market.table.headers.accept-resign'),\n      align: 'center',\n      headerAlign: 'center',\n      editable: true,\n      formatter: (cellContent, row) => {\n        return (\n          <Button\n            disabled={isButtonDisabled(row, props.propositions.propositions, accounts, props.activeOrder.clientId, isOperator)}\n            color={row.reservationStatus.toLowerCase() === 'reserved' ? 'danger' : 'success'}\n            onClick={() => {\n              props.handleSetPropositionId(row.id)\n              row.reservationStatus.toLowerCase() === 'unknown' || row.reservationStatus.toLowerCase() === 'unreserved'\n                ? props.handleReserveOrderAndProposition()\n                : props.handleUnreserveProposition()\n            }}\n          >\n            {row.reservationStatus.toLowerCase() === 'reserved' ? t('market.table.buttons.resign') : t('market.table.buttons.accept')}\n          </Button>\n        )\n      }\n    }\n  ]\n\n  return (\n    <div className='content'>\n      <Button onClick={() => setIsFiltersVisible(v => !v)} color='success'>Filtry</Button>\n      <Collapse isOpen={isFiltersVisible}>\n        <OrderPropositionFilters handleSetPropositionFilters={props.handleSetPropositionFilters} />\n      </Collapse>\n      {isAdmin && <ShowIdCheckbox setIsIdHidden={setIsIdHidden} label={t('market.showPropositionId')} isIdHidden={isIdHidden} />}\n      {\n      props.propositions.loading ? <LoadingIndicator />\n        : <BootstrapTable\n            bootstrap4\n            keyField='id'\n            data={props.propositions.propositions} // .sort((a, b) => parseInt(a.description.split(' ')[0]) < parseInt(b.description.split(' ')[0]) ? 1 : -1)\n            columns={columns}\n            striped\n            hover\n            bordered={false}\n          />\n      }\n    </div>\n  )\n}\n\nexport default PropositionList\n","import { useMsal } from '@azure/msal-react'\nimport React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Button, Card, CardBody, Collapse\n} from 'reactstrap'\nimport { userRolesConstants } from '../../constants'\nimport UserInfo from '../../views/Common/UserInfo'\nimport NewOffer from 'components/NewOfferForm'\nimport PropositionList from './PropositionList'\nimport { useSelector } from 'react-redux'\nfunction AnnouncedOrder (props) {\n  const user = useSelector(state => state.global.user)\n  const [sendedOffers, setSendedOffers] = useState(false)\n  const [userInfo, setUserInfo] = useState(false)\n  const [offer, setOffer] = useState(false)\n  const { t } = useTranslation('common')\n  const { accounts } = useMsal()\n\n  return (\n    <div>\n      {(userRolesConstants.ADMIN === user.userType ||\n        (user.userType === userRolesConstants.OPERATOR && accounts[0].idTokenClaims.oid !== props.activeOrder.clientId)) && (\n          <div>\n            <Button\n              color='primary'\n              className='long-btn'\n              onClick={() => {\n                setOffer(!offer)\n              }} style={{ marginBottom: '1rem' }}\n            >\n              {t('market.table.buttons.submittOffer')}\n            </Button>{' '}\n            <Collapse isOpen={offer}>\n              {offer && <NewOffer onSubmit={props.handleSaveProposition} hide={() => setOffer(false)} />}\n            </Collapse>\n          </div>\n      )}\n      <div>\n        <Button\n          className='long-btn proposition-list-toggler'\n          color='secondary'\n          style={{ marginBottom: '1rem' }}\n          onClick={() => {\n            setSendedOffers(!sendedOffers)\n          }}\n        >\n          {t('market.table.buttons.submittedOffers')}\n        </Button>\n        <Collapse isOpen={sendedOffers}>\n          <Card>\n            <CardBody>\n              {sendedOffers && <PropositionList\n                handleReserveOrderAndProposition={props.handleReserveOrderAndProposition}\n                handleUnreserveProposition={props.handleUnreserveProposition}\n                handleSetPropositionId={props.handleSetPropositionId}\n                propositions={props.propositions}\n                handleLoadPropositions={props.handleLoadPropositions}\n                activeOrder={props.activeOrder}\n                handleSetPropositionsSortParameters={props.handleSetPropositionsSortParameters}\n                handleSetPropositionFilters={props.handleSetPropositionFilters}\n                               />}\n            </CardBody>\n          </Card>\n        </Collapse>\n      </div>\n      {\n        accounts[0].idTokenClaims.oid !== props.activeOrder.clientId &&\n          <div>\n            <Button\n              color='info'\n              className='long-btn'\n              onClick={() => {\n                setUserInfo(!userInfo)\n              }}\n              style={{ marginBottom: '1rem' }}\n            >\n              {t('market.table.buttons.payerInformation')}\n            </Button>\n\n            <Collapse isOpen={userInfo}>\n              <Card>\n                <CardBody>\n                  {userInfo && <UserInfo id={props.activeOrder.clientId} />}\n                </CardBody>\n              </Card>\n            </Collapse>\n          </div>\n      }\n    </div>\n  )\n}\n\nexport default AnnouncedOrder\n","export const validateLandRegisterCode = (ekw, ekwData) => {\n  ekw = ekw.toUpperCase()\n  let result = ''\n  if (ekw === '' || !ekw) {\n    result += 'Numer ksigi wieczystej nie moe by pusty. '\n  }\n\n  const splitted = ekw.split('/')\n  if (splitted.length !== 3) {\n    result += 'Nieprawidowa liczba sekcji numeru ksigi wieczystej, powinny by 3 oddzielone znakiem /. '\n    return result\n  }\n  if (splitted[0].length !== 4 || splitted[1].length !== 8 || splitted[2].length !== 1) {\n    result += 'Nieprawidowa dugo ktrej z sekcji numeru ksigi wieczystej. '\n  }\n\n  if (!ekwData.regions.includes(splitted[0])) {\n    result += 'Nie ma takiego kodu Wydziau Ksig Wieczystych Sdu Rejonowego. '\n  }\n  let controlSum = 0\n  let idx = 0\n  for (let i = 0; i < splitted[0].length; i++) {\n    controlSum += ekwData.weights[splitted[0][i]] * ekwData.multipliers[idx++]\n  }\n  for (let i = 0; i < splitted[1].length; i++) {\n    controlSum += ekwData.weights[splitted[1][i]] * ekwData.multipliers[idx++]\n  }\n  if (isNaN(parseInt(splitted[1]))) {\n    result += 'Druga sekcja numeru ksigi wieczystej powinna by dan liczbow. '\n  }\n\n  if (isNaN(parseInt(splitted[2]))) {\n    result += 'Cyfra kontrolna numeru ksigi wieczystej powinna by dan liczbow. '\n    return result\n  }\n\n  if (controlSum % 10 !== parseInt(splitted[2])) {\n    result += 'Niepoprawna suma kontrolna przy uzupenianiu ksigi wieczystej. '\n  }\n  return result\n}\n","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { Button, Form, FormGroup, Input, Label, UncontrolledTooltip, PopoverBody, Col, UncontrolledAlert, FormFeedback, Popover } from 'reactstrap'\nimport { MapWithMarker } from '../../views/Maps'\nimport InputMask from 'react-input-mask'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport { validateLandRegisterCode } from 'utils/validateLandRegisterCode'\nexport const NewOrderForm = (props) => {\n  const { t } = useTranslation('common')\n\n  const [order, setOrder] = useState({\n    name: '',\n    description: '',\n    address: '',\n    requiresZbpList: false,\n    latitudeLongitude: { lat: 0, lng: 0 },\n    locationPostCode: '',\n    shouldBeValidated: false,\n    orderSubject: '',\n    valuationScope: '',\n    landRegisterCode: '',\n    propertyIdentification: '',\n    isEkwInvalid: false,\n    ekwErrorMessage: ''\n  })\n  const [mapPopoverOpen, setMapPopoverOpen] = useState(false)\n  const toggleMapPopover = () => setMapPopoverOpen(!mapPopoverOpen)\n\n  const handleOnChange = (e) => {\n    const newOrder = {\n      ...order,\n      [e.target.name]: e.target.type === 'checkbox'\n        ? e.target.checked\n        : e.target.value\n    }\n    setOrder(newOrder)\n  }\n\n  const setLatitudeLongitude = (cords) => {\n    const newOrder = {\n      ...order,\n      latitudeLongitude: cords\n    }\n    setOrder(newOrder)\n  }\n\n  const addOrder = (e) => {\n    e.preventDefault()\n    const ekwErrorMessage = order.landRegisterCode !== '' ? validateLandRegisterCode(order.landRegisterCode, props.ekwData) : ''\n    const isEkwInvalid = ekwErrorMessage !== ''\n    const newOrder = {\n      ...order,\n      isEkwInvalid,\n      ekwErrorMessage\n    }\n    setOrder(newOrder)\n\n    if (isEkwInvalid) {\n      return\n    }\n    props.onSubmit(newOrder)\n  }\n\n  const subjectOptions = [\n    { value: 'Lokal mieszkalny', label: 'Lokal mieszkalny' },\n    { value: 'Grunt niezabudowany', label: 'Grunt niezabudowany' }\n  ]\n\n  const valuationScopeOptions = [\n    { value: 'Na potrzeby sprzeday', label: 'Na potrzeby sprzeday' },\n    { value: 'Prawo uytkowania wieczystego do gruntu', label: 'Prawo uytkowania wieczystego do gruntu' }\n  ]\n\n  function checkAllRequiresFields () {\n    return order.name === '' || order.locationPostCode === '' || order.orderSubject === '' || order.valuationScope === ''\n  }\n\n  return (\n    <div>\n      <Form\n        onSubmit={(e) => addOrder(e)}\n        id='new-order-form'\n      >\n        <input type='hidden' value={`${order.latitudeLongitude.lat},${order.latitudeLongitude.lng}`} name='latlng-value' />\n        <FormGroup>\n          <Label for='order-name'>{t('market.table.headers.name')}</Label>\n          <Input\n            type='text'\n            name='name'\n            id='order-name'\n            value={order.name}\n            onChange={handleOnChange}\n            required\n          />\n          <UncontrolledTooltip\n            placement='top'\n            target='order-name'\n          >\n            {t('market.newOrder.namePlaceholder')}\n          </UncontrolledTooltip>\n        </FormGroup>\n        <FormGroup>\n          <Label for='description'>{t('market.table.headers.description')}</Label>\n          <Input\n            type='textarea'\n            name='description'\n            id='description'\n            value={order.description}\n            onChange={handleOnChange}\n          />\n          <UncontrolledTooltip\n            placement='top'\n            target='description'\n          >\n            {t('market.newOrder.descriptionPlaceholder')}\n          </UncontrolledTooltip>\n        </FormGroup>\n        <FormGroup>\n          <Label for='postal-code'>{t('market.newOrder.postalCode')}</Label>\n          <InputMask\n            mask='99-999'\n            value={order.locationPostCode}\n            onChange={handleOnChange}\n          >\n            {(inputProps) => <Input\n              {...inputProps}\n              type='text'\n              name='locationPostCode'\n              id='new-order-postal-code'\n              pattern='\\d{2}-\\d{3}$'\n              required\n                             />}\n          </InputMask>\n        </FormGroup>\n        <FormGroup>\n          <Label for='address'>{t('common.userInfo.address')}</Label>\n          <Input\n            type='text'\n            name='address'\n            id='address'\n            value={order.address}\n            onChange={handleOnChange}\n          />\n          <UncontrolledTooltip\n            placement='top'\n            target='address'\n          >\n            {t('market.newOrder.addressPlaceholder')}\n          </UncontrolledTooltip>\n        </FormGroup>\n        <FormGroup>\n          <Button\n            onClick={() => setMapPopoverOpen(true)}\n            className='long-btn' id='UncontrolledPopoverMAP'\n            type='button' color='success'\n          >Dodaj lokalizacj na mapie\n          </Button>\n          <Popover\n            isOpen={mapPopoverOpen}\n            toggle={toggleMapPopover}\n            placement='right'\n            target='UncontrolledPopoverMAP'\n            trigger='legacy'\n          >\n            <PopoverBody>\n              <MapWithMarker\n                close={() => setMapPopoverOpen(false)}\n                locationInfo={{ address: order.address, locationPostCode: order.locationPostCode, latlng: order.latitudeLongitude }}\n                setCoords={setLatitudeLongitude}\n              />\n            </PopoverBody>\n          </Popover>\n        </FormGroup>\n        <FormGroup>\n          <Label for='order-subject'>Co chcesz wyceni?</Label>\n          <Input\n            type='select'\n            id='order-subject'\n            name='orderSubject'\n            style={{ lineHeight: '1.0' }}\n            value={order.orderSubject}\n            onChange={handleOnChange}\n            autoComplete='off'\n            required\n          >\n            <option value='' disabled hidden>Wybierz...</option>\n            {subjectOptions.map((obj) => <option key={obj.label} value={obj.value}>{obj.label}</option>)}\n          </Input>\n        </FormGroup>\n        <FormGroup>\n          <Label for='valuation-scope'>Zakres wyceny</Label>\n          <Input\n            type='select'\n            id='valuation-scope'\n            name='valuationScope'\n            style={{ lineHeight: '1.0' }}\n            value={order.valuationScope}\n            onChange={handleOnChange}\n            autoComplete='off'\n            required\n          >\n            <option value='' disabled hidden>Wybierz...</option>\n            {valuationScopeOptions.map((obj) => <option key={obj.label} value={obj.value}>{obj.label}</option>)}\n          </Input>\n        </FormGroup>\n        <FormGroup>\n          <Label for='order-land-register-code'>Nr ksigi wieczystej (pole bedzie tylko widoczne dla rzeczoznawcy wykonujcego) - pole opcjonalne</Label>\n          <InputMask\n            mask='aa9a/99999999/9'\n            value={order.landRegisterCode}\n            name='landRegisterCode'\n            onChange={handleOnChange}\n            invalid={order.isEkwInvalid}\n\n          >\n            {(inputProps) => <Input\n              {...inputProps}\n              type='text'\n              style={{ textTransform: 'uppercase' }}\n              id='order-land-register-code'\n                             />}\n          </InputMask>\n          <FormFeedback>\n            <div\n              dangerouslySetInnerHTML={{ __html: order.ekwErrorMessage }}\n            />\n          </FormFeedback>\n        </FormGroup>\n        <FormGroup>\n          <Label for='property-identification'>Identyfikacja nieruchomoci np. numer nieruchomoci. Pole to bdzie widoczne tylko dla rzeczoznawcy wykonujcego - pole opcjonalne</Label>\n          <Input\n            id='property-identification'\n            name='propertyIdentification'\n            type='text'\n            value={order.propertyIdentification}\n            onChange={handleOnChange}\n          />\n        </FormGroup>\n        <FormGroup>\n          <Col sm={{ size: 10 }}>\n            <FormGroup>\n              <Label for='requires-zbp-list' sm={10}>\n                <Input\n                  type='checkbox'\n                  name='requiresZbpList'\n                  id='requires-zbp-list'\n                  checked={order.requiresZbpList}\n                  onChange={handleOnChange}\n                />\n                {t('market.table.headers.requiresZbpList')}\n              </Label>\n            </FormGroup>\n          </Col>\n        </FormGroup>\n        <FormGroup>\n          <Col sm={{ size: 10 }}>\n            <FormGroup>\n              <Label for='aoperatValidation' sm={10}>\n                <Input\n                  type='checkbox'\n                  name='shouldBeValidated'\n                  id='aoperat-validation'\n                  checked={order.shouldBeValidated}\n                  onChange={handleOnChange}\n                />\n                {t('market.table.headers.aoperatValidation')}\n              </Label>\n            </FormGroup>\n          </Col>\n        </FormGroup>\n        <Button\n          type='submit'\n          color='success'\n          disabled={checkAllRequiresFields()}\n        >\n          {t('common.add')}\n        </Button>\n      </Form>\n      {props.saveOrder.error &&\n        <UncontrolledAlert\n          color='danger'\n        >\n          <div\n            dangerouslySetInnerHTML={{ __html: props.saveOrder.error.message }}\n          />\n        </UncontrolledAlert>}\n      {props.saveOrder.loading && <LoadingIndicator />}\n    </div>\n  )\n}\n\nexport default NewOrderForm\n","import React, { useState, useRef } from 'react'\nimport NotificationAlert from 'react-notification-alert'\nimport { useHistory } from 'react-router-dom'\nimport { modalTypeConstants, globalConstants } from '../../constants'\nimport UserInfo from 'views/Common/UserInfo'\nimport {\n  Button,\n  Card,\n  CardBody,\n  Collapse,\n  Input\n} from 'reactstrap'\nimport { useDispatch } from 'react-redux'\nimport { showLoadingScreen } from 'views/Modal/actions'\nimport { createOperat } from 'views/History/actions'\n\nfunction PaidOrder (props) {\n  const dispatch = useDispatch()\n  const [operatType, setOperatType] = useState({})\n  const [userInfo, setUserInfo] = useState(false)\n  const history = useHistory()\n  const notifyRegister = useRef(null)\n\n  const handleCreateOperat = (row) => {\n\n    const timeElapsed = Date.now()\n    const today = new Date(timeElapsed)\n    const operat = {\n      name: `${row.name + ', ' + operatType.name + ' : ' + today.toLocaleString()}`,\n      orderId: row.id,\n      operatorId: row.operators[0],\n      operatTypeId: operatType.id,\n      isTest: false\n    }\n    \n    if(operat.orderId === globalConstants.EMPTY_GUID || operat.operatorId === globalConstants.EMPTY_GUID) {\n      dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'createOperatFailed', translate: true }))\n      return\n    }\n    dispatch(createOperat(operat, operatType.parameters, false))\n    history.push('/history')\n  }\n\n\n  const dropDown = () => {\n    return (\n      <div>\n        <Input\n          type='select' className='dark-select' id='operat-type-select' \n          value={operatType.id ? operatType.id : ''} \n          onChange={(e) => {setOperatType(props.operatTypes.find(x => x.id === e.target.value))}} \n          style={{ width: '272px' }} placeholder='wybierz typ operatu'\n        >\n          <option value='' disabled>Wybierz rodzaj operatu</option>\n          {props.operatTypes.map((element) => {\n            return (\n              <option key={element.id} value={element.id}>{element.name}</option>\n            )\n          })}\n        </Input>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <NotificationAlert ref={notifyRegister} />\n      <div>\n          {dropDown()}\n          <div className='d-flex justify-content-between'>\n            <Button\n              style={{ width: '272px', marginBottom: '1rem' }}\n              color='primary'\n              onClick={() => handleCreateOperat(props.activeOrder)}\n              disabled={operatType === {}}\n            >\n              Stwrz operat\n            </Button>\n          </div>\n        <Button\n          style={{ width: '272px', marginBottom: '1rem' }}\n          color='info'\n          onClick={() => setUserInfo(!userInfo)}\n        >\n          informacje o zleceniodawcy\n        </Button>\n        <Collapse isOpen={userInfo} style={{ marginTop: '1rem' }}>\n          <Card>\n            <CardBody>\n              {userInfo && <UserInfo id={props.activeOrder.clientId} />}\n            </CardBody>\n          </Card>\n        </Collapse>\n      </div>\n    </div>\n  )\n}\n\nexport default PaidOrder\n","import React, { useState } from 'react'\nimport PropositionList from './PropositionList'\nimport UserInfo from 'views/Common/UserInfo'\nimport { Card, Button, Collapse, CardBody } from 'reactstrap'\nimport { modalTypeConstants, userRolesConstants } from '../../constants'\nimport { useMsal } from '@azure/msal-react'\nimport { useHistory } from 'react-router'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen } from 'views/Modal/actions'\nfunction ReservedOrder (props) {\n  const dispatch = useDispatch()\n  const { accounts } = useMsal()\n  const user = useSelector(state => state.global.user)\n  const history = useHistory()\n  const [userInfo, setUserInfo] = useState(false)\n  const [sendedOffers, setSendedOffers] = useState(false)\n  const isAdmin = () => { return user.userType === userRolesConstants.ADMIN }\n  const isClient = () => { return user.userType === userRolesConstants.CLIENT }\n  return (\n    <div>\n      {((isClient() && props.activeOrder.clientId === user.user.id) || isAdmin()) && (\n        <Button\n          color='primary'\n          className='long-btn'\n          id='payButton'\n          style={{ marginBottom: '1rem' }}\n          onClick={() => {\n            if (isClient()) dispatch(showLoadingScreen(modalTypeConstants.PAY_FOR_OPERAT, { orderId: props.activeOrder.id }))\n            if (isAdmin()) props.handlePayForOperat()\n          }}\n        >\n          zapa\n        </Button>\n      )}\n      <div>\n        <Button\n          color='secondary'\n          className='long-btn proposition-list-toggler'\n          onClick={() => setSendedOffers(!sendedOffers)}\n          style={{ marginBottom: '1rem' }}\n        >\n          wysane oferty\n        </Button>\n        <Collapse isOpen={sendedOffers}>\n          <Card>\n            <CardBody>\n              {sendedOffers && <PropositionList\n                handleReserveOrderAndProposition={props.handleReserveOrderAndProposition}\n                handleUnreserveProposition={props.handleUnreserveProposition}\n                handleSetPropositionId={props.handleSetPropositionId}\n                propositions={props.propositions}\n                handleLoadPropositions={props.handleLoadPropositions}\n                activeOrder={props.activeOrder}\n                handleSetPropositionsSortParameters={props.handleSetPropositionsSortParameters}\n                handleSetPropositionFilters={props.handleSetPropositionFilters}\n                               />}\n            </CardBody>\n          </Card>\n        </Collapse>\n      </div>\n      {accounts[0].idTokenClaims.oid !== props.activeOrder.clientId &&\n        <div>\n          <Button\n            color='info'\n            className='long-btn'\n            onClick={() => setUserInfo(!userInfo)}\n            style={{ marginBottom: '1rem' }}\n          >\n            informacje o zleceniodawcy\n          </Button>\n          <Collapse isOpen={userInfo}>\n            <Card>\n              <CardBody>\n                {userInfo && <UserInfo id={props.activeOrder.clientId} />}\n              </CardBody>\n            </Card>\n          </Collapse>\n        </div>}\n      {\n        !isClient &&\n        <div>\n          <Button\n            color='info' style={{ width: '272px', marginBottom: '1rem' }} onClick={() => {\n              props.activeOrder.operators && history.push({ pathname: '/users-profile', search: '?operatorId=' + props.activeOrder.operators[0] })\n            }}\n          >Dane o rzeczoznawcy\n          </Button>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default ReservedOrder\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { Button, Form, FormGroup, Input, Spinner, Row, Col } from 'reactstrap'\nimport ReactStars from 'react-rating-stars-component'\nimport { operatService } from 'services'\nconst ReviewForm = ({ onSubmit, operat }) => {\n  const [rating, setRating] = useState(5)\n  const [comment, setComment] = useState('')\n  const [finished, setFinished] = useState(false)\n  useEffect(() => {\n    operatService.getOperatReview(operat.id).then(reviews => {\n      if (reviews.length > 0) {\n        setRating(reviews[0].rating)\n        setComment(reviews[0].comment)\n      }\n    }).catch(err => {\n      console.log(err)\n    }).finally(() => setTimeout(setFinished(true), 500))\n    return function cleanup () {\n      setRating(5)\n      setComment('')\n      setFinished(false)\n    }\n  }\n  , [operat.id])\n\n  const form = () =>\n    <Form\n      onSubmit={(e) => onSubmit(e, rating)}\n    >\n      <h4>Twoja opinia o operacie:</h4>\n      <FormGroup>\n        <Input\n          type='textarea'\n          name='review-comment'\n          id='review-comment'\n          placeholder='Komentarz'\n          value={comment}\n          onChange={(e) => setComment(e.target.value)}\n          required\n        />\n      </FormGroup>\n      <ReactStars\n        count={5}\n        value={rating}\n        edit\n        onChange={(e) => setRating(e)}\n        size={24}\n        id='review-rating-stars'\n        name='review-rating-stars'\n        activeColor='#ffd700'\n      />\n      <Button\n        color='success'\n      >\n        Zapisz recenzj\n      </Button>\n    </Form>\n\n  const spinner = () =>\n    <Row>\n      <Col sm='12' md={{ size: 3, offset: 5 }}>\n        <Spinner\n          color='primary'\n          style={{ width: '8rem', height: '8rem' }}\n          animation='border'\n          variant='info'\n        >\n          {' '}\n        </Spinner>\n      </Col>\n    </Row>\n  return (\n    <div>\n      {\n      finished\n        ? form()\n        : spinner()\n          }\n    </div>\n  )\n}\n\nReviewForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  orderId: PropTypes.object.isRequired\n}\n\nexport default ReviewForm\n","import React, { useState, useEffect } from 'react'\nimport { operatService, clientFilesService } from 'services'\nimport {\n  Button, Col, FormGroup, Input, Label, Collapse, Card, CardBody\n} from 'reactstrap'\nimport { modalTypeConstants, userRolesConstants } from '../../constants'\nimport ReviewForm from 'components/ReviewForm'\nimport { useHistory } from 'react-router-dom'\nimport confirm from 'reactstrap-confirm'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { useTranslation } from 'react-i18next'\nimport UserInfo from 'views/Common/UserInfo'\nexport const addReview = async (event, rating, order, operatId, dispatch) => {\n  event.preventDefault()\n  const comment = event.target.elements['review-comment'].value\n  dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'addReview', translate: true }))\n  const review = {\n    comment,\n    rating,\n    operatorId: order.operators[0],\n    clientId: order.clientId,\n    operatId\n  }\n  operatService.postReview(review).catch(err => console.log(err)).finally(() => dispatch(hideLoadingScreen()))\n}\n\nfunction SignedOrder (props) {\n  const user = useSelector(state => state.global.user)\n  const isAdmin = user.userType === userRolesConstants.ADMIN\n  const isOperator = user.userType === userRolesConstants.OPERATOR\n  const isClient = user.userType === userRolesConstants.CLIENT\n  const [operatorContactOpen, setOperatorContactOpen] = useState(false)\n  const [userInfo, setUserInfo] = useState(false)\n  const dispatch = useDispatch()\n  const [operat, setOperat] = useState(null)\n  const history = useHistory()\n  const {t} = useTranslation('common')\n  const downloadSignedOperat = async () => {\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'downloadOperat', translate: true, t:t }))\n    clientFilesService.getFiles(props.activeOrder.clientId).then(response => {\n      for (const file of response) {\n        if (file.item2.includes(props.activeOrder.id + '.pdf')) {\n          dispatch(hideLoadingScreen())\n          window.open(\n            file.item2, '_blank')\n          return\n        }\n      }\n      dispatch(hideLoadingScreen())\n      dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'downloadOperatFailed', translate: true }))\n    }).catch(err => {dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'downloadOperatFailed', translate: true }))})\n  }\n  useEffect(() => {\n    operatService.getByOrderId(props.activeOrder.id).then((res) => {\n      setOperat(res)\n    })\n  }, [props.activeOrder])\n  return (\n    <>\n      <Button\n        style={{ width: '272px', marginBottom: '1rem' }}\n        color='primary'\n        onClick={async () => await downloadSignedOperat()}\n      >\n        Pobierz operat\n      </Button>\n      <br />\n      { \n      (isClient || isAdmin) &&\n        <>\n          <Button\n            color='info' style={{ width: '272px', marginBottom: '1rem' }} onClick={() => {\n              history.push({ pathname: '/users-profile', search: '?operatorId=' + props.activeOrder.operators[0] })\n            }}\n          >Dane o rzeczoznawcy\n          </Button>\n          <div>\n            <Button\n              style={{ width: '272px', marginBottom: '1rem' }}\n              color='info'\n              onClick={() => setOperatorContactOpen(!operatorContactOpen)}\n            >\n              Napisz do rzeczoznawcy\n            </Button>\n            <Collapse isOpen={operatorContactOpen} style={{ marginTop: '1rem' }}>\n              <Card>\n                <CardBody>\n                  {operatorContactOpen && <UserInfo id={props.activeOrder.operators[0]} />}\n                </CardBody>\n              </Card>\n            </Collapse> \n          </div>  \n        </>\n      }\n      {\n        (isOperator || isAdmin) &&\n        <div>\n          <Button\n          style={{ width: '272px', marginBottom: '1rem' }}\n          color='info'\n          onClick={() => setUserInfo(!userInfo)}\n        >\n          informacje o zleceniodawcy\n        </Button>\n        <Collapse isOpen={userInfo} style={{ marginTop: '1rem' }}>\n          <Card>\n            <CardBody>\n              {userInfo && <UserInfo id={props.activeOrder.clientId} />}\n            </CardBody>\n          </Card>\n        </Collapse>\n        </div>\n      }\n      <Col\n        sm={{\n          size: 4\n        }}\n      >\n        { (isClient || isAdmin) &&\n        <FormGroup>\n          <Input\n            id='checkbox2'\n            type='checkbox'\n            onChange={async () => {\n              const result = operat.isObstructed\n                ? true\n                : await confirm({\n                  title: <>Czy operat zosta zakwestionowany przez sd?</>,\n                  message: 'Zakwestionowane operaty s widoczne w statystyce rzeczoznawcw i wpywaj na ocen koncow pracy rzeczoznawcy',\n                  confirmText: 'Zakwestionuj',\n                  cancelText: 'Anuluj',\n                  confirmColor: 'success',\n                  cancelColor: 'link text-primary'\n                })\n              if (result) {\n                dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'sendData', translate: true }))\n                operatService.obstructOperat(operat.id).then(() => {\n                  setOperat({ ...operat, isObstructed: !operat.isObstructed })\n                }).finally(() => dispatch(hideLoadingScreen()))\n              }\n            }}\n            checked={operat && operat.isObstructed}\n          />\n          {' '}\n          <Label>\n            Operat zakwestionowany\n          </Label>\n        </FormGroup>\n      }\n      { (isOperator || isAdmin) && \n        <Label>\n        Operat zakwestionowany: {operat && operat.isObstructed ? \"Tak\": \"Nie\"}\n        </Label>\n      }\n      </Col>\n      {operat && (isClient || isAdmin) && <ReviewForm operat={operat} onSubmit={(e, rating) => addReview(e, rating, props.activeOrder, operat.id, dispatch)} />}\n    </>\n  )\n}\n\nexport default SignedOrder\n","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Card,\n  CardBody,\n  Input,\n  Button,\n  Form\n} from 'reactstrap'\n\nexport const MarketFilters = ({ handleSetOrderFilters }) => {\n  const { t } = useTranslation('common')\n  const [locationPostCode, setLocationPostCode] = useState('')\n  const handleClear = () => {\n    setLocationPostCode('')\n    handleSetOrderFilters({ locationPostCode: '' })\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    handleSetOrderFilters({ locationPostCode })\n  }\n  return (\n    <Card>\n      <CardBody>\n        <Form onSubmit={handleSubmit}>\n          <label for='filter-locationPostCode'>{t('market.filters.postalCode')}</label>\n          <Input\n            placeholder='' id='filter-locationPostCode' name='filter-locationPostCode' onChange={(e) => {\n              setLocationPostCode(e.target.value)\n            }} value={locationPostCode}\n          />\n          <Button onClick={handleClear}>{t('market.table.buttons.clearFilters')}</Button>\n          <Button color='success'>{t('market.table.buttons.applyFilters')}</Button>\n        </Form>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default MarketFilters\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectMarketPage = (state) => state.marketPage || initialState\n\nconst makeSelectOrders = () =>\n  createSelector(selectMarketPage, (state) => state.orders)\n\nconst makeSelectSaveOrder = () =>\n  createSelector(selectMarketPage, (state) => state.saveOrder)\n\nconst makeSelectActiveOrder = () =>\n  createSelector(selectMarketPage, (state) => state.activeOrder)\n\nconst makeSelectPropositionId = () =>\n  createSelector(selectMarketPage, (state) => state.propositionId)\n\nconst makeSelectPropositions = () =>\n  createSelector(selectMarketPage, (state) => state.propositions)\n\nexport {\n  selectMarketPage,\n  makeSelectOrders,\n  makeSelectSaveOrder,\n  makeSelectActiveOrder,\n  makeSelectPropositionId,\n  makeSelectPropositions\n}\n","import {\n  LOAD_ORDERS, SET_ORDERS_PAGE_NUMBER,\n  LOAD_ORDERS_ERROR,\n  ORDERS_LOADED, ORDER_SAVED, SAVE_ORDER, SAVE_ORDER_ERROR,\n  ORDER_REPLACED, LOAD_PROPOSITIONS, PROPOSITIONS_LOADED,\n  LOAD_PROPOSITIONS_ERROR, SAVE_PROPOSITION,\n  RESERVE_ORDER_AND_PROPOSITION, UNRESERVE_PROPOSITION, SET_PROPOSITION_ID,\n  PROPOSITION_REPLACED, SET_ACTIVE_ORDER, REPLACE_ORDER,\n  REMOVE_ORDER, ORDER_REMOVED, SET_ORDER_SORT_PARAMETERS, SET_ORDER_FILTERS, SET_PROPOSITIONS_SORT_PARAMETERS, SET_PROPOSITIONS_FILTER, CLEAR_PROPOSITION_FILTERS, PAY_FOR_OPERAT\n} from './constants'\n\nexport function loadOrders () {\n  return {\n    type: LOAD_ORDERS\n  }\n}\n\nexport function ordersLoaded (orders) {\n  return {\n    type: ORDERS_LOADED,\n    payload: orders\n  }\n}\n\nexport function loadOrdersError (error) {\n  return {\n    type: LOAD_ORDERS_ERROR,\n    payload: error\n  }\n}\n\nexport function setOrdersPageNumber (pageNumber) {\n  return {\n    type: SET_ORDERS_PAGE_NUMBER,\n    payload: pageNumber\n  }\n}\n\nexport function saveOrder (order) {\n  return {\n    type: SAVE_ORDER,\n    payload: order\n  }\n}\n\nexport function orderSaved () {\n  return {\n    type: ORDER_SAVED\n  }\n}\n\nexport function saveOrderError (err) {\n  return {\n    type: SAVE_ORDER_ERROR,\n    payload: err\n  }\n}\n\nexport function replaceOrder () {\n  return {\n    type: REPLACE_ORDER\n  }\n}\n\nexport function orderReplaced (order) {\n  return {\n    type: ORDER_REPLACED,\n    payload: order\n  }\n}\n\nexport function loadPropositions () {\n  return {\n    type: LOAD_PROPOSITIONS\n  }\n}\n\nexport function propositionsLoaded (propositions) {\n  return {\n    type: PROPOSITIONS_LOADED,\n    payload: propositions\n  }\n}\n\nexport function loadPropositionsError (error) {\n  return {\n    type: LOAD_PROPOSITIONS_ERROR,\n    payload: error\n  }\n}\n\nexport function saveProposition () {\n  return {\n    type: SAVE_PROPOSITION\n  }\n}\n\nexport function reserveOrderAndProposition () {\n  return {\n    type: RESERVE_ORDER_AND_PROPOSITION\n  }\n}\n\nexport function unReserveProposition () {\n  return {\n    type: UNRESERVE_PROPOSITION\n  }\n}\n\nexport function setPropositionId (id) {\n  return {\n    type: SET_PROPOSITION_ID,\n    payload: id\n  }\n}\n\nexport function propositionReplaced (proposition) {\n  return {\n    type: PROPOSITION_REPLACED,\n    payload: proposition\n  }\n}\n\nexport function removeOrder () {\n  return {\n    type: REMOVE_ORDER\n  }\n}\n\nexport function setActiveOrder (order) {\n  return {\n    type: SET_ACTIVE_ORDER,\n    payload: order\n  }\n}\n\nexport function orderRemoved (id) {\n  return {\n    type: ORDER_REMOVED,\n    payload: id\n  }\n}\n\nexport function setOrderSortParameters (fieldName, sortDirection) {\n  return {\n    type: SET_ORDER_SORT_PARAMETERS,\n    fieldName,\n    sortDirection\n  }\n}\n\nexport function setOrderFilters (payload) {\n  return {\n    type: SET_ORDER_FILTERS,\n    payload\n  }\n}\n\nexport function setPropositionsSortParameters (payload) {\n  return {\n    type: SET_PROPOSITIONS_SORT_PARAMETERS,\n    payload\n  }\n}\n\nexport function setPropositionFilters (payload) {\n  return {\n    type: SET_PROPOSITIONS_FILTER,\n    payload\n  }\n}\n\nexport function clearPropositionFilters () {\n  return {\n    type: CLEAR_PROPOSITION_FILTERS\n  }\n}\n\nexport function payForOperat () {\n  return {\n    type: PAY_FOR_OPERAT\n  }\n}\n","import { modalTypeConstants } from '../../constants'\nimport { call, put, select, takeEvery } from 'redux-saga/effects'\nimport { callForHeader } from 'utils/HeadersCall'\nimport request from 'utils/request'\nimport { makeSelectUser } from 'views/App/selectors'\nimport { hideLoadingScreen, showLoadingScreen } from 'views/Modal/actions'\n\nimport { loadOrders, loadOrdersError, loadPropositions, loadPropositionsError, orderReplaced, orderSaved, ordersLoaded, propositionReplaced, propositionsLoaded, replaceOrder, saveOrderError } from './actions'\nimport { LOAD_ORDERS, LOAD_PROPOSITIONS, RESERVE_ORDER_AND_PROPOSITION, SAVE_ORDER, SAVE_PROPOSITION, UNRESERVE_PROPOSITION, REPLACE_ORDER, REMOVE_ORDER, PAY_FOR_OPERAT } from './constants'\nimport {\n  makeSelectActiveOrder,\n  makeSelectOrders,\n  makeSelectPropositionId,\n  makeSelectPropositions\n} from './selectors'\nimport { handleRequestWithTimeout } from 'views/Modal/timeout'\n\nexport function * getOrders () {\n  const orders = yield select(makeSelectOrders())\n  let requestUrl = `/Order/user?pageNumber=${orders.pageNumber}`\n  if (orders.filters) {\n    requestUrl += `&locationPostCode=${orders.filters.locationPostCode}`\n  }\n  if (orders.sortFieldName) {\n    requestUrl += `&fieldName=${orders.sortFieldName}&direction=${orders.sortDirection}`\n  }\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const orders = yield call(request, requestUrl, options)\n    yield put(ordersLoaded(orders))\n  } catch (err) {\n    yield put(loadOrdersError(err))\n  }\n}\n\nexport function * saveOrder ({ payload: order }) {\n  const { address, landRegisterCode, latitudeLongitude, ...restOfOrder } = order\n  const user = yield select(makeSelectUser())\n\n  const body = {\n    location: address,\n    ekw: landRegisterCode,\n    clientId: user.user.id,\n    latitudeLongitude: `${latitudeLongitude.lat},${latitudeLongitude.lng}`,\n    ...restOfOrder\n  }\n\n  const requestUrl = '/Order'\n  const headers = yield call(callForHeader, 'json')\n  const options = { method: 'POST', headers, body: JSON.stringify(body) }\n  try {\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(orderSaved())\n    yield put(loadOrders())\n    yield put(showLoadingScreen(modalTypeConstants.CONFIRM_SUCCESS, { message: 'Zlecenie zostao stworzone' }))\n  } catch (err) {\n    yield put(saveOrderError(err))\n  }\n}\n\nexport function * replaceOrderSaga () {\n  const activeOrder = yield select(makeSelectActiveOrder())\n  const requestUrl = `/Order/id/${activeOrder.id}`\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const order = yield call(request, requestUrl, options)\n    yield put(orderReplaced(order))\n  } catch (err) { }\n}\n\nexport function * getPropositions () {\n  const activeOrder = yield select(makeSelectActiveOrder())\n  const propositions = yield select(makeSelectPropositions())\n  let requestUrl = `/OrderProposition/orderId/${activeOrder.id}/by-user?pageNumber=1`\n  if (propositions.sortFieldName) {\n    requestUrl += `&fieldName=${propositions.sortFieldName}&direction=${propositions.sortDirection}`\n  }\n  if (propositions.filters) {\n    if (propositions.filters.priceFrom !== '') { requestUrl += `&priceFrom=${propositions.filters.priceFrom}` }\n    if (propositions.filters.priceTo !== '') { requestUrl += `&priceTo=${propositions.filters.priceTo}` }\n    if (propositions.filters.upTillDateFrom !== '') { requestUrl += `&upTillDateFrom=${propositions.filters.upTillDateFrom}` }\n    if (propositions.filters.upTillDateTo !== '') { requestUrl += `&upTillDateTo=${propositions.filters.upTillDateTo}` }\n  }\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const propositions = yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(propositionsLoaded(propositions))\n  } catch (err) {\n    yield put(loadPropositionsError(err))\n  }\n}\n\nexport function * saveProposition () {\n  const activeOrder = yield select(makeSelectActiveOrder())\n  const user = yield select(makeSelectUser())\n  const formElement = document.querySelector('#new-offer')\n  const data = new FormData(formElement)\n  const body = {\n    orderId: activeOrder.id,\n    description: data.get('description') !== '' ? data.get('description') : `${data.get('exampleNumber').value} PLN do dnia ${data.get('date').value}`,\n    operatorId: user.user.id,\n    price: data.get('exampleNumber'),\n    upTillDate: data.get('date')\n  }\n\n  const requestUrl = '/OrderProposition?pageNumber=1'\n  const headers = yield call(callForHeader, 'json')\n  const options = { method: 'POST', headers, body: JSON.stringify(body) }\n  try {\n    yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'savingOrderProposition', translate: true }))\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(loadPropositions())\n    yield put(hideLoadingScreen())\n  } catch (err) {\n    if (typeof (err) === 'object' && Object.prototype.hasOwnProperty.call(err, 'response') && err.response.status === 403) {\n      yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'orderRequiresZbpList', translate: true }))\n    } else {\n      yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'saveOrderPropositionFailed', translate: true }))\n    }\n  }\n}\n\nexport function * reserveOrderAndProposition () {\n  const propositionId = yield select(makeSelectPropositionId())\n  const requestURL = `/OrderProposition/id/${propositionId}/reserve`\n  yield call(replaceProposition, requestURL)\n}\n\nfunction * replaceProposition (requestURL) {\n  const headers = yield call(callForHeader)\n  const options = { method: 'PUT', headers }\n  try {\n    const proposition = yield call(handleRequestWithTimeout, requestURL, options)\n    yield put(propositionReplaced(proposition))\n    yield put(replaceOrder())\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport function * unreserveProposition () {\n  const propositionId = yield select(makeSelectPropositionId())\n  const requestURL = `/OrderProposition/id/${propositionId}/unreserve`\n  yield call(replaceProposition, requestURL)\n}\n\nexport function * removeOrder () {\n  const activeOrder = yield select(makeSelectActiveOrder())\n  const requestURL = `/Order/id/${activeOrder.id}`\n  const headers = yield call(callForHeader)\n  const options = { method: 'DELETE', headers }\n  try {\n    yield call(handleRequestWithTimeout, requestURL, options)\n    yield put(loadOrders())\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport function * payForOperat () {\n  const activeOrder = yield select(makeSelectActiveOrder())\n  const requestUrl = `/Order/id/${activeOrder.id}/pay`\n  const headers = yield call(callForHeader)\n  const options = { method: 'PUT', headers }\n  try {\n    yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'payingForOperat', translate: true }))\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(loadOrders())\n    yield put(hideLoadingScreen())\n  } catch (err) {\n    console.log(err)\n    yield put(hideLoadingScreen())\n  }\n}\n\nexport default function * dashboardData () {\n  yield takeEvery(LOAD_ORDERS, getOrders)\n  yield takeEvery(SAVE_ORDER, saveOrder)\n  yield takeEvery(REPLACE_ORDER, replaceOrderSaga)\n  yield takeEvery(LOAD_PROPOSITIONS, getPropositions)\n  yield takeEvery(SAVE_PROPOSITION, saveProposition)\n  yield takeEvery(RESERVE_ORDER_AND_PROPOSITION, reserveOrderAndProposition)\n  yield takeEvery(UNRESERVE_PROPOSITION, unreserveProposition)\n  yield takeEvery(REMOVE_ORDER, removeOrder)\n  yield takeEvery(PAY_FOR_OPERAT, payForOperat)\n}\n","import { LOAD_OPERAT_TYPES, LOAD_OPERAT_TYPES_ERROR, LOAD_USER, LOAD_USER_ERROR, OPERAT_TYPES_LOADED, USER_LOADED, LOAD_EKW_DATA, EKW_DATA_LOADED, LOAD_PUBLIC_SETTINGS, PUBLIC_SETTINGS_LOADED, SET_NOTIFY_REGISTER } from './constants'\n\nexport function loadOperatTypes () {\n  return {\n    type: LOAD_OPERAT_TYPES\n  }\n}\n\nexport function operatTypesLoaded (operatTypes) {\n  return {\n    type: OPERAT_TYPES_LOADED,\n    payload: operatTypes\n  }\n}\n\nexport function loadOperatTypesError (error) {\n  return {\n    type: LOAD_OPERAT_TYPES_ERROR,\n    payload: error\n  }\n}\n\nexport function loadUser (id) {\n  return {\n    type: LOAD_USER,\n    id\n  }\n}\n\nexport function userLoaded (payload) {\n  return {\n    type: USER_LOADED,\n    payload\n  }\n}\n\nexport function loadUserError (payload) {\n  return {\n    type: LOAD_USER_ERROR,\n    payload\n  }\n}\n\nexport function loadEkwData () {\n  return {\n    type: LOAD_EKW_DATA\n  }\n}\n\nexport function ekwDataLoaded (payload) {\n  return {\n    type: EKW_DATA_LOADED,\n    payload\n  }\n}\n\nexport function loadPublicSettings () {\n  return {\n    type: LOAD_PUBLIC_SETTINGS\n  }\n}\n\nexport function publicSettingsLoaded (payload) {\n  return {\n    type: PUBLIC_SETTINGS_LOADED,\n    payload\n  }\n}\n\nexport function setNotifyRegister (payload) {\n  return {\n    type: SET_NOTIFY_REGISTER,\n    payload\n  }\n}\n","import { useMsal } from '@azure/msal-react'\nimport React, { memo, useEffect, useRef, useState } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Button, Card, CardBody, Col, Collapse, Input, Row, UncontrolledTooltip\n} from 'reactstrap'\nimport { connect, useSelector } from 'react-redux'\nimport { userRolesConstants } from '../../constants'\nimport { useHistory } from 'react-router'\nimport Pagination from '@mui/material/Pagination'\nimport UserInfoUncontrolledCollapse from '../Common/OrderInfoUncontrolledCollapse'\nimport AnnouncedOrder from './AnnouncedOrder'\nimport NewOrderForm from 'components/NewOrderForm'\nimport PaidOrder from './PaidOrder'\nimport ReservedOrder from './ReservedOrder'\nimport SignedOrder from './SignedOrder'\nimport MarketFilters from 'components/Filters/Market'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectActiveOrder, makeSelectOrders, makeSelectPropositions, makeSelectSaveOrder } from './selectors'\nimport { loadOrders, loadPropositions, removeOrder, replaceOrder, reserveOrderAndProposition, saveOrder, saveProposition, setActiveOrder, setOrdersPageNumber, setPropositionId, unReserveProposition, setOrderSortParameters, setOrderFilters, setPropositionsSortParameters, setPropositionFilters, clearPropositionFilters, payForOperat } from './actions'\nimport { compose } from 'redux'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport { makeSelectOperatTypes, makeSelectUser, makeSelectEkw } from 'views/App/selectors'\nimport { loadOperatTypes, loadUser, loadEkwData, loadPublicSettings } from 'views/App/actions'\nimport ShowIdCheckbox from 'components/ShowIdCheckbox'\nimport { showConfirmBox } from 'utils/showConfirmBox'\nimport UserInfo from 'views/Common/UserInfo'\nconst key = 'marketPage'\nfunction Market (props) {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const { t } = useTranslation('common')\n  const user = useSelector(state => state.global.user)\n  const [newOrder, setNewOrder] = useState(false)\n  const newOrderButton = useRef(null)\n  const { accounts } = useMsal()\n  const [isFiltersOpen, setIsFiltersOpen] = useState(false)\n  const [isIdHidden, setIsIdHidden] = useState(true)\n  const [operatorContactOpen, setOperatorContactOpen] = useState(false)\n  const isAdmin = user.userType === userRolesConstants.ADMIN\n  const isClient = user.userType === userRolesConstants.CLIENT\n  const sortable = {\n    onSort: (field, order) => {\n      props.handleSetOrderSortParameters(field)\n    },\n    sortFunc: (a, b, order, dataField, rowA, rowB) => {\n\n    },\n    sort: true\n  }\n  const columns = () => {\n    return [\n      {\n        dataField: 'id',\n        text: 'ID',\n        hidden: isIdHidden\n      },\n      {\n        dataField: 'inProcess',\n        text: t('market.table.headers.inProgress'),\n        editable: false,\n        align: 'center',\n        sort: true,\n        headerAlign: 'center',\n        formatter: (cellContent, row) => (\n          <Input type='checkbox' checked={row.status.toLowerCase() === 'inprogress'} disabled />\n        ),\n        headerStyle: (colum, colIndex) => {\n          return { width: '10%', textAlign: 'center' }\n        }\n      },\n      {\n        dataField: 'createdDateTime',\n        text: t('market.table.headers.applicationDate'),\n        align: 'center',\n        headerAlign: 'center',\n        editable: false,\n        ...sortable,\n        formatter: (cellContent, row) => <div id={row.id}>{cellContent.split('T')[0]}</div>,\n        headerStyle: (colum, colIndex) => {\n          return { width: '15%', textAlign: 'center' }\n        }\n      },\n      {\n        dataField: 'name',\n        text: t('market.table.headers.name'),\n        align: 'center',\n        headerAlign: 'center',\n        ...sortable,\n        editable: false,\n        formatter: (cellContent, row) => (\n          <div>\n            <div id={`title-${row.id}`}>\n              {cellContent.length > 30\n                ? cellContent.substring(0, 30) + '...'\n                : cellContent}\n            </div>\n            <UncontrolledTooltip placement='top' target={`title-${row.id}`}>\n              {cellContent}\n            </UncontrolledTooltip>\n          </div>\n        )\n      },\n      {\n        dataField: 'locationPostCode',\n        text: t('market.table.headers.postCode'),\n        align: 'center',\n        headerAlign: 'center',\n        ...sortable,\n        editable: false,\n        formatter: (cellContent) => (\n          <div>{cellContent}</div>\n        )\n      },\n      {\n        dataField: 'status',\n        text: t('market.table.headers.status'),\n        align: 'center',\n        headerAlign: 'center',\n        editable: false,\n        formatter: (cellContent) => (\n          <div>{t(`market.table.statuses.${cellContent}`)}</div>\n        )\n      }\n    ]\n  }\n\n  const renderSwitch = (row) => {\n    switch (row.status) {\n      case 'announced':\n        return (\n          <AnnouncedOrder\n            handleRemoveOrder={props.handleRemoveOrder} activeOrder={props.activeOrder}\n            handleReserveOrderAndProposition={props.handleReserveOrderAndProposition}\n            handleUnreserveProposition={props.handleUnreserveProposition}\n            handleSetPropositionId={props.handleSetPropositionId}\n            propositions={props.propositions}\n            handleSaveProposition={props.handleSaveProposition}\n            handleLoadPropositions={props.handleLoadPropositions}\n            user={props.user}\n            handleSetPropositionsSortParameters={props.handleSetPropositionsSortParameters}\n            handleSetPropositionFilters={props.handleSetPropositionFilters}\n          />\n        )\n      case 'reserved':\n        return (\n          <ReservedOrder\n            activeOrder={props.activeOrder}\n            handleReserveOrderAndProposition={props.handleReserveOrderAndProposition}\n            handleUnreserveProposition={props.handleUnreserveProposition}\n            handleSetPropositionId={props.handleSetPropositionId}\n            propositions={props.propositions}\n            handleLoadPropositions={props.handleLoadPropositions}\n            handleReplaceOrder={props.handleReplaceOrder}\n            handleSetPropositionsSortParameters={props.handleSetPropositionsSortParameters}\n            handleSetPropositionFilters={props.handleSetPropositionFilters}\n            handlePayForOperat={props.handlePayForOperat}\n          />\n        )\n      case 'paid':\n        return  <>\n          { (isClient || isAdmin) && \n            <>\n              <Button\n              color='info' style={{ width: '272px', marginBottom: '1rem' }} onClick={() => {\n                props.activeOrder.operators && history.push({ pathname: '/users-profile', search: '?operatorId=' + props.activeOrder.operators[0] })\n              }}\n              >\n                Profil rzeczoznawcy\n              </Button>\n              <div>\n                <Button\n                  style={{ width: '272px', marginBottom: '1rem' }}\n                  color='info'\n                  onClick={() => setOperatorContactOpen(!operatorContactOpen)}\n                >\n                  Napisz do rzeczoznawcy\n                </Button>\n                <Collapse isOpen={operatorContactOpen} style={{ marginTop: '1rem' }}>\n                  <Card>\n                    <CardBody>\n                      {operatorContactOpen && <UserInfo id={props.activeOrder.operators[0]} />}\n                    </CardBody>\n                  </Card>\n                </Collapse> \n              </div>    \n            </>\n          }\n            {!isClient && (row.operators[0] === accounts[0].idTokenClaims.oid) && <PaidOrder activeOrder={props.activeOrder} operatTypes={props.operatTypes.operatTypes} />} \n        </>\n      case 'signed':\n        return <SignedOrder activeOrder={props.activeOrder} />\n      default:\n        break\n    }\n  }\n  const [expanded, setExpanded] = useState('')\n  const history = useHistory()\n  const expandRow = () => {\n    return {\n      onlyOneExpanding: true,\n      expanded: [expanded],\n      renderer: (row) => (\n        <div style={{ wordBreak: 'break-all' }}>\n          <div>\n            <Button\n              className='long-btn'\n              color='success'\n              id='orderData'\n              style={{ marginBottom: '1rem' }}\n            >\n              {t('market.table.buttons.orderData')}\n            </Button>\n            <UserInfoUncontrolledCollapse row={row} />\n          </div>\n          {renderSwitch(row)}\n          <br />\n          {\n            (user.userType === userRolesConstants.CLIENT || user.userType === userRolesConstants.ADMIN) && \n            (row.status.toLowerCase() !== 'paid' && row.status.toLowerCase() !== 'signed' ) &&\n            <Button\n              className='long-btn'\n              color='danger'\n              disabled={!userRolesConstants.ADMIN === user.userType && props.activeOrder.clientId !== props.user.user.id}\n              onClick={() => showConfirmBox('Czy na pewno chcesz usun zlecenie?', 'Ostrzeenie', () => props.handleRemoveOrder())}\n            >\n              {t('market.table.buttons.deleteOrder')}\n            </Button>\n          }\n        </div>\n      ),\n      onExpand: (row) => {\n        expanded === row.id ? setExpanded('') : setExpanded(row.id)\n        const search = new URLSearchParams(history.location.search)\n        search.set('id', row.id)\n        history.push({\n          pathname: '/market',\n          search: search.toString()\n        })\n        props.handleSetActiveOrder(row)\n      }\n    }\n  }\n\n  useEffect(() => {\n    const search = new URLSearchParams(history.location.search)\n    if (!search.get('pageNumber')) { props.handleSetOrdersPageNumber('1') }\n    // eslint-disable-next-line\n  }, [])\n\n  useEffect(() => {\n    props.loadOrders()\n\n    // eslint-disable-next-line\n  }, [props.orders.filters])\n\n  useEffect(() => {\n    const search = new URLSearchParams(history.location.search)\n    if (search.get('pageNumber')) { props.handleSetOrdersPageNumber(search.get('pageNumber')) }\n    if (search.get('id')) { setExpanded(search.get('id')) }\n    // eslint-disable-next-line\n  }, [history.location.search])\n\n  const handleChangePageNumber = (event, newPage) => {\n    const search = new URLSearchParams(history.location.search)\n    search.set('pageNumber', newPage.toString())\n    history.push({\n      pathname: '/market',\n      search: search.toString()\n    })\n    props.handleSetOrdersPageNumber(newPage.toString())\n    props.loadOrders()\n  }\n\n  return (\n    <div className='content'>\n      <div className='container'>\n        <Button\n          color='primary'\n          onClick={() => {\n            setNewOrder(!newOrder)\n          }}\n          innerRef={newOrderButton}\n        >\n          {t('market.table.buttons.newOrder')}\n        </Button>\n        <Collapse isOpen={newOrder}>\n          <Card>\n            <CardBody>\n              <NewOrderForm\n                saveOrder={props.saveOrder}\n                onSubmit={props.handleSaveOrder}\n                ekwData={props.ekwData}\n              />\n            </CardBody>\n          </Card>\n        </Collapse>\n        <br />\n        <Button color='success' onClick={() => setIsFiltersOpen(!isFiltersOpen)}>{t('market.table.buttons.filters')}</Button>\n        <Collapse isOpen={isFiltersOpen}>\n          <MarketFilters\n            handleSetOrderFilters={props.handleSetOrderFilters}\n          />\n        </Collapse>\n\n        {isAdmin && <ShowIdCheckbox setIsIdHidden={setIsIdHidden} label={t('market.showOrderId')} isIdHidden={isIdHidden} />}\n        <Row>\n          <Col md='12'>\n            <Pagination count={localStorage.getItem('pageCount')} color='primary' page={(new URLSearchParams(history.location.search)).get('pageNumber') ? parseInt((new URLSearchParams(history.location.search)).get('pageNumber')) : 1} onChange={handleChangePageNumber} />\n            {props.orders.loading\n              ? <LoadingIndicator />\n              : <BootstrapTable\n                  bootstrap4\n                  keyField='id'\n                  data={props.orders.orders}\n                  columns={columns()}\n                  striped\n                  hover\n                  condensed\n                  bordered={false}\n                  expandRow={expandRow()}\n                />}\n          </Col>\n        </Row>\n      </div>\n    </div>\n  )\n}\nconst mapStateToProps = createStructuredSelector({\n  orders: makeSelectOrders(),\n  saveOrder: makeSelectSaveOrder(),\n  operatTypes: makeSelectOperatTypes(),\n  activeOrder: makeSelectActiveOrder(),\n  user: makeSelectUser(),\n  propositions: makeSelectPropositions(),\n  ekwData: makeSelectEkw()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    loadOrders: () => dispatch(loadOrders()),\n    handleSaveOrder: (order) => dispatch(saveOrder(order)),\n    handleSetPropositionId: id => dispatch(setPropositionId(id)),\n    handleReserveOrderAndProposition: () => dispatch(reserveOrderAndProposition()),\n    handleUnreserveProposition: () => dispatch(unReserveProposition()),\n    handleSetOrdersPageNumber: pageNumber => dispatch(setOrdersPageNumber(pageNumber)),\n    handleLoadPropositions: () => dispatch(loadPropositions()),\n    handleSaveProposition: () => dispatch(saveProposition()),\n    handleSetActiveOrder: order => {\n      dispatch(setActiveOrder(order))\n      dispatch(clearPropositionFilters())\n    },\n    handleRemoveOrder: () => dispatch(removeOrder()),\n    handleReplaceOrder: () => dispatch(replaceOrder()),\n    handleLoadOperatTypes: () => dispatch(loadOperatTypes()),\n    handleLoadUser: (userId) => dispatch(loadUser(userId)),\n    handleSetOrderSortParameters: (fieldName) => {\n      dispatch(setOrderSortParameters(fieldName))\n      dispatch(loadOrders())\n    },\n    handleSetOrderFilters: filters => dispatch(setOrderFilters(filters)),\n    handleSetPropositionsSortParameters: fieldName => dispatch(setPropositionsSortParameters(fieldName)),\n    handleSetPropositionFilters: filters => dispatch(setPropositionFilters(filters)),\n    handlePayForOperat: () => dispatch(payForOperat()),\n    handleLoadEkwData: () => dispatch(loadEkwData()),\n    handleLoadPublicSettings: () => dispatch(loadPublicSettings())\n  }\n}\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(Market)\n","import { landRegisterService, operatFilesService } from 'services'\nimport { formatDate } from 'utils/DateFormat'\nimport { v4 as uuidv4 } from 'uuid'\nimport { hideLoadingScreen } from 'views/Modal/actions'\nimport {\n  DOWNLOAD_FROM_EKW, LOAD_OPERAT_INITIAL_WEIGHTS, OPERAT_UPDATE_LIST,\n  FILES_GET_WEIGHTS, SAVE_WEIGHTS_AREA, FILES_ADD_LINES_TO_CSV_FROM_CSV,\n  FILES_ADD_LINE_TO_CSV, FILES_CLEAR_STATE, SAVE_CSV_AREA,\n  FILES_GET_CSV, FILES_GET_INPUT, FILES_LOAD_EMPTY_INPUT, FILES_GET_BY_OPERAT,\n  FILES_LOAD_EMPTY_PHOTO, FILES_LOAD_OPERAT_TYPE, OPERAT_UPDATE_PROTOCOL_LIST,\n  FILES_LOAD_PHOTO_FILE_TO_GALLERY, FILES_GET_PROTOCOL,\n  FILES_PUT_OPERAT, FILES_REMOVE_LINE_FROM_CSV, REMOVE_PHOTOS,\n  REMOVE_PHOTO_FILES, SET_ALL_VALID, CALL_SET_ALL_VALID, SAVE_INPUT_AREA,\n  GENERATE_OPERAT, CSV_EDIT_CELL, FILES_PUT_WEIGHTS, FILES_PUT_PROTOCOL,\n  FILES_SEND_PHOTOS, FILES_LOADED,\n  ADD_NEW_WEIGHT,\n  FILES_LOAD_EMPTY_PROTOCOL,\n  PUT_RATE,\n  ADD_NEW_RATE,\n  REMOVE_WEIGHTS,\n  REMOVE_RATINGS,\n  SET_OPERAT,\n  GENERATE_PROTOCOL\n} from './constants'\n\nexport function setOperat (operat) {\n  return {\n    type: SET_OPERAT,\n    payload: operat\n  }\n}\nexport function clearOperatState () {\n  return {\n    type: FILES_CLEAR_STATE\n  }\n}\n\nexport function downloadFromEkw (code, name) {\n  landRegisterService.get(code).then(ekw => {\n    return {\n      type: DOWNLOAD_FROM_EKW,\n      payload: {\n        code,\n        name,\n        ekw\n      }\n    }\n  })\n}\n\nexport function loadFileToGallery (id, files) {\n  return {\n    type: FILES_LOAD_PHOTO_FILE_TO_GALLERY,\n    payload: { id, files }\n  }\n}\n\nexport function removePhotos (id) {\n  return {\n    type: REMOVE_PHOTOS,\n    payload: { id }\n  }\n}\n\nexport function removePhotoFiles (id) {\n  return {\n    type: REMOVE_PHOTO_FILES,\n    payload: { id }\n  }\n}\n\nexport function loadOperatEmptyInput (input) {\n  return {\n    type: FILES_LOAD_EMPTY_INPUT,\n    payload: input\n  }\n}\n\nexport function loadOperatEmptyProtocol (protocol) {\n  return {\n    type: FILES_LOAD_EMPTY_PROTOCOL,\n    payload: protocol\n  }\n}\n\nexport function loadOperatInitialWeights (weights) {\n  return {\n    type: LOAD_OPERAT_INITIAL_WEIGHTS,\n    payload: weights\n  }\n}\n\nexport function loadOperatEmptyPhoto (photo) {\n  return {\n    type: FILES_LOAD_EMPTY_PHOTO,\n    payload: photo\n  }\n}\n\nexport function loadOperatType (data) {\n  return {\n    type: FILES_LOAD_OPERAT_TYPE,\n    payload: data\n  }\n}\n\nexport function updateValue (value, id, idx) {\n  return {\n    type: FILES_PUT_OPERAT,\n    payload: {\n      value,\n      id,\n      idx\n    }\n  }\n}\n\nexport function updateProtocol (value, id, idx) {\n  return {\n    type: FILES_PUT_PROTOCOL,\n    payload: {\n      value,\n      id,\n      idx\n    }\n  }\n}\n\nexport function updateList (value, id, idx, listIdx, del = 'false') {\n  return {\n    type: OPERAT_UPDATE_LIST,\n    payload: {\n      value,\n      id,\n      idx,\n      listIdx,\n      del\n    }\n  }\n}\n\nexport function updateProtocolList (value, id, idx, listIdx, del = 'false') {\n  return {\n    type: OPERAT_UPDATE_PROTOCOL_LIST,\n    payload: {\n      value,\n      id,\n      idx,\n      listIdx,\n      del\n    }\n  }\n}\n\nexport function getFormatedFiles () {\n  return {\n    type: FILES_GET_BY_OPERAT\n  }\n}\n\nexport function filesLoaded (files, operat) {\n  return {\n    type: FILES_LOADED,\n    payload: {\n      id: operat.id,\n      operatInfo: operat,\n      files,\n      operatTypeId: operat.operatTypeId\n    }\n  }\n}\n\nexport function loadOperatInput (dispatch, url, useCache) {\n  operatFilesService.getFile(url, useCache).then(\n    input => {\n      dispatch({\n        type: FILES_GET_INPUT,\n        payload: {\n          input: input.input\n        }\n      })\n    }\n  ).then(() => {\n    dispatch(hideLoadingScreen())\n  })\n}\n\nexport function loadOperatProtocol (dispatch, url, useCache) {\n  operatFilesService.getFile(url, useCache).then(\n    input => {\n      dispatch({\n        type: FILES_GET_PROTOCOL,\n        payload: {\n          protocol: input.protocol\n        }\n      })\n    }\n  ).then(() => {\n    dispatch(hideLoadingScreen())\n  })\n}\n\nexport function saveCsvArea (columnKeys) {\n  return {\n    type: SAVE_CSV_AREA,\n    columnKeys\n  }\n}\n\nexport function loadOperatWeights (dispatch, url) {\n  operatFilesService.getFile(url).then(\n    weights => {\n      dispatch({\n        type: FILES_GET_WEIGHTS,\n        payload: {\n          weights: weights.weights\n        }\n      })\n    }\n  ).then(() => {\n    dispatch(hideLoadingScreen())\n  })\n}\n\nexport function loadOperatCSV (dispatch, url) {\n  operatFilesService.getFile(url).then(\n    csv => {\n      dispatch({\n        type: FILES_GET_CSV,\n        payload: {\n          csv: csvJSON(csv)\n        }\n      })\n    }\n  ).then(() => {\n    dispatch(hideLoadingScreen())\n  })\n}\n\nexport function removeInfo (id) {\n  return {\n    type: 'REMOVE_OPERAT_FROM_GENERATED',\n    payload: id\n  }\n}\n\nexport function addLineToCSV (keys) {\n  return {\n    type: FILES_ADD_LINE_TO_CSV,\n    payload: { newRow: generateNewRowForCSV(keys) }\n  }\n}\n\nexport function addLinesToCSVFromCSV (keys, rows) {\n  return {\n    type: FILES_ADD_LINES_TO_CSV_FROM_CSV,\n    payload: { newRows: generateNewRowsForCSVFromCSV(keys, rows) }\n  }\n}\n\nexport function removeLineFromCSV (rows) {\n  return {\n    type: FILES_REMOVE_LINE_FROM_CSV,\n    payload: { rows }\n  }\n}\n\nexport function generateNewRowForCSV (keys) {\n  const newRow = { id: uuidv4() }\n  keys.forEach(x => { x === 'Data' ? newRow[x] = formatDate(new Date()) : newRow[x] = '' })\n\n  return newRow\n}\n\nexport function generateNewRowsForCSVFromCSV (keys, rows) {\n  const tableRows = rows.map(row => {\n    const elements = row.split(';').map(element => element.replaceAll('\\r', ''))\n    const rowObj = Object.assign.apply({}, keys.map((key, index) => ({ [key]: elements[index] })))\n    return { id: uuidv4(), ...rowObj }\n  })\n\n  return tableRows\n}\n\nexport function csvJSON (csv) {\n  const lines = csv.split('\\n')\n  const result = []\n  const headers = lines[0].split(',')[0].split(';')\n\n  for (let i = 1; i < lines.length; i++) {\n    const obj = {}\n    const currentline = lines[i].split(';')\n    for (let j = 0; j < headers.length; j++) {\n      obj[headers[j].trim()] = currentline[j]\n    }\n    obj.id = uuidv4()\n    result.push(obj)\n  }\n\n  return result\n}\n\nexport function callSetAllValid () {\n  return {\n    type: CALL_SET_ALL_VALID\n  }\n}\n\nexport function setAllValid () {\n  return {\n    type: SET_ALL_VALID\n  }\n}\n\nexport function saveInputArea (id) {\n  return {\n    type: SAVE_INPUT_AREA,\n    id\n  }\n}\n\nexport function saveWeightsArea (id) {\n  return {\n    type: SAVE_WEIGHTS_AREA,\n    id\n  }\n}\n\nexport function generateOperat () {\n  return {\n    type: GENERATE_OPERAT\n  }\n}\n\nexport function generateProtocol () {\n  return {\n    type: GENERATE_PROTOCOL\n  }\n}\n\nexport function editCsvCell (id, columnToChange, newValue) {\n  return {\n    type: CSV_EDIT_CELL,\n    id,\n    columnToChange,\n    newValue\n  }\n}\n\nexport function sendPhotos (operatId, photos, photoGroupId) {\n  return {\n    type: FILES_SEND_PHOTOS,\n    payload: {\n      operatId,\n      photos,\n      photoGroupId\n    }\n  }\n}\n\nexport function updateWeights (name, dataField, newValue) {\n  return {\n    type: FILES_PUT_WEIGHTS,\n    payload: {\n      name,\n      dataField,\n      newValue\n    }\n  }\n}\n\nexport function updateRatings (rowIndex, rate, dataField, newValue) {\n  return {\n    type: PUT_RATE,\n    payload: {\n      rowIndex,\n      rate,\n      dataField,\n      newValue\n    }\n  }\n}\n\nexport function addNewWeight () {\n  return {\n    type: ADD_NEW_WEIGHT\n  }\n}\n\nexport function addNewRate (rowIndex) {\n  return {\n    type: ADD_NEW_RATE,\n    payload: {\n      rowIndex\n    }\n  }\n}\n\nexport function removeWeights (indexes) {\n  return {\n    type: REMOVE_WEIGHTS,\n    payload: {\n      indexes\n    }\n  }\n}\n\nexport function removeRatings (indexes, rowIndex) {\n  return {\n    type: REMOVE_RATINGS,\n    payload: {\n      indexes,\n      rowIndex\n    }\n  }\n}\n","var _path, _path2;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgExclamation(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-exclamation-circle\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgExclamation);\nexport default __webpack_public_path__ + \"static/media/exclamation.56ace894.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useRef, useState } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport cellEditFactory from 'react-bootstrap-table2-editor'\nimport ToolkitProvider, { CSVExport } from 'react-bootstrap-table2-toolkit'\nimport { useTranslation } from 'react-i18next'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Button, Card, CardBody, Col, Input, Row, UncontrolledTooltip } from 'reactstrap'\nimport confirm from 'reactstrap-confirm'\nimport { showLoadingScreen } from 'views/Modal/actions'\nimport { modalTypeConstants } from '../../constants'\nimport { addLinesToCSVFromCSV, addLineToCSV, loadOperatCSV, removeLineFromCSV, editCsvCell, loadOperatWeights, loadOperatInitialWeights, saveCsvArea } from './actions'\nimport { ReactComponent as Exclamation } from 'assets/img/exclamation.svg'\n\nfunction CsvComponent ({ operat, operatTypeParams }) {\n  const { t } = useTranslation('common')\n  const dispatch = useDispatch()\n  const operatState = useSelector(state => state.operat)\n  const [selectedRows, setSelectedRows] = useState([])\n  const [csvToRead, setCsvToRead] = useState()\n\n  const columnKeys = [\n    ...operatTypeParams && operatTypeParams.csvColumns.map(x => x.dataField),\n    ...operatState.weights && operatState.weights.map(x => x.name)\n  ]\n\n  const inputFile = useRef(null)\n  const baseColumnProps = {\n    headerAlign: 'center',\n    align: 'center',\n    editable: true,\n    sort: true\n  }\n  const createCsvDataRenderer = (editorProps, value, row, column, rowIndex, columnIndex, type, colName) => (<EditComponent {...editorProps} value={value} type={type} onUpdate={e => dispatch(editCsvCell(row.id, colName, e))} />)\n  const createCsvWeightsRenderer = (editorProps, value, row, column, rowIndex, columnIndex, rangeLow, rangeHigh, colName) => (<EditWeightComponent {...editorProps} value={value} rangeLow={rangeLow} rangeHigh={rangeHigh} onUpdate={e => dispatch(editCsvCell(row.id, colName, e))} />)\n  const cols = () => [\n    {\n      dataField: 'id',\n      text: 'ID',\n      hidden: true\n    },\n    {\n      text: \"Bdy\",\n      editable: false,\n      formatter: (cellContent, row) => {\n        return ( row && Object.entries(row).some(([key, value]) => (value === undefined || value === null || value === '') && columnKeys.includes(key)) \n          ? <>\n            <Exclamation style={{width: \"20px\", height: \"20px\"}} id={`row-errors-${row.id}`} fill='red' />\n            <UncontrolledTooltip\n              placement='top'\n              target={`row-errors-${row.id}`}\n            >\n              <p>Uzupenij wszystkie pola w rzdzie</p>\n            </UncontrolledTooltip></> \n          : <div />\n          )}\n    },\n    ...operatTypeParams && operatTypeParams.csvColumns.map( x => ({\n      dataField: x.dataField,\n      text: x.text,\n      ...baseColumnProps,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => createCsvDataRenderer(editorProps, value, row, column, rowIndex, columnIndex, x.type, x.dataField)\n    })),\n    ...operatState.weights && operatState.weights.map(x => ({\n      dataField: x.name,\n      text: \"Warto oceny \"+x.description,\n      ...baseColumnProps,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => createCsvWeightsRenderer(editorProps, value, row, column, rowIndex, columnIndex, x.range[0], x.range[1], x.name)\n    }))\n  ]\n\n  useEffect(() => {\n    const csvItems = operatState.files.csv\n    const load = () => {\n      dispatch(showLoadingScreen(\n        modalTypeConstants.LOADING,\n        { message: 'loadingData', translate: true }\n      ))\n      loadOperatCSV(dispatch, csvItems.item2)\n    }\n    !!csvItems && Object.keys(csvItems).length > 0 && load()\n    const loadWeights = () => {\n      dispatch(showLoadingScreen(\n        modalTypeConstants.LOADING,\n        {}\n      ))\n      loadOperatWeights(dispatch, dataJson.item2)\n    }\n\n    const dataJson = operatState.files.weights\n    !!dataJson && (Object.keys(dataJson).length > 0 ? loadWeights() : dispatch(loadOperatInitialWeights(operatTypeParams.weights)))\n    // eslint-disable-next-line\n  }, [operatState.files.csv])\n\n  const selectRow = () => {\n    const select = {\n      mode: 'checkbox',\n      clickToEdit: false,\n      clickToSelect: false,\n      onSelect: (row, isSelect, rowIndex, e) => {\n        isSelect && setSelectedRows((allRows) => [...allRows, row.id])\n        !isSelect &&\n          setSelectedRows(selectedRows.filter((item) => item !== row.id))\n      },\n      onSelectAll: (isSelect, rows) => {\n        !isSelect && setSelectedRows([])\n        isSelect &&\n          setSelectedRows(\n            rows.map((row) => {\n              return row.id\n            })\n          )\n      }\n    }\n    return select\n  }\n  const cellEdit = cellEditFactory({\n    mode: 'click'\n  })\n  const { ExportCSVButton } = CSVExport\n\n  const processCSV = (str) => {\n    const rows = str.slice(str.indexOf('\\n') + 1).split('\\n').filter(x => x !== '')\n    const expectedColumnCount = columnKeys.length;\n    const columns = str.split('\\n')[0].split(';').map(item => item.trim()).filter(x => x !== '')\n    const requiredColumns = cols().filter(x => x.text !== 'ID' && x.text !== 'Bdy').map(x => { return x.dataField }).filter(x => !columns.includes(x.trim()))\n    if (expectedColumnCount !== columns.length || requiredColumns.length > 0) {\n      showWarning(expectedColumnCount, columns.length, requiredColumns)\n      return\n    }\n    \n    dispatch(addLinesToCSVFromCSV(columnKeys, rows))\n  }\n\n  function EditWeightComponent (props) {\n    const [value, setValue] = useState(props.value)\n    return (\n      <Input\n        value={value}\n        type='number'\n        onKeyPress={(e) => {\n          if(!(e.charCode >= 48 && e.charCode <= 57)){\n            e.preventDefault()\n          }\n        }}\n        onChange={(e) => setValue((prevState) => {\n          if(e.target.value >= props.rangeLow && e.target.value <= props.rangeHigh ) {\n            return e.target.value\n          }\n          return prevState\n        })}\n        min={props.rangeLow}\n        max={props.rangeHigh}\n        onBlur={() => { props.onUpdate(value) }}\n      />\n    )\n  }\n  \n  function EditComponent (props) {\n    const [value, setValue] = useState(props.value)\n    return (\n      props.type === 'number' ?\n      <Input\n        value={value}\n        type={props.type}\n        onKeyPress={(e) => {\n          if(!(e.charCode >= 48 && e.charCode <= 57) && (e.charCode !== 44) && (e.charCode !== 46)){\n            e.preventDefault()\n          }\n        }}\n        onChange={(e) => setValue((prevState) => {\n          if(e.target.value >= 0){\n            return e.target.value\n          }\n          return prevState\n        })}\n        min={0}\n        onBlur={() => { props.onUpdate(value) }}\n      />\n      : <Input\n        value={value}\n        type={props.type}\n        onChange={(e) => setValue(e.target.value)}\n        \n        onBlur={() => { props.onUpdate(value) }}\n      />\n    )\n  }\n  const submit = () => {\n    const file = csvToRead\n    const reader = new FileReader()\n\n    reader.onload = function (e) {\n      const text = e.target.result\n      processCSV(text)\n    }\n\n    reader.readAsText(file)\n  }\n\n  const showWarning = async (expectedColumnCount, actualColumnCount, requiredColumns) => {\n    console.log(requiredColumns)\n    const message = <>\n      <p>Bd w pliku CSV.</p>\n      <p>Liczba wymaganych kolumn: {expectedColumnCount}.</p>\n      <p>Liczba kolumn w pliku: {actualColumnCount}.</p>\n      <p>{ requiredColumns.length > 0 ? `Liczba brakujcych kolumn: ${requiredColumns.length}` : ''}</p>\n      { requiredColumns.length > 0 ? (<p>Brakujce kolumny to: {requiredColumns.join(', ')}</p>): ''}\n      </>\n    await confirm({\n      title: <>{t('history.table.confirm.warning')}</>,\n      message: message,\n      confirmText: 'Wr',\n      cancelText: '',\n      confirmColor: 'danger',\n      cancelColor: 'link text-primary'\n    })\n  }\n\n  const handleTableChange = (type, { data, cellEdit: { rowId, dataField, newValue } }) => {\n    dispatch(editCsvCell(rowId, dataField, newValue))\n  }\n\n  return (\n    <>\n      <Card>\n        <CardBody>\n          <br />\n          <br />\n          <br />\n          <br />\n          <div className='container'>\n            <Row>\n              <Col md='12'>\n                <Card>\n                  <ToolkitProvider\n                    keyField='id'\n                    data={operatState.csv}\n                    columns={cols()}\n                    exportCSV={{ onlyExportSelection: true, exportAll: true }}\n                  >\n                    {(props) => (\n                      <div>\n                        <Button\n                          color='success'\n                          onClick={() => {\n                            dispatch(saveCsvArea(columnKeys))\n                          }}\n                        >\n                          Wylij dane\n                        </Button>\n                        <Button\n                          color='info'\n                          onClick={() => {\n                            dispatch(addLineToCSV(columnKeys))\n                          }}\n                        >\n                          Dodaj transakcj\n                        </Button>\n                        <Button\n                          color='info'\n                          onClick={() => {\n                            dispatch(removeLineFromCSV(\n                              selectedRows\n                            ))\n                            setSelectedRows([])\n                          }}\n                        >\n                          Usu zaznaczone linie\n                        </Button>\n                        <ExportCSVButton {...props.csvProps}>\n                          Export do pliku\n                        </ExportCSVButton>\n                        <Button onClick={() => inputFile.current.click()}>\n                          {csvToRead\n                            ? 'wybierz plik [' + csvToRead.name + ']'\n                            : 'wybierz plik'}\n                        </Button>\n                        <input\n                          type='file'\n                          id='file'\n                          ref={inputFile}\n                          style={{ display: 'none' }}\n                          accept='.csv'\n                          onChange={(e) => {\n                            setCsvToRead(e.target.files[0])\n                          }}\n                        />\n                        <Button\n                          disabled={!csvToRead}\n                          onClick={(e) => {\n                            e.preventDefault()\n                            submit()\n                          }}\n                        >\n                          Importuj\n                        </Button>\n                        <Button\n                          color='secondary'\n                          id='copyInputArea'\n                          onClick={() => {\n                            dispatch(showLoadingScreen(\n                              modalTypeConstants.OPERATS_LIST_MODAL,\n                              { operat: operat, dataType: 'csv' }\n                            ))\n                          }}\n                        >\n                          kopiuj dane transakcyjne z innego operatu\n                        </Button>\n                        <hr />\n                        <BootstrapTable\n                          wrapperClasses='table-scroll'\n                          {...props.baseProps}\n                          remote={{ cellEdit: true }}\n                          selectRow={selectRow()}\n                          tabIndexCell\n                          bootstrap4\n                          striped\n                          hover\n                          condensed\n                          bordered={false}\n                          cellEdit={cellEdit}\n                          onTableChange={handleTableChange}\n                        />\n                      </div>\n                    )}\n                  </ToolkitProvider>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </CardBody>\n      </Card>\n    </>\n  )\n}\n\nexport default CsvComponent\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n  Card,\n  CardBody,\n  Button,\n  Collapse\n} from 'reactstrap'\n\nexport function InfoForAdmin () {\n  const [isInfoVisible, setIsInfoVisible] = useState(false)\n  const operatState = useSelector(state => state.operat)\n  return (\n    <>\n      <Button style={{ width: '16rem' }} color='info' onClick={() => setIsInfoVisible(!isInfoVisible)}>Informacje</Button>\n      <Collapse isOpen={isInfoVisible}>\n        <Card>\n          <CardBody>\n            {operatState.operatInfo && Object.keys(operatState.operatInfo).map(x => operatState.operatInfo[x] && (<p>{x + ': ' + operatState.operatInfo[x]}</p>))}\n          </CardBody>\n        </Card>\n      </Collapse>\n    </>\n  )\n}\n","import React, { useRef, useEffect, useState } from 'react'\nimport NotificationAlert from 'react-notification-alert'\nimport {\n  UncontrolledTooltip,\n  Col,\n  FormGroup,\n  Input,\n  Button,\n  UncontrolledCollapse,\n  Label,\n  Form\n} from 'reactstrap'\nimport { modalTypeConstants } from '../../constants'\nimport { formatDate } from 'utils/DateFormat'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen } from 'views/Modal/actions'\nimport { downloadFromEkw, loadOperatEmptyInput, loadOperatInput, saveInputArea, updateList, updateValue } from './actions'\nimport { useMsal } from '@azure/msal-react'\nimport InputMask from 'react-input-mask'\nimport { validateLandRegisterCode } from 'utils/validateLandRegisterCode'\nimport { ReactComponent as Exclamation } from 'assets/img/exclamation.svg'\nfunction InputArea (props) {\n  const { accounts } = useMsal()\n  const operatState = useSelector(state => state.operat)\n  const ekwData = useSelector(state => state.global.ekw)\n  const [listInputData, setListInputData] = useState({})\n\n  const dispatch = useDispatch()\n  useEffect(() => {\n    const load = () => {\n      dispatch(showLoadingScreen(\n        modalTypeConstants.LOADING,\n        {}\n      ))\n      loadOperatInput(dispatch, dataJson.item2, false)\n    }\n\n    const dataJson = operatState.files.input\n    !!dataJson && (Object.keys(dataJson).length > 0 ? load() : dispatch(loadOperatEmptyInput(props.operatTypeParams.input)))\n    if (Object.keys(dataJson).length === 0) {\n      applyMacros()\n      loadInitialDataFromOrder()\n    }\n    // eslint-disable-next-line\n  }, [operatState.operatTypeId, operatState.files, props.operatTypeParams, dispatch])\n\n  const loadInitialDataFromOrder = () => {\n    const temp = JSON.parse(JSON.stringify(props.operatTypeParams.input))\n    if (props.order && props.order.ekw && props.order.ekw !== '') {\n      try {\n        const kwIndex = temp.findIndex(x => x.name === 'kw')\n        const kwNrIndex = temp[kwIndex].findIndex(x => x.name === 'nr')\n        temp[kwIndex].data[kwNrIndex].value = props.order.ekw\n        dispatch(loadOperatEmptyInput(temp))\n      } catch (err) {\n        console.log(err)\n      }\n    }\n  }\n\n  const applyMacros = () => {\n    console.log(operatState)\n    const temp = JSON.parse(JSON.stringify(props.operatTypeParams.input))\n    for (let i = 0; i < temp.length; i++) {\n      for (let j = 0; j < temp[i].data.length; j++) {\n        console.log(temp[i].data[j])\n        if (temp[i].data[j].default === 'now()' && temp[i].data[j].type === 'date') { temp[i].data[j].value = formatDate(new Date()) }\n        if (temp[i].data[j].value === 'author()') { temp[i].data[j].value = [accounts[0].idTokenClaims.given_name, accounts[0].idTokenClaims.family_name].filter(x => x).join(' ') }\n        if (temp[i].data[j].value === 'operatCreationDate()'){ temp[i].data[j].value = formatDate(new Date(operatState.operat.createdDateTime))}\n        if ((temp[i].data[j].defaut === 'client()' || temp[i].data[j].value === 'client()') && operatState.input && operatState.input.length > 0){\n          const kw_data = operatState.input.find(x => x.name === \"kw\").data\n          const kw_owner = kw_data.find(x => x.name === \"wlasciciel\")\n          if(kw_owner.value !== \"\"){\n            temp[i].data[j].value = kw_owner.value\n          }\n        }\n      }\n    }\n    dispatch(loadOperatEmptyInput(temp))\n  }\n  const handleChangeValue = (value, id, idx) => {\n    dispatch(updateValue(value, id, idx))\n  }\n\n  const notifyRegister = useRef(null)\n\n  const createEkwUrl = (code) => {\n    const url = new URL('https://przegladarka-ekw.ms.gov.pl/eukw_prz/KsiegiWieczyste/wyszukiwanieKW')\n    return url.toString()\n  }\n\n  function validateAndShowErrors () {\n    const kwIndex = operatState.input.findIndex(x => x.name === 'kw')\n    const kwNrIndex = operatState.input[kwIndex].data.findIndex(x => x.name === 'nr')\n    const ekw = operatState.input[kwIndex].data[kwNrIndex]\n    const landRegisterValidationResult = validateLandRegisterCode(ekw.value, ekwData)\n    if (landRegisterValidationResult !== '') {\n      const temp = JSON.parse(JSON.stringify(operatState.input))\n      temp[kwIndex].data[kwNrIndex].isValid = false\n      dispatch(loadOperatEmptyInput(temp))\n      dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: landRegisterValidationResult }))\n      return false\n    }\n\n    return true\n  }\n  const renderSwitch = (dataItem, idx, id, genItem) => {\n    switch (dataItem.type) {\n      case 'ekw': return (\n        <>\n          <Button onClick={() => dispatch(downloadFromEkw(dataItem.value, genItem.name))}>Pobierz z ekw</Button>\n          <Button href={createEkwUrl(dataItem.value)} target='_blank'>Przegldaj EKW</Button>\n          <br />\n          <InputMask\n            mask='aa9a/99999999/9'\n            value={dataItem.value}\n            onChange={(e) => {\n              handleChangeValue(e.target.value, id, idx)\n            }}\n            invalid={typeof dataItem.isValid === 'undefined' ? false : !dataItem.isValid}\n            placeholder={dataItem.description}\n          >\n            {(inputProps) => <Input\n              {...inputProps}\n              type={dataItem.type}\n              style={{ textTransform: 'uppercase' }}\n              name={genItem.name + dataItem.type + idx}\n              id={dataItem.name + idx}\n                             />}\n          </InputMask>\n        </>\n      )\n      case 'list': return (\n        <>\n          <Form\n            onSubmit={(e) => {\n              e.preventDefault()\n              if (listInputData.hasOwnProperty(idx.toString()) && listInputData[idx.toString()] !== '') {\n                dispatch(updateList(listInputData[idx.toString()], id, idx, null, false))\n                let newValue = listInputData\n                newValue[idx.toString()] = ''\n                setListInputData(newValue)\n                e.target.reset()\n              }\n            }}\n          >\n            <FormGroup>\n              <Label>{dataItem.label}</Label>\n              <Input\n                onChange={(e) => {\n                  let newValue = listInputData\n                  newValue[idx.toString()] = e.target.value\n                  console.log(newValue)\n                  setListInputData(newValue)\n                }}\n                type='text'\n                required\n              />\n            </FormGroup>\n            <Button type='submit'>{dataItem.button}</Button>\n          </Form>\n          <ul class='list-group'>\n            {dataItem.value.map((e, listIdx) => (\n              <li\n                key={listIdx}\n                class='list-group-item d-flex justify-content-between align-items-center'\n                style={{ overflowWrap: 'anywhere' }}\n              >\n                {e}\n                <span\n                  onClick={() => { dispatch(updateList(listInputData[idx.toString()], id, idx, listIdx, true)) }}\n                >\n                  <i className='nc-icon nc-simple-remove' />\n                </span>\n              </li>\n            ))}\n          </ul>\n        </>\n      )\n      default: return (\n        <Input\n          type={dataItem.type}\n          name={genItem.name + dataItem.type + idx}\n          id={dataItem.name + idx}\n          placeholder={dataItem.description}\n          value={dataItem.value}\n          onChange={(e) => {\n            handleChangeValue(e.target.value, id, idx)\n          }}\n        />\n      )\n    }\n  }\n  return (\n    <>\n      <NotificationAlert ref={notifyRegister} />\n      {operatState.input && operatState.input.length > 0 &&\n        operatState.input.map((genItem, id) => {\n          return (\n            <div key={genItem.name + 'Area' + id}>\n              <Button\n                color='info'\n                id={genItem.name + 'Area' + id}\n                style={{ width: '16rem' }}\n              >\n                {genItem.text}\n              </Button> {genItem.data.some(x => x.hasOwnProperty('isValid') && !x.isValid) && <Exclamation fill='red' />}\n\n              <UncontrolledCollapse toggler={genItem.name + 'Area' + id}>\n                {genItem.data.map((dataItem, idx) => {\n                  return (\n                    <FormGroup row key={genItem.name + idx}>\n                      <Col md='3'>\n                        <p>{dataItem.description}</p>\n                      </Col>\n                      <Col sm={8}>\n                        {renderSwitch(dataItem, idx, id, genItem)}\n                        {dataItem.tooltip && dataItem.tooltip !== '' &&\n                          <UncontrolledTooltip\n                            placement='top'\n                            target={dataItem.name + idx}\n                          >\n                            {dataItem.tooltip}\n                          </UncontrolledTooltip>}\n                      </Col>\n                    </FormGroup>\n                  )\n                })}\n              </UncontrolledCollapse>\n            </div>\n          )\n        })}\n      <Button\n        color='success'\n        id='saveInputArea'\n        onClick={() => {\n          if (!validateAndShowErrors()) { return }\n          dispatch(saveInputArea(operatState.id))\n        }}\n        style={{ marginBottom: '1rem', width: '16rem' }}\n      >\n        Wylij dane opisowe\n      </Button>\n      <Button\n        color='secondary'\n        id='copyInputArea'\n        onClick={() => {\n          dispatch(showLoadingScreen(\n            modalTypeConstants.OPERATS_LIST_MODAL,\n            { operat: props.operat, dataType: 'params' }\n          ))\n        }}\n        style={{ marginBottom: '1rem' }}\n      >\n        kopiuj dane opisowe z innego operatu\n      </Button>\n    </>\n  )\n}\n\nexport default InputArea\n","import React, { useCallback } from 'react'\nimport { useDropzone } from 'react-dropzone'\nimport { v4 as uuidv4 } from 'uuid'\nimport { loadFileToGallery } from 'views/Operat/actions'\nimport { useDispatch, useSelector } from 'react-redux'\n\nfunction ImageDropzone (props) {\n  const baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '20px',\n    borderWidth: 2,\n    borderRadius: 20,\n    borderColor: '#c2b7b7',\n    borderStyle: 'dashed',\n    color: '#0e0c0c',\n    outline: 'none'\n  }\n\n  const style = {\n    ...baseStyle\n  }\n  const dispatch = useDispatch()\n  const operatState = useSelector(state => state.operat)\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      let fileNames = operatState.photo.data[props.id].data.filter(x => !x.file)\n      if (fileNames.length === 0) {\n        fileNames = operatState.photo.data[props.id].data.slice(0, acceptedFiles.length)\n      }\n      for (let i = 0; i < fileNames.length; i++) {\n        if (i + 1 > acceptedFiles.length) {\n          return\n        }\n        const fileName = fileNames[i].title\n        const blob = acceptedFiles[i].slice(0, acceptedFiles[i].size, 'image/png')\n        const newFile = new File([blob], fileName, { type: 'image/png' })\n        const fileData = {\n          id: uuidv4(),\n          title: fileName,\n          url: URL.createObjectURL(acceptedFiles[i]),\n          file: newFile\n        }\n        props.enableBtn()\n        dispatch(loadFileToGallery(props.id, fileData))\n      }\n    },\n    [dispatch, operatState.photo.data, props]\n  )\n\n  const { getRootProps, getInputProps } = useDropzone({\n    onDrop,\n    multiple: props.multiple ? props.multiple : false\n  })\n\n  return (\n    <section className='container'>\n      <div {...getRootProps({ className: 'dropzone', style })}>\n        <input {...getInputProps()} />\n        <p>Upu lub kliknij aby wczytac plik zdjcia.</p>\n      </div>\n      <aside />\n    </section>\n  )\n}\n\nexport default ImageDropzone\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport {\n  Carousel,\n  CarouselItem,\n  CarouselControl,\n  CarouselIndicators,\n} from \"reactstrap\";\n\nfunction ImageCarousel (props) {\n  const [activeIndex, setActiveIndex] = useState(props.currentIndex)\n  const [animating, setAnimating] = useState(false)\n  const operatState = useSelector(state => state.operat)\n  console.log(operatState)\n  const next = () => {\n    if (animating) return;\n    const nextIndex = activeIndex === props.images.length - 1 ? 0 : activeIndex + 1\n    setActiveIndex(nextIndex)\n  }\n\n  const previous = () => {\n    if (animating) return;\n    const nextIndex = activeIndex === 0 ? props.images.length - 1 : activeIndex - 1\n    setActiveIndex(nextIndex)\n  }\n\n  const goToIndex = (newIndex) => {\n    if (animating) return;\n    setActiveIndex(newIndex)\n  }\n\n  const slides = props.images.map(image => {\n    return (\n      <CarouselItem\n        onExiting={() => setAnimating(true)}\n        onExited={() => setAnimating(false)}\n        key={image.id}\n      >\n        <div className=\"d-flex justify-content-center\">\n          <img src={image.url?.includes('blob.core.windows.net') ?`${image.url}&date=${operatState.randomString}` : image.url} alt={image.title} className=\"img-fluid\" />\n        </div>\n      </CarouselItem>\n    )\n  })\n\n  return (\n    <Carousel\n      activeIndex={activeIndex}\n      next={next}\n      previous={previous}\n    >\n      <CarouselIndicators\n        items={props.images}\n        activeIndex={activeIndex}\n        onClickHandler={goToIndex}\n      />\n      {slides}\n      <CarouselControl\n        direction=\"prev\"\n        directionText=\"Previous\"\n        onClickHandler={previous}\n      />\n      <CarouselControl\n        direction=\"next\"\n        directionText=\"Next\"\n        onClickHandler={next}\n      />\n    </Carousel>\n  );\n}\n\nexport default ImageCarousel;\n","import React, { useState } from \"react\";\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  Col,\n  Row,\n  Container,\n  Card,\n  CardImgOverlay,\n  CardImg,\n} from \"reactstrap\";\n\nimport ImageCarousel from \"./ImageCarousel\";\nimport { useSelector } from \"react-redux\";\n\nfunction ReactstrapImageGallery (props) {\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  const [currentIndex, setCurrentIndex] = useState(0)\n  const operatState = useSelector(state => state.operat)\n  const images = props.hasOwnProperty(\"images\") ? props.images : []\n  const imageLimit = props.hasOwnProperty(\"limit\") ? props.limit : 6\n  const visibleImages = images.slice(0,imageLimit)\n  const hasMore = images.length !== 0 ? images.length - imageLimit : 0\n  console.log(visibleImages)\n  const handleToggleModal = () => {\n    setIsModalOpen(!isModalOpen)\n  }\n  const handleShowImage = (imageIndex) => {\n    setCurrentIndex(imageIndex)\n    handleToggleModal()\n  }\n\n  return (\n  <Container>\n    <Row>\n      <Col md={{size:10,offset:1}} className=\"thumbnail-gallery\">\n        <h5 className=\"text-center my-3\">Galeria zdj </h5>\n        <Row>\n          {visibleImages.map((image, index) => (\n            <Col\n              md=\"3\"\n              className=\"my-2\"\n              key={index}\n              onClick={() => handleShowImage(index)}\n            >\n              <Card className=\"image-card\">\n                <CardImg src={image.url?.includes('blob.core.windows.net') ?`${image.url}&date=${operatState.randomString}` : image.url} />\n                <p>{image.title}</p>\n                {hasMore !== 0 && index === visibleImages - 1 ? (\n                  <CardImgOverlay className=\"overlay\">\n                    <h2 className=\"mb-0\">{hasMore}</h2>\n                    <small> More </small>\n                  </CardImgOverlay>\n                ) : null}\n              </Card>\n            </Col>\n          ))}\n        </Row>\n      </Col>\n    </Row>\n    <Modal\n      className=\"modal-xl\"\n      isOpen={isModalOpen}\n      toggle={handleToggleModal}\n    >\n      <ModalHeader>Galeria zdj</ModalHeader>\n      <ModalBody>\n        <Row>\n          <Col md=\"12\">\n            <ImageCarousel images={images} currentIndex={currentIndex} />\n          </Col>\n        </Row>\n      </ModalBody>\n    </Modal>\n  </Container>)\n}\n\nexport default ReactstrapImageGallery;","import React, { useCallback, useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { v4 as uuidv4 } from 'uuid'\nimport {\n  Button, Card,\n  CardBody, Col, Row, UncontrolledCollapse\n} from 'reactstrap'\nimport { modalTypeConstants } from '../../constants'\nimport { mapService, operatFilesService } from '../../services'\nimport ImageDropzone from '../Common/ImageDropzone'\nimport ReactstrapImageGallery from './ReactstrapImageGallery'\nimport { saveAs } from 'file-saver'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { loadFileToGallery, loadOperatEmptyPhoto, removePhotos, sendPhotos } from './actions'\nfunction PhotoArea (props) {\n  const dispatch = useDispatch()\n  const operatState = useSelector(state => state.operat)\n  const operat = useSelector(state => state.operat)\n  const { t } = useTranslation('common')\n  const [disabledBtns, setDisableBtns] = useState([])\n\n  const mapPhotos = useCallback((photo) => {\n    const result = props.operatTypeParams.photo.map(x => ({ ...x }))\n    for (let i = 0; i < result.length; i++) {\n      result[i].data = result[i].data.map(x => {\n        const finded = photo.find(p => p.item1 === x.title)\n        if (!finded) {\n          return x\n        } else {\n          return { ...x, url: finded.item2 }\n        }\n      })\n    }\n    return { data: result }\n  }, [props.operatTypeParams])\n\n  useEffect(() => {\n    const photo = operatState.files.photo.map(x => ({ ...x }))\n    !!photo && photo.length > 0\n      ? dispatch(loadOperatEmptyPhoto(mapPhotos(photo)))\n      : dispatch(loadOperatEmptyPhoto(\n        { data: props.operatTypeParams.photo }\n      ))\n  }, [dispatch, operatState.files, props.operatTypeParams, mapPhotos])\n\n  const handleSendPhotos = (id) => {\n    setDisableBtns(prev => [...prev, id])\n    dispatch(sendPhotos(operatState.id, operatState.photo.data[id].data, id))\n  }\n\n  const isSendPhotosButtonDisabled = (id) => {\n    return !operatState.photo.data[id].data.every((item) =>\n      item.hasOwnProperty('url') || item.hasOwnProperty('file')\n    ) ||\n      !operatState.photo.data[id].data.some(x => x.hasOwnProperty('file')) ||\n      disabledBtns.includes(id)\n  }\n\n  const handlePhotosDelete = async (id) => {\n    setDisableBtns(prev => [...prev, id])\n    dispatch(showLoadingScreen(\n      modalTypeConstants.LOADING,\n      { message: 'deleteFile', translate: true }\n    ))\n\n    operatState.photo.data[id].data.map(async x => await operatFilesService.removeSingleFile(operatState.id, x.title).catch(err => console.log(err)))\n    dispatch(removePhotos(id))\n    dispatch(hideLoadingScreen())\n  }\n  return (\n    <Card>\n      <CardBody>\n        <Button\n          color='secondary'\n          id='copyInputArea'\n          onClick={() => {\n            dispatch(showLoadingScreen(\n              modalTypeConstants.OPERATS_LIST_MODAL,\n              { operat: props.operat, history: props.history, dataType: 'photos' }\n            ))\n          }}\n          style={{ marginBottom: '1rem' }}\n        >\n          kopiuj zdjcia z innego operatu\n        </Button>\n        {!!operatState.photo.data &&\n          operatState.photo.data.map((item, id) => {\n            return (\n              <div key={item.name + 'Area' + id}>\n                <Card style={{ boxShadow: '6px 6px 10px 2px rgb(0 0 0 / 15%)' }}>\n                  <CardBody>\n                    <Button\n                      color='info'\n                      id={item.name + 'Area' + id}\n                      style={{ marginBottom: '1rem', width: '14rem' }}\n                    >\n                      {t(item.text)}\n                    </Button>\n                    <Button\n                      color='success'\n                      id={item.name + 'send' + id}\n                      style={{ marginBottom: '1rem', width: '17rem' }}\n                      onClick={() => { handleSendPhotos(id) }}\n                      disabled={isSendPhotosButtonDisabled(id)}\n                    >\n                      {`wylij ${item.text}`}\n                    </Button>\n                    <Button\n                      color='danger'\n                      id={item.name + 'send' + id}\n                      style={{ marginBottom: '1rem', width: '16rem' }}\n                      onClick={() => {\n                        handlePhotosDelete(id)\n                      }}\n                      disabled={\n                        !operatState.photo.data[id].data.every((item) =>\n                          item.hasOwnProperty('url')\n                        )\n                      }\n                    >\n                      {`usu ${item.text}`}\n                    </Button>\n                    {item.name === 'zdjecia_okolica' && <Button\n                      style={{ marginBottom: '1rem', width: '14rem' }} onClick={() => {\n                        let address = props.order.location\n                        if (!address && address !== '') {\n                          try {\n                            address = operat.input.find(x => x.name === 'adres').data.find(x => x.name === 'full').value\n                          } catch (ex) {\n                            console.log(ex)\n                          }\n                        }\n                        mapService.get(address, 'GoogleRoadmap').then(\n                          (img) => {\n                            let fileNames = operatState.photo.data[id].data.filter(x => !x.file)\n                            if (fileNames.length === 0) {\n                              fileNames = operatState.photo.data[id].data.slice(0, 1)\n                            }\n                            const fileName = fileNames[0].title\n                            const blob = img.slice(0, img.size, 'image/png')\n                            const newFile = new File([blob], fileName, { type: 'image/png' })\n                            const fileData = {\n                              id: uuidv4(),\n                              title: fileName,\n                              url: URL.createObjectURL(img),\n                              file: newFile\n                            }\n                            dispatch(loadFileToGallery(id, fileData))\n                            saveAs(img, 'file.png')\n                          }\n                        )\n                      }}\n                                                        >{t('create.buttons.googleMaps')}\n                    </Button>}\n                    <UncontrolledCollapse toggler={item.name + 'Area' + id}>\n                      <br />\n                      <Row>\n                        <Col sm='12' md={{ size: 6, offset: 3 }}>\n                          <ImageDropzone id={id} multiple enableBtn={() => setDisableBtns(prev => prev.filter(x => x !== id))} fileNames={item.data.map(x => x.title)} />\n                        </Col>\n                      </Row>\n                      <br />\n                      <ReactstrapImageGallery images={item.data} limit={4} />\n                    </UncontrolledCollapse>\n                    <p>{item.description}</p>\n                  </CardBody>\n                </Card>\n              </div>\n            )\n          })}\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default PhotoArea\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectOperat = (state) => state.operat || initialState\n\nconst makeSelectInput = () =>\n  createSelector(selectOperat, (state) => state.input)\n\nconst makeSelectId = () =>\n  createSelector(selectOperat, state => state.id)\n\nconst makeSelectInputFileUrl = () =>\n  createSelector(selectOperat, state => state.files.input.item2)\n\nconst makeSelectWeights = () =>\n  createSelector(selectOperat, state => state.weights)\n\nconst makeSelectActiveOperat = () =>\n  createSelector(selectOperat, state => state.operat)\n\nconst makeSelectProtocol = () =>\n  createSelector(selectOperat, state => state.protocol)\n\nconst makeSelectCsv = () =>\n  createSelector(selectOperat, state => state.csv)\nexport {\n  selectOperat,\n  makeSelectInput,\n  makeSelectId,\n  makeSelectInputFileUrl,\n  makeSelectWeights,\n  makeSelectActiveOperat,\n  makeSelectCsv,\n  makeSelectProtocol\n}\n","import { modalTypeConstants } from '../../constants'\n\nimport { call, put, select, takeLatest } from 'redux-saga/effects'\nimport { callForHeader } from 'utils/HeadersCall'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { filesLoaded, getFormatedFiles, removePhotoFiles, setAllValid } from './actions'\nimport { FILES_GET_BY_OPERAT, FILES_SEND_PHOTOS, GENERATE_OPERAT, GENERATE_PROTOCOL, SAVE_CSV_AREA, SAVE_INPUT_AREA, SAVE_WEIGHTS_AREA } from './constants'\nimport { makeSelectCsv, makeSelectId, makeSelectInput, makeSelectProtocol, makeSelectWeights } from './selectors'\nimport { addNotification } from 'utils/addNotification'\nimport { makeSelectActiveOperat } from 'views/History/selectors'\nimport { operatFilesService } from 'services'\nimport { handleRequestWithTimeout } from 'views/Modal/timeout'\n\nexport function * saveWeightsArea (action) {\n  yield put(showLoadingScreen(\n    modalTypeConstants.LOADING,\n    { message: 'saveWeights', translate: true }\n  ))\n  const data = yield select(makeSelectWeights())\n  const sum = data.map(x => x.participation).reduce((partialSum, a) => partialSum + a, 0)\n  if (sum !== 100) {\n    yield put(hideLoadingScreen())\n    yield call(addNotification, '', 'Suma cech nieruchomoci musi by rwna 100%', 'danger')\n    return\n  }\n  const formData = new FormData()\n  const blb = new Blob([JSON.stringify({ weights: data.map(x => Object.prototype.hasOwnProperty.call(x, 'range') ? x : { ...x, range: [0, x.ratings.length - 1] }) })], { type: 'application/json' })\n  formData.append('file', blb, 'weights.json')\n  yield call(handleUploadConvertRequest, formData, action.id)\n}\n\nexport function * saveCsvArea (action) {\n  try {\n    yield put(showLoadingScreen(\n      modalTypeConstants.LOADING,\n      { message: 'saveCsv', translate: true }\n    ))\n    const operat = yield select(makeSelectActiveOperat())\n    const weights = yield select(makeSelectWeights())\n    const csv = yield select(makeSelectCsv())\n    let isValid = true\n    action.columnKeys.forEach(key => {\n      if (csv.some(obj => Object.prototype.hasOwnProperty.call(obj, key) && (obj[key] === '' || obj[key] === undefined || obj[key] === null))) {\n        isValid = false\n      }\n    })\n    if (!isValid) {\n      yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'saveCsvValidationError', translate: true }))\n      return\n    }\n    yield call(operatFilesService.sendCSVFile, csv.map(e => ({ ...e })), operat.id, weights)\n    yield put(hideLoadingScreen())\n    yield put(getFormatedFiles())\n  } catch (err) {\n    console.log(err)\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'saveCsvFailed', translate: true }))\n  }\n}\n\nfunction * handleUploadConvertRequest (formData, operatId) {\n  const requestOptions = {\n    method: 'POST',\n    headers: yield call(callForHeader),\n    body: formData\n  }\n  const requestUrl = `/OperatFiles/upload/${operatId}/convert`\n  try {\n    yield call(handleRequestWithTimeout, requestUrl, requestOptions)\n    yield put(hideLoadingScreen())\n    yield put(getFormatedFiles())\n  } catch (err) {\n    yield put(hideLoadingScreen())\n    console.log(err)\n  }\n}\n\nexport function * saveInputArea (action) {\n  yield put(setAllValid())\n  yield put(getFormatedFiles())\n\n  yield put(showLoadingScreen(\n    modalTypeConstants.LOADING,\n    { message: 'saveInputArea', translate: true }\n  ))\n  const data = yield select(makeSelectInput())\n  const formData = new FormData()\n  const blb = new Blob([JSON.stringify({ input: data })], { type: 'application/json' })\n  formData.append('file', blb, 'params.json')\n  yield call(handleUploadConvertRequest, formData, action.id)\n}\n\nexport function * generateOperat () {\n  const requestOptions = {\n    method: 'POST',\n    headers: yield call(callForHeader)\n  }\n  const operatId = yield select(makeSelectId())\n  const requestUrl = `/Operat/id/${operatId}/generate`\n  try {\n    yield put(showLoadingScreen(\n      modalTypeConstants.LOADING,\n      { message: 'generateOperat', translate: true }\n    ))\n    yield call(handleRequestWithTimeout, requestUrl, requestOptions)\n    yield put(hideLoadingScreen())\n    yield call(addNotification, '', 'Operat zostal wygenerowany', 'success')\n  } catch (err) {\n    if (Object.prototype.hasOwnProperty.call(err, 'response') && err.response.status === 402) {\n      yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'unactiveSubscription', translate: true }))\n    } else {\n      yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'generateOperatFailed', translate: true }))\n    }\n  }\n}\n\nexport function * generateProtocol () {\n  try {\n    const operatId = yield select(makeSelectId())\n    yield put(showLoadingScreen(\n      modalTypeConstants.LOADING,\n      { message: 'generateProtocol', translate: true }\n    ))\n    const protocolData = yield select(makeSelectProtocol())\n    const formData = new FormData()\n    const blb = new Blob([JSON.stringify({ protocol: protocolData })], { type: 'application/json' })\n    formData.append('file', blb, 'protocol.json')\n    const saveRequestOptions = {\n      method: 'POST',\n      headers: yield call(callForHeader),\n      body: formData\n    }\n    const saveRequestUrl = `/OperatFiles/upload/${operatId}/convert`\n    yield call(handleRequestWithTimeout, saveRequestUrl, saveRequestOptions)\n\n    const generateRequestOptions = {\n      method: 'POST',\n      headers: yield call(callForHeader)\n    }\n    const generateRequestUrl = `/Operat/id/${operatId}/generate/protocol`\n    yield call(handleRequestWithTimeout, generateRequestUrl, generateRequestOptions)\n    yield put(hideLoadingScreen())\n    yield put(getFormatedFiles())\n    yield call(addNotification, '', 'Protok zosta wygenerowany', 'success')\n  } catch (err) {\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'generateProtocolFailed', translate: true }))\n  }\n}\n\nexport function * sendPhotos ({ payload }) {\n  yield put(showLoadingScreen(\n    modalTypeConstants.LOADING,\n    { message: 'sendPhotos', translate: true }\n  ))\n\n  const data = payload.photos.filter(x => Object.prototype.hasOwnProperty.call(x, 'file'))\n  if (data.length === 0) {\n    return\n  }\n\n  const formData = new FormData()\n  data.forEach((element, idx) => {\n    formData.append(`file${idx}`, element.file, element.file.name)\n  })\n\n  const requestUrl = `/OperatFiles/upload2/${payload.operatId}`\n  const requestOptions = {\n    method: 'POST',\n    headers: yield call(callForHeader),\n    body: formData\n  }\n\n  try {\n    yield call(handleRequestWithTimeout, requestUrl, requestOptions)\n    yield put(removePhotoFiles(payload.photoGroupId))\n    yield put(hideLoadingScreen())\n    yield put(getFormatedFiles())\n  } catch (err) {\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'sendPhotosFailed', translate: true }))\n  }\n}\n\nexport function * fetchFormatedFiles () {\n  yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'Trwa przeadowanie operatu' }))\n  const operat = yield select(makeSelectActiveOperat())\n  const requestOptions = {\n    method: 'GET',\n    headers: yield call(callForHeader)\n  }\n  const requestUrl = `/OperatFiles/id/${operat.id}/formated`\n\n  try {\n    const files = yield call(handleRequestWithTimeout, requestUrl, requestOptions)\n    yield put(filesLoaded(files, operat))\n    yield put(hideLoadingScreen())\n  } catch (err) {\n    console.log(err)\n    yield put(hideLoadingScreen())\n  }\n}\n\nexport default function * globalData () {\n  yield takeLatest(SAVE_INPUT_AREA, saveInputArea)\n  yield takeLatest(GENERATE_PROTOCOL, generateProtocol)\n  yield takeLatest(GENERATE_OPERAT, generateOperat)\n  yield takeLatest(FILES_SEND_PHOTOS, sendPhotos)\n  yield takeLatest(SAVE_WEIGHTS_AREA, saveWeightsArea)\n  yield takeLatest(FILES_GET_BY_OPERAT, fetchFormatedFiles)\n  yield takeLatest(SAVE_CSV_AREA, saveCsvArea)\n}\n","export const fixPercentValue = (value) => {\n  if (value < 0) { return 0 } else if (value > 100) { return 100 } else { return value }\n}\n","import React, { useEffect, useState } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport cellEditFactory from 'react-bootstrap-table2-editor'\nimport ToolkitProvider from 'react-bootstrap-table2-toolkit'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Button, Card, CardBody, Col, FormGroup, Input, Row, UncontrolledTooltip } from 'reactstrap'\nimport { showLoadingScreen } from 'views/Modal/actions'\nimport { modalTypeConstants } from '../../constants'\nimport { loadOperatWeights, loadOperatInitialWeights, saveWeightsArea, updateWeights, addNewWeight, updateRatings, addNewRate, removeWeights, removeRatings } from './actions'\nimport { fixPercentValue } from 'utils/fixPercentValue'\nimport { useTranslation } from 'react-i18next'\n\nfunction EditComponent (props) {\n  const [value, setValue] = useState(props.value)\n  \n\n  return ([\n    <Input\n      value={value}\n      type={props.type}\n      min={props.min}\n      max={props.max}\n      onChange={(e) => {\n        props.type === 'number' ? setValue(fixPercentValue(e.target.value)) : setValue(e.target.value)\n      }}\n      onBlur={() => { props.type === 'number' ? props.onUpdate(parseInt(value)) : props.onUpdate(value) }}\n    />\n  ])\n}\nfunction CsvComponent ({ operatTypeParams, operat }) {\n  const [selectedWeight, selectWeight] = useState(null)\n  const [selectedWeightIndex, setRowIndex] = useState(0)\n  const dispatch = useDispatch()\n  const operatState = useSelector(state => state.operat)\n  const { t } = useTranslation('common')\n  const innerCols = [\n    {\n      dataField: 'id',\n      hidden: true\n    },\n    {\n      dataField: 'rate',\n      text: t('create.weights.ratingTableHeaders.value'),\n      align: 'center',\n      headerAlign: 'center',\n      sort: true,\n      formatter: (cell, row, rowIndex, formatExtraData) => (\n        <>\n        <p id={`weight-value-${rowIndex}`}>{cell}</p>\n        <UncontrolledTooltip\n          placement='top'\n          target={`weight-value-${rowIndex}`}\n        >\n          Najmniejsza warto to najmniej korzystna ocena\n        </UncontrolledTooltip>\n        </>\n      )\n    },\n    {\n      dataField: 'rateText',\n      text: t('create.weights.ratingTableHeaders.rating'),\n      align: 'center',\n      headerAlign: 'center',\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\n        <EditComponent {...editorProps} value={value} type='text' onUpdate={e => dispatch(updateRatings(selectedWeightIndex, row.rate, 'rateText', e))} />\n      ),\n      sort: true\n    },\n    {\n      dataField: 'description',\n      text: t('create.weights.ratingTableHeaders.description'),\n      align: 'center',\n      headerAlign: 'center',\n      sort: true,\n      editable: true,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\n        <EditComponent {...editorProps} value={value} type='text' onUpdate={e => dispatch(updateRatings(selectedWeightIndex, row.rate, 'description', e))} />\n      )\n    },\n    {\n      editable: false,\n      text: t('create.weights.ratingTableHeaders.selectRating'),\n      align: 'center',\n      headerAlign: 'center',\n      sort: true,\n      formatter: (cellContent, row) => (<Button\n        color='info' onClick={e => {\n          dispatch(updateWeights(selectedWeight.name, 'rate', row.rate))\n        }}\n                                        >Wybierz\n      </Button>)\n    }\n  ]\n  const [selectedRows, setSelectedRows] = useState([])\n  const [selectedInnerRows, setSelectedInnerRows] = useState([])\n  const selectRow = (onSelect, onSelectAll) => {\n    const select = {\n      mode: 'checkbox',\n      clickToEdit: false,\n      clickToSelect: false,\n      clickToExpand: true,\n      onSelect,\n      onSelectAll\n    }\n    return select\n  }\n  const cols = [\n    {\n      dataField: 'name',\n      text: t('create.weights.weightTableHeaders.id'),\n      hidden: false\n    },\n    {\n      dataField: 'description',\n      text: t('create.weights.weightTableHeaders.description'),\n      editable: true,\n      align: 'center',\n      headerAlign: 'center',\n      sort: true,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\n        <EditComponent {...editorProps} value={value} type='text' onUpdate={e => dispatch(updateWeights(row.name, 'description', e))} />\n      )\n    },\n    {\n      dataField: 'justification',\n      hidden: true\n    },\n    {\n      dataField: 'participation',\n      text: t('create.weights.weightTableHeaders.participation'),\n      editable: true,\n      align: 'center',\n      headerAlign: 'center',\n      sort: true,\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\n        <EditComponent {...editorProps} value={value} type='number' min={1} max={100} onUpdate={e => dispatch(updateWeights(row.name, 'participation', e))} />\n      )\n    },\n    {\n      dateField: 'rate',\n      text: t('create.weights.weightTableHeaders.rating'),\n      editable: false,\n      align: 'center',\n      headerAlign: 'center',\n      formatter: (cellContent, row) => {\n        if (row.ratings.length === 0) {\n          return ''\n        }\n        const rate = row.ratings.find(x => x.rate === row.rate)\n        if (rate) {\n          return rate.rateText\n        } else {\n          return ''\n        }\n      }\n    }\n  ]\n\n  useEffect(() => {\n    const load = () => {\n      dispatch(showLoadingScreen(\n        modalTypeConstants.LOADING,\n        {}\n      ))\n      loadOperatWeights(dispatch, dataJson.item2)\n    }\n\n    const dataJson = operatState.files.weights\n    !!dataJson && (Object.keys(dataJson).length > 0 ? load() : dispatch(loadOperatInitialWeights(operatTypeParams.weights)))\n    // eslint-disable-next-line\n  }, [operatState.files.weights])\n\n  const cellEdit = cellEditFactory({\n    mode: 'click',\n    blurToSave: true\n  })\n\n  const handleTableChange = (type, { data, cellEdit: { rowId, dataField, newValue } }) => {\n    dispatch(updateWeights(rowId, dataField, newValue))\n  }\n  const expandRow = {\n    renderer: row => (\n      <>\n        <Button color='success' onClick={() => dispatch(addNewRate(selectedWeightIndex))}>Dodaj now ocen</Button>\n        <Button\n          color='info'\n          onClick={() => {\n            dispatch(removeRatings(selectedInnerRows, selectedWeightIndex))\n            setSelectedInnerRows([])\n          }}\n        >\n          Usu ocen\n        </Button>\n        <FormGroup>\n          <BootstrapTable\n            keyField='id'\n            remote={{ cellEdit: true }}\n            data={row.ratings}\n            columns={innerCols}\n            selectRow={selectRow((row, isSelect, rowIndex, e) => {\n              isSelect && setSelectedInnerRows((allRows) => [...allRows, row.id])\n              !isSelect &&\n                setSelectedInnerRows(selectedInnerRows.filter((item) => item !== row.id))\n            }, (isSelect, rows) => {\n              !isSelect && setSelectedInnerRows([])\n              isSelect &&\n                setSelectedInnerRows(\n                  rows.map((row) => {\n                    return row.name\n                  })\n                )\n            }\n            )}\n            tabIndexCell\n            bootstrap4\n            striped\n            hover\n            condensed\n            bordered={false}\n            cellEdit={cellEdit}\n            onTableChange={handleTableChange}\n          />\n        </FormGroup>\n        Uzasadnienie wyboru oceny\n        <Input\n          type='textarea'\n          value={row.justification}\n          onChange={(e) => dispatch(updateWeights(row.name, 'justification', e.target.value))}\n        />\n      </>\n    ),\n    onlyOneExpanding: true,\n    onExpand: (row, isExpand, rowIndex, e) => { selectWeight(row); setRowIndex(rowIndex) }\n  }\n  return (\n    <>\n      <Card>\n        <CardBody>\n          <br />\n          <br />\n          <br />\n          <br />\n          <div className='container'>\n            <Row>\n              <Col md='12'>\n                <Card>\n                  {operatState.weights && <ToolkitProvider\n                    keyField='name'\n                    data={operatState.weights}\n                    columns={cols}\n                    exportCSV={{ onlyExportSelection: true, exportAll: true }}\n                                          >\n                    {(props) => (\n                      <div>\n                        <Button\n                          color='success'\n                          onClick={() => {\n                            dispatch(saveWeightsArea(operatState.id))\n                          }}\n                        >\n                          Wylij dane\n                        </Button>\n                        <Button\n                          color='info'\n                          onClick={() => {\n                            dispatch(removeWeights(selectedRows))\n                            setSelectedRows([])\n                          }}\n                        >\n                          Usu cech nieruchomoci\n                        </Button>\n                        <Button\n                          color='info'\n                          id='copyWeights'\n                          onClick={() => {\n                            dispatch(showLoadingScreen(\n                              modalTypeConstants.OPERATS_LIST_MODAL,\n                              { operat, dataType: 'weights' }\n                            ))\n                          }}\n                        >\n                          kopiuj cechy nieruchomoci z innego operatu\n                        </Button>\n                        <Button\n                          color='info'\n                          onClick={() => {\n                            dispatch(addNewWeight())\n                          }}\n                        >\n                          Dodaj now cech nieruchomoci\n                        </Button>\n                        <hr />\n                        <BootstrapTable\n                          {...props.baseProps}\n                          remote={{ cellEdit: true }}\n                          tabIndexCell\n                          bootstrap4\n                          striped\n                          hover\n                          selectRow={selectRow((row, isSelect, rowIndex, e) => {\n                            isSelect && setSelectedRows((allRows) => [...allRows, row.name])\n                            !isSelect &&\n                              setSelectedRows(selectedRows.filter((item) => item !== row.name))\n                          }, (isSelect, rows) => {\n                            !isSelect && setSelectedRows([])\n                            isSelect &&\n                              setSelectedRows(\n                                rows.map((row) => {\n                                  return row.name\n                                })\n                              )\n                          }\n                          )}\n                          condensed\n                          bordered={false}\n                          cellEdit={cellEdit}\n                          expandRow={expandRow}\n                          onTableChange={handleTableChange}\n                        />\n                      </div>\n                    )}\n                  </ToolkitProvider>}\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </CardBody>\n      </Card>\n    </>\n  )\n}\n\nexport default CsvComponent\n","import React, { useRef, useEffect, useState } from 'react'\nimport NotificationAlert from 'react-notification-alert'\nimport {\n    UncontrolledTooltip,\n    Col,\n    FormGroup,\n    Input,\n    Button,\n    UncontrolledCollapse,\n    Label,\n    Form\n} from 'reactstrap'\nimport { modalTypeConstants } from '../../constants'\nimport { formatDate } from 'utils/DateFormat'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen } from 'views/Modal/actions'\nimport { generateProtocol, loadOperatEmptyInput, loadOperatEmptyProtocol, loadOperatProtocol, updateProtocol, updateProtocolList} from './actions'\nimport { useMsal } from '@azure/msal-react'\nimport { ReactComponent as Exclamation } from 'assets/img/exclamation.svg'\n\nfunction ProtocolArea(props) {\n    const { accounts } = useMsal()\n    const operatState = useSelector(state => state.operat)\n    const [listInputData, setListInputData] = useState({})\n    const startTimeRef = useRef()\n    const endTimeRef = useRef()\n\n    const dispatch = useDispatch()\n    useEffect(() => {\n        const load = () => {\n            dispatch(showLoadingScreen(\n                modalTypeConstants.LOADING,\n                {}\n            ))\n            loadOperatProtocol(dispatch, dataJson.item2, false)\n        }\n\n        const dataJson = operatState.files.protocol\n        !!dataJson && (Object.keys(dataJson).length > 0 ? load() : dispatch(loadOperatEmptyProtocol(props.operatTypeParams.protocol)))\n        if (Object.keys(dataJson).length === 0) {\n            applyMacros()\n            loadInitialDataFromOrder()\n        }\n        // eslint-disable-next-line\n    }, [operatState.operatTypeId, operatState.files, props.operatTypeParams, dispatch])\n\n    const loadInitialDataFromOrder = () => {\n        const temp = JSON.parse(JSON.stringify(props.operatTypeParams.input))\n        if (props.order && props.order.ekw && props.order.ekw !== '') {\n            try {\n                const kwIndex = temp.findIndex(x => x.name === 'kw')\n                const kwNrIndex = temp[kwIndex].findIndex(x => x.name === 'nr')\n                temp[kwIndex].data[kwNrIndex].value = props.order.ekw\n                dispatch(loadOperatEmptyInput(temp))\n            } catch (err) {}\n        }\n    }\n\n    const applyMacros = () => {\n        const temp = JSON.parse(JSON.stringify(props.operatTypeParams.input))\n        for (let i = 0; i < temp.length; i++) {\n            for (let j = 0; j < temp[i].data.length; j++) {\n                if (temp[i].data[j].default === 'now()' && temp[i].data[j].type === 'date') { temp[i].data[j].value = formatDate(new Date()) }\n                if (temp[i].data[j].value === 'author()') { temp[i].data[j].value = [accounts[0].idTokenClaims.given_name, accounts[0].idTokenClaims.family_name].filter(x => x).join(' ') }\n            }\n        }\n        dispatch(loadOperatEmptyInput(temp))\n    }\n    const handleChangeValue = (value, id, idx) => {\n        dispatch(updateProtocol(value, id, idx))\n    }\n\n    const notifyRegister = useRef(null)\n\n    function createInput(dataItem, idx, id, genItem, ref = null) {\n        let props = {\n            type:dataItem.type,\n            name:genItem.name + dataItem.type + idx,\n            id: dataItem.name + idx,\n            placeholder:dataItem.description,\n            value:dataItem.value,\n            onChange:(e) => {\n                handleChangeValue(e.target.value, id, idx)\n            },\n        }\n\n        if(ref) {\n            props = {\n                ...props,\n                ref: ref\n            }\n        }\n        return (\n            <Input\n                {...props}\n            />\n        ) \n    }\n    const renderSwitch = (dataItem, idx, id, genItem) => {\n        if(dataItem.type === 'list')\n            return (\n                <>\n                    <Form\n                        onSubmit={(e) => {\n                            e.preventDefault()\n                            if (listInputData.hasOwnProperty(idx.toString()) && listInputData[idx.toString()] !== '') {\n                                dispatch(updateProtocolList(listInputData[idx.toString()], id, idx, null, false))\n                                let newValue = listInputData\n                                newValue[idx.toString()] = ''\n                                setListInputData(newValue)\n                                e.target.reset()\n                            }\n                        }}\n                    >\n                        <FormGroup>\n                            <Label>{dataItem.label}</Label>\n                            <Input\n                                onChange={(e) => {\n                                    let newValue = listInputData\n                                    newValue[idx.toString()] = e.target.value\n                                    setListInputData(newValue)\n                                }}\n                                type='text'\n                                required\n                            />\n                        </FormGroup>\n                        <Button type='submit'>{dataItem.button}</Button>\n                    </Form>\n                    <ul class='list-group'>\n                        {dataItem.value.map((e, listIdx) => (\n                            <li\n                                key={listIdx}\n                                class='list-group-item d-flex justify-content-between align-items-center'\n                                style={{ overflowWrap: 'anywhere' }}\n                            >\n                                {e}\n                                <span\n                                    onClick={() => { dispatch(updateProtocolList(listInputData[idx.toString()], id, idx, listIdx, true)) }}\n                                >\n                                    <i className='nc-icon nc-simple-remove' />\n                                </span>\n                            </li>\n                        ))}\n                    </ul>\n                </>\n            )\n        else if (dataItem.name === 'start_time') \n            return createInput(dataItem, idx, id, genItem, startTimeRef)\n        else if (dataItem.name === 'end_time')\n            return createInput(dataItem, idx, id, genItem, endTimeRef)\n\n        return createInput(dataItem, idx, id, genItem)\n    }\n\n    return (\n        <>\n            <NotificationAlert ref={notifyRegister} />\n            {operatState.protocol && operatState.protocol.length > 0 &&\n                operatState.protocol.map((genItem, id) => {\n                    return (\n                        <div key={genItem.name + 'Area' + id}>\n                            <Button\n                                color='info'\n                                id={genItem.name + 'Area' + id}\n                                style={{ width: '16rem' }}\n                            >\n                                {genItem.text}\n                            </Button> {genItem.data.some(x => x.hasOwnProperty('isValid') && !x.isValid) && <Exclamation fill='red' />}\n\n                            <UncontrolledCollapse toggler={genItem.name + 'Area' + id}>\n                                {genItem.data.map((dataItem, idx) => {\n                                    return (\n                                        <FormGroup row key={genItem.name + idx}>\n                                            <Col md='3'>\n                                                <p>{dataItem.description}</p>\n                                            </Col>\n                                            <Col sm={8}>\n                                                {renderSwitch(dataItem, idx, id, genItem)}\n                                                {dataItem.tooltip && dataItem.tooltip !== '' &&\n                                                    <UncontrolledTooltip\n                                                        placement='top'\n                                                        target={dataItem.name + idx}\n                                                    >\n                                                        {dataItem.tooltip}\n                                                    </UncontrolledTooltip>}\n                                            </Col>\n                                        </FormGroup>\n                                    )\n                                })}\n                            </UncontrolledCollapse>\n                        </div>\n                    )\n                })}\n            <Button\n                color='success'\n                id='generateProtocol'\n                style={{ marginBottom: '1rem', width: '16rem' }}\n                onClick={() => {\n                    if (startTimeRef.current.props.value && endTimeRef.current.props.value) {\n                        const [startHour, startMinutes] = startTimeRef.current.props.value.split(':')\n                        const [endHour, endMinutes] = endTimeRef.current.props.value.split(':')\n                        \n                        if (parseInt(startHour) > parseInt(endHour) || ( \n                            parseInt(startHour) === parseInt(endHour) && \n                            parseInt(startMinutes) >= parseInt(endMinutes))\n                        ) {\n                            dispatch(showLoadingScreen(modalTypeConstants.CONFIRM_ERROR, { message: 'Godzina rozpoczcia czynnoci rzeczoznawcy nie moe by taka sama lub pniejsza ni godzina zakoczenia.'}))\n                            return\n                        }\n                    }\n                    dispatch(generateProtocol())\n                }}>\n                Generuj protok\n            </Button>\n        </>\n    )\n}\n\nexport default ProtocolArea\n","import React, { useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport {\n  Button, Card,\n  CardBody, Collapse, UncontrolledTooltip\n} from 'reactstrap'\nimport { hideLoadingScreen } from 'views/Modal/actions'\nimport { userRolesConstants } from '../../constants'\nimport { operatService, operatTypeService, orderService } from '../../services'\nimport { clearOperatState, generateOperat, getFormatedFiles, loadOperatType, setOperat } from './actions'\nimport CsvComponent from './CsvComponent'\nimport { InfoForAdmin } from './InfoForAdmin'\nimport InputArea from './InputArea'\nimport PhotoArea from './PhotoArea'\nimport saga from './saga'\nimport reducer from './reducer'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport Weights from './Weights'\nimport Protocol from './Protocol'\nimport { ReactComponent as Exclamation } from 'assets/img/exclamation.svg'\n\nfunction Create(props) {\n  useInjectReducer({ key: 'operat', reducer })\n  useInjectSaga({ key: 'operat', saga })\n\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.global.user)\n  const operatState = useSelector(state => state.operat)\n  const [order, setOrder] = useState({})\n  const [operatTypeParams, setOperatTypeParams] = useState([])\n  const [requiredPhotosCount, setRequiredPhotosCount] = useState(0)\n  const { t } = useTranslation('common')\n\n  const location = useLocation()\n  useEffect(() => {\n    const params = new URLSearchParams(location.search)\n    operatService.get(params.get('id')).then(operatRes => {\n      orderService.getSingleOrder(operatRes.orderId).then(orderRes => setOrder(orderRes))\n      dispatch(setOperat(operatRes))\n      operatTypeService.getTypeParams(operatRes.operatTypeId)\n        .then((res) => {\n          setOperatTypeParams(res)\n          const count = res.photo.map(x => x.data.length).reduce((a, b) => a + b, 0)\n          setRequiredPhotosCount(count)\n          if (Array.isArray(res)) {\n            res = { input: [], csvColumns: [], photo: [] }\n            dispatch(loadOperatType(res))\n          }\n          dispatch(hideLoadingScreen())\n          dispatch(getFormatedFiles())\n        })\n    }).catch(err => {})\n    return function cleanup() {\n      dispatch(clearOperatState())\n    }\n  }, [dispatch, location.search])\n\n  const [inputArea, setInputArea] = useState(false)\n  const [csvArea, setCsvArea] = useState(false)\n  const [photoArea, setPhotoArea] = useState(false)\n  const [protocolArea, setProtocolArea] = useState(false)\n  const [weightsArea, setWeightsArea] = useState(false)\n  const isAdmin = user.userType === userRolesConstants.ADMIN\n\n  const isAllFilled = operatState.files.csv ? operatState.files.input.item1 && operatState.files.weights.item1 && operatState.files.csv.item1 && (operatState.files.photo.length === requiredPhotosCount || (operatState.photo.data && operatState.photo.data.every(x => x.data.every(t => t.hasOwnProperty('url') && !t.hasOwnProperty('file'))))) : false\n\n  function createGenerateOperatInfo() {\n    let result = ''\n    if (!operatState.files.csv) {\n      return ''\n    }\n    if (!operatState.files.input.item1) {\n      result += 'Brak danych opisowych<br /> \\n'\n    }\n    if (!operatState.files.csv.item1) {\n      result += 'Brak cen transakcyjnych<br /> \\n'\n    }\n    if (operatState.files.photo.length === 0 || (operatState.files.photo.length !== requiredPhotosCount)) {\n      result += 'Brak zdj<br /> \\n'\n    }\n    if (!operatState.files.weights.item1) {\n      result += 'Brak cech nieruchomoci<br /> \\n'\n    }\n\n    return result\n  }\n  return (\n    <div className='content'>\n      {isAdmin && <><InfoForAdmin /><br /></>}\n\n      <Button\n        style={{ width: '16rem' }}\n        color='success'\n        onClick={() => dispatch(generateOperat())}\n        disabled={!isAllFilled}\n      >\n        {t('create.buttons.generate')}\n      </Button>\n      {\n        !isAllFilled && <> <Exclamation style={{width: \"20px\", height: \"20px\"}} id='cannot-generate-info' fill='red' />\n          <UncontrolledTooltip\n            placement='top'\n            target='cannot-generate-info'\n          >\n            <div dangerouslySetInnerHTML={{ __html: createGenerateOperatInfo() }} />\n          </UncontrolledTooltip>\n        </>\n      }\n\n      <br />\n      <div>\n        <Button\n          color='info'\n          onClick={() => setInputArea(!inputArea)}\n          disabled={!operatTypeParams.input}\n          style={{ marginBottom: '1rem', width: '16rem' }}\n        >\n          {t('create.buttons.description')}\n        </Button>\n        <Collapse isOpen={inputArea}>\n          <Card>\n            <CardBody>\n              {inputArea && <InputArea operatTypeParams={operatTypeParams} operat={operatState.operat} order={order} />}\n            </CardBody>\n          </Card>\n        </Collapse>\n      </div>\n      <div>\n        <Button\n          disabled={operatTypeParams.length === 0}\n          color='info'\n          onClick={() => setWeightsArea(prev => !prev)}\n          style={{ marginBottom: '1rem', width: '16rem' }}\n        >\n          {t('create.buttons.weights')}\n        </Button>\n        <Collapse isOpen={weightsArea}>\n          {weightsArea && <Weights operatTypeParams={operatTypeParams} operat={operatState.operat} order={order} />}\n        </Collapse>\n      </div>\n      <div>\n        <Button\n          disabled={operatTypeParams.length === 0}\n          color='info'\n          onClick={() => setCsvArea(!csvArea)}\n          style={{ marginBottom: '1rem', width: '16rem' }}\n        >\n          {t('create.buttons.csvFiles')}\n        </Button>\n        <Collapse isOpen={csvArea}>{csvArea && <CsvComponent operatTypeParams={operatTypeParams} operat={operatState.operat} />}</Collapse>\n      </div>\n      <div>\n        <Button\n          disabled={operatTypeParams.length === 0}\n          color='info'\n          onClick={() => setPhotoArea(!photoArea)}\n          style={{ marginBottom: '1rem', width: '16rem' }}\n        >\n          {t('create.buttons.photos')}\n        </Button>\n        <Collapse isOpen={photoArea}>\n          {photoArea && <PhotoArea operatTypeParams={operatTypeParams} operat={operatState.operat} order={order} />}\n        </Collapse>\n      </div>\n      <div>\n        <Button\n          disabled={operatTypeParams.length === 0}\n          color='info'\n          onClick={() => setProtocolArea(!protocolArea)}\n          style={{ marginBottom: '1rem', width: '16rem' }}\n        >\n          {t('create.buttons.protocol')}\n        </Button>\n        <Collapse isOpen={protocolArea}>\n          {protocolArea &&\n            <Card>\n              <CardBody>\n                <Protocol operatTypeParams={operatTypeParams} operat={operatState.operat} order={order} />\n              </CardBody>\n            </Card>}\n        </Collapse>\n      </div>\n    </div>\n  )\n}\n\nexport default Create\n","import React, { useCallback, useState } from 'react'\nimport { useDropzone } from 'react-dropzone'\nimport { useMsal } from '@azure/msal-react'\nimport { v4 as uuidv4 } from 'uuid'\nimport { Table, Button } from 'reactstrap'\nimport { operatorFilesService } from '../../services'\nimport { modalTypeConstants } from '../../constants'\nimport confirm from 'reactstrap-confirm'\nimport { useDispatch } from 'react-redux'\nimport { hideLoadingScreen, showLoadingScreen } from 'views/Modal/actions'\n\nfunction UserImageDropzone (props) {\n  const baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '20px',\n    borderWidth: 2,\n    borderRadius: 20,\n    borderColor: '#c2b7b7',\n    borderStyle: 'dashed',\n    color: '#0e0c0c',\n    outline: 'none'\n  }\n\n  const style = {\n    ...baseStyle\n  }\n\n  const dispatch = useDispatch()\n  const [uploadedFile, setUploadedFile] = useState([])\n  const { accounts } = useMsal()\n\n  const toBigWarning = async () => {\n    await confirm({\n      title: <>Ostrzeenie</>,\n      message: 'Twj plik jest za duy.',\n      cancelText: 'OK'\n    })\n  }\n\n  const status = { toSend: 'do wysania', sended: 'wysany' }\n\n  const onDrop = useCallback((acceptedFiles) => {\n    if (acceptedFiles.length > 0) {\n      setUploadedFile((prevState) => prevState.length < props.maxLength\n        ? [\n            ...prevState,\n            { id: uuidv4(), file: acceptedFiles[0], condition: status.toSend }\n          ]\n        : [...prevState])\n    } else {\n      toBigWarning()\n    }\n  }, [status.toSend, props.maxLength])\n\n  const { getRootProps, getInputProps } = useDropzone({\n    onDrop,\n    multiple: false,\n    accept: props.acceptedExt,\n    minSize: 0,\n    maxSize: 5120000\n  })\n\n  const send = (exactFile) => {\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'loadingData', translate: true }))\n    switch (props.fileType) {\n      case 'stamp': sendFile(exactFile, 'stamp.png'); break\n      case 'pdf': sendFile(exactFile); break\n      case 'diploma': sendFile(exactFile, 'diploma.pdf'); break\n      case 'oc': sendFile(exactFile, 'oc.pdf'); break\n      default:\n    }\n  }\n\n  const handleResponse = (resp, exactFile) => {\n    if (resp[0] !== 'Too many files to send') {\n      setUploadedFile(uploadedFile.map(item => {\n        if (item.id === exactFile.id) {\n          item.condition = status.sended\n        }\n        return item\n      }))\n      dispatch(hideLoadingScreen())\n    } else {\n      dispatch(showLoadingScreen(modalTypeConstants.TOO_MUCH_OPERATOR_FILES, {}))\n    }\n  }\n\n  const sendFile = (exactFile, filename) => {\n    operatorFilesService.sendOperatorFile(\n      accounts[0].idTokenClaims.oid,\n      exactFile,\n      filename\n    ).then((resp) => handleResponse(resp, exactFile))\n  }\n\n  const generateRows = () => {\n    return uploadedFile.map((item, idx) => (\n      <tbody key={idx}>\n        <tr>\n          <th scope='row'>{idx + 1}</th>\n          <td>{item.file.name}</td>\n          <td>{item.condition}</td>\n          <td>\n            <Button\n              color='primary'\n              onClick={() => {\n                send(item)\n              }}\n              disabled={item.condition === status.sended}\n            >\n              Wylij\n            </Button>\n            {'    '}\n            <Button\n              color='warning'\n              onClick={() => {\n                setUploadedFile(\n                  uploadedFile.filter((obj) => obj.id !== item.id)\n                )\n              }}\n            >\n              Usu\n            </Button>\n          </td>\n        </tr>\n      </tbody>\n    ))\n  }\n\n  const files = () => (\n    <Table>\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>nazwa pliku</th>\n          <th>Status</th>\n          <th>Akcja</th>\n        </tr>\n      </thead>\n      {generateRows()}\n    </Table>\n  )\n\n  return (\n    <div>\n      <section className='container'>\n        <div {...getRootProps({ className: 'dropzone', style })}>\n          <input {...getInputProps()} />\n          <p>Upu lub kliknij aby wczytac pliki.</p>\n          <p>Akceptowane formaty pliku to: <b>{props.acceptedExt.replaceAll('.', '').toLowerCase()}</b>.</p>\n          <p>Maksymalna wielko pliku to 5 MB.</p>\n        </div>\n        <aside />\n      </section>\n      {uploadedFile.length > 0 && files()}\n    </div>\n  )\n}\n\nexport default UserImageDropzone\n","import React, { useEffect, useState } from 'react'\nimport { useMsal } from '@azure/msal-react'\nimport { Table, Button } from 'reactstrap'\nimport { operatorFilesService } from '../../services'\nimport { modalTypeConstants } from '../../constants'\nimport confirm from 'reactstrap-confirm'\nimport { useDispatch } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\n\nfunction UserUploadedFiles (props) {\n  const { accounts } = useMsal()\n  const [operatorFiles, setOperatorFile] = useState([])\n  const dispatch = useDispatch()\n\n  const generateRows = () => {\n    return operatorFiles.map((item, idx) => (\n      <tbody key={idx}>\n        <tr>\n          <th scope='row'>{idx + 1}</th>\n          <td>{item.item1}</td>\n          <td>\n            <Button\n              color='primary'\n              onClick={() => {\n                operatorFilesService\n                  .getFileBlob(item.item2, item.item1)\n              }}\n            >\n              pobierz\n            </Button>\n            {'    '}\n            <Button\n              color='warning'\n              onClick={() => {\n                deleteFile(item)\n              }}\n            >\n              Usu\n            </Button>\n          </td>\n        </tr>\n      </tbody>\n    ))\n  }\n\n  const deleteFile = async (item) => {\n    const result = await confirm({\n      title: <>Ostrzeenie</>,\n      message: `Czy na pewno chcesz usun plik ${item.item1}`,\n      confirmText: 'Usu',\n      confirmColor: 'danger',\n      cancelColor: 'link text-primary'\n    })\n    if (result) {\n      dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'deleteFile', translate: true }))\n      operatorFilesService\n        .removeOperatorFileByName(\n          accounts[0].idTokenClaims.oid,\n          item.item1\n        )\n        .then(() => {\n          setOperatorFile(\n            operatorFiles.filter((obj) => obj.item1 !== item.item1)\n          )\n          dispatch(hideLoadingScreen())\n        })\n    }\n  }\n\n  const files = () => (\n    <Table>\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>nazwa pliku</th>\n          <th>Akcja</th>\n        </tr>\n      </thead>\n      {generateRows()}\n    </Table>\n  )\n\n  useEffect(() => {\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'loadingData', translate: true }))\n    operatorFilesService\n      .getOperatorFiles(accounts[0].idTokenClaims.oid)\n      .then((result) => {\n        setOperatorFile(result)\n        dispatch(hideLoadingScreen())\n      })\n  }, [accounts, dispatch])\n\n  return <>{operatorFiles.length > 0 && files()}</>\n}\n\nexport default UserUploadedFiles\n","import React, { useState } from 'react'\nimport {\n  Card,\n  CardBody,\n  Row,\n  Col, Button, Collapse\n} from 'reactstrap'\n\nimport UserImageDropzone from './UserImageDropzone'\nimport UserUploadedFiles from './UserUploadedFiles'\nimport { useTranslation } from 'react-i18next'\n\nfunction UserProfileTab (props) {\n  const { t } = useTranslation('common')\n  const [sendNew, setSendNew] = useState(false)\n  const [showSendStamp, setShowSendStamp] = useState(false)\n  const [showSendDiploma, setShowSendDiploma] = useState(false)\n  const [showSendOc, setShowSendOc] = useState(false)\n  const [showFiles, setShowFiles] = useState(false)\n\n  return (\n    <>\n      <Row>\n        <Col md='8'>\n          <Card>\n            <CardBody>\n              <Button color='primary' onClick={() => setSendNew(!sendNew)}>\n                {t('userProfile.buttons.sendFiles')}\n              </Button>\n              <Collapse isOpen={sendNew}>\n                <Card>\n                  <CardBody>\n                    <UserImageDropzone acceptedExt='.pdf, .pem' fileType='pdf' maxLength={100} />\n                  </CardBody>\n                </Card>\n              </Collapse>\n              <Button color='primary' onClick={() => setShowSendStamp(!showSendStamp)}>\n                {t('userProfile.buttons.sendStamp')}\n              </Button>\n              <Collapse isOpen={showSendStamp}>\n                <Card>\n                  <CardBody>\n                    <UserImageDropzone acceptedExt='.png, .jpg' fileType='stamp' maxLength={1} />\n                  </CardBody>\n                </Card>\n              </Collapse>\n              <Button color='primary' onClick={() => setShowSendDiploma(!showSendDiploma)}>\n                {t('userProfile.buttons.sendDiploma')}\n              </Button>\n              <Collapse isOpen={showSendDiploma}>\n                <Card>\n                  <CardBody>\n                    <UserImageDropzone acceptedExt='.pdf' fileType='diploma' maxLength={1} />\n                  </CardBody>\n                </Card>\n              </Collapse>\n              <Button color='primary' onClick={() => setShowSendOc(!showSendOc)}>\n                {t('userProfile.buttons.sendLiabilityInsurance')}\n              </Button>\n              <Collapse isOpen={showSendOc}>\n                <Card>\n                  <CardBody>\n                    <UserImageDropzone acceptedExt='.pdf' fileType='oc' maxLength={1} />\n                  </CardBody>\n                </Card>\n              </Collapse>\n              <Button color='primary' id='showFiles' onClick={() => setShowFiles(!showFiles)}>\n                {t('userProfile.buttons.showUploadedFiles')}\n              </Button>\n              <Collapse toggler='#showFiles' isOpen={showFiles}>\n                <Card>\n                  <CardBody>\n                    {showFiles && <UserUploadedFiles />}\n                  </CardBody>\n                </Card>\n              </Collapse>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default UserProfileTab\n","import { useMsal } from '@azure/msal-react'\nimport React, { useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Button,\n  Card, CardBody, CardHeader, CardTitle, Col, FormGroup,\n  Input, Row\n} from 'reactstrap'\nimport { adminService, operatorService, clientService } from '../../services'\nimport { modalTypeConstants, userRolesConstants } from '../../constants'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\n\nconst initlUserState = {\n  licenceNumber: 0,\n  inZbpList: false,\n  mail: '',\n  address: '',\n  id: '',\n  name: '',\n  nameWithTitle: '',\n  degree: '',\n  firstName: '',\n  lastName: '',\n  description: '',\n  phone: ''\n}\n\nfunction EditUser (props) {\n  const { accounts } = useMsal()\n  const { t } = useTranslation('common')\n  const user = useSelector(state => state.global.user)\n  const dispatch = useDispatch()\n  \n  const [userInfo, setUserInfo] = useState(initlUserState)\n  const [address, setAddress] = useState({ city: userInfo.address.split(',')[2], postalCode: userInfo.address.split(',')[1], street: userInfo.address.split(',')[0] })\n  const isOper = user.userType === userRolesConstants.OPERATOR\n  const isAdmin = user.userType === userRolesConstants.ADMIN\n  const isClient = user.userType === userRolesConstants.CLIENT\n\n  useEffect(() => {\n    if (isAdmin) {\n      adminService.getAdminDataById(accounts[0].idTokenClaims.oid).then(res => {\n        updateStates(res)\n      })\n    }\n    if (isOper) {\n      operatorService.getOperatorData(accounts[0].idTokenClaims.oid).then(res => {\n        updateStates(res)\n      })\n    }\n    if (isClient) {\n      clientService.getClientData(accounts[0].idTokenClaims.oid).then(res => {\n        updateStates(res)\n      })\n    }\n  }, [accounts, isAdmin, isOper, isClient])\n\n  return (\n    <>\n      {' '}\n      <Row>\n        <Col md='8'>\n          <Card className='card-user'>\n            <CardHeader>\n              <CardTitle tag='h5'>{t('userProfile.profileEdition')}</CardTitle>\n            </CardHeader>\n            <CardBody>\n              <div>\n                <Row>\n                <Col className='pl-1' md='6'>\n                  <FormGroup>\n                    <label htmlFor='exampleInputEmail1'>{t('userProfile.userEmail')}</label>\n                    <Input\n                      placeholder='Email'\n                      type='email'\n                      value={userInfo.mail}\n                      readOnly\n                    />\n                    </FormGroup>\n                </Col>\n                </Row>\n                <Row>\n                  <Col className='pr-1' md='6'>\n                    <FormGroup>\n                      <label>{t('userProfile.userName')}</label>\n                      <Input\n                        placeholder=''\n                        type='text'\n                        value={userInfo.name}\n                        onChange={(e) => setUserInfo(prev => ({ ...prev, name: e.target.value }))}\n                      />\n                    </FormGroup>\n                  </Col>\n                  <Col className='pl-1' md='6'>\n                    <FormGroup>\n                      <label htmlFor='phone'>{t('userProfile.phoneNumber')}</label>\n                      <Input\n                        placeholder=''\n                        type='phone'\n                        value={userInfo.phone}\n                        onChange={(e) => setUserInfo(prev => ({ ...prev, phone: e.target.value }))}\n                      />\n                    </FormGroup>\n                  </Col>\n                </Row>\n                <Row>\n                  <Col className='pr-1' md='6'>\n                    <FormGroup>\n                      <label>{t('userProfile.userFirstName')}</label>\n                      <Input\n                        value={userInfo.firstName}\n                        placeholder='Imi'\n                        type='text'\n                        onChange={(e) => setUserInfo(prev => ({ ...prev, firstName: e.target.value }))}\n                      />\n                    </FormGroup>\n                  </Col>\n                  <Col className='pl-1' md='6'>\n                    <FormGroup>\n                      <label>{t('userProfile.userLastName')}</label>\n                      <Input\n                        value={userInfo.lastName}\n                        placeholder='Nazwisko'\n                        type='text'\n                        onChange={(e) => setUserInfo(prev => ({ ...prev, lastName: e.target.value }))}\n                      />\n                    </FormGroup>\n                  </Col>\n                </Row>\n                {!isClient && <Row>\n                  <Col className='pr-1' md='6'>\n                    <FormGroup>\n                      <label>{t('userProfile.userDegree')}</label>\n                      <Input\n                        onChange={(e) => setUserInfo(prev => ({ ...prev, degree: e.target.value }))}\n                        value={userInfo.degree}\n                        placeholder='tytu naukowy'\n                        type='text'\n                      />\n                    </FormGroup>\n                  </Col>\n                  <Col className='pr-1' md='6'>\n                    <FormGroup>\n                      <label>{t('userProfile.userLicenceNumber')}</label>\n                      <Input\n                        value={userInfo.licenceNumber}\n                        type='number'\n                        defaultValue='Nr Licencji'\n                        onChange={e => {\n                          if (e.target.value.startsWith('-') || e.target.value < 0 || e.target.value === '') {\n                            e.target.value = ''\n                          }\n                          e.target.value >= 0 && setUserInfo(prev => ({ ...prev, licenceNumber: parseInt(e.target.value) }))\n                        }}\n                      />\n                    </FormGroup>\n                  </Col>\n                </Row>}\n                {!isClient &&\n                  <Row>\n                    <Col md='12'>\n                      <FormGroup>\n                        <label>{t('userProfile.aboutMe')}</label>\n                        <Input\n                          defaultValue={userInfo.description}\n                          type='textarea'\n                          onChange={e => setUserInfo(prev => ({ ...prev, description: e.target.value }))}\n                        />\n                      </FormGroup>\n                    </Col>\n                  </Row>}\n                {!isClient && <Row>\n                  \n                  {!isClient && <Col md='12'>\n                    <FormGroup>\n                        <FormGroup>\n                          <Input\n                            style={{marginRight: \"5px\"}}\n                            type='checkbox'\n                            name='zbpList'\n                            id='zbpList'\n                            checked={userInfo.inZbpList}\n                            onClick={switchCheckbox}\n                           />\n                          <label for='zbpList'>\n                            {t('userProfile.inZbpList')}\n                          </label>\n                        </FormGroup>\n                    </FormGroup>\n                  </Col>}\n                </Row>}\n                <Row>\n                  <div className='update ml-auto mr-auto'>\n                    <Button\n                      className='btn-round'\n                      color='primary'\n                      type='submit'\n                      onClick={() => { sendUpdate() }}\n                    >\n                      {t('userProfile.buttons.update')}\n                    </Button>\n                  </div>\n                </Row>\n              </div>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  )\n\n  function sendUpdate () {\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'saveUserData', translate: true }))\n    const update = JSON.parse(JSON.stringify(userInfo))\n    update.address = `${address.street},${address.city},${address.postalCode}`\n    if (isAdmin) {\n      adminService.updateUserInfo(update).then(() => dispatch(hideLoadingScreen()))\n    }\n\n    if (isOper) {\n      operatorService.updateOper(update).then(() => dispatch(hideLoadingScreen()))\n    }\n    if (isClient) {\n      clientService.updateClient(update).then(() => dispatch(hideLoadingScreen()))\n    }\n  }\n\n  function switchCheckbox () {\n    setUserInfo(prev => ({ ...prev, inZbpList: !userInfo.inZbpList }))\n  }\n\n  function updateStates (res) {\n    setUserInfo(res)\n    setAddress({ city: res.address.split(',')[1], postalCode: res.address.split(',')[2], street: res.address.split(',')[0] })\n  }\n}\n\nexport default EditUser\n","export default __webpack_public_path__ + \"static/media/damir-bosnjak.efcaca50.jpg\";","import { Table, Button } from 'reactstrap'\nimport PropTypes from 'prop-types'\nfunction ReadonlyTable ({ headers, data, style, className, deleteAction }) {\n  return (\n    <Table style={style} className={className}>\n      <thead>\n        <tr>\n          <th>\n            #\n          </th>\n          {headers.map((x, idx) => (\n            <th key={idx}>{x}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {data.map((x, idx) => (\n          <tr key={idx + x.title}>\n            <th scope='row'>\n              {idx + 1}\n            </th>\n            {Object.entries(x).map((t, idx) => (\n              t[0] !== 'id' &&\n                <td key={idx}>\n                  {t[1]}\n                </td>\n            ))}\n            {deleteAction && <td><Button color='danger' onClick={() => deleteAction(x.id)}>Usu</Button></td>}\n          </tr>\n        ))}\n      </tbody>\n    </Table>\n  )\n}\nReadonlyTable.propTypes = {\n  headers: PropTypes.array.isRequired,\n  data: PropTypes.array.isRequired,\n  styles: PropTypes.object,\n  className: PropTypes.string,\n  deleteAction: PropTypes.func\n}\nexport default ReadonlyTable\n","import React, { useState } from 'react'\nimport { useMsal } from '@azure/msal-react'\nimport {\n  Card,\n  CardBody,\n  Row,\n  Col,\n  Accordion,\n  AccordionItem,\n  AccordionBody,\n  AccordionHeader\n} from 'reactstrap'\nimport { useLocation } from 'react-router'\nimport defaultAvatar from '../../assets/img/default-avatar.png'\nimport fakeImg from '../../assets/img/damir-bosnjak.jpg'\nimport ReadonlyTable from 'components/Tables/ReadonlyTable'\nimport { formatDate } from 'utils/DateFormat'\n\nfunction UserProfileTab (props) {\n  const { accounts } = useMsal()\n  const [openAccordion, setOpenAccordion] = useState('')\n  const createInZpbInformation = () => {\n    if (!props.operatorProfileData.operator) return null\n    const text = 'Operator ' + props.operatorProfileData.operator.name + ' ' + (!props.operatorProfileData.operator.inZbpList ? 'nie ' : '') + 'jest zapisany do listy rzeczoznawcw ZBP.'\n    return <p>{text}</p>\n  }\n  const location = useLocation()\n\n  return (\n    <>\n      <Row>\n        <Col md='12'>\n          <Card className='card-user'>\n            <div className='image'>\n              <img alt='...' src={fakeImg} />\n            </div>\n            <CardBody>\n              <div className='author'>\n                <a href='/users-profile' onClick={(e) => e.preventDefault()}>\n                  <img\n                    alt='...'\n                    className='avatar border-gray'\n                    src={defaultAvatar}\n                  />\n                  {!location.search\n                    ? <div>\n                      <h5 className='title'>{/* state.operator.name */}</h5>\n                      <h5 className='title'>\n                        {accounts[0].idTokenClaims.given_name}{' '}\n                        {accounts[0].idTokenClaims.family_name}\n                      </h5>\n                      <h5 className='title'>{/* state.operator.mail */}</h5>\n                    </div>\n                    : <h5 className='title'>{props.operatorProfileData.operator && props.operatorProfileData.operator.name}</h5>}\n                </a>\n                {\n                  location.search &&\n                    <div>\n                      {props.operatorProfileData.operator.description && props.operatorProfileData.operator.description !== '' &&\n                        <cite>\n                          {props.operatorProfileData.operator.description}\n                        </cite>}\n                      <Accordion\n                        open={openAccordion}\n                        toggle={(e) => e === openAccordion ? setOpenAccordion('') : setOpenAccordion(e)}\n                      >\n                        <AccordionItem>\n                          <AccordionHeader targetId='1'>\n                            Dyplom\n                          </AccordionHeader>\n                          <AccordionBody accordionId='1'>\n                            {props.operatorProfileData.diploma === '' || typeof props.operatorProfileData.diploma !== 'string' ? 'operator nie wgra dyplomu do systemu' : <img src={props.operatorProfileData.diploma} alt='dyplom' />}\n                          </AccordionBody>\n                        </AccordionItem>\n                        <AccordionItem>\n                          <AccordionHeader targetId='2'>\n                            Przebyte szkolenia\n                          </AccordionHeader>\n                          <AccordionBody accordionId='2'>\n                            {props.operatorProfileData.trainings.length > 0\n                              ? <ReadonlyTable\n                                  headers={['Tytu', 'Adres url']}\n                                  data={props.operatorProfileData.trainings}\n                                />\n                              : 'Brak danych'}\n                          </AccordionBody>\n                        </AccordionItem>\n                        <AccordionItem>\n                          <AccordionHeader targetId='3'>\n                            Kontakt\n                          </AccordionHeader>\n                          <AccordionBody accordionId='3'>\n                            <ul style={{ textAlign: 'left', fontSize: '1.5rem' }}>\n                              {props.operatorProfileData.operator &&\n                                <>\n                                  <li>Adres e-mail: <a href={'mailto:' + props.operatorProfileData.operator.mail}>{props.operatorProfileData.operator.mail}</a></li>\n                                  <li>Nr telefonu: {props.operatorProfileData.operator.phone}</li>\n                                </>}\n                            </ul>\n                          </AccordionBody>\n                        </AccordionItem>\n                        <AccordionItem>\n                          <AccordionHeader targetId='4'>\n                            Opinie zleceniodawcw\n                          </AccordionHeader>\n                          <AccordionBody accordionId='4'>\n                            {props.operatorProfileData.reviews.length > 0\n                              ? <ReadonlyTable\n                                  headers={['Data', 'Komentarz', 'Ocena']}\n                                  data={props.operatorProfileData.reviews?.map(x => {\n                                    return {\n                                      createdDateTime: formatDate(x.createdDateTime),\n                                      comment: x.comment,\n                                      rating: `${x.rating}/5`\n                                    }\n                                  })}\n                                />\n                              : 'Brak danych'}\n                          </AccordionBody>\n                        </AccordionItem>\n                        <AccordionItem>\n                          <AccordionHeader targetId='5'>\n                            Pozostae dane\n                          </AccordionHeader>\n                          <AccordionBody accordionId='5' style={{ textAlign: 'left', fontSize: '1rem' }}>\n                            {createInZpbInformation()}\n                            Liczba wykonanych operatw: {props.operatorProfileData.operatCount}\n                          </AccordionBody>\n                        </AccordionItem>\n                      </Accordion>\n                    </div>\n                }\n              </div>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default UserProfileTab\n","export default \"data:image/png;base64,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\"","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Button, Form, FormGroup, Input, Label } from 'reactstrap'\nconst OperatorTrainingForm = ({ onSubmit }) => {\n  return (\n    <div>\n      <Form\n        onSubmit={(e) => {\n          e.preventDefault()\n          onSubmit()\n        }}\n        id='operator-training-form'\n      >\n        <FormGroup>\n          <Label for='training-title'>Tytu szkolenia</Label>\n          <Input\n            type='text'\n            name='training-title'\n            id='training-title'\n            placeholder='Tytu szkolenia'\n            required\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for='training-url'>Adres url</Label>\n          <Input\n            type='text'\n            name='training-url'\n            id='training-url'\n            placeholder='Adres url'\n            required\n          />\n        </FormGroup>\n        <Button\n          color='success'\n        >\n          Dodaj szkolenie\n        </Button>\n      </Form>\n    </div>\n  )\n}\n\nOperatorTrainingForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired\n}\n\nexport default OperatorTrainingForm\n","import React, { useEffect } from 'react'\nimport {\n  Card,\n  Row,\n  Col,\n  UncontrolledCollapse,\n  Button,\n  CardBody\n} from 'reactstrap'\nimport ReadonlyTable from 'components/Tables/ReadonlyTable'\nimport OperatorTrainingForm from 'components/OperatorTrainingForm'\nimport { useTranslation } from 'react-i18next'\nfunction OperatorTrainingsTab (props) {\n  const { t } = useTranslation('common')\n  useEffect(() => {\n    props.handleLoadTrainings()\n  // eslint-disable-next-line\n  }, [])\n  return (\n    <>\n      <Row>\n        <Col md='8'>\n          <Card>\n            <CardBody>\n              <Button color='success' id='show-operator-training-form-btn' style={{ width: '11rem' }}>{t('userProfile.buttons.createTraining')}</Button>\n              <UncontrolledCollapse toggler='#show-operator-training-form-btn'>\n                <Card style={{ boxShadow: '6px 6px 10px 2px rgb(0 0 0 / 15%)' }}>\n                  <CardBody>\n                    <OperatorTrainingForm onSubmit={props.handleAddTraining} />\n                  </CardBody>\n                </Card>\n              </UncontrolledCollapse>\n              <br />\n              <Button color='success' id='show-operator-trainings-btn' style={{ width: '11rem' }}>{t('userProfile.buttons.showTrainings')}</Button>\n              <UncontrolledCollapse toggler='#show-operator-trainings-btn'>\n                <Card style={{ boxShadow: '6px 6px 10px 2px rgb(0 0 0 / 15%)' }}>\n                  <CardBody>\n                    {props.trainings.trainings && (props.trainings.trainings.length === 0\n                      ? 'Brak szkole'\n                      : <ReadonlyTable\n                          headers={['Tytu', 'Adres']}\n                          data={props.trainings.trainings}\n                          deleteAction={(id) => props.handleRemoveTraining(id)}\n                        />)}\n                  </CardBody>\n                </Card>\n              </UncontrolledCollapse>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default OperatorTrainingsTab\n","import { ADD_TRAINING, LOAD_OPERATOR_PROFILE_DATA, LOAD_OPERATOR_PROFILE_DATA_ERROR, LOAD_TRAININGS, LOAD_TRAININGS_ERROR, OPERATOR_PROFILE_DATA_LOADED, REMOVE_TRAINING, TRAININGS_LOADED } from './constants'\n\nexport function loadTrainings () {\n  return {\n    type: LOAD_TRAININGS\n  }\n}\nexport function trainingsLoaded (trainings) {\n  return {\n    type: TRAININGS_LOADED,\n    payload: trainings\n  }\n}\nexport function loadTrainingsError (err) {\n  return {\n    type: LOAD_TRAININGS_ERROR,\n    payload: err\n  }\n}\n\nexport function loadOperatorProfileData (operatorId) {\n  return {\n    type: LOAD_OPERATOR_PROFILE_DATA,\n    payload: operatorId\n  }\n}\n\nexport function operatorProfileDataLoaded (payload) {\n  return {\n    type: OPERATOR_PROFILE_DATA_LOADED,\n    payload\n  }\n}\n\nexport function loadOperatorProfileDataError (payload) {\n  return {\n    type: LOAD_OPERATOR_PROFILE_DATA_ERROR,\n    payload\n  }\n}\n\nexport function addTraining () {\n  return {\n    type: ADD_TRAINING\n  }\n}\n\nexport function removeTraining (id) {\n  return {\n    type: REMOVE_TRAINING,\n    id\n  }\n}\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectUser = (state) => state.user || initialState\n\nconst makeSelectTrainings = () =>\n  createSelector(selectUser, (state) => state.trainings)\n\nconst makeSelectOperatorProfileData = () =>\n  createSelector(selectUser, (state) => state.operatorProfileData)\n\nexport {\n  selectUser,\n  makeSelectTrainings,\n  makeSelectOperatorProfileData\n}\n","import { modalTypeConstants } from '../../constants'\nimport { call, put, select, takeEvery } from 'redux-saga/effects'\nimport { callForHeader } from 'utils/HeadersCall'\nimport request from 'utils/request'\nimport { makeSelectUser } from 'views/App/selectors'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\n\nimport { loadOperatorProfileDataError, loadTrainings, loadTrainingsError, operatorProfileDataLoaded, trainingsLoaded } from './actions'\nimport { ADD_TRAINING, LOAD_OPERATOR_PROFILE_DATA, LOAD_TRAININGS, REMOVE_TRAINING } from './constants'\n\nexport function * getTrainings () {\n  const user = yield select(makeSelectUser())\n  const operatorId = user.user.id\n  const requestUrl = `/Operator/${operatorId}/training`\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const trainings = yield call(request, requestUrl, options)\n    yield put(trainingsLoaded(trainings))\n  } catch (err) {\n    yield put(loadTrainingsError(err))\n  }\n}\n\nexport function * getOperatorProfileData (action) {\n  const operatorId = action.payload\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'loadUserData', translate: true }))\n    const userType = yield call(request, `/User/id/${operatorId}`, options)\n    const operatCount = yield call(request, `/Operat/${operatorId}/count`, options)\n    const reviews = yield call(request, `/Operator/${operatorId}/review`, options)\n    const trainings = yield call(request, `/Operator/${operatorId}/training`, options)\n    const diploma = yield call(request, `/OperatorFiles/id/${operatorId}/filename/diploma.pdf`, options)\n    let userUrl\n    switch (userType) {\n      case 'client': userUrl = `/Client/id/${operatorId}`; break\n      case 'operator': userUrl = `/Operator/id/${operatorId}`; break\n      case 'admin': userUrl = `/Admin/id/${operatorId}`; break\n      default: throw Error('Invalid user type')\n    }\n    const operator = yield call(request, userUrl, options)\n\n    yield put(operatorProfileDataLoaded({\n      operatCount, reviews, trainings, diploma, operator\n    }))\n    yield put(hideLoadingScreen())\n  } catch (err) {\n    yield put(loadOperatorProfileDataError(err))\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'loadUserDataFailed', translate: true }))\n  }\n}\n\nexport function * addTraining () {\n  const formElement = document.querySelector('#operator-training-form')\n  const user = yield select(makeSelectUser())\n  const data = new FormData(formElement)\n  const body = {\n    operatorId: user.user.id,\n    title: data.get('training-title'),\n    url: data.get('training-url')\n  }\n  const requestUrl = '/Operator/training'\n  const headers = yield call(callForHeader, 'json')\n  const options = { method: 'POST', headers, body: JSON.stringify(body) }\n  try {\n    yield call(request, requestUrl, options)\n    yield put(loadTrainings())\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport function * removeTraining (action) {\n  const requestUrl = `/Operator/training/${action.id}`\n  const headers = yield call(callForHeader)\n  const options = { method: 'DELETE', headers }\n  try {\n    yield call(request, requestUrl, options)\n    yield put(loadTrainings())\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport default function * userData () {\n  yield takeEvery(LOAD_TRAININGS, getTrainings)\n  yield takeEvery(LOAD_OPERATOR_PROFILE_DATA, getOperatorProfileData)\n  yield takeEvery(ADD_TRAINING, addTraining)\n  yield takeEvery(REMOVE_TRAINING, removeTraining)\n}\n","import React, { useState, memo, useEffect } from 'react'\n\nimport {\n  TabContent,\n  TabPane,\n  Nav,\n  NavItem,\n  NavLink\n} from 'reactstrap'\nimport UserFilesTab from './UserFilesTab'\nimport EditUser from './EditUser'\nimport UserProfileTab from './UserProfileTab'\nimport { useLocation } from 'react-router'\nimport classnames from 'classnames'\nimport OperatorTrainingsTab from './OperatorTrainingsTab'\nimport { userRolesConstants } from '../../constants'\nimport { addTraining, loadOperatorProfileData, loadTrainings, removeTraining } from './actions'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectOperatorProfileData, makeSelectTrainings } from './selectors'\nimport { connect, useSelector } from 'react-redux'\nimport { compose } from 'redux'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport { useTranslation } from 'react-i18next'\nconst key = 'user'\nfunction Users (props) {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const { t } = useTranslation('common')\n  const user = useSelector(state => state.global.user)\n  const [activeTab, setActiveTab] = useState('1')\n  const toggle = (tab) => {\n    if (activeTab !== tab) setActiveTab(tab)\n  }\n  const location = useLocation()\n\n  useEffect(() => {\n    if (location.search) {\n      const params = new URLSearchParams(location.search)\n      const operatorId = params.get('operatorId')\n      props.handleLoadOperatorProfileData(operatorId)\n    }\n  // eslint-disable-next-line\n  }, [location.search])\n\n  const isClient = user.userType === userRolesConstants.CLIENT\n  const createNavItem = (tabNr, label) =>\n    <NavItem>\n      <NavLink\n        className={classnames({ active: activeTab === tabNr })}\n        onClick={() => {\n          toggle(tabNr)\n        }}\n      >\n        {label}\n      </NavLink>\n    </NavItem>\n  return (\n    <>\n      <div className='content'>\n        <Nav tabs>\n          {createNavItem('1', t('userProfile.userProfile'))}\n          {!location.search &&\n            <>\n              {createNavItem('2', t('userProfile.profileEdition'))}\n              {!isClient && createNavItem('3', t('userProfile.files'))}\n              {!isClient && createNavItem('4', t('userProfile.trainings'))}\n            </>}\n        </Nav>\n        <TabContent activeTab={activeTab}>\n          <TabPane tabId='1'>\n            <UserProfileTab\n              handleLoadOperatorProfileData={props.handleLoadOperatorProfileData}\n              operatorProfileData={props.operatorProfileData}\n            />\n          </TabPane>\n          <TabPane tabId='2'>\n            <EditUser />\n          </TabPane>\n          {!isClient &&\n            <>\n              <TabPane tabId='3'>\n                <UserFilesTab />\n              </TabPane>\n              <TabPane tabId='4'>\n                <OperatorTrainingsTab\n                  handleLoadTrainings={props.handleLoadTrainings}\n                  handleLoadOperatorProfileData={props.handleLoadOperatorProfileData}\n                  operatorProfileData={props.operatorProfileData}\n                  trainings={props.trainings}\n                  handleAddTraining={props.handleAddTraining}\n                  handleRemoveTraining={props.handleRemoveTraining}\n                />\n              </TabPane>\n            </>}\n        </TabContent>\n      </div>\n    </>\n  )\n}\n\nconst mapStateToProps = createStructuredSelector({\n  trainings: makeSelectTrainings(),\n  operatorProfileData: makeSelectOperatorProfileData()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleLoadTrainings: () => dispatch(loadTrainings()),\n    handleLoadOperatorProfileData: (operatorId) => dispatch(loadOperatorProfileData(operatorId)),\n    handleAddTraining: () => dispatch(addTraining()),\n    handleRemoveTraining: (id) => dispatch(removeTraining(id))\n  }\n}\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(Users)\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectUsersPage = (state) => state.usersPage || initialState\n\nconst makeSelectUserType = () =>\n  createSelector(selectUsersPage, (state) => state.userType)\n\nconst makeSelectUsers = () =>\n  createSelector(selectUsersPage, (state) => state.users)\n\nexport {\n  selectUsersPage,\n  makeSelectUserType,\n  makeSelectUsers\n}\n","import {\n  LOAD_USERS, LOAD_USERS_ERROR, USERS_LOADED,\n  SET_USER_TYPE, PROMOTE_USER, SET_USER_SORT_PARAMETERS,\n  SET_USERS_PAGE_NUMBER, SET_USER_FILTERS, DELETE_USER\n} from './constants'\n\nexport function setUserType (payload) {\n  return {\n    type: SET_USER_TYPE,\n    payload\n  }\n}\nexport function loadUsers () {\n  return {\n    type: LOAD_USERS\n  }\n}\n\nexport function usersLoaded (payload) {\n  return {\n    type: USERS_LOADED,\n    payload\n  }\n}\n\nexport function loadUsersError (payload) {\n  return {\n    type: LOAD_USERS_ERROR,\n    payload\n  }\n}\n\nexport function promoteUser (userId) {\n  return {\n    type: PROMOTE_USER,\n    userId\n  }\n}\n\nexport function deleteUser (userId) {\n  return {\n    type: DELETE_USER,\n    userId\n  }\n}\n\nexport function setUsersSortParameters (payload) {\n  return {\n    type: SET_USER_SORT_PARAMETERS,\n    payload\n  }\n}\n\nexport function setUsersPageNumber (payload) {\n  return {\n    type: SET_USERS_PAGE_NUMBER,\n    payload\n  }\n}\n\nexport function setUserFilters (payload) {\n  return {\n    type: SET_USER_FILTERS,\n    payload\n  }\n}\n","import { userRolesConstants } from '../../constants'\nimport { call, put, select, takeLatest } from 'redux-saga/effects'\nimport request from 'utils/request'\nimport { loadUsers, loadUsersError, usersLoaded } from './actions'\nimport { DELETE_USER, LOAD_USERS, PROMOTE_USER } from './constants'\nimport { makeSelectUsers, makeSelectUserType } from './selectors'\n\nexport function * getUsers () {\n  const userType = yield select(makeSelectUserType())\n  const users = yield select(makeSelectUsers())\n  let requestUrl\n  switch (userType) {\n    case userRolesConstants.CLIENT:\n      requestUrl = '/User/promote/clients'\n      break\n    case userRolesConstants.OPERATOR:\n      requestUrl = '/User/promote/operators'\n      break\n    case userRolesConstants.ADMIN:\n      requestUrl = '/User/promote/admins'\n      break\n    default:\n      yield put(loadUsersError('Incorrect user type'))\n      return\n  }\n  requestUrl += `?pageNumber=${users.pageNumber}&pageSize=5`\n  requestUrl += `&name=${users.filters.name}&mail=${users.filters.mail}`\n  if (users.sortFieldName) {\n    requestUrl += `&fieldName=${users.sortFieldName}&direction=${users.sortDirection}`\n  }\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'GET', headers }\n  try {\n    const users = yield call(request, requestUrl, options)\n    yield put(usersLoaded(users))\n  } catch (err) {\n    yield put(loadUsersError(err))\n  }\n}\n\nexport function * promoteUser (action) {\n  const userType = yield select(makeSelectUserType())\n  let requestUrl\n  switch (userType) {\n    case userRolesConstants.CLIENT:\n      requestUrl = `/Operator/promote/clientid/${action.userId}`\n      break\n    case userRolesConstants.OPERATOR:\n      requestUrl = `/Admin/promote/operatorid/${action.userId}`\n      break\n    default:\n      return\n  }\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'PUT', headers }\n  try {\n    yield call(request, requestUrl, options)\n    yield put(loadUsers())\n  } catch (err) {}\n}\n\nexport function * deleteUser (action) {\n  const userType = yield select(makeSelectUserType())\n  let requestUrl\n  switch (userType) {\n    case userRolesConstants.CLIENT:\n      requestUrl = `/Client/id/${action.userId}`\n      break\n    case userRolesConstants.OPERATOR:\n      requestUrl = `/Operator/id/${action.userId}`\n      break\n    default:\n      return\n  }\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'DELETE', headers }\n  try {\n    yield call(request, requestUrl, options)\n    yield put(loadUsers())\n  } catch (err) {}\n}\n\nexport default function * watch () {\n  yield takeLatest(LOAD_USERS, getUsers)\n  yield takeLatest(PROMOTE_USER, promoteUser)\n  yield takeLatest(DELETE_USER, deleteUser)\n}\n","import React, { useState } from 'react'\nimport {\n  Card,\n  CardBody,\n  Input,\n  Button,\n  Form\n} from 'reactstrap'\n\nexport const UsersFilters = ({ handleSetUserFilters }) => {\n  const [username, setUsername] = useState('')\n  const [email, setEmail] = useState('')\n  const handleClear = () => {\n    setUsername('')\n    setEmail('')\n    handleSetUserFilters({ name: '', mail: '' })\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    handleSetUserFilters({ name: username, mail: email })\n  }\n  return (\n    <Card>\n      <CardBody>\n        <Form onSubmit={handleSubmit}>\n          <Input\n            placeholder='Nazwa uytkownika' id='filter-username' name='filter-username' onChange={(e) => {\n              setUsername(e.target.value)\n            }} value={username}\n          />\n          <Input\n            placeholder='Email uytkownika' id='filter-user-email' name='filter-user-email' onChange={(e) => {\n              setEmail(e.target.value)\n            }} value={email}\n          />\n          <Button onClick={handleClear}>Wyczy</Button>\n          <Button type='submit' color='success'>Filtruj</Button>\n        </Form>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default UsersFilters\n","import { memo, useEffect, useState } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport {\n  Row,\n  Col,\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  Button,\n  Collapse\n} from 'reactstrap'\nimport { userRolesConstants } from '../../constants'\nimport { useHistory } from 'react-router'\nimport Pagination from '@mui/material/Pagination'\nimport confirm from 'reactstrap-confirm'\nimport { connect } from 'react-redux'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectUsers, makeSelectUserType } from './selectors'\nimport { deleteUser, loadUsers, promoteUser, setUserFilters, setUsersPageNumber, setUsersSortParameters, setUserType } from './actions'\nimport { compose } from 'redux'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport UsersFilters from 'components/Filters/Users'\nconst key = 'usersPage'\nfunction Users (props) {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const history = useHistory()\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false)\n  const [isFiltersVisible, setIsFiltersVisible] = useState(false)\n  const userTypes = [\n    { label: 'Klient', value: 'client' },\n    { label: 'Operator', value: 'operator' },\n    { label: 'Administrator', value: 'admin' }\n  ]\n\n  function getPromotedUserRole () {\n    switch (props.userType) {\n      case \"client\": return \"Operator\";\n      case \"operator\": return \"Administrator\";\n      default: return \"\";\n    }\n  }\n\n  const promoteUser = async (id, name) => {\n    const promoteTo = getPromotedUserRole()\n\n    const result = await confirm({\n      title: <>Ostrzeenie</>,\n      message: <>Czy na pewno chcesz wypromowa uytkownika {name} do roli <b>{promoteTo}</b></>,\n      confirmText: 'Tak',\n      confirmColor: 'info',\n      cancelColor: 'link text-primary',\n      cancelText: 'nie'\n    })\n    if (!result) {\n      return\n    }\n\n    props.handlePromoteUser(id)\n  }\n\n  const deleteUser = async (id, name) => {\n    const role = userTypes.find(x => x.value === props.userType)?.label\n    const result = await confirm({\n      title: <>Ostrzeenie</>,\n      message: <>Czy na pewno chcesz usun uytkownika {name} z grupy <b>{role}</b></>,\n      confirmText: 'Tak',\n      confirmColor: 'info',\n      cancelColor: 'link text-primary',\n      cancelText: 'nie'\n    })\n    if (!result) {\n      return\n    }\n\n    props.handleDeleteUser(id)\n  }\n\n  useEffect(() => {\n    props.handleSetUsersPageNumber('1')\n    // eslint-disable-next-line\n  }, [])\n\n  const handleChange = (event, newPage) => {\n    const search = new URLSearchParams(history.location.search)\n    search.set('pageNumber', newPage.toString())\n    history.push({\n      pathname: '/users-promotion',\n      search: search.toString()\n    })\n    props.handleSetUsersPageNumber(newPage)\n  }\n\n  const sortable = {\n    onSort: (field, order) => {\n      props.handleSetUsersSortParameters(field)\n    },\n    sortFunc: (a, b, order, dataField, rowA, rowB) => {\n\n    },\n    sort: true\n  }\n  const columns = () => {\n    return [\n      {\n        dataField: 'id',\n        text: 'ID',\n        hidden: false\n      },\n      {\n        dataField: 'name',\n        text: 'Nazwa',\n        ...sortable,\n        editable: false,\n        align: 'center',\n        headerAlign: 'center'\n      },\n      {\n        dataField: 'mail',\n        text: 'Adres e-mail',\n        ...sortable,\n        editable: false,\n        align: 'center',\n        headerAlign: 'center'\n      },\n      props.userType !== userRolesConstants.CLIENT &&\n      {\n        text: 'Profil uytkownika',\n        align: 'center',\n        headerAlign: 'center',\n        formatter: (cellContent, row) => <Button color='primary' onClick={() => history.push({ pathname: '/users-profile', search: '?operatorId=' + row.id })}>\n          Profil uytkownika\n        </Button>\n      },\n      {\n        text: 'Promocja',\n        align: 'center',\n        headerAlign: 'center',\n        formatter: (cellContent, row) => <Button disabled={!row.canPromote} color='success' onClick={() => promoteUser(row.id, row.name)}>\n          Promocja\n        </Button>\n      },\n      {\n        text: 'Usun',\n        align: 'center',\n        headerAlign: 'center',\n        formatter: (cellContent, row) => <Button disabled={props.userType === 'admin'} color='danger' onClick={() => deleteUser(row.id, row.name)}>\n          Usu\n        </Button>\n      }\n    ]\n  }\n\n  useEffect(() => {\n    props.handleLoadUsers()\n  // eslint-disable-next-line\n  }, [props.userType, props.users.pageNumber, props.users.filters, props.users.sortFieldName, props.users.sortDirection])\n\n  return (\n    <div className='content'>\n      <div className='container'>\n        <Button color='success' onClick={() => setIsFiltersVisible(v => !v)}>Filtry</Button>\n        <Collapse isOpen={isFiltersVisible}>\n          <UsersFilters handleSetUserFilters={props.handleSetUserFilters} />\n        </Collapse>\n        <Dropdown isOpen={isDropdownOpen} toggle={() => setIsDropdownOpen(!isDropdownOpen)}>\n          <Pagination count={localStorage.getItem('pageCount')} color='primary' page={(new URLSearchParams(history.location.search)).get('pageNumber') ? parseInt((new URLSearchParams(history.location.search)).get('pageNumber')) : 1} onChange={handleChange} />\n          <DropdownToggle caret>Wybierz rodzaj uytkownika [{userTypes.map(x => x.value === props.userType ? x.label : '')}]</DropdownToggle>\n          <DropdownMenu>\n            {userTypes.map((element) => {\n              return (\n                <DropdownItem\n                  key={element.value}\n                  onClick={() => {\n                    props.handleSetUserType(element.value)\n                  }}\n                >\n                  {element.label}\n                </DropdownItem>\n              )\n            })}\n          </DropdownMenu>\n        </Dropdown>\n        <Row>\n          <Col md='12'>\n            {props.users.loading\n              ? <LoadingIndicator />\n              : <BootstrapTable\n                  bootstrap4\n                  keyField='id'\n                  data={props.users.users}\n                  columns={columns()}\n                  striped\n                  hover\n                  condensed\n                  bordered={false}\n                />}\n          </Col>\n        </Row>\n      </div>\n    </div>\n  )\n}\nconst mapStateToProps = createStructuredSelector({\n  userType: makeSelectUserType(),\n  users: makeSelectUsers()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleSetUserType: (userType) => dispatch(setUserType(userType)),\n    handleLoadUsers: () => dispatch(loadUsers()),\n    handlePromoteUser: (userId) => dispatch(promoteUser(userId)),\n    handleDeleteUser: (userId) => dispatch(deleteUser(userId)),\n    handleSetUsersPageNumber: (pageNumber) => dispatch(setUsersPageNumber(pageNumber)),\n    handleSetUserFilters: (filters) => dispatch(setUserFilters(filters)),\n    handleSetUsersSortParameters: fieldName => dispatch(setUsersSortParameters(fieldName))\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(Users)\n","import { useMsal } from '@azure/msal-react'\nimport { useEffect } from 'react'\n\nfunction Logout () {\n  const { instance } = useMsal()\n  useEffect(() => {\n    instance.logout()\n  }, [instance])\n\n  // TODO: lepiej przerobi te wszystkie puste komponenty na zwykle funkcje (ale trzeba sprawdzic czy zadziala dobrze)\n  return (\n    <>\n    </>\n  )\n}\n\nexport default Logout\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectSubscription = (state) => state.subscriptions || initialState\n\nconst makeSelectOperatorsInfo = () => createSelector(selectSubscription, state => state.operatorsInfo)\n\nconst makeSelectCurrentOperator = () => createSelector(selectSubscription, state => state.currentOperator)\n\nexport {\n  selectSubscription,\n  makeSelectOperatorsInfo,\n  makeSelectCurrentOperator\n}\n","import {\n  LOAD_OPERATORS_INFO,\n  OPERATORS_INFO_LOADED,\n  LOAD_OPERATORS_INFO_ERROR,\n  SET_SUBSCRIPTION_PAGE_NUMBER,\n  SET_OPERATORS_INFO_SORT_PARAMETER,\n  SET_OPERATORS_INFO_FILTERS,\n  SET_CURRENT_OPERATOR,\n  UPDATE_SUBSCRIPTION,\n  CREATE_SUBSCRIPTION,\n  RESET_SUBSCRIPTIONS\n} from './constants'\n\nexport function loadOperatorsInfo () {\n  return {\n    type: LOAD_OPERATORS_INFO\n  }\n}\n\nexport function operatorsInfoLoaded (payload) {\n  return {\n    type: OPERATORS_INFO_LOADED,\n    payload\n  }\n}\n\nexport function loadOperatorsInfoError (payload) {\n  return {\n    type: LOAD_OPERATORS_INFO_ERROR,\n    payload\n  }\n}\n\nexport function setSubscriptionPageNumber (payload) {\n  return {\n    type: SET_SUBSCRIPTION_PAGE_NUMBER,\n    payload\n  }\n}\n\nexport function setOperatorsInfoSortParameter (payload) {\n  return {\n    type: SET_OPERATORS_INFO_SORT_PARAMETER,\n    payload\n  }\n}\n\nexport function setOperatorsInfoFilters (payload) {\n  return {\n    type: SET_OPERATORS_INFO_FILTERS,\n    payload\n  }\n}\n\nexport function setCurrentOperator (payload) {\n  return {\n    type: SET_CURRENT_OPERATOR,\n    payload\n  }\n}\n\nexport function updateSubscription (payload) {\n  return {\n    type: UPDATE_SUBSCRIPTION,\n    payload\n  }\n}\n\nexport function createSubscription (payload) {\n  return {\n    type: CREATE_SUBSCRIPTION,\n    payload\n  }\n}\n\nexport function resetSubscriptions () {\n  return {\n    type: RESET_SUBSCRIPTIONS\n  }\n}\n","import { call, put, select, takeLatest } from 'redux-saga/effects'\nimport { makeSelectOperatorsInfo } from './selectors'\nimport { loadOperatorsInfoError, operatorsInfoLoaded } from './actions'\nimport { CREATE_SUBSCRIPTION, LOAD_OPERATORS_INFO, RESET_SUBSCRIPTIONS, UPDATE_SUBSCRIPTION } from './constants'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { modalTypeConstants } from '../../constants'\nimport { handleRequestWithTimeout } from 'views/Modal/timeout'\n\nexport function * getOperatorsInfo () {\n  const operatorsInfo = yield select(makeSelectOperatorsInfo())\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'GET', headers }\n\n  let requestUrl = '/Subscription/operators-info'\n  requestUrl += `?pageNumber=${operatorsInfo.pageNumber}&pageSize=5`\n  if (operatorsInfo.filters) {\n    requestUrl += `&name=${operatorsInfo.filters.name}&mail=${operatorsInfo.filters.mail}`\n  }\n  if (operatorsInfo.sortFieldName) {\n    requestUrl += `&fieldName=${operatorsInfo.sortFieldName}&direction=${operatorsInfo.sortDirection}`\n  }\n\n  try {\n    const response = yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(operatorsInfoLoaded(response))\n  } catch (err) {\n    yield put(loadOperatorsInfoError(err))\n  }\n}\n\nexport function * updateSubscription (action) {\n  const requestUrl = '/Subscription/by-repo'\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`,\n    'Content-type': 'application/json'\n  }\n  const options = { method: 'PUT', headers, body: JSON.stringify(action.payload) }\n  yield call(sendAndHandleRequest, requestUrl, options)\n}\n\nexport function * createSubscription (action) {\n  const requestUrl = '/Subscription'\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`,\n    'Content-type': 'application/json'\n  }\n  const options = { method: 'POST', headers, body: JSON.stringify(action.payload) }\n  yield call(sendAndHandleRequest, requestUrl, options)\n}\n\nfunction * sendAndHandleRequest (requestUrl, options) {\n  yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'saveSubscription', translate: true }))\n\n  try {\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(showLoadingScreen(modalTypeConstants.CREATE_SUBSCRIPTION_SUCCESSFUL))\n  } catch (err) {\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'saveSubscriptionFailed', translate: true }))\n  }\n}\n\nfunction * resetSubscriptions () {\n  const requestUrl = '/Subscription/monthly-reset'\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem('idToken')}`\n  }\n  const options = { method: 'PATCH', headers }\n  yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'resetingSubscriptions', translate: true }))\n  try {\n    yield call(handleRequestWithTimeout, requestUrl, options)\n    yield put(hideLoadingScreen())\n    yield put(showLoadingScreen(modalTypeConstants.RESET_SUBSCRIPTIONS_SUCCESSFUL))\n  } catch (err) {\n    yield put(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: 'resetSubscriptionsFailed', translate: true }))\n  }\n}\n\nexport default function * watch () {\n  yield takeLatest(LOAD_OPERATORS_INFO, getOperatorsInfo)\n  yield takeLatest(UPDATE_SUBSCRIPTION, updateSubscription)\n  yield takeLatest(CREATE_SUBSCRIPTION, createSubscription)\n  yield takeLatest(RESET_SUBSCRIPTIONS, resetSubscriptions)\n}\n","import React, { useState } from 'react'\nimport { Row, Col, Form, Input, Label, Button } from 'reactstrap'\n\nconst margin5px = { margin: '5px' }\nconst saveButtonStyle = { margin: '5px', float: 'right' }\n\nfunction SubscriptionRow ({ subscription, handleUpdateSubscription }) {\n\n  const [subscriptionState, setSubscriptionState] = useState({\n    isActive: subscription.isActive,\n    canRenew: subscription.canRenew,\n    nrOfOperats: subscription.nrOfOperats,\n    maxNrOfOperats: subscription.maxNrOfOperats,\n    nrOfGenerations: subscription.nrOfGenerations,\n    maxNrOfGenerations: subscription.maxNrOfGenerations\n  })\n\n  const handleOnChange = (e) => {\n    const newState = {\n      ...subscriptionState,\n      [e.target.name]: e.target.type === 'checkbox' \n        ? e.target.checked \n        : e.target.value\n    }\n    setSubscriptionState(newState)\n  }\n\n  function submitUpdateSubscriptionForm () {\n    const editedSubscription = {\n      id: subscription.id,\n      createdDateTime: subscription.createdDateTime,\n      ...subscriptionState\n    }\n    handleUpdateSubscription(editedSubscription)\n  }\n\n  function updateSubscriptionForm () {\n    return (\n      <Form\n        id='update-subscription-form' onSubmit={e => {\n          e.preventDefault()\n          submitUpdateSubscriptionForm()\n        }}\n      >\n        <Row>\n          <Col>\n            <Label for='subscription-is-active'>\n              <b>Aktywna:</b>\n            </Label>\n            <Input style={margin5px} id='subscription-is-active' name='isActive' type='checkbox' checked={subscriptionState.isActive} onChange={handleOnChange} />\n          </Col>\n          <Col>\n            <Label for='subscription-can-renew'>\n              <b>Odnowi si w nastpnym miesicu:</b>\n            </Label>\n            <Input style={margin5px} id='subscription-can-renew' name='canRenew' type='checkbox' checked={subscriptionState.canRenew} onChange={handleOnChange} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Label for='subscription-nr-of-operats'>\n              <b>Liczba stworzonych operatw:</b>\n            </Label>\n            <Input style={margin5px} id='subscription-nr-of-operats' name='nrOfOperats' type='number' step='1' min='0' value={subscriptionState.nrOfOperats} onChange={handleOnChange} />\n          </Col>\n          <Col>\n            <Label for='subscription-max-nr-of-operats'>\n              <b>Limit tworzenia operatw:</b>\n            </Label>\n            <Input style={margin5px} id='subscription-max-nr-of-operats' name='maxNrOfOperats' type='number' step='1' min='1' value={subscriptionState.maxNrOfOperats} onChange={handleOnChange} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Label for='subscription-nr-of-generations'>\n              <b>Liczba wygenerowanych pdf:</b>\n            </Label>\n            <Input style={margin5px} id='subscription-nr-of-generations' name='nrOfGenerations' type='number' step='1' min='0' value={subscriptionState.nrOfGenerations} onChange={handleOnChange} />\n          </Col>\n          <Col>\n            <Label for='subscription-max-nr-of-generations'>\n              <b>Limit generowania pdf:</b>\n            </Label>\n            <Input style={margin5px} id='subscription-max-nr-of-generations' name='maxNrOfGenerations' type='number' step='1' min='1' value={subscriptionState.maxNrOfGenerations} onChange={handleOnChange} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Button color='success' type='submit' style={saveButtonStyle}>Zapisz</Button>\n          </Col>\n        </Row>\n      </Form>\n    )\n  }\n\n  return (\n    <div>\n      {updateSubscriptionForm()}\n    </div>\n  )\n}\n\nexport default SubscriptionRow\n","import React, { useEffect, useState, memo } from 'react'\nimport { connect, useDispatch } from 'react-redux'\nimport { compose } from 'redux'\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport Pagination from '@mui/material/Pagination'\nimport { Button, Col, Collapse } from 'reactstrap'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport { useHistory } from 'react-router'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectCurrentOperator, makeSelectOperatorsInfo } from './selectors'\nimport { createSubscription, loadOperatorsInfo, setCurrentOperator, setOperatorsInfoFilters, setOperatorsInfoSortParameter, setSubscriptionPageNumber, updateSubscription } from './actions'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport SubscriptionRow from './SubscriptionRow'\nimport UsersFilters from 'components/Filters/Users'\nimport { showLoadingScreen } from 'views/Modal/actions'\nimport { modalTypeConstants } from '../../constants'\n\nconst key = 'subscriptions'\n\nfunction Subscriptions (props) {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const [areFiltersVisible, setAreFiltersVisible] = useState(false)\n  const sortable = {\n    onSort: (field, order) => {\n      props.handleSetOperatorsInfoSortParameter(field)\n    },\n    sortFunc: (a, b, order, dataField, rowA, rowB) => {\n\n    },\n    sort: true\n  }\n\n  const columns = [\n    {\n      dataField: 'id',\n      text: 'ID'\n    },\n    {\n      dataField: 'name',\n      text: 'Nazwa',\n      ...sortable\n    },\n    {\n      dataField: 'mail',\n      text: 'Adres e-mail',\n      ...sortable\n    },\n    {\n      dataField: 'nrOfOperats',\n      text: 'Stworzone operaty',\n      ...sortable,\n      formatter: (cellContent, row) => (row.nrOfOperats !== undefined && row.maxNrOfOperats !== undefined)\n        ? <p>{`${row.nrOfOperats}/${row.maxNrOfOperats}`}</p>\n        : <div />\n    },\n    {\n      dataField: 'nrOfGenerations',\n      text: 'Wygenerowane pdfy',\n      ...sortable,\n      formatter: (cellContent, row) => (row.nrOfGenerations !== undefined && row.maxNrOfGenerations !== undefined)\n        ? <p>{`${row.nrOfGenerations}/${row.maxNrOfGenerations}`}</p>\n        : <div />\n    },\n    {\n      text: 'Utwrz subskrypcj',\n      formatter: (cellContent, row) => <Button\n        color='primary' disabled={row.hasSubscription} onClick={() => {\n          props.handleSetCurrentOperator(row.id, row.name)\n          dispatch(showLoadingScreen(modalTypeConstants.CREATE_SUBSCRIPTION_FORM))\n        }}\n                                       > Utwrz\n                                       </Button>\n    }\n  ]\n\n  const handlePageChange = (event, newPage) => {\n    const search = new URLSearchParams(history.location.search)\n    search.set('pageNumber', newPage.toString())\n    history.push({\n      pathname: '/subscriptions',\n      search: search.toString()\n    })\n    props.handleSetSubscriptionPageNumber(newPage)\n  }\n\n  const expandRow = () => {\n    return {\n      nonExpandable: props.operatorsInfo.data.filter(x => x.hasSubscription === false).map(x => x.id),\n      expandColumnPosition: 'right',\n      showExpandColumn: true,\n      expandByColumnOnly: true,\n      expandColumnRenderer: ({ expanded, rowKey, expandable }) => (\n        <Button disabled={!expandable}>Edytuj</Button>\n      ),\n      expandHeaderColumnRenderer: ({ isAnyExpands }) => ('Edytuj'),\n      renderer: (row) => {\n        const subscription = {\n          id: row.id,\n          isActive: row.isActive,\n          canRenew: row.canRenew,\n          nrOfOperats: row.nrOfOperats,\n          maxNrOfOperats: row.maxNrOfOperats,\n          nrOfGenerations: row.nrOfGenerations,\n          maxNrOfGenerations: row.maxNrOfGenerations,\n          createdDateTime: row.createdDateTime\n        }\n        return (<SubscriptionRow subscription={subscription} handleUpdateSubscription={props.handleUpdateSubscription} />)\n      }\n    }\n  }\n\n  useEffect(() => {\n    props.handleSetSubscriptionPageNumber('1')\n    // eslint-disable-next-line\n    }, [])\n\n  useEffect(() => {\n    props.handleLoadOperatorsInfo()\n    // eslint-disable-next-line\n    }, [props.operatorsInfo.pageNumber, props.operatorsInfo.filters, props.operatorsInfo.sortFieldName, props.operatorsInfo.sortDirection])\n\n  return (\n    <div className='content'>\n      <div className='container'>\n        <Col md='12'>\n          <Button color='success' onClick={() => setAreFiltersVisible(v => !v)}>Filtry</Button>\n          <Collapse isOpen={areFiltersVisible}>\n            <UsersFilters handleSetUserFilters={props.handleSetOperatorsInfoFilters} />\n          </Collapse>\n          <Button color='danger' onClick={() => props.handleResetSubscriptions()}>Resetuj subscrypcje</Button>\n          <Pagination count={localStorage.getItem('pageCount')} color='primary' page={(new URLSearchParams(history.location.search)).get('pageNumber') ? parseInt((new URLSearchParams(history.location.search)).get('pageNumber')) : props.operatorsInfo.pageNumber} onChange={handlePageChange} />\n          {\n                    props.operatorsInfo.loading\n                      ? <LoadingIndicator />\n                      : <BootstrapTable\n                          bootstrap4\n                          keyField='id'\n                          columns={columns}\n                          data={props.operatorsInfo.data}\n                          striped\n                          hover\n                          condensed\n                          bordered={false}\n                          expandRow={expandRow()}\n                        />\n                }\n        </Col>\n      </div>\n    </div>\n  )\n}\nconst mapStateToProps = createStructuredSelector({\n  operatorsInfo: makeSelectOperatorsInfo(),\n  currentOperator: makeSelectCurrentOperator()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleLoadOperatorsInfo: () => dispatch(loadOperatorsInfo()),\n    handleSetSubscriptionPageNumber: (pageNumber) => dispatch(setSubscriptionPageNumber(pageNumber)),\n    handleSetOperatorsInfoSortParameter: fieldName => dispatch(setOperatorsInfoSortParameter(fieldName)),\n    handleSetOperatorsInfoFilters: filters => dispatch(setOperatorsInfoFilters(filters)),\n    handleSetCurrentOperator: (id, name) => dispatch(setCurrentOperator({ id, name })),\n    handleUpdateSubscription: subscription => dispatch(updateSubscription(subscription)),\n    handleCreateSubscription: subscription => dispatch(createSubscription(subscription)),\n    handleResetSubscriptions: () => dispatch(showLoadingScreen(modalTypeConstants.CONFIRM_RESET_SUBSCRIPTIONS))\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(Subscriptions)\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport commonPl from './translations/pl/common.json'\nimport commonEn from './translations/en/common.json'\n\n// the translations\n// (tip move them in a JSON file and import them,\n// or even better, manage them separated from your code: https://react.i18next.com/guides/multiple-translation-files)\nconst resources = {\n  en: {\n    common: commonEn\n  },\n  pl: {\n    common: commonPl\n  }\n}\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    lng: 'pl', // language to use, more information here: https://www.i18next.com/overview/configuration-options#languages-namespaces-resources\n    // you can use the i18n.changeLanguage function to change the language manually: https://www.i18next.com/overview/api#changelanguage\n    // if you're using a language detector, do not define the lng option\n\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    }\n  })\n\nexport default i18n\n","export default __webpack_public_path__ + \"static/media/home-user.f773195c.md\";","export default __webpack_public_path__ + \"static/media/home-operator.e8f78279.md\";","export default __webpack_public_path__ + \"static/media/home-admin.3dc5a8c3.md\";","export default __webpack_public_path__ + \"static/media/home-user.31d6cfe0.md\";","export default __webpack_public_path__ + \"static/media/home-operator.31d6cfe0.md\";","export default __webpack_public_path__ + \"static/media/home-admin.2b25eefe.md\";","import { HOME_PAGE_CONTENT_LOADED, LOAD_HOME_PAGE_CONTENT, LOAD_HOME_PAGE_CONTENT_ERROR } from './constants'\n\nexport function loadHomePageContent () {\n  return {\n    type: LOAD_HOME_PAGE_CONTENT\n  }\n}\n\nexport function homePageContentLoaded (payload) {\n  return {\n    type: HOME_PAGE_CONTENT_LOADED,\n    payload\n  }\n}\n\nexport function loadHomePageContentError (payload) {\n  return {\n    type: LOAD_HOME_PAGE_CONTENT_ERROR,\n    payload\n  }\n}\n","import { call, put, select, takeLatest } from 'redux-saga/effects'\nimport i18n from 'i18n'\nimport { LOAD_HOME_PAGE_CONTENT } from './constants'\n\n// PL\nimport userContentPathPl from '../../translations/pl/home-user.md'\nimport operatorContentPathPl from '../../translations/pl/home-operator.md'\nimport adminContentPathPl from '../../translations/pl/home-admin.md'\n\n// EN\nimport userContentPathEn from '../../translations/en/home-user.md'\nimport operatorContentPathEn from '../../translations/en/home-operator.md'\nimport adminContentPathEn from '../../translations/en/home-admin.md'\n\nimport { makeSelectUser } from 'views/App/selectors'\nimport { homePageContentLoaded, loadHomePageContentError } from './actions'\n\nfunction getContentPath (userType) {\n  if (i18n.language === 'pl') {\n    switch (userType) {\n      case 'admin':\n        return adminContentPathPl\n      case 'operator':\n        return operatorContentPathPl\n      default:\n        return userContentPathPl\n    }\n  }\n  if (i18n.language === 'en') {\n    switch (userType) {\n      case 'admin':\n        return adminContentPathEn\n      case 'operator':\n        return operatorContentPathEn\n      default:\n        return userContentPathEn\n    }\n  }\n}\n\nasync function getContent (path) {\n  const response = await fetch(path)\n  return await response.text()\n}\n\nexport function * getHomePageContent () {\n  try {\n    const user = yield select(makeSelectUser())\n    const contentPath = getContentPath(user.userType)\n    const content = yield call(getContent, contentPath)\n\n    yield put(homePageContentLoaded(content))\n  } catch (err) {\n    yield put(loadHomePageContentError(err))\n  }\n}\n\nexport default function * watch () {\n  yield takeLatest(LOAD_HOME_PAGE_CONTENT, getHomePageContent)\n}\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectHomePage = (state) => state.homePage || initialState\n\nconst makeSelectHomePageContent = () => createSelector(selectHomePage, state => state.pageContent)\n\nexport {\n  selectHomePage,\n  makeSelectHomePageContent\n}\n","import React, { useEffect, memo } from 'react'\nimport { compose } from 'redux'\nimport { connect } from 'react-redux'\nimport { ReactMarkdown } from 'react-markdown/lib/react-markdown'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectHomePageContent } from './selectors'\nimport { loadHomePageContent } from './actions'\nimport { useTranslation } from 'react-i18next'\nimport remarkGfm from 'remark-gfm'\n\nconst key = 'homePage'\n\nfunction Home (props) {\n    useInjectReducer({ key, reducer })\n    useInjectSaga({ key, saga })\n    const { i18n } = useTranslation();\n\n    useEffect(() => {\n        props.handleLoadPageContent()\n        // eslint-disable-next-line\n    }, [i18n.language])\n\n    return (\n    <div className='content'>\n        <div className='container'>\n            {\n                props.pageContent.loading\n                    ? <LoadingIndicator />\n                    : (<ReactMarkdown remarkPlugins={[remarkGfm]}>{props.pageContent.content}</ReactMarkdown>)\n            }\n        </div>\n    </div>\n    )\n}\n\nconst mapStateToProps = createStructuredSelector({\n    pageContent: makeSelectHomePageContent()\n  })\n  \nexport function mapDispatchToProps (dispatch) {\n    return {\n      handleLoadPageContent: () => dispatch(loadHomePageContent()),\n    }\n}\n  \nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n  \nexport default compose(withConnect, memo)(Home)\n  \n\n","import History from '../views/History/History'\nimport Market from '../views/Market/Market'\nimport Create from '../views/Operat/Create'\nimport Users from '../views/User/Users'\nimport User from '../views/Users/Users'\nimport Logout from 'views/Logout'\nimport Subscriptions from '../views/Subscriptions/Subscriptions'\nimport Home from 'views/Home/Home'\n\nexport const adminRoutes = (t) => {\n  return [\n    {\n      path: '/market',\n      name: t('market.route.marketplace'),\n      icon: 'nc-icon nc-cart-simple',\n      component: Market\n    },\n    {\n      path: '/history',\n      name: t('history.history'),\n      icon: 'fa fa-file-signature',\n      component: History\n    },\n    {\n      path: '/create',\n      component: Create\n    },\n    {\n      path: '/users-profile',\n      name: t('userProfile.userProfile'),\n      icon: 'nc-icon nc-single-02',\n      component: Users\n    },\n    {\n      path: '/users-promotion',\n      name: t('users.users'),\n      icon: 'fa fa-users',\n      component: User\n    },\n    {\n      path: '/subscriptions',\n      name: t('subscriptions.subscriptions'),\n      icon: 'fa fa-credit-card',\n      component: Subscriptions\n    },\n    {\n      path: '/logout',\n      component: Logout\n    },\n    {\n      path: 'http://feedback.aoperat.pl/',\n      name: t('externalUrls.feedback'),\n      icon: 'fa fa-brain',\n      external: true\n    },\n    {\n      path: '/',\n      component: Home\n    }\n  ]\n}\n","\nimport Logout from 'views/Logout'\nimport User from 'views/User/Users'\nimport Market from '../views/Market/Market'\nimport Home from 'views/Home/Home'\n\nexport const clientRoutes = (t) => {\n  return [\n    {\n      path: '/market',\n      name: t('market.route.myOrders'),\n      icon: 'nc-icon nc-cart-simple',\n      component: Market\n    },\n    {\n      path: '/users-profile',\n      name: t('userProfile.userProfile'),\n      icon: 'nc-icon nc-single-02',\n      component: User\n    },\n    {\n      path: '/logout',\n      component: Logout\n    },\n    {\n      path: 'http://feedback.aoperat.pl/',\n      name: t('externalUrls.feedback'),\n      icon: 'fa fa-brain',\n      external: true\n    },\n    {\n      path: 'https://forms.office.com/r/wzhM9Jrsxy',\n      name: t('externalUrls.promoteToOperatorForm'),\n      icon: 'nc-icon nc-single-copy-04',\n      external: true\n    },\n    {\n      path: '/',\n      component: Home\n    }\n  ]\n}\n","\nimport History from '../views/History/History'\nimport Market from '../views/Market/Market'\nimport Create from '../views/Operat/Create'\nimport Users from '../views/User/Users'\nimport Logout from 'views/Logout'\nimport Home from 'views/Home/Home'\n\nexport function operatorRoutes (t) {\n  return [\n    {\n      path: '/market',\n      name: t('market.route.marketplace'),\n      icon: 'nc-icon nc-cart-simple',\n      component: Market\n    },\n    {\n      path: '/history',\n      name: t('history.history'),\n      icon: 'fa fa-file-signature',\n      component: History\n    },\n    {\n      path: '/create',\n      component: Create\n    },\n    {\n      path: '/users-profile',\n      name: t('userProfile.userProfile'),\n      icon: 'nc-icon nc-single-02',\n      component: Users\n    },\n    {\n      path: '/logout',\n      component: Logout\n    },\n    {\n      path: 'http://feedback.aoperat.pl/',\n      name: t('externalUrls.feedback'),\n      icon: 'fa fa-brain',\n      external: true\n    },\n    {\n      path: '/',\n      component: Home\n    }\n  ]\n}\n","import React, { useEffect } from 'react'\nimport { useMsal } from '@azure/msal-react'\nimport { clientService } from '../../services'\nimport { modalTypeConstants } from '../../constants'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showLoadingScreen, hideLoadingScreen } from 'views/Modal/actions'\nimport { loadUser } from 'views/App/actions'\n\nfunction EmptyUser (props) {\n  const { instance } = useMsal()\n  const user = useSelector(state => state.global.user)\n  const dispatch = useDispatch()\n  useEffect(() => {\n    if (user.userType === '') {\n      \n      const account = instance.getActiveAccount()\n      clientService.getAdminDataById(account.idTokenClaims.oid).then(exist => {\n        if (!exist) {\n          const newClient = {\n            id: account.idTokenClaims.oid,\n            name: account.name,\n            mail: account.idTokenClaims.emails[0],\n            address: `${account.idTokenClaims.streetAddress}, ${account.idTokenClaims.postalCode}, ${account.idTokenClaims.city}`,\n            firstname: account.idTokenClaims.given_name,\n            lastname: account.idTokenClaims.family_name,\n            phone: account.idTokenClaims.extension_Numertelefonu\n          }\n          dispatch(showLoadingScreen(modalTypeConstants.LOADING, { newClient, message: 'Trwa tworzenie uytkownika' }))\n          clientService.createNewClient(newClient).then(() => {\n            dispatch(loadUser(newClient.id))\n            dispatch(hideLoadingScreen())\n          }).catch(err => {console.log(err)})\n        }\n      }).catch(err => {console.log(err)})\n    }\n  // eslint-disable-next-line\n  }, [user.userType, instance, dispatch, props.history])\n\n  return (\n    <div />\n  )\n}\n\nexport default EmptyUser\n","import EmptyUser from '../views/EmptyUser/EmptyUser'\n\nexport const emptyRoutes = (t) => {\n  return [\n    {\n      path: '/',\n      name: '',\n      icon: 'nc-icon nc-single-02',\n      component: EmptyUser\n    }\n  ]\n}\n","import React, { useState, useRef } from 'react'\nimport NotificationAlert from 'react-notification-alert'\n\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu\n} from 'reactstrap'\n\nfunction MessageBell (props) {\n  const [open, setOpen] = useState(false)\n\n  const notifyRegister = useRef(null)\n\n  const dropdownToggle = (e) => {\n    setOpen(!open)\n  }\n\n  return (\n    <div>\n      <NotificationAlert ref={notifyRegister} />\n      <Dropdown nav isOpen={open} toggle={(e) => dropdownToggle(e)}>\n        <DropdownToggle caret nav>\n          <i className='nc-icon nc-bell-55' />\n          <p>\n            <span className='d-lg-none d-md-block'>Wiadomoci</span>\n          </p>\n        </DropdownToggle>\n        <DropdownMenu right />\n      </Dropdown>\n    </div>\n  )\n}\n\nexport default MessageBell\n","import React, { useState } from 'react'\nimport { useMsal } from '@azure/msal-react'\nimport { history } from '../../helpers'\n\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem\n} from 'reactstrap'\nimport { useTranslation } from 'react-i18next'\n\nfunction SettingsItem (props) {\n  const [open, setOpen] = useState(false)\n  const { instance } = useMsal()\n  const { t } = useTranslation('common')\n\n  const LogoutHandler = (instance) => {\n    try {\n      history.push('/')\n      console.log('Trying to logout')\n      const logoutResponse = instance.logout()\n      console.log(logoutResponse)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  const dropdownToggle = (e) => {\n    setOpen(!open)\n  }\n\n  return (\n    <div>\n      <Dropdown nav isOpen={open} toggle={(e) => dropdownToggle(e)}>\n        <DropdownToggle caret nav>\n          <i className='nc-icon nc-settings-gear-65' />\n          <p>\n            <span className='d-lg-none d-md-block'>Konto</span>\n          </p>\n        </DropdownToggle>\n        <DropdownMenu right>\n          <DropdownItem\n            tag='a'\n            onClick={() => {\n              LogoutHandler(instance)\n            }}\n          >\n            {t('settingsHamburgerMenu.logout')}\n          </DropdownItem>\n        </DropdownMenu>\n      </Dropdown>\n    </div>\n  )\n}\n\nexport default SettingsItem\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nfunction NameItem (props) {\n  const user = useSelector(state => state.global.user)\n  const dev = process.env.NODE_ENV === 'development'\n\n  return <div>{dev && `Typ Konta: ${user.userType}`}  {dev && <br />} {user.user.name}</div>\n}\n\nexport default NameItem\n","import React, {useState} from 'react'\nimport i18n from 'i18n'\n\nfunction Language () {\n  const [language, setLanguage] = useState(i18n.language)\n  \n  function handleLanguageChange (e) {\n    switch (e.target.value) {\n      case 'Pl':\n        setLanguage('Pl')\n        i18n.changeLanguage('pl')\n        break;\n      case 'En':\n        setLanguage('En')\n        i18n.changeLanguage('en')\n        break;\n      default:\n        break;\n    }\n  }\n\n  return (\n    <div>\n      <select class='form-select-lg' id='input-select-language' type='select' selec value={language} onChange={handleLanguageChange}>\n        <option value='Pl'>PL</option>\n        <option value='En'>EN</option>\n      </select>\n    </div>\n  )\n}\n\nexport default Language\n","\nimport React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { Nav } from 'reactstrap'\nimport PerfectScrollbar from 'perfect-scrollbar'\n\nimport logo from 'logo.svg'\n\nlet ps\n\nclass Sidebar extends React.Component {\n  constructor (props) {\n    super(props)\n    this.activeRoute.bind(this)\n    this.sidebar = React.createRef()\n    \n  }\n\n  // verifies if routeName is the one active (in browser input)\n  activeRoute (routeName) {\n    return this.props.location.pathname.indexOf(routeName) > -1 ? 'active' : ''\n  }\n\n  componentDidMount () {\n    if (navigator.platform.indexOf('Win') > -1) {\n      ps = new PerfectScrollbar(this.sidebar.current, {\n        suppressScrollX: true,\n        suppressScrollY: false\n      })\n    }\n  }\n\n  componentWillUnmount () {\n    if (navigator.platform.indexOf('Win') > -1) {\n      ps.destroy()\n    }\n  }\n\n  render () {\n    return (\n      <div\n        className='sidebar'\n        data-color={this.props.bgColor}\n        data-active-color={this.props.activeColor}\n      >\n        <div className='logo'>\n          <NavLink\n            to='/'\n            className='simple-text logo-mini'\n          >\n            <div className='logo-img'>\n              <img src={logo} alt='react-logo' />\n            </div>\n          </NavLink>\n          <NavLink\n            to='/'\n            className='simple-text logo-normal'\n          >\n            AOPERAT\n          </NavLink>\n        </div>\n        <div className='sidebar-wrapper' ref={this.sidebar}>\n          <Nav>\n            {this.props.routes.filter((prop, key) => prop.path !== '/').map((prop, key) => {\n              return (prop.name && (\n                prop.external \n                ? (\n                  <li>\n                    <a\n                      href={prop.path}\n                      target='blank'\n                      className='nav-link'\n                    >\n                      <i className={prop.icon} />\n                      <p>{prop.name}</p>\n                    </a>\n                  </li>\n                  )\n                : (\n                  <li\n                    className={\n                      this.activeRoute(prop.path) +\n                      (prop.pro ? ' active-pro' : '')\n                    }\n                    key={key}\n                  >\n                    <NavLink\n                      to={prop.path}\n                      className='nav-link'\n                      activeClassName='active'\n                    >\n                      <i className={prop.icon} />\n                      <p>{prop.name}</p>\n                    </NavLink>\n                  </li>\n                )\n              ))\n            })}\n          </Nav>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Sidebar\n","import React, { useState, useEffect } from 'react'\nimport PerfectScrollbar from 'perfect-scrollbar'\nimport { Route, Switch } from 'react-router-dom'\nimport DemoNavbar from 'components/Navbars/DemoNavbar'\nimport Footer from 'components/Footer/Footer'\nimport Sidebar from 'components/Sidebar/Sidebar'\nimport FixedPlugin from 'components/FixedPlugin/FixedPlugin'\nimport ScrollButton from 'components/FixedPlugin/ScrollButton'\nimport { useTranslation } from 'react-i18next'\nimport { operatorRoutes, clientRoutes, adminRoutes, emptyRoutes } from '../routes'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { callForHeader } from 'utils/HeadersCall'\nimport { loadUser, loadEkwData, loadPublicSettings, loadOperatTypes } from 'views/App/actions'\nimport { useMsal } from '@azure/msal-react'\n\nlet ps\n\nfunction GeneralLayout (props) {\n  const dispatch = useDispatch()\n  const { accounts } = useMsal()\n  const [backgroundColor, setBackgroundColor] = useState('black')\n  const [mainBackgroundColor, setMainBackgroundColor] = useState('#f4f3ef')\n  const [activeColor, setActiveColor] = useState('success')\n  const mainPanel = React.createRef()\n  const [routes, setRoutes] = useState([])\n  const user = useSelector(state => state.global.user)\n  const { t, i18n } = useTranslation('common')\n  const [fixedPluginLabels, setFixedPluginLabels] = useState({\n    mainBg:'',\n    menuBg:'',\n    activeColor:''\n  })\n\n  // eslint-disable-next-line\n  useEffect(async () => {\n    await callForHeader()\n    dispatch(loadEkwData())\n    dispatch(loadPublicSettings())\n    dispatch(loadOperatTypes())\n    user.userType === '' && dispatch(loadUser(accounts[0].idTokenClaims.oid))\n    if (navigator.platform.indexOf('Win') > -1) {\n      ps = new PerfectScrollbar('#wrapper')\n    }\n    chooseRouteByUserType()\n\n    return function cleanup () {\n      if (navigator.platform.indexOf('Win') > -1) {\n        ps.destroy()\n      }\n    }\n  // eslint-disable-next-line\n  }, [])\n\n  useEffect(() => {\n    chooseRouteByUserType()\n    const labels = {\n      mainBg: t('fixedPlugin.mainBg'),\n      menuBg: t('fixedPlugin.menuBg'),\n      activeColor: t('fixedPlugin.activeColor')\n    }\n    setFixedPluginLabels(labels)\n    // eslint-disable-next-line\n  }, [user.userType, i18n.language])\n\n  const handleActiveClick = (color) => {\n    setActiveColor(color)\n  }\n  const handleBgClick = (color) => {\n    setBackgroundColor(color)\n  }\n  const handleMainBgClick = (color) => {\n    setMainBackgroundColor(color)\n  }\n\n  const chooseRouteByUserType = () => {\n    switch (user.userType) {\n      case 'admin':\n        setRoutes(adminRoutes(t)); break\n      case 'operator':\n        setRoutes(operatorRoutes(t)); break\n      case 'client':\n        setRoutes(clientRoutes(t)); break\n      default:\n        setRoutes(emptyRoutes(t)); break\n    }\n  }\n\n  return (\n    <div className='wrapper' id='wrapper' style={{ backgroundColor: mainBackgroundColor }}>\n      <Sidebar\n        {...props}\n        userType={user.userType}\n        routes={routes}\n        bgColor={backgroundColor}\n        activeColor={activeColor}\n      />\n\n      <div className='main-panel' ref={mainPanel} style={{ backgroundColor: mainBackgroundColor }}>\n        <DemoNavbar {...props} userType={user.userType} routes={routes} t={t} />\n        <Switch>\n          {routes.map((prop, key) => {\n            const Component = prop.component\n            return (\n              <Route path={prop.path} key={key}>\n                <Component />\n              </Route>\n            )\n          })}\n        </Switch>\n        <Footer fluid />\n      </div>\n      <FixedPlugin\n        labels={fixedPluginLabels}\n        bgColor={backgroundColor}\n        activeColor={activeColor}\n        mainBgColor={mainBackgroundColor}\n        handleActiveClick={handleActiveClick}\n        handleBgClick={handleBgClick}\n        handleMainBgClick={handleMainBgClick}\n      />\n      <ScrollButton />\n    </div>\n  )\n}\n\nexport default GeneralLayout\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem\n} from 'reactstrap'\n\nimport { adminRoutes, clientRoutes, emptyRoutes, operatorRoutes } from '../../routes/index'\nimport MessageBell from './MessageBell'\nimport SettingsItem from './SettingsItem'\nimport NameItem from './NameItem'\nimport Language from './Language'\n\nclass Header extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      isOpen: false,\n      dropdownOpen: false,\n      color: 'transparent'\n    }\n    this.toggle = this.toggle.bind(this)\n    this.sidebarToggle = React.createRef()\n  }\n\n  toggle () {\n    if (this.state.isOpen) {\n      this.setState({\n        color: 'transparent'\n      })\n    } else {\n      this.setState({\n        color: 'dark'\n      })\n    }\n    this.setState({\n      isOpen: !this.state.isOpen\n    })\n  }\n\n  getRouting () {\n    switch(this.props.userType) {\n      case 'admin':\n        return adminRoutes(this.props.t)\n      case 'operator':\n        return operatorRoutes(this.props.t)\n      case 'client':\n        return clientRoutes(this.props.t)\n      default:\n        return emptyRoutes(this.props.t)\n    }\n  }\n\n  getBrand () {\n    let brandName = ''\n    const routing = this.getRouting().filter((prop, key) => prop.path !== '/')\n    for(const x of routing){\n      if (window.location.href.indexOf(x.path) !== -1) {\n        brandName = x.name\n        break\n      }\n    }\n\n    return brandName\n  }\n\n  openSidebar () {\n    document.documentElement.classList.toggle('nav-open')\n    this.sidebarToggle.current.classList.toggle('toggled')\n  }\n\n  // function that adds color dark/transparent to the navbar on resize (this is for the collapse)\n  updateColor () {\n    if (window.innerWidth < 993 && this.state.isOpen) {\n      this.setState({\n        color: 'dark'\n      })\n    } else {\n      this.setState({\n        color: 'transparent'\n      })\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('resize', this.updateColor.bind(this))\n  }\n\n  componentDidUpdate (e) {\n    if (\n      window.innerWidth < 993 &&\n      e.history.location.pathname !== e.location.pathname &&\n      document.documentElement.className.indexOf('nav-open') !== -1\n    ) {\n      document.documentElement.classList.toggle('nav-open')\n      this.sidebarToggle.current.classList.toggle('toggled')\n    }\n  }\n\n  render () {\n    return (\n      // add or remove classes depending if we are on full-screen-maps page or not\n      <Navbar\n        color={\n          this.props.location.pathname.indexOf('full-screen-maps') !== -1\n            ? 'dark'\n            : this.state.color\n        }\n        expand='lg'\n        className={\n          this.props.location.pathname.indexOf('full-screen-maps') !== -1\n            ? 'navbar-absolute fixed-top'\n            : 'navbar-absolute fixed-top ' +\n              (this.state.color === 'transparent' ? 'navbar-transparent ' : '')\n        }\n      >\n        <div>\n          <div className='navbar-wrapper'>\n            <div className='navbar-toggle'>\n              <button\n                type='button'\n                ref={this.sidebarToggle}\n                className='navbar-toggler'\n                onClick={() => this.openSidebar()}\n              >\n                <span className='navbar-toggler-bar bar1' />\n                <span className='navbar-toggler-bar bar2' />\n                <span className='navbar-toggler-bar bar3' />\n              </button>\n            </div>\n            <NavbarBrand>{this.getBrand()}</NavbarBrand>\n          </div>\n        </div>\n        <NavbarToggler onClick={this.toggle}>\n          <span className='navbar-toggler-bar navbar-kebab' />\n          <span className='navbar-toggler-bar navbar-kebab' />\n          <span className='navbar-toggler-bar navbar-kebab' />\n        </NavbarToggler>\n        <Collapse\n          isOpen={this.state.isOpen}\n          navbar\n          className='justify-content-end'\n        >\n          <NavbarBrand><Language /></NavbarBrand>\n          <NavbarBrand href='/users-profile'><NameItem /></NavbarBrand>\n          <Nav navbar>\n            <NavItem>\n              <Link to='/users-profile' className='nav-link btn-magnify'>\n                <i className='nc-icon nc-layout-11' />\n                <p>\n                  <span className='d-lg-none d-md-block'>Profil</span>\n                </p>\n              </Link>\n            </NavItem>\n            <MessageBell />\n            <SettingsItem />\n          </Nav>\n        </Collapse>\n      </Navbar>\n    )\n  }\n}\n\nexport default Header\n","\nimport React from 'react'\nimport { Container } from 'reactstrap'\nimport PropTypes from 'prop-types'\n\nclass Footer extends React.Component {\n  render () {\n    return (\n      <footer\n        className={'footer' + (this.props.default ? ' footer-default' : '')}\n      >\n        <Container fluid={!!this.props.fluid} />\n      </footer>\n    )\n  }\n}\n\nFooter.propTypes = {\n  default: PropTypes.bool,\n  fluid: PropTypes.bool\n}\n\nexport default Footer\n","export default __webpack_public_path__ + \"static/media/logo.9c70eda3.svg\";","\nimport React, { Component } from 'react'\nimport { TwitterPicker } from 'react-color';\n\nclass FixedPlugin extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      classes: 'dropdown',\n      isColorPickerOpen: false\n    }\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  handleClick() {\n    if (this.state.classes === 'dropdown') {\n      this.setState({ classes: 'dropdown show' })\n    } else {\n      this.setState({ classes: 'dropdown' })\n    }\n  }\n\n  toggleColorPicker = () => {\n    this.setState({\n      isColorPickerOpen: !this.state.isColorPickerOpen\n    })\n  }\n  render() {\n    return (\n      <div className='fixed-plugin' style={{ marginBottom: '78vh' }}>\n        <div className={this.state.classes}>\n          <div onClick={this.handleClick}>\n            <i className='fa fa-cog fa-2x' />\n          </div>\n          <ul className='dropdown-menu show'>\n          {\n          this.state.isColorPickerOpen && <TwitterPicker\n            triangle=\"hide\"\n            hidden={true}\n            color={this.props.mainBgColor}\n            onBlur={() => this.setState({isColorPickerOpen: false})}\n            onChangeComplete={(color) => this.props.handleMainBgClick(color.hex)}\n          />\n        }\n            <li className='header-title'>{this.props.labels && this.props.labels.mainBg && this.props.labels.mainBg !== '' ? this.props.labels.mainBg : \"Gwne to\"}</li>\n            <li className='adjustments-line'>\n              <div className='badge-colors text-center'>\n                <span\n                  className={\n                    this.props.mainBgColor === '#f4f3ef'\n                      ? 'badge filter badge-dark active'\n                      : 'badge filter badge-dark'\n                  }\n                  style={{ backgroundColor: '#f4f3ef' }}\n                  data-color='#f4f3ef'\n                  onClick={() => {\n                    this.props.handleMainBgClick('#f4f3ef')\n                    this.setState({isColorPickerOpen: false})\n                  }}\n                />\n                <span\n                  className={\n                    this.props.mainBgColor !== '#f4f3ef'\n                      ? 'badge filter badge-light active'\n                      : 'badge filter badge-light'\n                  }\n                  style={{ backgroundColor: this.props.mainBgColor !== '#f4f3ef' ? this.props.mainBgColor : 'white'}}\n                  onClick={() => {\n                    this.toggleColorPicker()\n                  }}\n                />\n              </div>\n            </li>\n            <li className='header-title'>{this.props.labels && this.props.labels.menuBg && this.props.labels.menuBg !== '' ? this.props.labels.menuBg : \"Kolor ta w menu\"}</li>\n            <li className='adjustments-line'>\n              <div className='badge-colors text-center'>\n                <span\n                  className={\n                    this.props.bgColor === 'black'\n                      ? 'badge filter badge-dark active'\n                      : 'badge filter badge-dark'\n                  }\n                  style={{ backgroundColor: '#2c2c2c' }}\n                  data-color='black'\n                  onClick={() => {\n                    this.props.handleBgClick('black')\n                  }}\n                />\n                <span\n                  className={\n                    this.props.bgColor === 'white'\n                      ? 'badge filter badge-light active'\n                      : 'badge filter badge-light'\n                  }\n                  data-color='white'\n                  onClick={() => {\n                    this.props.handleBgClick('white')\n                  }}\n                />\n              </div>\n            </li>\n            <li className='header-title'>{this.props.labels && this.props.labels.activeColor && this.props.labels.activeColor !== '' ? this.props.labels.activeColor : \"Kolor zaznaczania w menu\"}</li>\n            <li className='adjustments-line'>\n              <div className='badge-colors text-center'>\n                <span\n                  className={\n                    this.props.activeColor === 'primary'\n                      ? 'badge filter badge-primary active'\n                      : 'badge filter badge-primary'\n                  }\n                  data-color='primary'\n                  onClick={() => {\n                    this.props.handleActiveClick('primary')\n                  }}\n                />\n                <span\n                  className={\n                    this.props.activeColor === 'info'\n                      ? 'badge filter badge-info active'\n                      : 'badge filter badge-info'\n                  }\n                  data-color='info'\n                  onClick={() => {\n                    this.props.handleActiveClick('info')\n                  }}\n                />\n                <span\n                  className={\n                    this.props.activeColor === 'success'\n                      ? 'badge filter badge-success active'\n                      : 'badge filter badge-success'\n                  }\n                  data-color='success'\n                  onClick={() => {\n                    this.props.handleActiveClick('success')\n                  }}\n                />\n                <span\n                  className={\n                    this.props.activeColor === 'warning'\n                      ? 'badge filter badge-warning active'\n                      : 'badge filter badge-warning'\n                  }\n                  data-color='warning'\n                  onClick={() => {\n                    this.props.handleActiveClick('warning')\n                  }}\n                />\n                <span\n                  className={\n                    this.props.activeColor === 'danger'\n                      ? 'badge filter badge-danger active'\n                      : 'badge filter badge-danger'\n                  }\n                  data-color='danger'\n                  onClick={() => {\n                    this.props.handleActiveClick('danger')\n                  }}\n                />\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default FixedPlugin\n","import React, { useState, useEffect } from 'react'\n\nconst ScrollButton = () => {\n  const scrollToTop = () => {\n    getWrapper().scrollTop = 0\n  }\n  const [visible, setVisible] = useState(false)\n  const getWrapper = () => document.querySelector('#wrapper')\n  useEffect(() => {\n    getWrapper().addEventListener('scroll', toggleVisible)\n\n    return () => { getWrapper()?.removeEventListener('scroll', toggleVisible)}\n  // eslint-disable-next-line\n  }, [])\n  const toggleVisible = () => {\n    const scrolled = getWrapper().scrollTop\n    if (scrolled > 300) {\n      setVisible(true)\n    } else if (scrolled <= 300) {\n      setVisible(false)\n    }\n  }\n\n  return (\n    <div className='fixed-plugin' style={{ marginBottom: '12vh', color: '#FFFFFF', display: visible ? 'inline' : 'none' }}>\n      <div>\n        <div onClick={() => scrollToTop()}>\n          <i className='fa fa-arrow-up fa-2x' /> <br />\n          Do gry\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ScrollButton\n","import { useIsAuthenticated, useMsal } from '@azure/msal-react'\nimport React, { useEffect } from 'react'\n\nfunction Login (props) {\n  const { instance } = useMsal()\n  const isAuthenticated = useIsAuthenticated()\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      try {\n        instance.loginRedirect().then((response) => {\n          instance.setActiveAccount(response.account)\n          console.log(response)\n        })\n      } catch (err) {\n        console.log(err)\n      }\n    }\n  }, [instance, isAuthenticated])\n\n  //TODO: jsx raczej niepotrzebny\n  return (\n    <></>\n  )\n}\n\nexport default Login\n","import { callForHeader } from 'utils/HeadersCall'\nconst apiUrl = process.env.REACT_APP_API_URL\n\nexport const certificateService = {\n  generateCertificate\n}\n\nasync function generateCertificate (body) {\n  const requestOptions = {\n    method: 'POST',\n    headers: await callForHeader('json'),\n    body: JSON.stringify(body)\n  }\n\n  return await window.fetch(`${apiUrl}/Certificate/generate`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      return Promise.reject(data || response.statusText)\n    }\n\n    return data\n  })\n}\n","import React, { useState } from 'react'\nimport { useMsal } from '@azure/msal-react'\nimport { certificateService } from '../../services/certificate.service'\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap'\nimport { modalTypeConstants } from '../../constants'\nimport { useDispatch } from 'react-redux'\nimport { hideLoadingScreen, showLoadingScreen } from './actions'\n\nfunction NewOrderForm (props) {\n  const { accounts } = useMsal()\n  const dispatch = useDispatch()\n  const [certificatePassword, setCertificatePassword] = useState('')\n  const [repeatPassword, setRepeatPassword] = useState('')\n\n  const addCertificate = (e) => {\n    e.preventDefault()\n    const firstName = accounts[0].idTokenClaims.given_name ?? ''\n    const lastName = accounts[0].idTokenClaims.family_name ?? ''\n    const nameLastName = firstName + ' ' + lastName\n\n    const dto = {\n      operatorId: accounts[0].idTokenClaims.oid,\n      nameLastName: nameLastName,\n      certificatePassword: certificatePassword,\n      certificateSignDate: new Date()\n    }\n    dispatch(showLoadingScreen(modalTypeConstants.LOADING, { message: 'generateCertificate', translate: true }))\n    certificateService.generateCertificate(dto).then(() => {\n      dispatch(hideLoadingScreen())\n    }).catch((error) => dispatch(showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, { message: error })))\n  }\n\n  return (\n    <div>\n      <Form\n        onSubmit={(e) => addCertificate(e)}\n      >\n        <FormGroup>\n          <Label for='certificatePassword'>Haso do certyfikatu</Label>\n          <Input\n            type='password'\n            name='certificatePassword'\n            id='certificatePassword'\n            value={certificatePassword}\n            onChange={(e) => {\n              setCertificatePassword(e.target.value)\n            }}\n            required\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for='certificatePassword'>Powtrz haso</Label>\n          <Input\n            type='password'\n            name='repeatPassword'\n            id='repeatPassword'\n            value={repeatPassword}\n            onChange={(e) => {\n              setRepeatPassword(e.target.value)\n            }}\n            required\n          />\n        </FormGroup>\n        <Button\n          disabled={certificatePassword.length === 0 || certificatePassword !== repeatPassword}\n          style={{ width: '100%' }}\n          color='success'\n        >\n          Wygeneruj certyfikat\n        </Button>\n      </Form>\n    </div>\n  )\n}\n\nexport default NewOrderForm\n","import {\n  modalTypeConstants,\n  loadingMessagesConstants,\n  globalConstants\n} from '../../constants'\nimport NewCertificateForm from './NewCertificateForm'\nimport React, { useState, useEffect, useCallback } from 'react'\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n  Button,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Spinner,\n  Row,\n  Col,\n  FormGroup,\n  Input,\n  ListGroup,\n  ListGroupItem,\n  Form,\n  Label,\n  Table,\n  Collapse,\n  Card,\n  CardBody\n} from 'reactstrap'\nimport confirm from 'reactstrap-confirm'\nimport { operatService, operatFilesService, operatorFilesService } from 'services'\nimport { hideLoadingScreen, showLoadingScreen } from './actions'\nimport { loadOperatorsInfo, createSubscription, resetSubscriptions } from 'views/Subscriptions/actions'\nimport { useTranslation } from 'react-i18next'\nimport { loadOperats } from 'views/History/actions'\nimport { useDropzone } from 'react-dropzone'\nimport { v4 as uuidv4 } from 'uuid'\nimport LoadingIndicator from 'components/LoadingIndicator'\nimport request from 'utils/request'\nimport { callForHeader } from 'utils/HeadersCall'\nimport { getFormatedFiles } from 'views/Operat/actions'\n\nexport const Modals = {\n  ShowNoData,\n  ConfirmSendProposition,\n  ToMuchOperatorFiles,\n  PromoteUserError,\n  SendOperatConfirmation,\n  SignOperat,\n  OwnCertificate,\n  NewCertificate,\n  ErrorMessage,\n  Loading,\n  OperatList,\n  SendOperat,\n  PayForOperat,\n  CreateSubscriptionForm,\n  CreateSubscriptionSuccessful,\n  ConfirmResetSubscriptions,\n  ResetSubscriptionsSuccessful,\n  AddAttachments,\n  AttachmentsOptions,\n  ConfirmSuccess,\n  ConfirmError\n}\n\nconst createRow = (style) => (\n  <Row>\n    <Col sm='12' md={{ size: 3, offset: 4 }}>\n      <Spinner color='primary' style={style} animation='border' variant='info'>\n        {' '}\n      </Spinner>\n    </Col>\n  </Row>\n)\n\nconst createModalBody = () => (\n  <ModalBody>{createRow({ width: '8rem', height: '8rem' })}</ModalBody>\n)\n\nconst createModalBodyWithFooter = (dispatch) => (\n  <ModalBody>\n    {' '}\n    {createRow({ width: '6rem', height: '6rem' })}\n    {createModalFooter(dispatch)}\n  </ModalBody>\n)\n\nconst createModalFooter = (dispatch, cancel = false) => (\n  <ModalFooter>\n    <Button\n      color='info'\n      onClick={() => {\n        dispatch(hideLoadingScreen())\n      }}\n    >\n      {cancel ? 'anuluj' : 'ok'}\n    </Button>\n  </ModalFooter>\n)\n\nconst createSignOperatModalFooter = (dispatch) => (\n  <ModalFooter>\n    <Button\n      color='info'\n      href='https://moj.gov.pl/nforms/signer/upload?xFormsAppName=SIGNER'\n      target='blank'\n    >\n      Profil zaufany\n    </Button>\n    <Button\n      color='info'\n      onClick={() => dispatch(showLoadingScreen(modalTypeConstants.OWN_CERTIFICATE))}\n    >\n      Wasny certyfikat\n    </Button>\n    <Button\n      color='danger'\n      onClick={() => {\n        dispatch(hideLoadingScreen())\n      }}\n    >\n      Anuluj\n    </Button>\n  </ModalFooter>\n)\n\nfunction Loading () {\n  const { t } = useTranslation('common')\n  const data = useSelector(state => state.modal.data)\n  return (\n    <>\n      <ModalHeader>{data.translate ? t('modal.messages.' + data.message) : data.message}</ModalHeader>\n      {createModalBody()}\n    </>\n  )\n}\n\nfunction ShowNoData () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Nie ma danych do wywietlenia</ModalHeader>\n      {createModalFooter(dispatch)}\n    </>\n  )\n}\n\nfunction ConfirmSendProposition () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Twoja Oferta zostaa wysana</ModalHeader>\n      {createModalBodyWithFooter(dispatch)}\n    </>\n  )\n}\n\nfunction ToMuchOperatorFiles () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Posiadasz za duo plikw na swoim koncie</ModalHeader>\n      {createModalBodyWithFooter(dispatch)}\n    </>\n  )\n}\n\nfunction SendOperatConfirmation () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Operat zosta pomylnie wysany</ModalHeader>\n      {createModalFooter(dispatch)}\n    </>\n  )\n}\n\nfunction PromoteUserError () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>\n        Podczas promocji uytkownika wystpi bd, prawdopodnie uytkownik\n        zosta ju wypromowany.\n      </ModalHeader>\n      {createModalFooter(dispatch)}\n    </>\n  )\n}\n\nfunction SignOperat () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Wybierz sposb w jaki chcesz podpisa operat</ModalHeader>\n      {createSignOperatModalFooter(dispatch)}\n    </>\n  )\n}\n\nfunction SendOperat () {\n  const dispatch = useDispatch()\n  const [email, setEmail] = useState('')\n  const [emails, setEmails] = useState([])\n  const [sendToOwner, setSendToOwner] = useState(false)\n  const data = useSelector(state => state.modal.data)\n  console.log(data)\n  return (\n    <>\n      <ModalHeader>Wylij operat</ModalHeader>\n      <ModalBody>\n        <Form\n          onSubmit={(e) => {\n            e.preventDefault()\n            if (emails.includes(email)) {\n              return\n            }\n            setEmail('')\n            setEmails(emails => [...emails].concat(email))\n          }}\n        >\n          <FormGroup>\n            <Label for='operat-email'>Podaj adres email</Label>\n            <Input\n              value={email}\n              onChange={e => setEmail(e.target.value)}\n              type='email'\n              name='operat-email'\n              required\n            />\n          </FormGroup>\n          {data.operat.orderId !== globalConstants.EMPTY_GUID && (\n            <FormGroup row style={{ marginLeft: '1em' }}>\n              <Col>\n                <Input\n                  id='checkbox2'\n                  type='checkbox'\n                  checked={sendToOwner}\n                  onChange={() => setSendToOwner((sendToOwner) => !sendToOwner)}\n                />{' '}\n                <Label\n                  onClick={() => setSendToOwner((sendToOwner) => !sendToOwner)}\n                >\n                  Wysa do zleceniodawcy?\n                </Label>\n              </Col>\n            </FormGroup>\n          )}\n\n          <Button type='submit'>Dodaj adres email</Button>\n        </Form>\n        <ul class='list-group'>\n          {emails.map((e, idx) => (\n            <li\n              key={idx}\n              class='list-group-item d-flex justify-content-between align-items-center'\n            >\n              {e}\n              <span\n                onClick={() => setEmails(emails => emails.filter(x => x !== e))}\n              >\n                <i className='nc-icon nc-simple-remove' />\n              </span>\n            </li>\n          ))}\n        </ul>\n        <Button\n          color='success'\n          disabled={emails.length === 0 && sendToOwner === false}\n          onClick={() => data.sendFunction(data.operat.id, emails, sendToOwner)}\n        >\n          Wylij\n        </Button>\n      </ModalBody>\n      {createModalFooter(dispatch, true)}\n    </>\n  )\n}\n\nfunction OwnCertificate () {\n  const dispatch = useDispatch()\n  const operat = useSelector(state => state.operat.operat)\n\n  const [certificatePassword, setCertificatePassword] = useState('')\n  return (\n    <>\n      <ModalHeader>Wybierz sposb w jaki chcesz podpisa operat</ModalHeader>\n      <ModalBody>\n        <Row>\n          <Col>\n            <FormGroup>\n              <Input\n                type='password'\n                name='certificatePassword'\n                id='certificatePassword'\n                value={certificatePassword}\n                placeholder='Haso do certyfikatu'\n                onChange={e => setCertificatePassword(e.target.value)}\n              />\n            </FormGroup>\n          </Col>\n          <Col>\n            <Button\n              onClick={() => {\n                dispatch(\n                  showLoadingScreen(modalTypeConstants.LOADING, {\n                    message: loadingMessagesConstants.SING_OPERAT\n                  })\n                )\n                operatService\n                  .signPdf(operat.id, { password: certificatePassword })\n                  .then(() => {\n                    dispatch(loadOperats())\n                    dispatch(hideLoadingScreen())\n                  })\n                  .catch((error) => {\n                    console.log(error)\n                    dispatch(\n                      showLoadingScreen(modalTypeConstants.ERROR_MESSAGE, {\n                        message: 'signOperatFailed',\n                        translate: true\n                      })\n                    )\n                  })\n              }}\n              style={{ marginTop: '0px' }}\n              color='success'\n            >\n              Podpisz operat\n            </Button>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            Jeeli nie posiadasz certyfikatu:{' '}\n            <Button\n              color='link'\n              onClick={() => dispatch(showLoadingScreen(modalTypeConstants.NEW_CERTIFICATE, {}))}\n            >\n              Przejd do generowania certyfikatu\n            </Button>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Button\n              color='link'\n              onClick={() => dispatch(showLoadingScreen(modalTypeConstants.SIGN_OPERAT, {}))}\n            >\n              Powrt\n            </Button>\n          </Col>\n        </Row>\n      </ModalBody>\n    </>\n  )\n}\n\nfunction NewCertificate () {\n  const dispatch = useDispatch()\n  return (\n    <>\n      <ModalHeader>Generowanie nowego certyfikatu</ModalHeader>\n      <ModalBody>\n        <Row>\n          <Col>\n            <NewCertificateForm />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Button\n              style={{ width: '100%' }}\n              onClick={() => dispatch(showLoadingScreen(modalTypeConstants.OWN_CERTIFICATE, {}))}\n            >\n              Anuluj\n            </Button>\n          </Col>\n        </Row>\n      </ModalBody>\n    </>\n  )\n}\n\nfunction ErrorMessage () {\n  const data = useSelector(state => state.modal.data)\n  const dispatch = useDispatch()\n  const { t } = useTranslation('common')\n  return (\n    <>\n      <ModalHeader>{t && t('modal.headers.error')}</ModalHeader>\n      <ModalBody>\n        {data.translate === true && t ? t(`modal.messages.${data.message}`) : data.message}\n      </ModalBody>\n      {createModalFooter(dispatch)}\n    </>\n  )\n}\n\nfunction OperatList () {\n  const [operats, setOperats] = useState([])\n  const dispatch = useDispatch()\n  const data = useSelector(state => state.modal.data)\n  const currentOperat = data.operat\n  const operatTypeId = useSelector(state => state.operat.operatTypeId)\n\n  // eslint-disable-next-line\n  useEffect(async () => {\n    const requestUrl = `/Operat/my?pageNumber=1&pageSize=9999999&operatTypeId=${operatTypeId}`\n    const requestOptions = {\n      method: 'GET',\n      headers: await callForHeader()\n    }\n    request(requestUrl, requestOptions).then((res) => setOperats(res)).catch((err) => { console.log(err) })\n  // eslint-disable-next-line\n  }, [])\n\n  const listGroup = (\n    <ListGroup style={{ overflow: 'scroll', maxHeight: '67vh' }}>\n      {operats.map((operat) => (\n        <ListGroupItem\n          key={operat.id}\n          action\n          onClick={async () => {\n            const result = await confirm({\n              title: 'Ostrzeenie',\n              message:\n                'Czy na pewno chcesz skopiowa dane z tego operatu? Dane zostan nadpisane',\n              confirmText: 'Kopiuj',\n              cancelText: 'Wr',\n              confirmColor: 'success',\n              cancelColor: 'link text-primary'\n            })\n            if (result) {\n              const handleResponse = () => {\n                dispatch(hideLoadingScreen())\n                dispatch(getFormatedFiles())\n              }\n              dispatch(\n                showLoadingScreen(modalTypeConstants.LOADING, {\n                  message: 'Trwa kopiowanie danych z operatu'\n                })\n              )\n              switch (data.dataType) {\n                case 'params':\n                  operatFilesService\n                    .copyOperatParams(operat.id, currentOperat.id)\n                    .then(() => {\n                      handleResponse()\n                    })\n                  break\n                case 'csv':\n                  operatFilesService\n                    .copyOperatCsv(operat.id, currentOperat.id)\n                    .then(() => {\n                      handleResponse()\n                    })\n                  break\n                case 'photos':\n                  operatFilesService\n                    .copyOperatPhotos(operat.id, currentOperat.id)\n                    .then(() => {\n                      handleResponse()\n                    })\n                  break\n                case 'weights':\n                  operatFilesService\n                    .copyOperatWeights(operat.id, currentOperat.id)\n                    .then(() => {\n                      handleResponse()\n                    })\n                  break\n                default:\n              }\n            }\n          }}\n          tag='a'\n        >\n          <p>Tytu: {operat.name}</p>\n          <p>Data stworzenia: {operat.createdDateTime.split('T')[0]}</p>\n        </ListGroupItem>\n      ))}\n    </ListGroup>\n  )\n  return (\n    <>\n      <ModalHeader>Wybierz operat, z ktrego chcesz skopiowa dane</ModalHeader>\n      <ModalBody>\n        {operats.length > 0\n          ? listGroup\n          : 'Brak operatw, z ktrych mona by skopiowa dane'}\n      </ModalBody>\n      {createModalFooter(dispatch, true)}\n    </>\n  )\n}\n\nfunction PayForOperat () {\n  const dispatch = useDispatch()\n  const data = useSelector(state => state.modal.data)\n  const publicSettings = useSelector(state => state.global.publicSettings)\n  const guidFragments = data.orderId.split('-')\n  const shortId = guidFragments[0]\n  return (\n    <>\n      <ModalHeader>Opata za operat</ModalHeader>\n      <ModalBody>\n        <Row>\n          <Col>\n            Tyty przelewu: <b>{shortId}</b>\n            <br />\n            Nr konta: {publicSettings.bankAccount}\n            <br />\n            Pena nazwa firmy: {publicSettings.companyName}\n            <br />\n            Adres: {publicSettings.companyAddress}\n          </Col>\n        </Row>\n      </ModalBody>\n      {createModalFooter(dispatch, true)}\n    </>\n  )\n}\n\nfunction CreateSubscriptionForm () {\n  const dispatch = useDispatch()\n  const [maxNrOfOperats, setMaxNumberOfOperats] = useState(20)\n  const [maxNrOfGenerations, setMaxNrOfGenerations] = useState(200)\n  const operator = useSelector(state => state.subscriptions.currentOperator)\n\n  async function submitCreateSubscriptionForm () {\n    const subscription = {\n      id: operator.id,\n      maxNrOfOperats,\n      maxNrOfGenerations\n    }\n\n    dispatch(createSubscription(subscription))\n  }\n\n  return (\n    <>\n      <ModalHeader>Utwrz subskrypcj</ModalHeader>\n      <Form\n        id='create-subscription-form'\n        onSubmit={(e) => {\n          e.preventDefault()\n          submitCreateSubscriptionForm()\n        }}\n      >\n        <ModalBody>\n          <Row>\n            <Col>\n              <h5>Operator</h5>\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <p>\n                <b>Id:&nbsp;</b>\n                {operator.id}\n              </p>\n              <p>\n                <b>Nazwa:&nbsp;</b>\n                {operator.name}\n              </p>\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <h5>Ustawienia subskrypcji</h5>\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <Label for='subscription-max-nr-of-operats'>\n                <b>Limit tworzenia operatw:</b>\n              </Label>\n              <Input\n                id='subscription-max-nr-of-operats'\n                type='number'\n                step='1'\n                min='1'\n                value={maxNrOfOperats}\n                onChange={e => {\n                  setMaxNumberOfOperats(parseInt(e.target.value))\n                }}\n              />\n            </Col>\n            <Col>\n              <Label for='subscription-max-nr-of-generations'>\n                <b>Limit tworzenia operatw:</b>\n              </Label>ErrorMessage\n              <Input\n                id='subscription-max-nr-of-generations'\n                type='number'\n                step='1'\n                min='1'\n                value={maxNrOfGenerations}\n                onChange={e => {\n                  setMaxNrOfGenerations(parseInt(e.target.value))\n                }}\n              />\n            </Col>\n          </Row>\n        </ModalBody>\n        <ModalFooter>\n          <Button color='info' type='submit'>\n            Utwrz\n          </Button>\n          <Button\n            color='danger'\n            onClick={() => {\n              dispatch(hideLoadingScreen())\n            }}\n          >\n            Anuluj\n          </Button>\n        </ModalFooter>\n      </Form>\n    </>\n  )\n}\n\nfunction ModifySubscriptionFooter (dispatch) {\n  return (\n    <ModalFooter>\n      <Button\n        color='info'\n        onClick={() => { dispatch(hideLoadingScreen()); dispatch(loadOperatorsInfo()) }}\n      >Ok\n      </Button>\n    </ModalFooter>\n  )\n}\n\nfunction CreateSubscriptionSuccessful () {\n  const dispatch = useDispatch()\n  const { t } = useTranslation('common')\n  return (\n    <>\n      <ModalHeader>\n        {t('modal.messages.subscriptionSaved')}\n      </ModalHeader>\n      {ModifySubscriptionFooter(dispatch)}\n    </>\n  )\n}\n\nfunction ConfirmResetSubscriptions () {\n  const dispatch = useDispatch()\n  const { t } = useTranslation('common')\n  return (\n    <>\n      <ModalHeader>\n        {t('modal.messages.confirmResetSubscriptions')}\n      </ModalHeader>\n      <ModalFooter>\n        <Button\n          color='info'\n          onClick={() => {\n            dispatch(hideLoadingScreen())\n            dispatch(resetSubscriptions())\n          }}\n        >Ok\n        </Button>\n        <Button\n          color='danger'\n          onClick={() => {\n            dispatch(hideLoadingScreen())\n          }}\n        >Anuluj\n        </Button>\n      </ModalFooter>\n    </>\n  )\n}\n\nfunction ResetSubscriptionsSuccessful () {\n  const dispatch = useDispatch()\n  const { t } = useTranslation('common')\n  return (\n    <>\n      <ModalHeader>\n        {t('modal.messages.resetSubscriptionsSuccessful')}\n      </ModalHeader>\n      {ModifySubscriptionFooter(dispatch)}\n    </>\n  )\n}\n\nfunction AttachmentsOptions () {\n  const dispatch = useDispatch()\n  const [showSentAttachments, setShowSentAttachments] = useState(false)\n  const data = useSelector(state => state.modal.data)\n\n  async function handleJoinFiles () {\n    const url = `/Operat/id/${data.id}/join-attachments`\n    const requestOptions = {\n      method: 'POST',\n      headers: await callForHeader()\n    }\n\n    dispatch(\n      showLoadingScreen(modalTypeConstants.LOADING, {\n        message: 'Trwa czenie plikw'\n      })\n    )\n\n    request(url, requestOptions).then(_ => {\n      dispatch(\n        showLoadingScreen(modalTypeConstants.CONFIRM_SUCCESS, {\n          message: 'Pliki zostay poczone z operatem.'\n        })\n      )\n    }).catch((err) => {\n      dispatch(\n        showLoadingScreen(modalTypeConstants.CONFIRM_ERROR, {\n          message: err.message\n        })\n      )\n    })\n  }\n\n  return (\n    <>\n      <ModalHeader>Zarzdzaj zacznikami</ModalHeader>\n      <ModalBody>\n        <Row>\n          <Button\n            color='info'\n            onClick={() => { dispatch(showLoadingScreen(modalTypeConstants.ADD_ATTACHMENTS, { id: data.id })) }}\n            style={{ width: '100%' }}\n          >\n            Przelij zaczniki\n          </Button>\n        </Row>\n        <Row>\n          <Button color='info' onClick={() => setShowSentAttachments(!showSentAttachments)}>\n            Poka przesane zaczniki\n          </Button>\n        </Row>\n        <Row>\n          <Collapse isOpen={showSentAttachments}>\n            <Card>\n              <CardBody>\n                {showSentAttachments && <SentAttachmentsTable id={data.id} />}\n              </CardBody>\n            </Card>\n          </Collapse>\n        </Row>\n        <Row>\n          <Button color='info' onClick={handleJoinFiles}>\n            Pocz pliki\n          </Button>\n        </Row>\n      </ModalBody>\n      <ModalFooter>\n        <Button\n          color='danger'\n          onClick={() => {\n            dispatch(hideLoadingScreen())\n          }}\n        >\n          Anuluj\n        </Button>\n      </ModalFooter>\n    </>\n  )\n}\n\nfunction AddAttachments () {\n  const dispatch = useDispatch()\n  const [isLoading, setIsLoading] = useState(true)\n  const [files, setFiles] = useState([])\n  const [includeOc, setIncludeOc] = useState(false)\n  const [includeDiploma, setIncludeDiploma] = useState(false)\n  const [sentFiles, setSentFiles] = useState([])\n  const maxFileCount = 20\n  const data = useSelector(state => state.modal.data)\n\n  useEffect(() => {\n    async function loadFiles () {\n      setIsLoading(true)\n      const url = `/OperatFiles/id/${data.id}`\n      const requestOptions = {\n        method: 'GET',\n        headers: await callForHeader('json')\n      }\n\n      request(url, requestOptions).then(response => {\n        const filteredFiles = response.filter(x => x.item1.includes('attachment')).map(x => {\n          const item1 = x.item1.replace('attachment/', '')\n          return ({ item1, item2: x.item2 })\n        })\n        setSentFiles(filteredFiles)\n      }).catch(_ => {\n      }).finally(() => {\n        setIsLoading(false)\n      })\n    }\n\n    loadFiles()\n  }, [data.id])\n\n  const toBigWarning = async () => {\n    await confirm({\n      title: <>Ostrzeenie</>,\n      message: 'Minimum jeden z plikw jest za duy.',\n      buttonsComponent: ({ onClose }) => (\n        <div>\n          <Button color='info' onClick={() => onClose(true)}>Ok</Button>\n        </div>\n      )\n    })\n  }\n\n  const fileLimitExceededWarning = async () => {\n    await confirm({\n      title: <>Ostrzeenie</>,\n      message: 'Limit plikw przekroczony.',\n      buttonsComponent: ({ onClose }) => (\n        <div>\n          <Button color='info' onClick={() => onClose(true)}>Ok</Button>\n        </div>\n      )\n    })\n  }\n\n  const showUploadedFiles = () => (\n    <Table>\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>Nazwa pliku</th>\n          <th />\n        </tr>\n      </thead>\n      {generateRows()}\n    </Table>\n  )\n\n  const generateRows = () => {\n    return files.map((item, id) =>\n      (\n        <tbody key={id}>\n          <tr>\n            <th scope='row'>{id + 1}</th>\n            <td>{item.file.name}</td>\n            <td>\n              <Button\n                color='danger'\n                onClick={() => {\n                  const filteredFiles = files.filter(x => x.id !== item.id)\n                  setFiles(filteredFiles)\n                }}\n              >\n                Usu\n              </Button>\n            </td>\n          </tr>\n        </tbody>\n      ))\n  }\n\n  async function handleSendAttachments () {\n    dispatch(\n      showLoadingScreen(modalTypeConstants.LOADING, {\n        message: 'Trwa wysyanie zacznikw'\n      })\n    )\n\n    const filesWithoutIds = files.map(x => x.file)\n    const formData = new FormData()\n    formData.append('includeoc', includeOc)\n    formData.append('includediploma', includeDiploma)\n    filesWithoutIds.forEach(x => formData.append('additionalattachments', x))\n\n    const url = `/OperatFiles/id/${data.id}/upload-attachments`\n    const requestOptions = {\n      method: 'POST',\n      headers: await callForHeader(),\n      body: formData\n    }\n\n    request(url, requestOptions).then(_ => {\n      dispatch(\n        showLoadingScreen(modalTypeConstants.CONFIRM_SUCCESS, {\n          message: 'Zaczniki zostay przesane.'\n        })\n      )\n    }).catch((err) => {\n      dispatch(\n        showLoadingScreen(modalTypeConstants.CONFIRM_ERROR, {\n          message: err.message\n        })\n      )\n    })\n  }\n\n  const onDrop = useCallback((acceptedFiles, fileRejections, sentFiles, files, includeOc, includeDiploma) => {\n    if (fileRejections.length > 0) {\n      toBigWarning()\n      return\n    }\n\n    if (acceptedFiles.length > 0) {\n      let uniqueFilesCount = sentFiles.length\n      const newFilesCount = files.filter(x => !sentFiles.some(y => y.item1 === x.file.name)).length\n      uniqueFilesCount = uniqueFilesCount + newFilesCount\n\n      if (!sentFiles.some(x => x.item1 === 'oc.pdf') && includeOc) {\n        uniqueFilesCount = uniqueFilesCount + 1\n      }\n\n      if (!sentFiles.some(x => x.item1 === 'diploma.pdf') && includeDiploma) {\n        uniqueFilesCount = uniqueFilesCount + 1\n      }\n\n      const filesToAdd = acceptedFiles.filter(x => !sentFiles.some(y => y.item1 === x.name))\n      uniqueFilesCount = uniqueFilesCount + filesToAdd.length\n\n      if (uniqueFilesCount > maxFileCount) {\n        fileLimitExceededWarning()\n        return\n      }\n\n      const filesToAddWithIds = filesToAdd.map(x => { return { id: uuidv4(), file: x } })\n      setFiles(prevState => [...prevState, ...filesToAddWithIds])\n    }\n  }, [])\n\n  const baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '20px',\n    borderWidth: 2,\n    borderRadius: 20,\n    borderColor: '#c2b7b7',\n    borderStyle: 'dashed',\n    color: '#0e0c0c',\n    outline: 'none'\n  }\n\n  const style = {\n    ...baseStyle\n  }\n\n  const { getRootProps, getInputProps } = useDropzone({\n    onDrop: (acceptedFiles, fileRejections, _) => onDrop(acceptedFiles, fileRejections, sentFiles, files, includeOc, includeDiploma),\n    multiple: true,\n    accept: '.pdf',\n    minSize: 0,\n    maxSize: 5242880\n  })\n\n  const modalBody = () => (\n    <ModalBody>\n      <h5>Standardowe zaczniki</h5>\n      <Row>\n        <Col>\n          <Label for='input-oc'>Zacz ubezpieczenie OC: </Label>\n          <Input\n            id='input-oc'\n            type='checkbox'\n            style={{ marginLeft: '5px' }}\n            checked={includeOc}\n            onChange={_ => {\n              const countBefore = sentFiles.length + files.filter(x => !sentFiles.some(y => y.item1 === x.file.name)).length\n              const countAfter = !includeOc && !sentFiles.some(x => x.item1 === 'oc.pdf') ? countBefore + 1 : countBefore\n              if (includeOc === false && countAfter > maxFileCount) {\n                return\n              }\n              setIncludeOc(!includeOc)\n            }}\n          />\n        </Col>\n        <Col>\n          <Label for='input-diploma'>Zacz dyplom:</Label>\n          <Input\n            id='input-diploma'\n            type='checkbox'\n            style={{ marginLeft: '5px' }}\n            checked={includeDiploma}\n            onChange={_ => {\n              const countBefore = sentFiles.length + files.filter(x => !sentFiles.some(y => y.item1 === x.file.name)).length\n              const countAfter = !includeDiploma && !sentFiles.some(x => x.item1 === 'diploma.pdf') ? countBefore + 1 : countBefore\n              if (includeDiploma === false && countAfter > maxFileCount) {\n                return\n              }\n              setIncludeDiploma(!includeDiploma)\n            }}\n          />\n        </Col>\n      </Row>\n      <Col>\n        <h5 style={{ marginTop: '15px' }}>Dodatkowe zaczniki</h5>\n        <div {...getRootProps({ style })}>\n          <input {...getInputProps()} />\n          <div>\n            <p>Upu lub kliknij aby wczytac pliki.</p>\n            <p>Akceptowane formaty plikw to: <b>pdf</b>.</p>\n            <p>Maksymalna wielko pliku to 5 MB.</p>\n          </div>\n        </div>\n      </Col>\n      {\n        files && files.length > 0 &&\n          <Col>\n            <h5 style={{ marginTop: '15px' }}>Pliki do wysania</h5>\n            {showUploadedFiles()}\n          </Col>\n      }\n    </ModalBody>\n  )\n\n  return (\n    <>\n      <ModalHeader>\n        Przelij zaczniki\n      </ModalHeader>\n      {\n        isLoading\n          ? <LoadingIndicator />\n          : modalBody()\n      }\n\n      <ModalFooter>\n        <Button\n          color='info'\n          onClick={handleSendAttachments}\n        >\n          Wylij\n        </Button>\n        <Button\n          color='danger'\n          onClick={() => {\n            dispatch(hideLoadingScreen())\n          }}\n        >\n          Anuluj\n        </Button>\n      </ModalFooter>\n    </>\n  )\n}\n\nfunction SentAttachmentsTable ({ id }) {\n  const [files, setFiles] = useState([])\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    async function loadFiles () {\n      setIsLoading(true)\n      const url = `/OperatFiles/id/${id}`\n      const requestOptions = {\n        method: 'GET',\n        headers: await callForHeader('json')\n      }\n\n      request(url, requestOptions).then(response => {\n        const filteredFiles = response.filter(x => x.item1.includes('attachment')).map(x => {\n          const item1 = x.item1.replace('attachment/', '')\n          return ({ item1, item2: x.item2 })\n        })\n        setFiles(filteredFiles)\n      }).catch(_ => {\n      }).finally(() => {\n        setIsLoading(false)\n      })\n    }\n\n    loadFiles()\n  }, [id])\n\n  const showFiles = () => (\n    <Table>\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>Nazwa pliku</th>\n          <th />\n        </tr>\n      </thead>\n      {generateRows()}\n    </Table>\n  )\n\n  const generateRows = () => {\n    return files.map((item, idx) =>\n      (\n        <tbody key={idx}>\n          <tr>\n            <th scope='row'>{idx + 1}</th>\n            <td>{item.item1}</td>\n            <td><Button color='danger' onClick={() => handleDeleteItem(item.item1)}>Usu</Button></td>\n            <td><Button color='info' onClick={() => handleDownloadItem(item)}>Pobierz</Button></td>\n          </tr>\n        </tbody>\n      ))\n  }\n\n  async function handleDeleteItem (filename) {\n    setIsLoading(true)\n    const url = `/OperatFiles/id/${id}/attachment/filename/${filename}`\n    const requestOptions = {\n      method: 'DELETE',\n      headers: await callForHeader()\n    }\n\n    request(url, requestOptions).then(_ => {\n      const filteredFiles = files.filter(x => x.item1 !== filename)\n      setFiles(filteredFiles)\n    }).catch(_ => {\n    }).finally(() => {\n      setIsLoading(false)\n    })\n  }\n\n  function handleDownloadItem (item) {\n    operatorFilesService.getFileBlob(item.item2, item.item1)\n  }\n\n  return (\n    <>\n      {\n        isLoading\n          ? <LoadingIndicator />\n          : (files && showFiles())\n      }\n    </>\n  )\n}\n\nfunction ConfirmSuccess () {\n  const dispatch = useDispatch()\n  const data = useSelector(state => state.modal.data)\n  return (\n    <>\n      <ModalHeader> Sukces </ModalHeader>\n      <ModalBody> {data.message}</ModalBody>\n      <ModalFooter>\n        <Button\n          color='info'\n          onClick={() => {\n            dispatch(hideLoadingScreen())\n          }}\n        >\n          Ok\n        </Button>\n      </ModalFooter>\n    </>\n  )\n}\n\nfunction ConfirmError () {\n  const dispatch = useDispatch()\n  const data = useSelector(state => state.modal.data)\n  return (\n    <>\n      <ModalHeader> Bd </ModalHeader>\n      <ModalBody> {data.message} </ModalBody>\n      <ModalFooter>\n        <Button\n          color='info'\n          onClick={() => {\n            dispatch(hideLoadingScreen())\n          }}\n        >\n          Ok\n        </Button>\n      </ModalFooter>\n    </>\n  )\n}\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectModal = (state) => state.modal || initialState\n\nconst makeSelectShowModal = () =>\n  createSelector(selectModal, (state) => state.showModal)\n\nconst makeSelectType = () =>\n  createSelector(selectModal, (state) => state.type)\n\nconst makeSelectData = () =>\n  createSelector(selectModal, (state) => state.data)\n\nexport {\n  selectModal,\n  makeSelectShowModal,\n  makeSelectType,\n  makeSelectData\n}\n","import React, { memo } from 'react'\nimport { modalTypeConstants } from '../../constants'\nimport { Modal } from 'reactstrap'\n\nimport { Modals } from './Modals.collection'\nimport { hideLoadingScreen, showLoadingScreen } from './actions'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { makeSelectData, makeSelectShowModal, makeSelectType } from './selectors'\nimport { createStructuredSelector } from 'reselect'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport reducer from './reducer'\nconst key = 'modal'\nconst LoadingModal = (props) => {\n  useInjectReducer({ key, reducer })\n  const renderModal = () => {\n    switch (props.type) {\n      case modalTypeConstants.SHOW_NO_DATA:\n        return <Modals.ShowNoData />\n      case modalTypeConstants.CONFIRM_SEND_PROPOSITION:\n        return <Modals.ConfirmSendProposition />\n      case modalTypeConstants.TOO_MUCH_OPERATOR_FILES:\n        return <Modals.ToMuchOperatorFiles />\n      case modalTypeConstants.PROMOTE_USER_ERROR:\n        return <Modals.PromoteUserError />\n      case modalTypeConstants.SEND_OPERAT_CONFIRMATION:\n        return <Modals.SendOperatConfirmation />\n      case modalTypeConstants.SIGN_OPERAT:\n        return <Modals.SignOperat />\n      case modalTypeConstants.OWN_CERTIFICATE:\n        return <Modals.OwnCertificate />\n      case modalTypeConstants.NEW_CERTIFICATE:\n        return <Modals.NewCertificate />\n      case modalTypeConstants.ERROR_MESSAGE:\n        return <Modals.ErrorMessage />\n      case modalTypeConstants.LOADING:\n        return <Modals.Loading />\n      case modalTypeConstants.OPERATS_LIST_MODAL:\n        return <Modals.OperatList />\n      case modalTypeConstants.SEND_OPERAT_MODAL:\n        return <Modals.SendOperat />\n      case modalTypeConstants.PAY_FOR_OPERAT:\n        return <Modals.PayForOperat />\n      case modalTypeConstants.CREATE_SUBSCRIPTION_FORM:\n        return <Modals.CreateSubscriptionForm />\n      case modalTypeConstants.CREATE_SUBSCRIPTION_SUCCESSFUL:\n        return <Modals.CreateSubscriptionSuccessful />\n      case modalTypeConstants.CONFIRM_RESET_SUBSCRIPTIONS:\n        return <Modals.ConfirmResetSubscriptions />\n      case modalTypeConstants.RESET_SUBSCRIPTIONS_SUCCESSFUL:\n        return <Modals.ResetSubscriptionsSuccessful />\n      case modalTypeConstants.ADD_ATTACHMENTS:\n        return <Modals.AddAttachments />\n      case modalTypeConstants.ATTACHMENTS_OPTIONS:\n        return <Modals.AttachmentsOptions />\n      case modalTypeConstants.CONFIRM_SUCCESS:\n        return <Modals.ConfirmSuccess />\n      case modalTypeConstants.CONFIRM_ERROR:\n        return <Modals.ConfirmError />\n      default:\n        break\n    }\n  }\n\n  return (\n    <div>\n      <Modal isOpen={props.showModal}>{renderModal()}</Modal>\n    </div>\n  )\n}\n\nconst mapStateToProps = createStructuredSelector({\n  showModal: makeSelectShowModal(),\n  type: makeSelectType(),\n  data: makeSelectData()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleShowLoadingScreen: () => dispatch(showLoadingScreen()),\n    handleHideLoadingScreen: () => dispatch(hideLoadingScreen())\n  }\n}\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(LoadingModal)\n","import { modalTypeConstants } from '../../constants'\nimport { call, put, takeEvery } from 'redux-saga/effects'\nimport { callForHeader } from 'utils/HeadersCall'\nimport request from 'utils/request'\nimport { hideLoadingScreen, showLoadingScreen } from 'views/Modal/actions'\nimport { ekwDataLoaded, loadOperatTypesError, loadUserError, operatTypesLoaded, publicSettingsLoaded, userLoaded } from './actions'\nimport { LOAD_EKW_DATA, LOAD_OPERAT_TYPES, LOAD_PUBLIC_SETTINGS, LOAD_USER } from './constants'\nimport { handleRequestWithTimeout } from 'views/Modal/timeout'\n\nexport function * getOperatTypes () {\n  const requestUrl = '/OperatType'\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const operatTypes = yield call(request, requestUrl, options)\n    yield put(operatTypesLoaded(operatTypes))\n  } catch (err) {\n    yield put(loadOperatTypesError(err))\n  }\n}\n\nexport function * getUser (action) {\n  const userId = action.id\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  let requestUrl = ''\n  try {\n    const userType = yield call(request, `/User/id/${userId}`, options)\n    switch (userType) {\n      case 'admin':\n        requestUrl = `/Admin/id/${userId}`\n        break\n      case 'client':\n        requestUrl = `/Client/id/${userId}`\n        break\n      case 'operator':\n        requestUrl = `/Operator/id/${userId}`\n        break\n      default:\n    }\n    if (requestUrl === '') {\n      yield put(loadUserError('user not found'))\n    } else {\n      yield put(showLoadingScreen(modalTypeConstants.LOADING, { message: 'loadingData', translate: true }))\n\n      const user = yield call(handleRequestWithTimeout, requestUrl, options)\n      yield put(userLoaded({ user, userType }))\n      yield put(hideLoadingScreen())\n    }\n  } catch (err) {\n    yield put(hideLoadingScreen())\n    yield put(loadUserError(err))\n  }\n}\n\nexport function * getEkwData () {\n  const regionsUrl = '/LandRegister/regions'\n  const weightsUrl = '/LandRegister/weights'\n  const multipliersUrl = '/LandRegister/multipliers'\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const regions = yield call(request, regionsUrl, options)\n    const weights = yield call(request, weightsUrl, options)\n    const multipliers = yield call(request, multipliersUrl, options)\n    yield put(ekwDataLoaded({ regions, weights, multipliers }))\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport function * getPublicSettings () {\n  const requestUrl = '/Info/PublicSettings'\n  const headers = yield call(callForHeader)\n  const options = { method: 'GET', headers }\n  try {\n    const publicSettings = yield call(request, requestUrl, options)\n    yield put(publicSettingsLoaded(publicSettings))\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport default function * watch () {\n  yield takeEvery(LOAD_OPERAT_TYPES, getOperatTypes)\n  yield takeEvery(LOAD_USER, getUser)\n  yield takeEvery(LOAD_EKW_DATA, getEkwData)\n  yield takeEvery(LOAD_PUBLIC_SETTINGS, getPublicSettings)\n}\n","import { createSelector } from 'reselect'\nimport { initialState } from './reducer'\n\nconst selectChat = (state) => state.chat || initialState\nconst makeSelectConnection = () =>\n  createSelector(selectChat, (state) => state.connection)\n\nconst makeSelectMessages = () =>\n  createSelector(selectChat, (state) => state.messages)\n\nconst makeSelectCurrentlyChatWith = () =>\n  createSelector(selectChat, (state) => state.currentlyChatWith)\n\nconst makeSelectConversations = () =>\n  createSelector(selectChat, (state) => state.conversations)\nconst makeSelectChatIsOpen = () =>\n  createSelector(selectChat, state => state.chatIsOpen)\nexport {\n  selectChat,\n  makeSelectConnection,\n  makeSelectMessages,\n  makeSelectCurrentlyChatWith,\n  makeSelectConversations,\n  makeSelectChatIsOpen\n}\n","import { put, takeLatest } from 'redux-saga/effects'\nimport { markConversationAsRead, setChatIsOpen, setCurrentlyChatWith } from './actions'\nimport { OPEN_CHAT } from './constants'\n\nexport function * openChat (action) {\n  yield put(setCurrentlyChatWith(action.user))\n  yield put(markConversationAsRead(action.user.id))\n  yield put(setChatIsOpen(true))\n}\n\nexport default function * watch () {\n  yield takeLatest(OPEN_CHAT, openChat)\n}\n","import { Offcanvas, OffcanvasHeader, OffcanvasBody, ListGroup, ListGroupItem, Badge } from 'reactstrap'\nimport { Launcher } from '@bnbsystems/react-chat-window'\nimport { memo, useEffect, useState } from 'react'\nimport { callForHeader } from 'utils/HeadersCall'\nimport { HubConnectionBuilder, LogLevel } from '@microsoft/signalr'\nimport { useMsal } from '@azure/msal-react'\nimport { addNotification } from 'utils/addNotification'\nimport { compose } from 'redux'\nimport { v4 as uuidv4 } from 'uuid'\nimport { connect } from 'react-redux'\nimport { createStructuredSelector } from 'reselect'\nimport { makeSelectChatIsOpen, makeSelectConnection, makeSelectConversations, makeSelectCurrentlyChatWith, makeSelectMessages } from './selectors'\nimport {\n  loadConversations, loadMessagesWithUser, markConversationAsRead, markConversationAsUnread,\n  markMessagesAsSeen, openChat, setChatIsOpen, setConnection,\n  setCurrentlyChatWith, setMessagesWithUser, toggleMessageVisible\n} from './actions'\nimport { toDateString } from 'utils/DateFormat'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport reducer from './reducer'\nimport saga from './saga'\nimport { useTranslation } from 'react-i18next'\nconst key = 'chat'\nexport const Chat = (props) => {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const { accounts } = useMsal()\n  const { t } = useTranslation('common')\n  const [usersOffcanvasOpen, setUsersOffcanvasOpen] = useState(false)\n  const [, setUsers] = useState([])\n  const [connection, setConnection] = useState({})\n  // eslint-disable-next-line\n  useEffect(() => {\n    async function fetchData () {\n      await joinRoom()\n      const requestOptions = {\n        method: 'GET',\n        headers: await callForHeader('json')\n      }\n      fetch(process.env.REACT_APP_API_URL + '/Client?pageNumber=1&pageSize=999999', requestOptions).then(res => res.json()).then(res => setUsers(res)).catch(err => { console.log(err) })\n    }\n    fetchData()\n    // eslint-disable-next-line\n  }, [])\n  async function joinRoom () {\n    try {\n      const connection = new HubConnectionBuilder()\n        .withUrl(process.env.REACT_APP_API_URL + '/chat')\n        .withAutomaticReconnect()\n        .configureLogging(LogLevel.Information)\n        .build()\n\n      connection.on('ReceiveMessage', (userId, message) => {\n        const newMess = {\n          date: toDateString(new Date(), t('months', { returnObjects: true })),\n          id: uuidv4(),\n          author: 'them',\n          data: {\n            text: message\n          },\n          type: 'text'\n        }\n        addNotification('', 'Otrzymae now wiadomo, sprawd czat.', 'success')\n        props.handleSetMessagesWithUser(userId, newMess)\n        props.handleMarkConversationAsUnread(userId)\n      })\n\n      connection.on('LoadMessages', (userId, messages) => {\n        props.handleLoadMessagesWithUser(userId, messages, t('months', { returnObjects: true }))\n      })\n\n      connection.on('SawMessages', (userId) => props.handleMarkMessagesAsSeen(userId))\n      connection.on('LoadConversations', (conversations) => {\n        props.handleLoadConversations(conversations)\n      })\n\n      connection.onclose(e => {\n        props.handleSetConnection({})\n      })\n\n      await connection.start()\n      await connection.invoke('JoinRoom', accounts[0].idTokenClaims.oid)\n      setConnection(connection)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  const sendMessage = async (e) => {\n    try {\n      await connection.invoke('SendPrivateMessage', props.currentlyChatWith.id, e.data.text ? e.data.text : e.data.emoji)\n      e.date = toDateString(new Date(), t('months', { returnObjects: true }))\n      e.id = uuidv4()\n      e.status = 'sent'\n      props.handleSetMessagesWithUser(props.currentlyChatWith.id, e)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  // eslint-disable-next-line\n    useEffect(async () => {\n    if (!props.currentlyChatWith.id) return\n    if (props.chatIsOpen === false) return\n    try {\n      await connection.invoke('GetMessagesBetween2Users', props.currentlyChatWith.id)\n      await connection.invoke('SeeMessages', props.currentlyChatWith.id)\n    } catch (err) {\n      console.log(err)\n    }\n    // eslint-disable-next-line\n    }, [props.chatIsOpen])\n  const openChat = async (user) => {\n    props.handleOpenChat(user, connection)\n    setUsersOffcanvasOpen(false)\n  }\n\n  return (\n    <>\n      <Offcanvas toggle={() => setUsersOffcanvasOpen(prev => !prev)} isOpen={usersOffcanvasOpen}>\n        <OffcanvasHeader toggle={() => setUsersOffcanvasOpen(prev => !prev)}>\n          {t('chat.conversations')}\n        </OffcanvasHeader>\n        <OffcanvasBody>\n          <ListGroup className='list-group-hover' style={{ cursor: 'pointer' }}>\n            {props.conversations && props.conversations.map((e) =>\n              <ListGroupItem\n                className='justify-content-between'\n                style={{ fontWeight: e.unread ? 'bold' : 'normal' }} key={e.client.id} onClick={async () => await openChat(e.client)}\n              >{e.client.name + ' '}\n                {e.unread && <Badge pill color='primary'>{t('chat.new')}</Badge>}\n              </ListGroupItem>)}\n          </ListGroup>\n        </OffcanvasBody>\n      </Offcanvas>\n      <Launcher\n        isOpen={props.chatIsOpen}\n        handleClick={() => { if (props.chatIsOpen) props.handleSetChatIsOpen(false); else setUsersOffcanvasOpen(true) }}\n        onMessageWasSent={async e => { await sendMessage(e) }}\n        agentProfile={{\n          teamName: props.currentlyChatWith.name && props.currentlyChatWith.name\n        }}\n        newMessagesCount={props.conversations ? props.conversations.filter(x => x.unread).length : 0}\n        onMessageClick={(data) => { props.handleToggleMessageVisible(props.currentlyChatWith.id, data.id) }}\n        messageList={Object.prototype.hasOwnProperty.call(props.messages, props.currentlyChatWith.id) && props.messages[props.currentlyChatWith.id]}\n        showEmoji\n      />\n    </>\n  )\n}\n\nconst mapStateToProps = createStructuredSelector({\n  connection: makeSelectConnection(),\n  messages: makeSelectMessages(),\n  currentlyChatWith: makeSelectCurrentlyChatWith(),\n  conversations: makeSelectConversations(),\n  chatIsOpen: makeSelectChatIsOpen()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleLoadMessagesWithUser: (userId, messages, monthNames) => dispatch(loadMessagesWithUser(userId, messages, monthNames)),\n    handleSetMessagesWithUser: (userId, message) => dispatch(setMessagesWithUser(userId, message)),\n    handleSetConnection: (connection) => dispatch(setConnection(connection)),\n    handleSetCurrentlyChatWith: (user) => dispatch(setCurrentlyChatWith(user)),\n    handleLoadConversations: (conversations) => dispatch(loadConversations(conversations)),\n    handleMarkConversationAsRead: (userId) => dispatch(markConversationAsRead(userId)),\n    handleMarkConversationAsUnread: (userId) => dispatch(markConversationAsUnread(userId)),\n    handleSetChatIsOpen: (payload) => dispatch(setChatIsOpen(payload)),\n    handleToggleMessageVisible: (userId, messageId) => dispatch(toggleMessageVisible(userId, messageId)),\n    handleMarkMessagesAsSeen: (userId) => dispatch(markMessagesAsSeen(userId)),\n    handleOpenChat: (user, connection) => dispatch(openChat(user, connection))\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(Chat)\n","import React, { memo, useEffect } from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport { Route, Switch, useHistory } from 'react-router-dom'\n\nimport {\n  MsalProvider,\n  AuthenticatedTemplate,\n  UnauthenticatedTemplate,\n  useMsal\n} from '@azure/msal-react'\nimport { CustomNavigationClient } from '../../utils/NavigationClient'\nimport { EventType, InteractionType } from '@azure/msal-browser'\nimport { b2cPolicies } from '../../authConfig'\n\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'assets/scss/paper-dashboard.scss?v=1.2.0'\nimport 'assets/demo/demo.css'\nimport 'assets/css/styles.css'\nimport 'perfect-scrollbar/css/perfect-scrollbar.css'\n\nimport GeneralLayout from '../../layouts/GeneralLayout'\nimport Login from '../Login'\nimport LoadingModal from '../Modal/LoadingModal'\nimport { createStructuredSelector } from 'reselect'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { useInjectReducer } from 'utils/injectReducer'\nimport reducer from './reducer'\nimport { useInjectSaga } from 'utils/injectSaga'\nimport saga from './saga'\nimport { ReactNotifications } from 'react-notifications-component'\nimport 'react-notifications-component/dist/theme.css'\nimport Chat from 'views/Chat/Chat'\nimport { makeSelectUser } from './selectors'\nimport { loadEkwData, loadOperatTypes, loadPublicSettings, loadUser } from './actions'\nimport * as ReactGA from \"react-ga\";\nimport CookieConsent, { Cookies } from 'react-cookie-consent'\n\nconst key = 'global'\nconst App = (props) => {\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  // The next 3 lines are optional. This is how you configure MSAL to take advantage of the router's navigate functions when MSAL redirects between pages in your app\n  const history = useHistory()\n  const navigationClient = new CustomNavigationClient(history)\n  props.pca.setNavigationClient(navigationClient)\n  return (\n    <MsalProvider instance={props.pca}>\n      <ReactNotifications />\n      <MainContent\n        pca={props.pca} handleLoadUser={props.handleLoadUser}\n        handleLoadOperatTypes={props.handleLoadOperatTypes}\n        handleLoadPublicSettings={props.handleLoadPublicSettings}\n        handleLoadEkwData={props.handleLoadEkwData}\n      />\n    </MsalProvider>\n  )\n}\n\nconst MainContent = (props) => {\n  const { instance } = useMsal()\n  useInjectReducer({ key, reducer })\n  useInjectSaga({ key, saga })\n  const { t } = useTranslation('common')\n  /**\n   * Using the event API, you can register an event callback that will do something when an event is emitted.\n   * When registering an event callback in a react component you will need to make sure you do 2 things.\n   * 1) The callback is registered only once\n   * 2) The callback is unregistered before the component unmounts.\n   * For more, visit: https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-react/docs/events.md\n   */\n  useEffect(() => {\n    const callbackId = instance.addEventCallback((event) => {\n      if (event.eventType === EventType.LOGIN_FAILURE) {\n        if (\n          event.error &&\n          event.error.errorMessage.indexOf('AADB2C90118') > -1\n        ) {\n          if (event.interactionType === InteractionType.Redirect) {\n            instance.loginRedirect(b2cPolicies.authorities.forgotPassword)\n          } else if (event.interactionType === InteractionType.Popup) {\n            instance\n              .loginPopup(b2cPolicies.authorities.forgotPassword)\n\n              .catch((e) => {\n\n              })\n          }\n        }\n        if (\n          event.error &&\n          event.error.errorMessage.indexOf('AADB2C90091') > -1\n        ) {\n          if (event.interactionType === InteractionType.Redirect) {\n            instance.loginRedirect(b2cPolicies.authorities.signUpSignIn)\n          } else if (event.interactionType === InteractionType.Popup) {\n            instance\n              .loginPopup(b2cPolicies.authorities.signUpSignIn)\n              .catch((e) => {\n\n              })\n          }\n        }\n      }\n\n      if (event.eventType === EventType.LOGIN_SUCCESS) {\n        if (event?.payload) {\n          const accounts = props.pca.getAllAccounts()\n          if (accounts.length > 0) {\n            props.pca.setActiveAccount(accounts[0])\n            props.handleLoadUser(accounts[0].idTokenClaims.oid)\n            props.handleLoadEkwData()\n            props.handleLoadPublicSettings()\n            props.handleLoadOperatTypes()\n          }\n          /**\n           * We need to reject id tokens that were not issued with the default sign-in policy.\n           * \"acr\" claim in the token tells us what policy is used (NOTE: for new policies (v2.0), use \"tfp\" instead of \"acr\").\n           * To learn more about B2C tokens, visit https://docs.microsoft.com/en-us/azure/active-directory-b2c/tokens-overview\n           */\n          if (\n            event.payload.idTokenClaims.tfp ===\n            b2cPolicies.names.forgotPassword\n          ) {\n            window.alert(\n              'Password has been reset successfully. \\nPlease sign-in with your new password'\n            )\n            return instance.logout()\n          }\n        }\n      }\n    })\n\n    return () => {\n      if (callbackId) {\n        instance.removeEventCallback(callbackId)\n      }\n    }\n    // eslint-disable-next-line\n  }, [instance])\n\n  const initializeGoogleAnalytics = (id) => {\n    if (process.env.NODE_ENV === 'production') {\n      ReactGA.initialize(id);\n    }\n  };\n  \n  const handleAcceptCookies = () => {\n    if (process.env.REACT_APP_GOOGLE_ANALYTICS_ID) {\n      initializeGoogleAnalytics(process.env.REACT_APP_GOOGLE_ANALYTICS_ID)\n    }\n  }\n  \n  const handleDeclineCookies = () => {\n    //remove google analytics cookies\n    Cookies.remove('_ga');\n    Cookies.remove('_gat');\n    Cookies.remove('_gid');\n  };\n\n  return (\n    \n    <div className='App'>\n      <CookieConsent \n        enableDeclineButton\n        flipButtons\n        onAccept={handleAcceptCookies}\n        onDecline={handleDeclineCookies}\n        declineButtonText={t('cookies.declineButtonText')}\n        buttonText={t('cookies.acceptButtonText')}\n        buttonClasses='btn'\n        declineButtonClasses='btn'\n        buttonStyle={{color:'#FFFFFF', backgroundColor:'#6bd098'}}\n        declineButtonStyle={{color:'#FFFFFF', backgroundColor:'#ef8157'}}\n      >\n        {t('cookies.consentText')} <a href=\"https://aoperat.pl/privacy-policy#cookie-section\" rel=\"noreferrer\" target=\"_blank\">{t('cookies.learnMoreText')}</a>\n      </CookieConsent>\n\n\n      <AuthenticatedTemplate>\n        <Pages />\n      </AuthenticatedTemplate>\n\n      <UnauthenticatedTemplate>\n        <Login />\n      </UnauthenticatedTemplate>\n    </div>\n  )\n}\n\nfunction Pages (props) {\n  const { instance } = useMsal()\n  const { t } = useTranslation('common')\n\n  const activeAccount = () => {\n    const acc = instance.getActiveAccount()\n    return acc\n  }\n\n  return (\n    <>\n      <Switch>\n        <Route path='/' render={(props) => <GeneralLayout t={t} {...props} account={activeAccount()} />} />\n      </Switch>\n      <LoadingModal />\n      <Chat />\n    </>\n  )\n}\n\nconst mapStateToProps = createStructuredSelector({\n  user: makeSelectUser()\n})\n\nexport function mapDispatchToProps (dispatch) {\n  return {\n    handleLoadOperatTypes: () => dispatch(loadOperatTypes()),\n    handleLoadEkwData: () => dispatch(loadEkwData()),\n    handleLoadPublicSettings: () => dispatch(loadPublicSettings()),\n    handleLoadUser: (id) => dispatch(loadUser(id))\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(withConnect, memo)(App)\n","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport App from './views/App/App'\nimport i18n from './i18n'\nimport { I18nextProvider } from 'react-i18next'\n\nimport { PublicClientApplication } from '@azure/msal-browser'\nimport { msalConfig } from './authConfig'\nimport history from './utils/history'\nimport configureStore from 'configureStore'\n\nexport const msalInstance = new PublicClientApplication(msalConfig)\n\nconst accounts = msalInstance.getAllAccounts()\nif (accounts.length > 0) {\n  msalInstance.setActiveAccount(accounts[0])\n}\nconst initialState = {}\nconst { store } = configureStore(initialState, history)\n\nconst AppProvider = () => (\n  <Provider store={store}>\n    <React.StrictMode>\n      <I18nextProvider i18n={i18n}>\n        <BrowserRouter>\n          <App pca={msalInstance} />\n        </BrowserRouter>\n      </I18nextProvider>\n    </React.StrictMode>\n  </Provider>\n\n)\n\nReactDOM.render(<AppProvider />, document.getElementById('root'))\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport { routerMiddleware } from 'connected-react-router'\nimport createSagaMiddleware from 'redux-saga'\nimport createReducer from './reducers'\n\nexport default function configureStore (initialState = {}, history) {\n  let composeEnhancers = compose\n  const reduxSagaMonitorOptions = {}\n\n  // If Redux Dev Tools and Saga Dev Tools Extensions are installed, enable them\n  /* istanbul ignore next */\n  if (process.env.NODE_ENV !== 'production' && typeof window === 'object') {\n    /* eslint-disable no-underscore-dangle */\n    if (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) { composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) }\n\n    // NOTE: Uncomment the code below to restore support for Redux Saga\n    // Dev Tools once it supports redux-saga version 1.x.x\n    // if (window.__SAGA_MONITOR_EXTENSION__)\n    //   reduxSagaMonitorOptions = {\n    //     sagaMonitor: window.__SAGA_MONITOR_EXTENSION__,\n    //   };\n    /* eslint-enable */\n  }\n\n  const sagaMiddleware = createSagaMiddleware(reduxSagaMonitorOptions)\n\n  // Create the store with two middlewares\n  // 1. sagaMiddleware: Makes redux-sagas work\n  // 2. routerMiddleware: Syncs the location/URL path to the state\n  const middlewares = [sagaMiddleware, routerMiddleware(history)]\n\n  const enhancers = [applyMiddleware(...middlewares)]\n  const loadState = () => {\n    try {\n      const serializedState = localStorage.getItem('state')\n      if (serializedState === null) {\n        return undefined\n      }\n      return JSON.parse(serializedState)\n    } catch (e) {\n      return undefined\n    }\n  }\n\n  const saveState = (state) => {\n    try {\n      const serializedState = JSON.stringify(state)\n      localStorage.setItem('state', serializedState)\n    } catch (e) {\n      // Ignore write errors;\n    }\n  }\n  const peristedState = loadState()\n\n  const store = createStore(\n    createReducer(),\n    peristedState || initialState,\n    composeEnhancers(...enhancers)\n  )\n  store.subscribe(() => {\n    saveState(store.getState())\n  })\n\n  // Extensions\n  store.runSaga = sagaMiddleware.run\n  store.injectedReducers = {} // Reducer registry\n  store.injectedSagas = {} // Saga registry\n\n  // Make reducers hot reloadable, see http://mxs.is/googmo\n  /* istanbul ignore next */\n  if (module.hot) {\n    module.hot.accept('./reducers', () => {\n      store.replaceReducer(createReducer(store.injectedReducers))\n    })\n  }\n  return { store }\n}\n"],"sourceRoot":""}