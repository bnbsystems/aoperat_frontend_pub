(this["webpackJsonpaoperat-react"]=this["webpackJsonpaoperat-react"]||[]).push([[0],{303:function(e){e.exports=JSON.parse('{"cookies":{"consentText":"Wykorzystujemy pliki cookie, aby zwi\u0119kszy\u0107 komfort korzystania ze strony i mo\u017cliwie jak najlepiej dostosowa\u0107 nasz produkt do twoich potrzeb.","learnMoreText":"Dowiedz si\u0119 wi\u0119cej","acceptButtonText":"Akceptuj\u0119","declineButtonText":"Odrzucam"},"modal":{"headers":{"error":"B\u0142\u0105d"},"messages":{"loadingData":"Prosz\u0119 czeka\u0107, trwa wczytywanie danych","sendOffer":"Prosz\u0119 czeka\u0107, trwa wczytywanie ofert","deleteOperat":"Prosz\u0119 czeka\u0107, trwa usuwanie operatu","deleteOrder":"Prosz\u0119 czeka\u0107, trwa usuwanie zlecenia","saveOperat":"Prosz\u0119 czeka\u0107, trwa zapisywanie operatu","saveUserData":"Prosz\u0119 czeka\u0107, trwa zapisywanie danych u\u017cytkownika","signOperat":"Prosz\u0119 czeka\u0107, trwa podpisywanie operatu","generateCertificate":"Prosz\u0119 czeka\u0107, trwa generowanie certyfikatu","deleteFile":"Prosz\u0119 czeka\u0107, trwa usuwanie pliku","loadingOperatFiles":"Trwa prze\u0142adowanie operatu","generateOperat":"Prosz\u0119 czeka\u0107, trwa generowanie operatu","generateOperatFailed":"Nie uda\u0142o si\u0119 wygenerowa\u0107 operatu","generateProtocol":"Prosz\u0119 czeka\u0107, trwa generowanie protoko\u0142u","generateProtocolFailed":"Nie uda\u0142o si\u0119 wygenerowa\u0107 protoko\u0142u","downloadOperat":"Prosz\u0119 czeka\u0107, trwa pobieranie operatu","sendPhotos":"Prosz\u0119 czeka\u0107, trwa wysy\u0142anie zdj\u0119\u0107","deletePhotos":"Prosz\u0119 czeka\u0107, trwa usuwanie zdj\u0119\u0107","operatorProfile":"Prosz\u0119 czeka\u0107, trwa wczytywanie profilu rzeczoznawcy","addReview":"Prosz\u0119 czeka\u0107, trwa wysy\u0142anie opinii","addTraining":"Prosz\u0119 czeka\u0107, trwa dodawanie szkolenia","deleteTraining":"Prosz\u0119 czeka\u0107, trwa usuwanie szkolenia","unactiveSubscription":"Twoja subskrypcja jest wyczerpana lub nieaktywna","operatCopyFailed":"Kopiowanie operatu nie powiod\u0142o si\u0119","loadingOperat":"Prosz\u0119 czeka\u0107, trwa wczytywanie operatu","loadingOperatFailed":"Wczytywanie operatu nie powiod\u0142o si\u0119","payingForOperat":"Prosz\u0119 czeka\u0107, trwa p\u0142acenie za operat","createOperatFailed":"Tworzenie operatu nie powiod\u0142o si\u0119","sendData":"Trwa wysy\u0142anie danych","saveSubscription":"Prosz\u0119 czeka\u0107, trwa zapisywanie subskrypcji","saveSubscriptionFailed":"Zapisywanie subskrypcji nie powiod\u0142o si\u0119","loadUserData":"Prosz\u0119 czeka\u0107, trwa wczytywanie danych u\u017cytkownika","loadUserDataFailed":"Wczytywanie danych u\u017cytkownika nie powiod\u0142o si\u0119","subscriptionSaved":"Subskrypcja zosta\u0142a zapisana","sendPhotosFailed":"Wys\u0142anie zdj\u0119\u0107 nie powiod\u0142o si\u0119","confirmResetSubscriptions":"Czy na pewno chcesz zresetowa\u0107 subskrypcje wszystkich operator\xf3w?","resetingSubscriptions":"Prosz\u0119 czeka\u0107, trwa resetowanie subskrypcji","resetSubscriptionsFailed":"Reset subskrypcji nie zosta\u0142 wykonany","resetSubscriptionsSuccessful":"Subskrypcje zosta\u0142y zresetowane","saveWeights":"Prosz\u0119 czeka\u0107, trwa zapisywanie cech nieruchomo\u015bci","saveCsv":"Prosz\u0119 czeka\u0107, trwa zapisywanie cen transakcyjnych","saveCsvValidationError":"Ceny transakcyjne zawieraj\u0105 b\u0142\u0119dy i/lub puste pola. ","saveCsvFailed":"Zapisanie cen transakcyjnych nie powiod\u0142o si\u0119","saveInputArea":"Prosz\u0119 czeka\u0107, trwa zapisywanie danych opisowych","saveProtocolArea":"Prosz\u0119 czeka\u0107, trwa zapisywanie danych protoko\u0142u","downloadOperatFailed":"Nie uda\u0142o si\u0119 pobra\u0107 operatu","uploadOperatFailed":"Nie uda\u0142o si\u0119 wgra\u0107 operatu. Upewnij si\u0119, \u017ce operat kt\xf3ry chcesz wgra\u0107 nie zawiera podpisu cyfrowego.","uploadSignedOperatFailed":"Nie uda\u0142o si\u0119 wgra\u0107 operatu. Upewnij si\u0119, \u017ce operat kt\xf3ry chcesz wgra\u0107 zawiera podpis cyfrowy.","sendingOperat":"Prosz\u0119 czeka\u0107, trwa wysy\u0142anie operatu","sendingOperatFailed":"Wys\u0142anie operatu nie powiod\u0142o si\u0119.","saveOrderPropositionFailed":"Sk\u0142adanie oferty nie powiod\u0142o si\u0119.","orderRequiresZbpList":"Zleceniodawca wymaga, aby rzeczoznawca wykonuj\u0105cy zlecenie by\u0142 wpisany do listy rzeczoznawc\xf3w prowadzonej przez Zwi\u0105zek Bank\xf3w Polskich.","savingOrderProposition":"Prosz\u0119 czeka\u0107, trwa sk\u0142adanie oferty.","signOperatFailed":"Podpisywanie operatu nie powiod\u0142o si\u0119. Sprawd\u017a czy w profilu u\u017cykownika uzupe\u0142nione s\u0105 imi\u0119 i nazwisko oraz czy posiadasz wa\u017cny certyfikat."}},"settingsHamburgerMenu":{"logout":"Wyloguj"},"months":["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"],"common":{"orderInfo":{"address":"Adres","description":"Opis","orderSubject":"Przedmiot wyceny","valuationScope":"Zakres wyceny","landRegisterNumber":"Numer ksi\u0119gi wieczystej","propertyIdentification":"Identyfikacja nieruchomo\u015bci"},"userInfo":{"role":"Rola","mail":"Adres e-mail","phone":"Numer telefonu","nameWithTitle":"Tytu\u0142 naukowy","address":"Adres","description":"Opis","orderDescription":"Opis zlecenia","offeredPrice":"Oferowana cena","noPayerInfo":"Brak informacji o zleceniodawcy","endDate":"Przewidywany termin dostarczenia","makeAnOffer":" Z\u0142\xf3\u017c ofert\u0119","sendMessage":"Wy\u015blij wiadomo\u015b\u0107"},"send":"Wy\u015blij","warning":"Ostrze\u017cenie","delete":"Usu\u0144","add":"Dodaj"},"chat":{"new":"Nowe","conversations":"Konwersacje"},"subscriptions":{"subscriptions":"Subskrypcje"},"market":{"filters":{"postalCode":"Kod pocztowy"},"table":{"headers":{"id":"ID zlecenia","inProgress":"W trakcie tworzenia","applicationDate":"Data zg\u0142oszenia","name":"Tytul zlecenia","status":"Status","description":"Opis","upTillDate":"Do terminu","price":"Cena","accept-resign":"Akceptuj/Rezygnuj","requiresZbpList":"Wymagany rzeczoznawca wpisany do bazy rzeczoznawc\xf3w Zwi\u0105zku Bank\xf3w Polskich","aoperatValidation":"Wykorzystuje szablon AOperat","postCode":"Kod pocztowy"},"statuses":{"announced":"Og\u0142oszone","reserved":"Zarezerwowane","paid":"Zap\u0142acone","inProgress":"W trakcie tworzenia","generated":"Utworzony","signed":"Podpisany"},"buttons":{"filters":"Filtry","clearFilters":"Wyczy\u015b\u0107","applyFilters":"Filtruj","orderData":"Dane zlecenia","submittOffer":"Z\u0142\xf3\u017c ofert\u0119","submittedOffers":"Wys\u0142ane oferty","newOrder":"Nowe zlecenie","payerInformation":"Informacje o zleceniodawcy","deleteOrder":"Usu\u0144 zlecenie","resign":"Rezygnuj","accept":"Akceptuj"},"confirm":{"warning":"Ostrze\u017cenie","message":"Czy na pewno chcesz usun\u0105\u0107 zlecenie ?","delete":"Usu\u0144","back":"Wr\xf3\u0107"}},"route":{"marketplace":"Gie\u0142da zlece\u0144","myOrders":"Moje zlecenia"},"newOrder":{"newOrdrer":"Nowe zlecenie","postalCode":"Kod pocztowy","namePlaceholder":"Napisz unikatowy tytu\u0142 zlecenia.","descriptionPlaceholder":"Opisz nieruchomo\u015b\u0107 i opis jaki operat potrzebujesz. Moze by\u0107 \\"mieszkanie ~26m2, blisko do centrum. wycena do ko\u0144ca miesi\u0105ca\\"","addressPlaceholder":"Podaj adres nieruchomo\u015bci lub numer dzialki w powiecie. Mo\u017ce by\u0107: \\"ul Mickiewicz 39, Krak\xf3w\\""},"showOrderId":"Pokaza\u0107 ID zlecenia ?","showPropositionId":"Pokaza\u0107 ID poropzycji ?"},"history":{"history":"Operaty","showOperatId":"Pokaza\u0107 ID operatu ?","table":{"headers":{"id":"ID operatu","inProgress":"W trakcie tworzenia","applicationDate":"Data zg\u0142oszenia","informations":"Informacje o operacie, zleceniu i propozycji zlecenia","author":"Autor"},"statuses":{"announced":"Og\u0142oszone","reserved":"Zarezerwowane","paid":"Zap\u0142acone","inProgress":"W trakcie tworzenia","generated":"Utworzony","signed":"Podpisany"},"buttons":{"createOperat":"Tworzenie operatu","filters":"Filtry","showOperat":"Poka\u017c wniosek","copy":"Kopiuj operat","delete":"Usu\u0144 operat","download":"Pobierz","sign":"Podpisz","send":"Wy\u015blij","upload":"Wgraj operat","uploadSigned":"Wgraj podpisany operat"},"confirm":{"warning":"Ostrze\u017cenie","message":"Czy na pewno chcesz usun\u0105\u0107 operat?","delete":"Usu\u0144","back":"Wr\xf3\u0107"}}},"userProfile":{"userProfile":"Profil","profileEdition":"Edycja profilu","files":"Pliki","trainings":"Szkolenia","phoneNumber":"Numer telefonu","aboutMe":"O mnie","userName":"Nazwa u\u017cytkownika / Login","userEmail":"Email","userFirstName":"Imi\u0119","userLastName":"Nazwisko","userStreet":"Ulica","userCity":"Miasto","userLicenceNumber":"Nr uprawnie\u0144","userPostalCode":"Kod Pocztowy","userDegree":"Tytu\u0142 naukowy","inZbpList":"Jestem wpisany do listy rzeczoznawc\xf3w prowadzonej przez Zwi\u0105zek Bank\xf3w Polskich.","buttons":{"update":"Aktualizuj","sendFiles":"Wy\u015blij pliki","sendStamp":"Wy\u015blij piecz\u0105tk\u0119","sendDiploma":"Wy\u015blij dyplom","sendLiabilityInsurance":"Wy\u015blij OC","showUploadedFiles":"Poka\u017c wys\u0142ane pliki","createTraining":"Nowe szkolenie","showTrainings":"Szkolenia"}},"users":{"users":"U\u017cytkownicy"},"externalUrls":{"feedback":"Pomys\u0142y","promoteToOperatorForm":"Jestem rzeczoznawc\u0105"},"fixedPlugin":{"mainBg":"G\u0142\xf3wne t\u0142o","menuBg":"Kolor t\u0142a w menu","activeColor":"Kolor zaznaczania w menu"},"icons":{"icons":"Ikonki"},"maps":{"maps":"Mapy"},"notifications":{"notifications":"Powiadomienia"},"typography":{"typography":"Typografia"},"create":{"notification":{"message":"Tw\xf3j operat zosta\u0142 utworzony, o jego dostepno\u015bci i statusie zostaniesz powiadomiony wkr\xf3tce"},"buttons":{"generate":"Generuj","edit":"Klik aby edytowa\u0107 dane","description":"Dane opisowe","csvFiles":"Ceny transakcyjne","photos":"Zdj\u0119cia","protocol":"Protok\xf3\u0142","weights":"Cechy nieruchomo\u015bci","googleMaps":"Pobierz z google maps"},"inputs":{"author":{"author":{"description":"Rzeczoznawca wykonujacy operat","tooltip":"Imi\u0119 rzeczoznawcy wykonujacego operat"},"authorAccusative":{"description":"Rzeczoznawca wykonujacy operat ( w bierniku)","tooltip":"Imi\u0119 rzeczoznawcy wykonujacego operat ( w bierniku)"},"place":{"description":"Miasto","tooltip":"Miasto siedziby rzeczoznawcy"}},"adress":{"street":{"description":"Ulica","tooltip":"Pee\u0142ny adres np: ul. Mickiewicza 18"},"surroundings":{"description":"Okolica","tooltip":"Adres okolicy"},"surroundingsAccusative":{"description":"Okolica w miejscowniku","tooltip":"Adres w miejscowniku"},"apartmentNumber":{"description":"Nr mieszkania","tooltip":"Nr opisywanego mieszkania"},"city":{"description":"Miasto","tooltip":"Miasto w kt\xf3rym znajduje sie mieszkanie"},"cityAccusative":{"description":"Miasto","tooltip":"Miasto w kt\xf3rym znajduje sie mieszkanie w miejscowniku"},"full":{"description":"Pe\u0142ny adres","tooltip":"Wprowad\u017a pe\u0142ny adres"}},"neighborhood":{"north":{"description":"P\xf3\u0142noc","tooltip":"Opis p\xf3\u0142nocnego s\u0105siedztwa"},"south":{"description":"Po\u0142udnie","tooltip":"Opis po\u0142udniowego s\u0105siedztwa"},"east":{"description":"Wsch\xf3d","tooltip":"Opis wschodniego s\u0105siedztwa"},"west":{"description":"Zach\xf3d","tooltip":"Opis zachodniego s\u0105siedztwa"},"characteristic":{"description":"Charakterystyka","tooltip":"Charakterystyka okolicy"},"investments":{"description":"Inwestycje","tooltip":"Opis potencja\u0142u inwestycyjnego"}},"relevantDates":{"dateOfCreation":{"description":"Data wykonania","tooltip":"Podaj dat\u0119 wykonania operatu"},"dateOfSiteVisit":{"description":"Data wizji lokalnej","tooltip":"Numer ksiegi wieczystej"}},"landRegister":{"nr":{"description":"Nr","tooltip":"Podaj dat\u0119 wykonania operatu"},"conductedBy":{"description":"Prowadzona przez","tooltip":"S\u0105d prowadz\u0105cy"},"type":{"description":"Typ","tooltip":"Typ lokalu wg KW"},"area":{"description":"Powierzchnia","tooltip":"Powierzchnia lokalu wg KW"},"commonShare":{"description":"Udzia\u0142 wsp\xf3lny","tooltip":"Udzia\u0142 wsp\xf3lny wg KW"},"commonShareBySides":{"description":"Udzia\u0142 wsp\xf3lny stron","tooltip":"Udzia\u0142 wsp\xf3lny stron wg KW"},"possession":{"description":"W\u0142adanie","tooltip":"Udzia\u0142 zwi\u0105zany z w\u0142asno\u015bci\u0105 lokalu"},"owner":{"description":"W\u0142a\u015bciciel","tooltip":"W\u0142a\u015bciciel lokalu wg KW"},"storey":{"description":"Kondygnacja","tooltip":"Kondygnacja lokalu wg KW"},"yearsOfConstruction":{"description":"Lata budowy","tooltip":"Lata budowy wg KW"},"numberOfStoreys":{"description":"Ilo\u015b\u0107 kondygnacji","tooltip":"Ilo\u015b\u0107 kondygnacji budynku wg KW"},"constructionTechnology":{"description":"Technologia budowy","tooltip":"Technologia budowy wg KW"},"lift":{"description":"Winda","tooltip":"Czy budynek posiada wind\u0119"},"dateOfLMLastRecording":{"description":"Data utworzenia KW","tooltip":"Podaj data utworzenia KW"},"dateOfLMCreation":{"description":"Data za\u0142o\u017cenia KW","tooltip":"Data za\u0142o\u017cenia KW"},"dateOfOwnership":{"description":"Data ustanowienia w\u0142asno\u015bci","tooltip":"Data ustanowienia w\u0142asno\u015bci wg KW"},"dateOfEstabilishingLM":{"description":"Data ustanowienia hipoteki","tooltip":"Data ustanowienia hipoteki wg KW"},"valueOfLM":{"description":"Warto\u015b\u0107 hipoteki","tooltip":"Warto\u015b\u0107 hipoteki wg KW"},"subjectOfLM":{"description":"Podmiot hipoteki","tooltip":"Podmiot hipoteki wg KW"}},"landAndPropertyRegistration":{"nr":{"description":"Nr KW gruntowej","tooltip":"Nr KW gruntowej"},"area":{"description":"Powierzchnia dzia\u0142ki","tooltip":"Powierzchnia dzia\u0142ki wg KW"},"ewidenceNumber":{"description":"Nr Ewidencyjny dzia\u0142ki","tooltip":"Nr Ewidencyjny dzia\u0142ki wg KW"},"precinkt":{"description":"Nr obr\u0119bu","tooltip":"Nr obr\u0119bu wg KW"},"type":{"description":"Typ","tooltip":"Typ wg KW"},"dateOfCreation":{"description":"Data za\u0142o\u017cenia ksi\u0119gi","tooltip":"Podaj dat\u0119 za\u0142o\u017cenia ksi\u0119gi"},"dateOfEntry":{"description":"Data wpisu","tooltip":"Data wpisu do ksi\u0119gi"},"owner":{"description":"W\u0142a\u015bciciel","tooltip":"W\u0142a\u015bciciel gruntu wg KW"}},"place":{"structure":{"description":"Struktura lokalu","tooltip":"Np: 1 ppok\xf3j, kuchnia w przedpokoju, \u0142azienka"},"charactarestic":{"description":"Charakterystyka lokalu","tooltip":"Np: pod\u0142oga w zale\u017cno\u015bci  od pomieszczenia z paneli lub p\u0142ytek ceramicznych, na \u015bcianach pow\u0142oki malarskie, w pomieszczeniach mokrych p\u0142ytki ceramiczne. Stolarka okienna plastikowa, stolarka drzwiowa drewniana typowa. Lokal wyposa\u017cony w nast\u0119puj\u0105ce instalacje: elektryczn\u0105, wodoci\u0105gow\u0105, kanalizacyjn\u0105, c.o., gazow\u0105"}}},"weights":{"weightTableHeaders":{"id":"ID","description":"Opis","participation":"Udzia\u0142 cechy (W %)","rating":"Ocena wycenianej nieruchomo\u015bci"},"ratingTableHeaders":{"value":"Warto\u015b\u0107","rating":"Ocena","description":"Uzasadnienie oceny","selectRating":"Wybierz"}}}}')},304:function(e){e.exports=JSON.parse('{"cookies":{"consentText":"This website is using cookies.","learnMoreText":"Learn more","acceptButtonText":"Accept","declineButtonText":"Decline"},"modal":{"headers":{"error":"Error"},"messages":{"loadingData":"Please wait, loading data","sendOffer":"Please wait, loading offers","deleteOperat":"Please wait, operat is being deleted","deleteOrder":"Please wait, order is being deleted","saveOperat":"Please wait, operat is being saved","saveUserData":"Please wait, user data is being saved","signOperat":"Please wait, operat is being signed","generateCertificate":"Please wait, certificate is being generated","deleteFile":"Please wait, file is being deleted","loadingOperatFiles":"Please wait, operat is being reloaded","generateOperat":"Please wait, operat is being generated","generateOperatFailed":"Operat generation failed","generateProtocol":"Please wait, protocol is being generated","generateProtocolFailed":"Protocol generation failed","downloadOperat":"Please wait, operat is being download","sendPhotos":"Please wait, photos is being sent","deletePhotos":"Please wait, photos is being deleted","operatorProfile":"Please wait, operator profile is being loaded","addReview":"Please wait, review is being saved","addTraining":"Please wait, training is being saved","deleteTraining":"Please wait, training is being deleted","unactiveSubscription":"Your subscription expired","operatCopyFailed":"Operat copy failed","loadingOperat":"Please wait, operat is being loaded","loadingOperatFailed":"Loading operat failed","payingForOperat":"Payment in progress","createOperatFailed":"Create operat failed","sendData":"Please wait, data is being sent","saveSubscription":"Please wait, subscription is being sent","saveSubscriptionFailed":"Save subscription failed","loadUserData":"Plese wait, user data is being loaded","loadUserDataFailed":"Load user data failed","subscriptionSaved":"Subscription has been saved","sendPhotosFailed":"Sending photos faile","confirmResetSubscriptions":"Are you sure you want to reset subsciptions for every operator?","resetingSubscriptions":"Please wait, subscriptions are being reset","resetSubscriptionsFailed":"Subscription reset failed, an error occured during the operation","resetSubscriptionsSuccessful":"Subsciptions were successfully reset","saveWeights":"Please wait, characteristics of the property are being saved","saveCsv":"Please wait, transaction prices are being saved","saveCsvValidationError":"Validation error. Check if all fields are filled corectly and aren\'t empty.","saveCsvFailed":"Saving transcation prices failed","saveInputArea":"Please wait, descritpion is being saved","saveProtocolArea":"Please wait, protocol data is being saved","downloadOperatFailed":"Downloading operat failed","uploadOperatFailed":"Uploading operat failed. Make sure that operat is not digitally signed.","uploadSignedOperatFailed":"Uploading operat failed. Make sure that operat is digitally signed.","sendingOperat":"Please wait, operat is being sent.","sendingOperatFailed":"Sending operat failed.","saveOrderPropositionFailed":"Save order proposition failed.","orderRequiresZbpList":"Order requires you to be on the ZBP appraisers list.","savingOrderProposition":"Please wait, order proposition is being saved.","signOperatFailed":"Sign operat failed. Make sure that you have provided first name and last name in your user profile and try again later."}},"settingsHamburgerMenu":{"logout":"Log out"},"months":["january","february","march","april","may","june","july","august","september","october","november","december"],"common":{"orderInfo":{"address":"Address","description":"Description","orderSubject":"Order subject","valuationScope":"Valuation scope","landRegisterNumber":"Land register number","propertyIdentification":"Property identification"},"userInfo":{"role":"Role","mail":"Mail","phone":"Phone number","nameWithTitle":"Academic title","address":"Address","description":"Description","orderDescription":"Order description","noPayerInfo":"No information about the client","endDate":"End date","makeAnOffer":"Make an offer","sendMessage":"Send message"},"send":"Send","warning":"Warning","delete":"Delete","Add":"Add"},"chat":{"new":"New","conversations":"Conversations"},"subscriptions":{"subscriptions":"Subscriptions"},"market":{"filters":{"postalCode":"Postal code"},"table":{"headers":{"id":"Order ID","inProgress":"In Progress","applicationDate":"Application Date","name":"Name","status":"Status","description":"Description","upTillDate":"Up till date","price":"Price","accept-resign":"Accept/Resign","requiresZbpList":"Authorized expert required","aoperatValidation":"Validation via aoperat","postCode":"Post code"},"statuses":{"announced":"Announced","reserved":"Reserved","paid":"Paid","inProgress":"In progress","generated":"Generated","signed":"Signed"},"buttons":{"filters":"Filters","clearFilters":"Clear","applyFilters":"Apply","orderData":"Order data","submittOffer":"Submit offer","submittedOffers":"Submitted offers","newOrder":"New order","payerInformation":"Payer information","deleteOrder":"Delete order","resign":"Resign","accept":"Accept"},"confirm":{"warning":"Warning","message":"Are you sure you want to remove order?","delete":"Delete","back":"Back"}},"route":{"marketplace":"Marketplace","myOrders":"My orders"},"newOrder":{"newOrdrer":"New order","postalCode":"Post code","namePlaceholder":"Unique order name","descriptionPlaceholder":"Describe property and the operat you need. For example \\"mieszkanie ~26m2, blisko do centrum. wycena do ko\u0144ca miesi\u0105ca\\"","addressPlaceholder":"Provide the address of the property or plot number in the district. For example: \\"ul Mickiewicz 39, Krak\xf3w\\""},"showOrderId":"Show order ID?","showPropositionId":"Show propositon ID?"},"history":{"history":"History","showOperatId":"Show operat id?","table":{"headers":{"id":"operat ID","inProgress":"In progress","applicationDate":"Application date","informations":"Informations about operat, order and order proposition","author":"Author"},"statuses":{"announced":"Announced","reserved":"Reserved","paid":"Paid","inProgress":"In progress","generated":"Generated","signed":"Signed"},"buttons":{"createOperat":"Create operat","filters":"Filters","showOperat":"Show operat","copy":"Copy operat","delete":"Delete operat","download":"Download","sign":"Sign","send":"Send","upload":"Upload","uploadSigned":"Upload signed"},"confirm":{"warning":"Warning","message":"Are you sure you want to delete the operat?","delete":"Delete","back":"Back"}}},"userProfile":{"userProfile":"User profile","profileEdition":"Profile edition","files":"Files","trainings":"Trainings","phoneNumber":"Phone number","aboutMe":"About me","userName":"Username/Login","userEmail":"Email","userFirstName":"First name","userLastName":"Last name","userStreet":"Street","userCity":"City","userLicenceNumber":"License number","userPostalCode":"Post code","userDegree":"Academic title","inZbpList":"I am entered into the list of appraisers kept by the Polish Bank Association.","buttons":{"update":"Update","sendFiles":"Send files","sendStamp":"Send stamp","sendDiploma":"Send diploma","sendLiabilityInsurance":"Send liability insurance","showUploadedFiles":"Show uploaded files","createTraining":"Create training","showTrainings":"Trainings"}},"users":{"users":"Users"},"externalUrls":{"feedback":"Feedback","promoteToOperatorForm":"I\'m an appraiser"},"fixedPlugin":{"mainBg":"Main Background","menuBg":"Menu Background","activeColor":"Active Mentu Item"},"icons":{"icons":"Icons"},"maps":{"maps":"Maps"},"notifications":{"notifications":"Notifications"},"typography":{"typography":"Typography"},"create":{"notification":{"message":"Your operat has been created, you will be informed about its availability and status shortly"},"buttons":{"generate":"Generate","edit":"Click to edit data","description":"Description","csvFiles":"Transaction prices","weights":"Characteristics of the property","photos":"Photos","protocol":"Protocol","googleMaps":"Download from google maps"},"inputs":{"author":{"author":{"description":"Appraiser performing the operat","tooltip":"Name of the appraiser carrying out the operat"},"authorAccusative":{"description":"Appraiser performing the operat (in the accusative)","tooltip":"Name of the appraiser carrying out the operatName of the appraiser carrying out the operat (in the accusative)"},"place":{"description":"City","tooltip":"City of the appraiser seat"}},"adress":{"street":{"description":"Street","tooltip":"Full address, for example: ul. Mickiewicza 18"},"surroundings":{"description":"Area","tooltip":"Area address"},"surroundingsAccusative":{"description":"The neighborhood in the locative","tooltip":"Address in locative"},"apartmentNumber":{"description":"Apartment number","tooltip":"No. of the described apartment"},"city":{"description":"City","tooltip":"City where the flat is"},"cityAccusative":{"description":"City","tooltip":"City where the flat is (locative)"},"full":{"description":"Full address","tooltip":"Please enter a full address"}},"neighborhood":{"north":{"description":"North","tooltip":"Description of the north neighbourhood"},"south":{"description":"South","tooltip":"Description of the south neighbourhood"},"east":{"description":"East","tooltip":"Description of the east neighbourhood"},"west":{"description":"West","tooltip":"Description of the west neighbourhood"},"characteristic":{"description":"Characteristic","tooltip":"Characteristics of the area"},"investments":{"description":"Investments","tooltip":"Description of the investment potential"}},"relevantDates":{"dateOfCreation":{"description":"Date of creation","tooltip":"Enter the date of operat creation"},"dateOfSiteVisit":{"description":"Site inspection data","tooltip":"Land register number"}},"landRegister":{"nr":{"description":"Number","tooltip":"Enter the date of operat creation"},"conductedBy":{"description":"Led by","tooltip":"Presiding court"},"type":{"description":"Type","tooltip":"Type of premises according to the land and mortgage register"},"area":{"description":"Area","tooltip":"Area of premises according to the land and mortgage register"},"commonShare":{"description":"Common participation","tooltip":"Common participation according to the land and mortgage register"},"commonShareBySides":{"description":"Common participation by sides","tooltip":"Common participation by sides according to the land and mortgage register"},"possession":{"description":"Possession","tooltip":"Participation related to the ownership of the premises"},"owner":{"description":"Owner","tooltip":"Property owner according to the land and mortgage register"},"storey":{"description":"Storey","tooltip":"Property storey according to the land and mortgage register"},"yearsOfConstruction":{"description":"Years of construction","tooltip":"Years of construction according to the land and mortgage register"},"numberOfStoreys":{"description":"Number of storeys","tooltip":"Number of storeys according to the land and mortgage register"},"constructionTechnology":{"description":"Construction technology","tooltip":"Construction technology according to the land and mortgage register"},"lift":{"description":"elevator","tooltip":"Does the building have an elevator"},"dateOfLMLastRecording":{"description":"Date of creation land and mortgage register","tooltip":"Enter date of creation land and mortgage register"},"dateOfLMCreation":{"description":"Date of establishing the land and mortgage register","tooltip":"Enter date of establishing the land and mortgage register"},"dateOfOwnership":{"description":"Date of estabilishing ownership","tooltip":"Date of estabilishing ownership according to the land and mortgage register"},"dateOfEstabilishingLM":{"description":"Date of estabilishing the mortgage","tooltip":"Date of estabilishing the mortgage according to the land and mortgage register"},"valueOfLM":{"description":"Value of the mortgage","tooltip":"Value of the mortgage according to the land and mortgage register"},"subjectOfLM":{"description":"Subject of the mortgage","tooltip":"Subject of the mortgage according to the land and mortgage register"}},"landAndPropertyRegistration":{"nr":{"description":"Number of land and mortgage register","tooltip":"Number of land and mortgage register"},"area":{"description":"Plot area","tooltip":"Plot area according to the land and mortgage register"},"ewidenceNumber":{"description":"Registration number of the plot","tooltip":"Registration number of the plot according to the land and mortgage register"},"precinkt":{"description":"Precinct No.","tooltip":"Precinct No. according to the land and mortgage register"},"type":{"description":"Type","tooltip":"Type according to the land and mortgage register"},"dateOfCreation":{"description":"Land and mortgage register creation date","tooltip":"Enter land and and mortgage register creation date"},"dateOfEntry":{"description":"Date of entry","tooltip":"Date of entry into the land and mortgage register"},"owner":{"description":"Ground owner","tooltip":"Ground owner according to the land and mortgage register"}},"place":{"structure":{"description":"Premises structure","tooltip":"Np: 1 pok\xf3j, kuchnia w przedpokoju, \u0142azienka"},"charactarestic":{"description":"Charakterystyka lokalu","tooltip":"Np: pod\u0142oga w zale\u017cno\u015bci  od pomieszczenia z paneli lub p\u0142ytek ceramicznych, na \u015bcianach pow\u0142oki malarskie, w pomieszczeniach mokrych p\u0142ytki ceramiczne. Stolarka okienna plastikowa, stolarka drzwiowa drewniana typowa. Lokal wyposa\u017cony w nast\u0119puj\u0105ce instalacje: elektryczn\u0105, wodoci\u0105gow\u0105, kanalizacyjn\u0105, c.o., gazow\u0105"}}},"weights":{"weightTableHeaders":{"id":"ID","description":"Description","participation":"Participation (%)","rating":"Rating"},"ratingTableHeaders":{"value":"Value","rating":"Rating","description":"Rating justification","selectRating":"Select"}}}}')},338:function(e,t,r){},339:function(e,t,r){},340:function(e,t,r){},538:function(e,t,r){"use strict";r.r(t),r.d(t,"msalInstance",(function(){return aj}));var n,a,c=r(1),o=r.n(c),i=r(40),s=r.n(i),l=r(65),d=r(14),u=r(7),p=r(580),j=r(33),b=r(35),O=r(4),h=r(12),f=r(22),m=r(23),g=r(36),x=r(38),y=function(e){Object(g.a)(r,e);var t=Object(x.a)(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this)).history=e,n}return Object(m.a)(r,[{key:"navigateInternal",value:function(){var e=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.replace(window.location.origin,""),r.noHistory?this.history.replace(n):this.history.push(n),e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(r(290).a),v=r(32),w=r(11),k=r(151),S={signUpSignIn:"b2c_1_aoperatfrontendsignupsignin1",forgotPassword:"b2c_1_aoperatfrontendforgotpassword1",editProfile:"b2c_1_aoperatfrontendeditprofile1"},T={signUpSignIn:{authority:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1"},forgotPassword:{authority:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendforgotpassword1"},editProfile:{authority:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendeditprofile1"}},P={auth:{clientId:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADB2C_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_AUTHORITY_DOMAIN:"aoperatpl.b2clogin.com",REACT_APP_ADB2C_EDIT_PROFILE_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_EDIT_PROFILE_POLICY:"b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_FORGOT_PASSWORD_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_FORGOT_PASSWORD_POLICY:"b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_KNOWN_AUTHORITIES:"aoperatpl.b2clogin.com",REACT_APP_ADB2C_LOGIN_SCOPES:"",REACT_APP_ADB2C_POST_LOGOUT_REDIRECT_URI:"/",REACT_APP_ADB2C_REDIRECT_URI:"/",REACT_APP_ADB2C_SIGNUP_SIGNIN_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_SIGNUP_SIGNIN_POLICY:"b2c_1_aoperatfrontendsignupsignin1",REACT_APP_API_URL:"https://aoperatbackend-prod.azurewebsites.net",REACT_APP_GOOGLE_API_URL:"https://maps.googleapis.com/maps/api/js?key="}).REACT_APP_ADB2C_CLIENT_ID,authority:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",knownAuthorities:"aoperatpl.b2clogin.com".split(","),redirectUri:"/",postLogoutRedirectUri:"/",navigateToLoginRequestUrl:!0},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:function(e,t,r){if(!r)switch(e){case k.a.Error:return void console.error(t);case k.a.Info:return void console.info(t);case k.a.Verbose:return void console.debug(t);case k.a.Warning:console.warn(t)}}}}},C={scopes:[]},A=(r(337),r(338),r(339),r(340),r(341),r(10)),E=r(153),_=r(51),R=r(49),I=r(216),N=r(217),z=r(218),D=r(100),F=r(219),L=r(220),U=r(61),M=r.n(U),G=r(245),B=r(215),W=r(79),H=r(228),K=r(229),V=r(91),q={SHOW_NO_DATA:"SHOW_NO_DATA",CONFIRM_SEND_PROPOSITION:"CONFIRM_SEND_PROPOSITION",TOO_MUCH_OPERATOR_FILES:"TOO_MUCH_OPERATOR_FILES",PROMOTE_USER_ERROR:"PROMOTE_USER_ERROR",SEND_OPERAT_CONFIRMATION:"SEND_OPERAT_CONFIRMATION",SIGN_OPERAT:"SIGN_OPERAT",OWN_CERTIFICATE:"OWN_CERTIFICATE",NEW_CERTIFICATE:"NEW_CERTIFICATE",ERROR_MESSAGE:"ERROR_MESSAGE",LOADING:"LOADING",OPERATS_LIST_MODAL:"OPERATS_LIST_MODAL",SEND_OPERAT_MODAL:"SEND_OPERAT_MODAL",PAY_FOR_OPERAT:"PAY_FOR_OPERAT_MODAL",CREATE_SUBSCRIPTION_FORM:"CREATE_SUBSCRIPTION_FORM",CREATE_SUBSCRIPTION_SUCCESSFUL:"CREATE_SUBSCRIPTION_SUCCESFUL",CONFIRM_RESET_SUBSCRIPTIONS:"CONFIRM_RESET_SUBSCRIPTIONS",RESET_SUBSCRIPTIONS_SUCCESSFUL:"RESET_SUBSCRIPTIONS_SUCCESSFUL",ADD_ATTACHMENTS:"ADD_ATTACHMENTS",ATTACHMENTS_OPTIONS:"ATTACHMENT_OPTIONS",CONFIRM_SUCCESS:"CONFIRM_SUCCESS",CONFIRM_ERROR:"CONFIRM_ERROR"},Y={OPERATOR:"operator",CLIENT:"client",ADMIN:"admin"},J="Prosz\u0119 czeka\u0107, trwa podpisywanie operatu",Z={EMPTY_GUID:"00000000-0000-0000-0000-000000000000"},X=r(74),Q=r(121),$=r(0),ee=Object(Q.b)(n||(n=Object(X.a)(["\n  0%,\n  39%,\n  100% {\n    opacity: 0;\n  }\n\n  40% {\n    opacity: 1;\n  }\n"])));var te,re=function(e){var t=Q.a.div(a||(a=Object(X.a)(["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    "," &:before {\n      content: '';\n      display: block;\n      margin: 0 auto;\n      width: 15%;\n      height: 15%;\n      background-color: #999;\n      border-radius: 100%;\n      animation: "," 1.2s infinite ease-in-out both;\n      ",";\n    }\n  "])),e.rotate&&"\n      -webkit-transform: rotate(".concat(e.rotate,"deg);\n      -ms-transform: rotate(").concat(e.rotate,"deg);\n      transform: rotate(").concat(e.rotate,"deg);\n    "),ee,e.delay&&"\n        -webkit-animation-delay: ".concat(e.delay,"s;\n        animation-delay: ").concat(e.delay,"s;\n      "));return Object($.jsx)(t,{})},ne=Q.a.div(te||(te=Object(X.a)(["\n  margin: 2em auto;\n  width: 40px;\n  height: 40px;\n  position: relative;\n"])));var ae=function(){return Object($.jsxs)(ne,{children:[Object($.jsx)(re,{}),Object($.jsx)(re,{rotate:30,delay:-1.1}),Object($.jsx)(re,{rotate:60,delay:-1}),Object($.jsx)(re,{rotate:90,delay:-.9}),Object($.jsx)(re,{rotate:120,delay:-.8}),Object($.jsx)(re,{rotate:150,delay:-.7}),Object($.jsx)(re,{rotate:180,delay:-.6}),Object($.jsx)(re,{rotate:210,delay:-.5}),Object($.jsx)(re,{rotate:240,delay:-.4}),Object($.jsx)(re,{rotate:270,delay:-.3}),Object($.jsx)(re,{rotate:300,delay:-.2}),Object($.jsx)(re,{rotate:330,delay:-.1})]})},ce=r(255),oe=r(55),ie=r.n(oe),se=function(){var e=Object(h.a)(Object(O.a)().mark((function e(t,r,n){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie()({title:Object($.jsx)($.Fragment,{children:r}),message:t,confirmText:"Usu\u0144",cancelText:"Anuluj",confirmColor:"danger",cancelColor:"link text-primary"});case 2:e.sent&&n();case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),le="MODAL_SHOW_LOADING_SCREEN",de="MODAL_HIDE_LOADING_SCREEN";function ue(e,t){return{type:le,payload:{showModal:!0,type:e,data:t}}}function pe(){return{type:de}}var je=r(58),be=Object(je.a)(),Oe={validatePositiveNumbers:function(e,t){if(null==e||null==t)return;var r=e||window.event,n=r.keyCode||r.which;n=String.fromCharCode(n);var a=r.target.value+n;"paste"===r.type&&(a=window.event.clipboardData.getData("text/plain"));if(t.test(a))r.target.classList.remove("validate");else{var c=r.target.classList;c.add("validate"),setTimeout((function(){c.remove("validate")}),400),r.returnValue=!1,r.preventDefault&&r.preventDefault()}}};function he(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(h.a)(Object(O.a)().mark((function e(t){var r,n,a,c,o,i;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=aj.getActiveAccount()){e.next=3;break}throw Error("No active account! Verify a user has been signed in and setActiveAccount has been called.");case 3:return n=Object(u.a)(Object(u.a)({},C),{},{account:r}),e.next=6,aj.acquireTokenSilent(n).catch((function(e){return console.log(e),aj.acquireTokenRedirect(n).then((function(e){return e})).catch((function(e){be.push("/logout"),console.log(e)}))}));case 6:(a=e.sent).idTokenClaims.exp<a.idTokenClaims.auth_time&&be.push("/logout"),localStorage.setItem("idToken",a.idToken),localStorage.setItem("idTokenExp",a.idTokenClaims.exp),c=new Headers,o="Bearer ".concat(a.idToken),c.append("Authorization",o),e.t0=t,e.next="json"===e.t0?16:"plain"===e.t0?19:22;break;case 16:return i="application/json",c.append("Content-Type",i),e.abrupt("break",23);case 19:return i="text/plain;charset=UTF-8",c.append("Content-Type",i),e.abrupt("break",23);case 22:return e.abrupt("break",23);case 23:return e.abrupt("return",c);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me="https://aoperatbackend-prod.azurewebsites.net",ge={get:function(e){return ye.apply(this,arguments)},createOperat:function(e){return we.apply(this,arguments)},getFile:function(e){return ve.apply(this,arguments)},generateOperat:function(e){return ke.apply(this,arguments)},signPdf:function(e,t){return Se.apply(this,arguments)},copyOperat:function(e){return Te.apply(this,arguments)},sendOperat:function(e){return Pe.apply(this,arguments)},getByOrderId:function(e){return Ce.apply(this,arguments)},postReview:function(e){return Ae.apply(this,arguments)},getOperatReview:function(e){return Ee.apply(this,arguments)},obstructOperat:function(e){return _e.apply(this,arguments)},addAttachments:function(e,t,r,n){return xe.apply(this,arguments)}};function xe(){return(xe=Object(h.a)(Object(O.a)().mark((function e(t,r,n,a){var c,o;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("includeoc",r),c.append("includediploma",n),a.forEach((function(e){return c.append("additionalattachments",e)})),e.next=6,he();case 6:return e.t0=e.sent,e.t1=c,o={method:"POST",headers:e.t0,body:e.t1},e.abrupt("return",window.fetch("".concat(me,"/Operat/id/").concat(t,"/add-attachments"),o));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(){return(ye=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.abrupt("return",window.fetch("".concat(me,"/Operat/id/").concat(t),r).then(Re));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return(ve=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.abrupt("return",window.fetch(t,r).then(Re));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"POST",headers:e.t0,body:e.t1},e.abrupt("return",window.fetch("".concat(me,"/Operat"),r).then(Re));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"POST",headers:e.t0},e.next=6,window.fetch("".concat(me,"/Operat/id/").concat(t,"/generate"),r).then(Re);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){return(Se=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(r),n={method:"POST",headers:e.t0,body:e.t1},e.next=7,window.fetch("".concat(me,"/Operat/id/").concat(t,"/sign"),n).then(Re);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){return(Te=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"POST",headers:e.t0},e.next=6,window.fetch("".concat(me,"/Operat/id/").concat(t,"/copy"),r).then(Re);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return(Pe=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"POST",headers:e.t0},e.next=6,window.fetch("".concat(me,"/Operat/id/").concat(t,"/send"),r).then(Re);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(){return(Ce=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,fetch("".concat(me,"/Operat/orderid/").concat(t),r).then(Re);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(){return(Ae=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"POST",headers:e.t0,body:e.t1},e.next=7,fetch("".concat(me,"/Operat/review"),r).then(Re);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return(Ee=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,fetch("".concat(me,"/Operat/").concat(t,"/review"),r).then(Re);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return(_e=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"PUT",headers:e.t0},e.next=6,fetch("".concat(me,"/Operat/id/").concat(t,"/obstructed/trigger"),r).then(Re);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e){return e.text().then((function(t){var r="";if(r=t.startsWith("Data")?t:t&&JSON.parse(t),!e.ok)return 404===e.status||500===e.status?[]:Promise.reject(r||e.statusText);var n=e.headers.get("X-Page-Count");return n&&localStorage.setItem("pageCount",n),r}))}var Ie="https://aoperatbackend-prod.azurewebsites.net",Ne={getOperatorData:function(e){return ze.apply(this,arguments)},getOperators:function(){return De.apply(this,arguments)},promote:function(e){return Fe.apply(this,arguments)},updateOper:function(e){return Le.apply(this,arguments)},getOperatorReviews:function(e){return Ue.apply(this,arguments)},getOperatorTrainings:function(e){return Me.apply(this,arguments)},addTraining:function(e){return Ge.apply(this,arguments)},deleteTraining:function(e){return Be.apply(this,arguments)}};function ze(){return(ze=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(Ie,"/Operator/id/").concat(t),r).then(We);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return(De=Object(h.a)(Object(O.a)().mark((function e(){var t;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,t={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(Ie,"/Operator"),t).then(We);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(){return(Fe=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:return e.t0=e.sent,r={method:"PUT",headers:e.t0},e.next=6,window.fetch("".concat(Ie,"/Operator/promote/clientid/").concat(t),r).then((function(e){return We(e,!0)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return(Le=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"PUT",headers:e.t0,body:e.t1},e.next=7,fetch("".concat(Ie,"/Operator/by-repo"),r).then((function(e){return We(e)}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,fetch("".concat(Ie,"/Operator/").concat(t,"/review"),r).then(We);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){return(Me=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,fetch("".concat(Ie,"/Operator/").concat(t,"/training"),r).then(We);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){return(Ge=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"POST",headers:e.t0,body:e.t1},e.next=7,fetch("".concat(Ie,"/Operator/training"),r).then(We);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return(Be=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"DELETE",headers:e.t0},e.next=6,fetch("".concat(Ie,"/Operator/training/").concat(t),r).then(We);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.text().then((function(r){var n=r&&JSON.parse(r);if(!e.ok){if(400===e.status&&t)return e.status;var a=n&&n.message||e.statusText;return Promise.reject(a)}return n}))}var He="https://aoperatbackend-prod.azurewebsites.net",Ke={getOperatorOrders:function(e){return Ye.apply(this,arguments)},reserveOrder:function(e,t){return Ve.apply(this,arguments)},getSingleOrder:function(e){return qe.apply(this,arguments)}};function Ve(){return(Ve=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,n={method:"PUT",headers:e.t0},e.abrupt("return",window.fetch("".concat(He,"/Order/").concat(t,"/reserve/").concat(r),n).then(Je));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(){return(qe=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.abrupt("return",window.fetch("".concat(He,"/Order/id/").concat(t),r).then(Je));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(){return(Ye=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(He,"/Order/announced/").concat(t),r).then(Je);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){if(404===e.status)return[];var n=r&&r.message||e.statusText;return Promise.reject(n)}var a=e.headers.get("X-Page-Count");return a&&localStorage.setItem("pageCount",a),r})).then((function(e){return e}))}var Ze=r(21),Xe=r(158),Qe=function(e,t,r){Xe.Store.addNotification({title:e,message:t,type:r,insert:"top",container:"top-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,showIcon:!0}})},$e="https://aoperatbackend-prod.azurewebsites.net",et={getFormatedFilesByOperat:function(e){return tt.apply(this,arguments)},getFilesByOperat:function(e){return rt.apply(this,arguments)},getFile:function(e){return nt.apply(this,arguments)},sendJSONFile:function(e,t){return ut.apply(this,arguments)},sendCSVFile:function(e,t,r){return pt.apply(this,arguments)},sendPICTUREFile:function(e,t){return dt.apply(this,arguments)},copyOperatParams:function(e,t){return at.apply(this,arguments)},copyOperatCsv:function(e,t){return ct.apply(this,arguments)},copyOperatPhotos:function(e,t){return lt.apply(this,arguments)},uploadOwnGenerated:function(e,t){return it.apply(this,arguments)},removeSingleFile:function(e,t){return st.apply(this,arguments)},copyOperatWeights:function(e,t){return ot.apply(this,arguments)}};function tt(){return(tt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.abrupt("return",window.fetch("".concat($e,"/OperatFiles/id/").concat(t,"/formated"),r).then(bt));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(){return(rt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat($e,"/OperatFiles/id/").concat(t),r).then(bt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(){return nt=Object(h.a)(Object(O.a)().mark((function e(t){var r,n,a,c=arguments;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]&&c[1],(n=new Headers).append("Cache-Control","no-cache"),a=!0===r?{method:"GET"}:{method:"GET",headers:n},e.next=6,window.fetch(t,a).then(bt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),nt.apply(this,arguments)}function at(){return(at=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,n={method:"POST",headers:e.t0},e.next=6,fetch("".concat($e,"/OperatFiles/id/").concat(t,"/copy/params/id/").concat(r),n).then(bt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(){return(ct=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,n={method:"POST",headers:e.t0},e.next=6,fetch("".concat($e,"/OperatFiles/id/").concat(t,"/copy/csv/id/").concat(r),n).then(bt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(){return(ot=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,n={method:"POST",headers:e.t0},e.next=6,fetch("".concat($e,"/OperatFiles/id/").concat(t,"/copy/weights/id/").concat(r),n).then(bt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(){return(it=Object(h.a)(Object(O.a)().mark((function e(t,r){var n,a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",r),e.next=4,he();case 4:return e.t0=e.sent,e.t1=n,a={method:"POST",headers:e.t0,body:e.t1},e.next=9,fetch("".concat($e,"/OperatFiles/id/").concat(t,"/own"),a).then(bt);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(){return(st=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:return e.t0=e.sent,n={method:"DELETE",headers:e.t0},e.next=6,fetch("".concat($e,"/OperatFiles/id/").concat(t,"/filename/").concat(r.replaceAll("/","%252F")),n).then(bt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(){return(lt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,n={method:"POST",headers:e.t0},e.next=6,fetch("".concat($e,"/OperatFiles/id/").concat(t,"/copy/pic/id/").concat(r),n).then(bt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(){return(dt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n,a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=t.filter((function(e){return Object.prototype.hasOwnProperty.call(e,"file")}))).length){e.next=3;break}return e.abrupt("return");case 3:return n=new FormData,t.forEach((function(e,t){n.append("file".concat(t),e.file,e.file.name)})),e.next=7,he();case 7:return e.t0=e.sent,e.t1=n,a={method:"POST",headers:e.t0,body:e.t1},e.next=12,window.fetch("".concat($e,"/OperatFiles/upload2/").concat(r),a).then(bt);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(){return(ut=Object(h.a)(Object(O.a)().mark((function e(t,r){var n,a,c;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,a=new Blob([JSON.stringify({input:t})],{type:"application/json"}),n.append("file",a,"params.json"),e.next=5,he();case 5:return e.t0=e.sent,e.t1=n,c={method:"POST",headers:e.t0,body:e.t1},e.next=10,window.fetch("".concat($e,"/OperatFiles/upload/").concat(r,"/convert"),c).then(bt);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(){return(pt=Object(h.a)(Object(O.a)().mark((function e(t,r,n){var a,c,o;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new FormData,jt(t,n)){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:return c=new Blob([jt(t,n)],{type:"text/csv"}),a.append("file",c,"data.csv"),e.next=7,he();case 7:return e.t0=e.sent,e.t1=a,o={method:"POST",headers:e.t0,body:e.t1},e.next=12,window.fetch("".concat($e,"/OperatFiles/upload/").concat(r),o).then(bt);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e,t){for(var r=e.map((function(e){return delete e.id,e})),n=r[0]?Object.keys(r[0]):["Data","CenaTransakcyjna","RodzajRynku","UdzialWPrawie","PowierzchniaLokalu","Adres","KondygnacjaLokalu","KondygnacjaBudynku","LiczbIzb"],a=0;a<r.length;a++){var c=function(e){var n=t.find((function(t){return t.name===e}));if(n&&!isNaN(r[a][e])){var c=Math.max.apply(Math,n.ratings.map((function(e){return parseInt(e.rate)})));if(parseInt(r[a][e])>c)return Qe("","B\u0142\u0105d w linii: "+(a+1),"danger"),{v:!1}}};for(var o in r[a]){var i=c(o);if("object"===typeof i)return i.v}}return[n.join(";")].concat(Object(Ze.a)(r.map((function(e){return n.map((function(t){return e[t]})).join(";")})))).join("\r\n")}function bt(e){return e.text().then((function(t){var r="";if(r=t.startsWith("Data")?t:t&&JSON.parse(t),!e.ok){if(404===e.status)return[];if(500===e.status)return[];var n=r&&r.message||e.statusText;return Promise.reject(n)}return r}))}var Ot="https://aoperatbackend-prod.azurewebsites.net",ht={getOperatorFiles:function(e){return xt.apply(this,arguments)},sendOperatorFile:function(e,t){return gt.apply(this,arguments)},removeOperatorFileByName:function(e,t){return yt.apply(this,arguments)},getFileBlob:function(e,t){return ft.apply(this,arguments)},getFileByFilename:function(e,t){return mt.apply(this,arguments)}};function ft(){return(ft=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",responseType:"blob"},e.abrupt("return",window.fetch(t,n).then((function(e){return wt(e,r)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(){return(mt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:return e.t0=e.sent,n={method:"GET",headers:e.t0},e.abrupt("return",fetch("".concat(Ot,"/OperatorFiles/id/").concat(t,"/filename/").concat(r),n).then(vt));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(){return gt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n,a,c,o,i=arguments;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(n=i.length>2&&void 0!==i[2]?i[2]:null)?"".concat(Ot,"/OperatorFiles/upload/").concat(t,"/filename/").concat(n):"".concat(Ot,"/OperatorFiles/upload/").concat(t),(c=new FormData).append("file",r.file,r.file.name),e.next=6,he();case 6:return e.t0=e.sent,e.t1=c,o={method:"POST",headers:e.t0,body:e.t1},e.next=11,window.fetch(a,o).then(vt);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))),gt.apply(this,arguments)}function xt(){return(xt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(Ot,"/OperatorFiles/id/").concat(t),r).then(vt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(){return(yt=Object(h.a)(Object(O.a)().mark((function e(t,r){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:return e.t0=e.sent,n={method:"DELETE",headers:e.t0},e.next=6,window.fetch("".concat(Ot,"/OperatorFiles/id/").concat(t,"/filename/").concat(r),n).then(vt);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){if(404===e.status)return[];if(500===e.status)return[];if(400===e.status)return[r];var n=r&&r.message||e.statusText;return Promise.reject(n)}return r}))}function wt(e,t){return e.blob().then((function(e){var r=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=r,n.setAttribute("download",t),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)}))}var kt="https://aoperatbackend-prod.azurewebsites.net",St={getTypeParams:function(e){return Tt.apply(this,arguments)}};function Tt(){return(Tt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.abrupt("return",window.fetch("".concat(kt,"/OperatType/id/").concat(t,"/params"),r).then(Pt));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e){return e.text().then((function(t){var r="";if(t.startsWith("Data")?r=t:t.startsWith('"{')?(t=t.replace(/\\\\n/g,"\\n").replace('"{',"{").replace('}"',"}").replace(/\s+/g," ").replace(/\\"/g,'"'),r=JSON.parse(t)):r=t&&JSON.parse(t),!e.ok){if(404===e.status)return[];var n=r&&r.message||e.statusText;return Promise.reject(n)}return r}))}var Ct="https://aoperatbackend-prod.azurewebsites.net",At={getUserType:function(e){return Et.apply(this,arguments)}};function Et(){return(Et=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(Ct,"/User/id/").concat(t),r).then(_t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){var n=r&&r.message||e.statusText;return Promise.reject(n)}var a=e.headers.get("X-Page-Count");return a&&localStorage.setItem("pageCount",a),r})).then((function(e){return e}))}var Rt="https://aoperatbackend-prod.azurewebsites.net",It={getAdminDataById:function(e){return zt.apply(this,arguments)},promote:function(e){return Dt.apply(this,arguments)},updateUserInfo:function(e){return Nt.apply(this,arguments)}};function Nt(){return(Nt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"PUT",headers:e.t0,body:e.t1},e.next=7,window.fetch("".concat(Rt,"/Admin/by-repo"),r).then(Ft);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(){return(zt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(Rt,"/Admin/id/").concat(t),r).then(Ft);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(){return(Dt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:return e.t0=e.sent,r={method:"PUT",headers:e.t0},e.next=6,window.fetch("".concat(Rt,"/Admin/promote/operatorid/").concat(t),r).then((function(e){return Ft(e,!0)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ft(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.text().then((function(r){var n=r&&JSON.parse(r);if(!e.ok){if(400===e.status&&t)return e.status;var a=n&&n.message||e.statusText;return Promise.reject(a)}return n}))}var Lt="https://aoperatbackend-prod.azurewebsites.net",Ut={getAdminDataById:function(e){return Wt.apply(this,arguments)},createNewClient:function(e){return Bt.apply(this,arguments)},getClientData:function(e){return Gt.apply(this,arguments)},updateClient:function(e){return Mt.apply(this,arguments)}};function Mt(){return(Mt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"PUT",headers:e.t0,body:e.t1},e.next=7,fetch("".concat(Lt,"/Client/by-repo"),r).then((function(e){return Ht(e)}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(){return(Gt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,fetch("".concat(Lt,"/Client/id/").concat(t),r).then(Ht);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(){return(Bt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"POST",headers:e.t0,body:e.t1},e.next=7,window.fetch("".concat(Lt,"/Client"),r).then(Ht);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(){return(Wt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,window.fetch("".concat(Lt,"/Client/id/").concat(t),r).then(Ht);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){if(400===e.status)return[];if(404===e.status)return!1;var n=r&&r.message||e.statusText;return Promise.reject(n)}return r}))}var Kt="https://aoperatbackend-prod.azurewebsites.net",Vt={getFiles:function(e){return qt.apply(this,arguments)}};function qt(){return(qt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.abrupt("return",window.fetch("".concat(Kt,"/ClientFiles/id/").concat(t),r).then(Yt));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){if(404===e.status)return[];var n=r&&r.message||e.statusText;return Promise.reject(n)}return r})).then((function(e){return e}))}var Jt="https://aoperatbackend-prod.azurewebsites.net",Zt={get:function(e){return Xt.apply(this,arguments)},check:function(e){return Qt.apply(this,arguments)}};function Xt(){return(Xt=Object(h.a)(Object(O.a)().mark((function e(t){var r,n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},n=encodeURIComponent("".concat(Jt,"/LandRegister/data/").concat(t)),e.next=7,fetch(n,r).then((function(e){return $t(e)}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(){return(Qt=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,r={method:"GET",headers:e.t0},e.next=6,fetch("".concat(Jt,"/LandRegister/check/").concat(t),r).then((function(e){return $t(e)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){var n=r&&r||e.statusText;return Promise.reject(n)}return r}))}var er="https://aoperatbackend-prod.azurewebsites.net",tr={get:function(e,t){return rr.apply(this,arguments)}};function rr(){return rr=Object(h.a)(Object(O.a)().mark((function e(t,r){var n,a,c=arguments;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:15,e.next=3,he("json");case 3:return e.t0=e.sent,a={method:"POST",headers:e.t0},e.next=7,window.fetch("".concat(er,"/Map/img?address=").concat(t,"&type=").concat(r,"&zoom=").concat(n),a).then((function(e){return e.blob()}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)}))),rr.apply(this,arguments)}var nr=function(e){var t=Object(p.a)("common").t,r=Object(d.d)(),n=Object(c.useState)(null),a=Object(A.a)(n,2),o=a[0],i=a[1],s=Object(j.f)(),l=Object(c.useRef)(null),u=Object(c.useRef)(null);Object(c.useEffect)((function(){i(e.row),e.handleLoadOperatOrder()}),[]);var b=function(e){var t=new URLSearchParams;t.set("id",e||o.id),s.push({pathname:"/create",search:t.toString()})};return Object($.jsx)("div",{children:e.operatOrder.loading?Object($.jsx)(ae,{}):Object($.jsxs)("div",{children:[Object($.jsxs)(B.a,{children:[Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{color:"info",type:"submit",onClick:function(){b()},disabled:o&&o.isOwnGenerated,style:{width:"100%"},children:t("history.table.buttons.showOperat")})}),Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{color:"info",type:"submit",onClick:function(){ge.copyOperat(o.id).then((function(t){e.handleLoadOperats(),e.handleSetActiveOperat(t),b(t.id)})).catch((function(e){"object"===typeof e&&e.hasOwnProperty("status")&&402===e.status?r(ue(q.ERROR_MESSAGE,{message:"unactiveSubscription",translate:!0})):r(ue(q.ERROR_MESSAGE,{message:"operatCopyFailed",translate:!0}))}))},disabled:o&&o.isOwnGenerated,style:{width:"100%"},children:t("history.table.buttons.copy")})}),Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{color:"info",type:"file",onClick:function(){return l.current.click()},disabled:e.operatOrder.operatOrder.shouldBeValidated&&e.operatOrder.operatOrder.shouldBeValidated||o&&"signed"===o.status.toLowerCase(),id:"upload-own-generated-btn",style:{width:"100%"},children:t("history.table.buttons.upload")})}),Object($.jsx)(ce.a,{placement:"top",target:"upload-own-generated-btn",children:"Przycisk s\u0142u\u017cy do wgrywania w\u0142asnego operatu, wygenerowanego poza platform\u0105 Aoperat."}),Object($.jsx)("input",{type:"file",id:"file-upload-own-operat",ref:l,style:{display:"none"},accept:".pdf",onChange:function(t){return e.handleUploadOwnGeneratedOperat(o.id,t.currentTarget.files[0])}}),Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{disabled:o&&!["generated","signed"].includes(o.status.toLowerCase()),color:"info",onClick:function(){r(ue(q.LOADING,{message:"downloadOperat",translate:!0})),et.getFilesByOperat(o.id).then((function(e){var t,n=Object(_.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.item2.includes("signed.pdf")||a.item2.includes("unsigned.pdf"))return r(pe()),void window.open(a.item2,"_blank").location.reload()}}catch(c){n.e(c)}finally{n.f()}r(pe()),r(ue(q.ERROR_MESSAGE,{message:"downloadOperatFailed",translate:!0}))})).catch((function(e){r(ue(q.ERROR_MESSAGE,{message:"downloadOperatFailed",translate:!0}))}))},style:{width:"100%"},children:t("history.table.buttons.download")})})]}),Object($.jsx)("br",{}),Object($.jsxs)(B.a,{children:[Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{disabled:o&&"generated"!==o.status.toLowerCase(),color:"info",onClick:function(){r(ue(q.ATTACHMENTS_OPTIONS,{id:o.id}))},style:{width:"100%"},children:"Zarz\u0105dzaj za\u0142\u0105cznikami"})}),Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{disabled:o&&"generated"!==o.status.toLowerCase(),color:"info",type:"submit",onClick:function(){r(ue(q.SIGN_OPERAT))},style:{width:"100%"},children:t("history.table.buttons.sign")})}),Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{color:"info",type:"file",onClick:function(){return u.current.click()},disabled:o&&"signed"===o.status.toLowerCase(),id:"upload-signed-btn",style:{width:"100%"},children:t("history.table.buttons.uploadSigned")})}),Object($.jsx)(ce.a,{placement:"top",target:"upload-signed-btn",children:"Przycisk s\u0142u\u017cy do wgrywania podpisanego operatu, po uprzednim wygenerowaniu go w platformie Aoperat i podpisaniu go np. poprzez profil zaufany."}),Object($.jsx)("input",{type:"file",id:"file-upload-signed-operat",ref:u,style:{display:"none"},accept:".pdf",onChange:function(t){return e.handleUploadSignedOperat(o.id,t.currentTarget.files[0])}}),Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{disabled:o&&"signed"!==o.status.toLowerCase(),color:"info",type:"submit",onClick:function(){r(ue(q.SEND_OPERAT_MODAL,{operat:e.row,sendFunction:e.handleSendPdf}))},style:{width:"100%"},children:t("history.table.buttons.send")})})]}),Object($.jsx)("br",{}),Object($.jsxs)(B.a,{children:[Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{disabled:o&&"signed"===o.status.toLowerCase(),color:"danger",onClick:function(){return se(t("history.table.confirm.message"),t("history.table.confirm.warning"),(function(){return e.handleRemoveOperat()}))},style:{width:"100%"},children:t("history.table.buttons.delete")})}),Object($.jsx)(V.a,{}),Object($.jsx)(V.a,{}),Object($.jsx)(V.a,{})]})]})})},ar=r(576),cr=r(26),or=r(50),ir=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},sr="LOAD_OPERATS",lr="OPERATS_LOADED",dr="LOAD_OPERATS_ERROR",ur="REMOVE_OPERAT",pr="SET_ACTIVE_OPERAT",jr="CREATE_OPERAT",br="SELECT_OPERAT_TYPE",Or="SET_PAGE_NUMBER",hr="LOAD_OPERAT_ORDER",fr="OPERAT_ORDER_LOADED",mr="LOAD_OPERAT_ORDER_ERROR",gr="SEND_PDF",xr="UPLOAD_OWN_GENERATED",yr="SET_OPERATS_FILTERS",vr="SET_OPERATS_SORT_PARAMETERS",wr="UPLOAD_SIGNED_OPERAT",kr={activeOperat:{},operatOrder:{loading:!1,error:!1,operatOrder:{}},selectedOperatType:{},operats:{loading:!1,error:!1,sortFieldName:"CreatedDateTime",sortDirection:"desc",filters:{createdDateTimeFrom:"",createdDateTimeTo:""},operats:[]},pageNumber:1},Sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr,t=arguments.length>1?arguments[1]:void 0;return Object(or.a)(e,(function(e){switch(t.type){case sr:e.operats.operats=[],e.operats.loading=!0,e.operats.error=!1;break;case dr:e.operats.loading=!1,e.operats.error=t.payload;break;case lr:e.operats.operats=t.payload,e.operats.loading=!1,e.operats.error=!1;break;case pr:e.activeOperat=t.payload;break;case br:e.selectedOperatType=t.payload;break;case Or:e.pageNumber=t.payload;break;case hr:e.operatOrder.operatOrder={},e.operatOrder.loading=!0,e.operatOrder.error=!1;break;case fr:e.operatOrder.operatOrder=t.payload,e.operatOrder.error=!1,e.operatOrder.loading=!1;break;case mr:e.operatOrder.loading=!1,e.operatOrder.error=t.payload;break;case yr:e.operats.filters=t.payload;break;case vr:e.operats.sortFieldName=ir(t.payload),e.operats.sortDirection="asc"===e.operats.sortDirection?"desc":"asc"}}))},Tr=function(e){return e.operatsPage||kr},Pr=function(){return Object(cr.a)(Tr,(function(e){return e.activeOperat}))},Cr=function(){return Object(cr.a)(Tr,(function(e){return e.operats}))},Ar=function(){return Object(cr.a)(Tr,(function(e){return e.pageNumber}))};function Er(){return{type:sr}}function _r(e){return{type:lr,payload:e}}function Rr(e,t){return{type:jr,payload:{operat:e,operatTypeParameters:t,orderless:!(arguments.length>2&&void 0!==arguments[2])||arguments[2]}}}function Ir(e){return{type:fr,payload:e}}var Nr=r(44),zr="LOAD_OPERAT_TYPES",Dr="OPERAT_TYPES_LOADED",Fr="LOAD_OPERAT_TYPES_ERROR",Lr="LOAD_USER",Ur="USER_LOADED",Mr="LOAD_USER_ERROR",Gr="LOAD_EKW_DATA",Br="EKW_DATA_LOADED",Wr="LOAD_PUBLIC_SETTINGS",Hr="PUBLIC_SETTINGS_LOADED",Kr={operatTypes:{loading:!1,error:!1,operatTypes:[]},user:{userType:"",loading:!1,error:!1,user:{}},ekw:{regions:[],weights:[],multipliers:[]},publicSettings:{}},Vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr,t=arguments.length>1?arguments[1]:void 0;return Object(or.a)(e,(function(e){switch(t.type){case zr:e.operatTypes.operatTypes=[],e.operatTypes.error=!1,e.operatTypes.loading=!0;break;case Dr:e.operatTypes.operatTypes=t.payload,e.operatTypes.loading=!1,e.operatTypes.error=!1;break;case Fr:e.operatTypes.loading=!1,e.operatTypes.error=t.payload;break;case Lr:e.user.loading=!0,e.user.error=!1,e.user.user={},e.user.userType="";break;case Ur:e.user.userType=t.payload.userType,e.user.user=t.payload.user,e.user.loading=!1,e.user.error=!1;break;case Mr:e.user.loading=!1,e.user.error=t.payload;break;case Br:e.ekw=t.payload;break;case Hr:e.publicSettings=t.payload}}))},qr=function(e){return e.global||Kr},Yr=function(){return Object(cr.a)(qr,(function(e){return e.user}))},Jr=function(){return Object(cr.a)(qr,(function(e){return e.operatTypes}))},Zr=(r(60),r(93)),Xr=r.n(Zr),Qr=r(53);function $r(e){var t={dispatch:Qr.isFunction,subscribe:Qr.isFunction,getState:Qr.isFunction,replaceReducer:Qr.isFunction,runSaga:Qr.isFunction,injectedReducers:Qr.isObject,injectedSagas:Qr.isObject};Xr()(Object(Qr.conformsTo)(e,t),"(app/utils...) injectors: Expected a valid redux store")}var en=r(197),tn=Object(je.a)(),rn="LOAD_ORDERS",nn="SET_ORDERS_PAGE_NUMBER",an="ORDERS_LOADED",cn="LOAD_ORDERS_ERROR",on="SAVE_ORDER",sn="ORDER_SAVED",ln="SAVE_ORDER_ERROR",dn="REPLACE_ORDER",un="ORDER_REPLACED",pn="LOAD_PROPOSITIONS",jn="PROPOSITIONS_LOADED",bn="LOAD_PROPOSITIONS_ERROR",On="SAVE_PROPOSITION",hn="RESERVE_ORDER_AND_PROPOSITION",fn="UNRESERVE_PROPOSITION",mn="SET_PROPOSITION_ID",gn="PROPOSITION_REPLACED",xn="REMOVE_ORDER",yn="SET_ACTIVE_ORDER",vn="ORDER_REMOVED",wn="SET_ORDER_SORT_PARAMETERS",kn="SET_ORDER_FILTERS",Sn="SET_PROPOSITIONS_SORT_PARAMETERS",Tn="SET_PROPOSITIONS_FILTER",Pn="CLEAR_PROPOSITION_FILTERS",Cn="PAY_FOR_OPERAT",An={activeOrder:{clientId:"",status:"",description:"",operators:[],hasOperator:!1,location:"",locationPostCode:"",lattitudeLongtitude:"",requeiresZbpList:!1,isPrivate:!1,shouldBeValidate:!1,name:"",createdDateTime:"",id:""},orders:{loading:!1,error:!1,pageNumber:1,sortFieldName:null,sortDirection:"desc",filters:{locationPostCode:""},orders:[]},propositions:{loading:!1,error:!1,sortFieldName:null,sortDirection:"desc",filters:{priceFrom:"",priceTo:"",upTillDateFrom:"",upTillDateTo:""},propositions:[]},saveOrder:{loading:!1,error:!1},propositionId:""},En=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments.length>1?arguments[1]:void 0;return Object(or.a)(e,(function(r){switch(t.type){case wn:r.orders.sortFieldName=ir(t.fieldName),r.orders.sortDirection="asc"===r.orders.sortDirection?"desc":"asc";break;case rn:r.orders.orders=[],r.orders.loading=!0,r.orders.error=!1;break;case an:r.orders.loading=!1,r.orders.orders=t.payload,r.orders.error=!1;break;case cn:r.orders.loading=!1,r.orders.error=t.payload;break;case nn:r.orders.pageNumber=t.payload;break;case on:r.saveOrder.error=!1,r.saveOrder.loading=!0;break;case sn:r.saveOrder.error=!1,r.saveOrder.loading=!1;break;case ln:r.saveOrder.error=t.payload,r.saveOrder.loading=!1;break;case un:r.activeOrder=t.payload,r.orders.orders=[t.payload].concat(e.orders.orders.filter((function(e){return e.id!==t.payload.id})));break;case pn:r.propositions.loading=!0,r.propositions.error=!1,r.propositions.propositions=[];break;case jn:r.propositions.loading=!1,r.propositions.error=!1,r.propositions.propositions=t.payload;break;case bn:r.propositions.loading=!1,r.propositions.error=t.payload;break;case mn:r.propositionId=t.payload;break;case gn:r.propositions.propositions=e.propositions.propositions.filter((function(e){return e.id!==t.payload.id})).concat(t.payload);break;case vn:r.orders.orders=e.orders.orders.filter((function(e){return e.id!==t.payload}));break;case yn:r.activeOrder=t.payload;break;case kn:r.orders.filters=t.payload;break;case Sn:r.propositions.sortFieldName=ir(t.payload),r.propositions.sortDirection="asc"===r.propositions.sortDirection?"desc":"asc";break;case Tn:r.propositions.filters=t.payload;break;case Pn:r.propositions.filters=An.propositions.filters}}))},_n={showModal:!1,type:"",data:{}},Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0;return Object(or.a)(e,(function(e){switch(t.type){case le:e.showModal=!0,e.type=t.payload.type,e.data=t.payload.data;break;case de:e.showModal=!1,e.type="",e.data={}}}))},In="LOAD_TRAININGS",Nn="TRAININGS_LOADED",zn="LOAD_TRAININGS_ERROR",Dn="LOAD_OPERATOR_PROFILE_DATA",Fn="OPERATOR_PROFILE_DATA_LOADED",Ln="LOAD_OPERATOR_PROFILE_DATA_ERROR",Un="ADD_TRAINING",Mn="REMOVE_TRAINING",Gn={operatorId:"",operatorProfileData:{loading:!1,error:!1,trainings:[],operatCount:0,reviews:[],diploma:"",operator:{}},trainings:{loading:!1,error:!1,trainings:[]}},Bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn,t=arguments.length>1?arguments[1]:void 0;return Object(or.a)(e,(function(e){switch(t.type){case In:e.trainings.trainings=[],e.trainings.error=!1,e.trainings.loading=!0;break;case Nn:e.trainings.trainings=t.payload,e.trainings.error=!1,e.trainings.loading=!1;break;case zn:e.trainings.error=t.payload,e.trainings.loading=!1;break;case Dn:e.operatorProfileData.loading=!0,e.operatorProfileData.error=!1,e.operatorProfileData.trainings=[],e.operatorProfileData.operatCount=0,e.operatorProfileData.reviews=[],e.operatorProfileData.diploma="",e.operatorProfileData.operator={};break;case Fn:e.operatorProfileData.loading=!1,e.operatorProfileData.error=!1,e.operatorProfileData.trainings=t.payload.trainings,e.operatorProfileData.operatCount=t.payload.operatCount,e.operatorProfileData.reviews=t.payload.reviews,e.operatorProfileData.diploma=t.payload.diploma,e.operatorProfileData.operator=t.payload.operator;break;case Ln:e.operatorProfileData.error=t.payload,e.operatorProfileData.loading=!1}}))},Wn="FILES_CLEAR_STATE",Hn="FILES_PUT_OPERAT",Kn="FILES_GET_INPUT",Vn="FILES_GET_PROTOCOL",qn="FILES_GET_CSV",Yn="FILES_GET_BY_OPERAT",Jn="FILES_LOADED",Zn="FILES_LOAD_OPERAT_TYPE",Xn="FILES_ADD_LINE_TO_CSV",Qn="FILES_REMOVE_LINE_FROM_CSV",$n="FILES_LOAD_EMPTY_INPUT",ea="FILES_LOAD_EMPTY_PROTOCOL",ta="FILES_LOAD_EMPTY_PHOTO",ra="FILES_LOAD_PHOTO_FILE_TO_GALLERY",na="FILES_SEND_PHOTOS",aa="FILES_ADD_LINES_TO_CSV_FROM_CSV",ca="FILES_PUT_PROTOCOL",oa="LOAD_OPERAT_INITIAL_WEIGHTS",ia="REMOVE_PHOTOS",sa="REMOVE_PHOTO_FILES",la="DOWNLOAD_FROM_EKW",da="GENERATE_OPERAT",ua="GENERATE_PROTOCOL",pa="SET_ALL_VALID",ja="SAVE_INPUT_AREA",ba="CSV_EDIT_CELL",Oa="SAVE_WEIGHTS_AREA",ha="FILES_GET_WEIGHTS",fa="FILES_PUT_WEIGHTS",ma="OPERAT_UPDATE_LIST",ga="OPERAT_UPDATE_PROTOCOL_LIST",xa="ADD_NEW_WEIGHT",ya="PUT_RATE",va="ADD_NEW_RATE",wa="REMOVE_WEIGHTS",ka="REMOVE_RATINGS",Sa="SET_OPERAT",Ta="SAVE_CSV_AREA",Pa=r(579),Ca={operatTypeId:"",id:"",files:{},csv:[],disabled:!0,input:[],weights:[],photo:{},operat:{},protocol:[],randomString:Date.now()},Aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,t=arguments.length>1?arguments[1]:void 0;return Object(or.a)(e,(function(e){var r="";try{r=t.payload&&t.payload.ekw&&JSON.parse(t.payload.ekw)}catch(A){r=""}var n=function(e){var r=e[t.payload.id].data[t.payload.idx].value;t.payload.del?r.splice(t.payload.listIdx,1):r=[].concat(Object(Ze.a)(r),[t.payload.value]),e[t.payload.id].data[t.payload.idx].value=r},a=e.input,c=t.payload&&t.payload.name&&a.find((function(e){return e.name===t.payload.name}));switch(t.type){case Sa:e.operat=t.payload;break;case Wn:e.input=[],e.disabled=!1,e.id="",e.photo=[],e.csv=[],e.files=[],e.weights=[],e.protocol=[],e.randomString=Date.now();break;case Hn:e.input[t.payload.id].data[t.payload.idx].value=t.payload.value;break;case ca:e.protocol[t.payload.id].data[t.payload.idx].value=t.payload.value;break;case ma:n(e.input);break;case ga:n(e.protocol);break;case fa:var o=e.weights.findIndex((function(e){return e.name===t.payload.name})),i=e.weights[o];i[t.payload.dataField]=t.payload.newValue,e.weights[o]=i;break;case xa:e.weights=[].concat(Object(Ze.a)(e.weights),[{name:Object(Pa.a)(),description:"opis",participation:20,rate:0,justification:"",ratings:[{rate:0,rateText:"Wybierz ocen\u0119",description:"opis"}]}]);break;case va:e.weights[t.payload.rowIndex].ratings=[].concat(Object(Ze.a)(e.weights[t.payload.rowIndex].ratings),[{id:Object(Pa.a)(),rate:0===e.weights[t.payload.rowIndex].ratings.length?0:Math.max.apply(Math,e.weights[t.payload.rowIndex].ratings.map((function(e){return parseInt(e.rate)})))+1,rateText:"ocena",description:"opis"}]);break;case ya:var s=e.weights[t.payload.rowIndex].ratings.findIndex((function(e){return e.rate===t.payload.rate})),l=e.weights[t.payload.rowIndex].ratings[s];l[t.payload.dataField]=t.payload.newValue,e.weights[t.payload.rowIndex].ratings[s]=l;break;case"FILES_GET_OPERAT":e.disabled=t.payload.disabled,e.id=t.payload.id,e.input=t.payload.files;break;case Zn:e.input=t.payload.input,e.photo=t.payload.photo;break;case ta:e.photo=t.payload;break;case $n:e.input=t.payload;break;case ea:e.protocol=t.payload;break;case oa:e.weights=t.payload;break;case Kn:e.input=t.payload.input;break;case Vn:e.protocol=t.payload.protocol;break;case ha:e.weights=t.payload.weights;break;case qn:e.csv=t.payload.csv;break;case Jn:e.id=t.payload.id,e.files=t.payload.files,e.operatInfo=t.payload.operatInfo,e.disabled=!0,e.operatTypeId=t.payload.operatTypeId,e.randomString=Date.now();break;case"FILES_LOAD_EMPTY_OPERAT":e.disabled=t.payload.disabled,e.id=t.payload.id;break;case"FILES_EDIT_OPERAT":e.disabled=t.payload.disabled;break;case Xn:e.csv=e.csv.concat(t.payload.newRow);break;case aa:e.csv=e.csv.concat(t.payload.newRows);break;case Qn:e.csv=e.csv.filter((function(e){return!t.payload.rows.includes(e.id)}));break;case ra:e.photo.data[t.payload.id].data.some((function(e){return e.id&&e.id===t.payload.files.id}))||(e.photo.data[t.payload.id].data.shift(),e.photo.data[t.payload.id].data.push(t.payload.files));break;case ia:var d,p=Object(_.a)(e.photo.data[t.payload.id].data);try{var j=function(){var t=d.value;delete t.file,delete t.url,e.files.photo=e.files.photo.filter((function(e){return e.item1!==t.title}))};for(p.s();!(d=p.n()).done;)j()}catch(E){p.e(E)}finally{p.f()}break;case sa:var b,O=Object(_.a)(e.photo.data[t.payload.id].data);try{for(O.s();!(b=O.n()).done;){delete b.value.file}}catch(E){O.e(E)}finally{O.f()}break;case"REMOVE_OPERAT_FROM_GENERATED":e.generated=e.generated.filter((function(e){return e.id!==t.payload}));break;case la:Object.entries(r).forEach((function(e){c.data=c.data.map((function(t){return t.name===e?Object(u.a)(Object(u.a)({},t),{},{value:r[e]}):t}))})),e.input=a.map((function(e){return e.name===t.payload.name?c:e}));break;case pa:for(var h=0;h<e.input.length;h++)if(e.input[h].data)for(var f=0;f<e.input[h].data.length;f++)"undefined"!==typeof e.input[h].data[f].isValid&&(e.input[h].data[f].isValid=!0);break;case wa:for(var m=[],g=function(r){m=[].concat(Object(Ze.a)(m),[e.weights.findIndex((function(e){return e.name===t.payload.indexes[r]}))])},x=0;x<t.payload.indexes.length;x++)g(x);for(var y=0;y<m.length;y++)e.weights.splice(m[y]-y,1);break;case ka:for(var v=Object(Ze.a)(e.weights[t.payload.rowIndex].ratings),w=[],k=function(e){w=[].concat(Object(Ze.a)(w),[v.findIndex((function(r){return r.id===t.payload.indexes[e]}))])},S=0;S<t.payload.indexes.length;S++)k(S);for(var T=0;T<w.length;T++)v.splice(w[T]-T,1);for(var P=0;P<v.length;P++)v[P].rate=P;e.weights[t.payload.rowIndex].ratings=v;break;case ba:var C=e.csv.find((function(e){return e.id===t.id}));C&&(C[t.columnToChange]=t.newValue)}}))},Ea="LOAD_USERS",_a="USERS_LOADED",Ra="LOAD_USERS_ERROR",Ia="SET_USER_TYPE",Na="PROMOTE_USER",za="DELETE_USER",Da="SET_USER_SORT_PARAMETERS",Fa="SET_USERS_PAGE_NUMBER",La="SET_USER_FILTERS",Ua={userType:"client",users:{loading:!1,error:!1,pageNumber:1,sortFieldName:null,sortDirection:"desc",users:[],filters:{mail:"",name:""}}},Ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=arguments.length>1?arguments[1]:void 0;return Object(or.a)(e,(function(e){switch(t.type){case Ia:e.userType=t.payload;break;case Ea:e.users.loading=!0,e.users.error=!1;break;case _a:e.users.loading=!1,e.users.users=t.payload;break;case Ra:e.users.loading=!1,e.users.error=t.payload;break;case Da:e.users.sortFieldName=ir(t.payload),e.users.sortDirection="asc"===e.users.sortDirection?"desc":"asc";break;case Fa:e.users.pageNumber=t.payload;break;case La:e.users.filters=t.payload}}))},Ga=function(e){var t=new Date(e),r=""+(t.getMonth()+1),n=""+t.getDate(),a=t.getFullYear();return r.length<2&&(r="0"+r),n.length<2&&(n="0"+n),[a,r,n].join("-")},Ba=function(e,t){console.log(t);var r=new Date(e),n=""+(r.getMonth()+1),a=""+r.getDate(),c=r.getFullYear(),o=""+r.getHours(),i=""+r.getMinutes(),s=""+r.getSeconds();return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),o.length<2&&(o="0"+o),i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),"".concat(a," ").concat(t[r.getMonth()]," ").concat(c,", ").concat(o,":").concat(i,":").concat(s)},Wa="LOAD_MESSAGES_WITH_USER",Ha="SET_CURRENTLY_CHAT_WITH",Ka="SET_CONNECTION",Va="SET_MESSAGES_WITH_USER",qa="LOAD_CONVERSATIONS",Ya="MARK_CONVERSATION_AS_READ",Ja="MARK_CONVERSATION_AS_UNREAD",Za="SET_CHAT_IS_OPEN",Xa="TOGGLE_MESSAGE_VISIBLE",Qa="OPEN_CHAT",$a={connection:{},messages:{},currentlyChatWith:{},conversations:[],chatIsOpen:!1},ec=function(e,t,r){var n=e.conversations.find((function(e){return e.client.id===t}));if(n){var a=e.conversations.indexOf(n);n.unread=r,e.conversations[a]=n}},tc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a,t=arguments.length>1?arguments[1]:void 0;return Object(or.a)(e,(function(e){switch(t.type){case Wa:e.messages[t.userId]=t.messages.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{date:Ba(e.date,t.monthNames)})}));break;case Ha:e.currentlyChatWith=t.payload;break;case Ka:e.connection=t.payload;break;case Va:e.messages[t.userId]=Object.prototype.hasOwnProperty.call(e.messages,t.userId)?e.messages[t.userId]=[].concat(Object(Ze.a)(e.messages[t.userId]),[t.message]):[t.message];break;case qa:e.conversations=t.payload;break;case Ya:ec(e,t.payload,!1);break;case Ja:ec(e,t.payload,!0);break;case Za:e.chatIsOpen=t.payload;break;case"MARK_MESSAGES_AS_SEEN":for(var r=0;r<e.messages[t.userId].length;r++)"me"===e.messages[t.userId][r].author&&(e.messages[t.userId][r].status="seen");break;case Xa:for(var n=0;n<e.messages[t.userId].length;n++)e.messages[t.userId][n].id!==t.messageId&&(e.messages[t.userId][n].isStatusVisible=!1,e.messages[t.userId][n].isDateVisible=!1);var a=e.messages[t.userId].find((function(e){return e.id===t.messageId}));if(!a)break;a.isStatusVisible=!a.isStatusVisible,a.isDateVisible=!a.isDateVisible}}))},rc="LOAD_OPERATORS_INFO",nc="OPERATORS_INFO_LOADED",ac="LOAD_OPERATORS_INFO_ERROR",cc="SET_SUBSCRIPTION_PAGE_NUMBER",oc="SET_OPERATORS_INFO_SORT_PARAMETER",ic="SET_OPERATORS_INFO_FILTERS",sc="SET_CURRENT_OPERATOR",lc="UPDATE_SUBSCRIPTION",dc="CREATE_SUBSCRIPTION",uc="RESET_SUBSCRIPTIONS",pc={operatorsInfo:{loading:!1,error:!1,data:[],pageNumber:1,sortFieldName:null,sortDirection:"desc",filters:{mail:"",name:""}},currentOperator:{id:"",name:""}},jc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc,t=arguments.length>1?arguments[1]:void 0;return Object(or.a)(e,(function(e){switch(t.type){case rc:e.operatorsInfo.data=[],e.operatorsInfo.error=!1,e.operatorsInfo.loading=!0;break;case nc:e.operatorsInfo.data=t.payload,e.operatorsInfo.error=!1,e.operatorsInfo.loading=!1;break;case ac:e.operatorsInfo.data=[],e.operatorsInfo.loading=!1,e.operatorsInfo.error=t.payload;break;case cc:e.operatorsInfo.pageNumber=t.payload;break;case oc:e.operatorsInfo.sortDirection="asc"===e.operatorsInfo.sortDirection?"desc":"asc",e.operatorsInfo.sortFieldName=ir(t.payload);break;case ic:e.operatorsInfo.filters=t.payload;break;case sc:e.currentOperator=t.payload}}))},bc="LOAD_HOME_PAGE_CONTENT",Oc="HOME_PAGE_CONTENT_LOADED",hc="LOAD_HOME_PAGE_CONTENT_ERROR",fc={pageContent:{content:"",loading:!0,error:!1}},mc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fc,t=arguments.length>1?arguments[1]:void 0;return Object(or.a)(e,(function(e){switch(t.type){case bc:e.pageContent.content="",e.pageContent.error=!1,e.pageContent.loading=!0;break;case Oc:e.pageContent.content=t.payload,e.pageContent.error=!1,e.pageContent.loading=!1;break;case hc:e.pageContent.data="",e.pageContent.loading=!1,e.pageContent.error=t.payload}}))};function gc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(Nr.b)(Object(u.a)(Object(u.a)({router:Object(en.a)(tn)},e),{},{marketPage:En,operatsPage:Sr,global:Vr,modal:Rn,user:Bn,operat:Aa,usersPage:Ma,chat:tc,subscriptions:jc,homePage:mc}))}function xc(e,t){return function(r,n){t||$r(e),Xr()(Object(Qr.isString)(r)&&!Object(Qr.isEmpty)(r)&&Object(Qr.isFunction)(n),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,r)&&e.injectedReducers[r]===n||(e.injectedReducers[r]=n,e.replaceReducer(gc(e.injectedReducers)))}}function yc(e){return $r(e),{injectReducer:xc(e,!0)}}var vc=function(e){var t=e.key,r=e.reducer,n=o.a.useContext(d.b);o.a.useEffect((function(){yc(n.store).injectReducer(t,r)}),[])},wc=r(6);function kc(e){if(204===e.status||205===e.status)return null;console.log(e);var t=e.headers.get("X-Page-Count");return e.url.toLowerCase().includes("pagenumber")&&t&&localStorage.setItem("pageCount",t),e.json()}function Sc(e){return Tc.apply(this,arguments)}function Tc(){return(Tc=Object(h.a)(Object(O.a)().mark((function e(t){var r,n,a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401===t.status&&be.push("/logout"),!(t.status>=200&&t.status<300)){e.next=3;break}return e.abrupt("return",t);case 3:if(403!==t.status){e.next=7;break}throw(r=new Error("Forbidden")).response=t,r;case 7:return n=new Error(t.statusText),e.next=10,t.json();case 10:throw(a=e.sent).error&&(n.message=a.error.message),a.message&&(n.message=a.message),n.response=t,n;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pc(e,t){return fetch("https://aoperatbackend-prod.azurewebsites.net"+e,t).then(Sc).then(kc)}var Cc=Object(O.a)().mark(Ec),Ac=12e4;function Ec(e,t){var r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(wc.d)({result:Object(wc.a)(Pc,e,t),timeout:Object(wc.b)(Ac)});case 2:if(r=a.sent,n=r.result,!r.timeout){a.next=7;break}throw new Error("Timeout of 120 sec exceeded");case 7:return a.abrupt("return",n);case 8:case"end":return a.stop()}}),Cc)}function _c(e){var t=e.replace(/\\\\n/g,"\\n").replace('"{',"{").replace('}"',"}").replace(/\s+/g," ").replace(/\\"/g,'"');return JSON.parse(t)}var Rc=Object(O.a)().mark(Gc),Ic=Object(O.a)().mark(Bc),Nc=Object(O.a)().mark(Wc),zc=Object(O.a)().mark(Hc),Dc=Object(O.a)().mark(Kc),Fc=Object(O.a)().mark(Vc),Lc=Object(O.a)().mark(qc),Uc=Object(O.a)().mark(Yc),Mc=Object(O.a)().mark(Jc);function Gc(){var e,t,r,n,a,c;return Object(O.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(wc.e)(Ar());case 2:return e=o.sent,o.next=5,Object(wc.e)(Cr());case 5:return t=o.sent,r="/Operat/my?pageNumber="+e,""!==t.filters.createdDateTimeFrom&&(r+="&createdDateTimeFrom=".concat(t.filters.createdDateTimeFrom)),""!==t.filters.createdDateTimeTo&&(r+="&createdDateTimeTo=".concat(t.filters.createdDateTimeTo)),t.sortFieldName&&(r+="&fieldName=".concat(t.sortFieldName,"&direction=").concat(t.sortDirection)),o.next=12,Object(wc.a)(he);case 12:return n=o.sent,a={method:"GET",headers:n},o.prev=14,o.next=17,Object(wc.a)(Pc,r,a);case 17:return c=o.sent,o.next=20,Object(wc.c)(_r(c));case 20:o.next=26;break;case 22:return o.prev=22,o.t0=o.catch(14),o.next=26,Object(wc.c)((i=o.t0,{type:dr,payload:i}));case 26:case"end":return o.stop()}var i}),Rc,null,[[14,22]])}function Bc(){var e,t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(wc.e)(Pr());case 2:return e=a.sent,t="/Operat/id/".concat(e.id),a.next=6,Object(wc.a)(he);case 6:return r=a.sent,n={method:"DELETE",headers:r},a.prev=8,a.next=11,Object(wc.a)(Pc,t,n);case 11:return a.next=13,Object(wc.c)(Er());case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(8),console.log(a.t0);case 18:case"end":return a.stop()}}),Ic,null,[[8,15]])}function Wc(e){var t,r,n,a,c,o,i,s,l,d,u,p,j;return Object(O.a)().wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,Object(wc.c)(ue(q.LOADING,{message:"Trwa tworzenie operatu..."}));case 2:return t=e.payload,r=t.operat,n=t.operatTypeParameters,a=t.orderless,c="/Operat",o=_c(n),b.next=7,Object(wc.a)(he,"json");case 7:return i=b.sent,s={method:"POST",headers:i,body:JSON.stringify(r)},b.prev=9,b.next=12,Object(wc.a)(Pc,c,s);case 12:return l=b.sent,d=new FormData,u=new Blob([JSON.stringify({weights:o.weights})],{type:"application/json"}),d.append("file",u,"weights.json"),b.next=18,Object(wc.a)(he);case 18:return b.t0=b.sent,b.t1=d,p={method:"POST",headers:b.t0,body:b.t1},j="/OperatFiles/upload/".concat(l.id,"/convert"),b.next=24,Object(wc.a)(Ec,j,p);case 24:if(!0!==a){b.next=27;break}return b.next=27,Object(wc.c)(Er());case 27:return b.next=29,Object(wc.c)(pe());case 29:case 36:b.next=40;break;case 31:if(b.prev=31,b.t2=b.catch(9),!b.t2.response||402!==b.t2.response.status){b.next=38;break}return b.next=36,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"unactiveSubscription",translate:!0}));case 38:return b.next=40,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"createOperatFailed",translate:!0}));case 40:case"end":return b.stop()}}),Nc,null,[[9,31]])}function Hc(){var e,t,r,n,a;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(wc.e)(Pr());case 2:if((e=c.sent).orderId!==Z.EMPTY_GUID){c.next=7;break}return c.next=6,Object(wc.c)(Ir({}));case 6:return c.abrupt("return");case 7:return t="/Order/id/"+e.orderId,r={Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},n={method:"GET",headers:r},c.prev=10,c.next=13,Object(wc.a)(Pc,t,n);case 13:return a=c.sent,c.next=16,Object(wc.c)(Ir(a));case 16:c.next=22;break;case 18:return c.prev=18,c.t0=c.catch(10),c.next=22,Object(wc.c)((o=c.t0,{type:mr,payload:o}));case 22:case"end":return c.stop()}var o}),zc,null,[[10,18]])}function Kc(e){var t,r,n,a;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:for(t="/Operat/id/".concat(e.id,"/send?sendToPrincipal=").concat(e.sendToPrincipal),r=0;r<e.emails.length;r++)t+="&emails=".concat(e.emails[r]);return n={"Content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},a={method:"POST",headers:n},c.prev=4,c.next=7,Object(wc.c)(ue(q.LOADING,{message:"sendingOperat",translate:!0}));case 7:return c.next=9,Object(wc.a)(Ec,t,a);case 9:return c.next=11,Object(wc.c)(pe());case 11:c.next=18;break;case 13:return c.prev=13,c.t0=c.catch(4),c.next=17,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"sendingOperatFailed",translate:!0}));case 17:console.log(c.t0);case 18:case"end":return c.stop()}}),Dc,null,[[4,13]])}function Vc(e,t){var r,n,a;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r={Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},(n=new FormData).append("file",t.file),a={method:"POST",headers:r,body:n},c.next=6,Object(wc.c)(ue(q.LOADING,{message:"loadingOperat",translate:!0}));case 6:return c.next=8,Object(wc.a)(Ec,e,a);case 8:return c.next=10,Object(wc.c)(Er());case 10:return c.next=12,Object(wc.c)(pe());case 12:return c.next=14,Object(wc.a)(Qe,"Informacja","Operat zosta\u0142 pomy\u015blnie wgrany na platform\u0119 Aoperat.","info");case 14:case"end":return c.stop()}}),Fc)}function qc(e){var t;return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="/OperatFiles/id/".concat(e.id,"/own"),r.prev=1,r.next=4,Object(wc.a)(Vc,t,e);case 4:r.next=10;break;case 6:return r.prev=6,r.t0=r.catch(1),r.next=10,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"uploadOperatFailed",translate:!0}));case 10:case"end":return r.stop()}}),Lc,null,[[1,6]])}function Yc(e){var t;return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="/OperatFiles/id/".concat(e.id,"/upload-signed"),r.prev=1,r.next=4,Object(wc.a)(Vc,t,e);case 4:r.next=10;break;case 6:return r.prev=6,r.t0=r.catch(1),r.next=10,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"uploadSignedOperatFailed",translate:!0}));case 10:case"end":return r.stop()}}),Uc,null,[[1,6]])}function Jc(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wc.g)(sr,Gc);case 2:return e.next=4,Object(wc.g)(ur,Bc);case 4:return e.next=6,Object(wc.g)(jr,Wc);case 6:return e.next=8,Object(wc.g)(hr,Hc);case 8:return e.next=10,Object(wc.g)(gr,Kc);case 10:return e.next=12,Object(wc.g)(xr,qc);case 12:return e.next=14,Object(wc.g)(wr,Yc);case 14:case"end":return e.stop()}}),Mc)}var Zc="@@saga-injector/daemon",Xc="@@saga-injector/once-till-unmount",Qc=["@@saga-injector/restart-on-remount",Zc,Xc],$c=function(e){return Xr()(Object(Qr.isString)(e)&&!Object(Qr.isEmpty)(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},eo=function(e){var t={saga:Qr.isFunction,mode:function(e){return Object(Qr.isString)(e)&&Qc.includes(e)}};Xr()(Object(Qr.conformsTo)(e,t),"(app/utils...) injectSaga: Expected a valid saga descriptor")};function to(e,t){return function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;t||$r(e);var c=Object(u.a)(Object(u.a)({},n),{},{mode:n.mode||Zc}),o=c.saga,i=c.mode;$c(r),eo(c);var s=Reflect.has(e.injectedSagas,r);(!s||s&&i!==Zc&&i!==Xc)&&(e.injectedSagas[r]=Object(u.a)(Object(u.a)({},c),{},{task:e.runSaga(o,a)}))}}function ro(e,t){return function(r){if(t||$r(e),$c(r),Reflect.has(e.injectedSagas,r)){var n=e.injectedSagas[r];n.mode&&n.mode!==Zc&&(n.task.cancel(),e.injectedSagas[r]="done")}}}function no(e){return $r(e),{injectSaga:to(e,!0),ejectSaga:ro(e,!0)}}var ao=function(e){var t=e.key,r=e.saga,n=e.mode,a=o.a.useContext(d.b);o.a.useEffect((function(){var e=no(a.store);return e.injectSaga(t,{saga:r,mode:n}),function(){e.ejectSaga(t)}}),[])},co=r(19),oo=r(242),io=r(244),so=r(246),lo=function(e){var t=Object(d.e)((function(e){return e.global.user.user})),r=Object(c.useState)({name:"",orderId:e.orderId,operatorId:t.id,operatTypeId:"",isTest:!1}),n=Object(A.a)(r,2),a=n[0],o=n[1],i=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value,r=Object(u.a)(Object(u.a)({},a),{},Object(co.a)({},e.target.name,t));o(r)};return Object($.jsxs)(oo.a,{id:"new-operat-form",onSubmit:function(t){t.preventDefault();var r=e.operatTypes.find((function(e){return e.id===a.operatTypeId})).parameters;e.handleCreateOperat(a,r,!0)},children:[Object($.jsxs)(G.a,{type:"select",required:!0,className:"dark-select",id:"operat-type-select",name:"operatTypeId",value:a.operatTypeId,onChange:i,style:{width:"100%"},placeholder:"Wybierz typ operatu",children:[Object($.jsx)("option",{value:"",disabled:!0,children:"Wybierz rodzaj operatu"}),e.operatTypes.map((function(e){return Object($.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"operat-name",children:"Nazwa operatu"}),Object($.jsx)(G.a,{type:"text",id:"operat-name",name:"name",required:!0,onChange:i})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(G.a,{type:"checkbox",id:"operat-is-test",name:"isTest",style:{margin:"3px"},checked:a.isTest,onChange:i}),Object($.jsx)(so.a,{for:"operat-is-test",children:"Operat testowy"})]}),Object($.jsx)(W.a,{type:"submit",color:"success",children:"Stw\xf3rz operat"})]})},uo=function(e){var t=e.handleSetOperatFilters,r=Object(c.useState)(""),n=Object(A.a)(r,2),a=n[0],o=n[1],i=Object(c.useState)(""),s=Object(A.a)(i,2),l=s[0],d=s[1];return Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:Object($.jsxs)(oo.a,{onSubmit:function(e){e.preventDefault(),t({createdDateTimeFrom:a,createdDateTimeTo:l})},children:[Object($.jsx)("label",{for:"filter-operat-created-date-time-from",children:"Data utworzenia od"}),Object($.jsx)(G.a,{type:"date",placeholder:"Data utworzenia od",id:"filter-operat-created-date-time-from",name:"filter-operat-created-date-time-from",onChange:function(e){o(e.target.value)},value:a}),Object($.jsx)("label",{for:"filter-operat-created-date-time-to",children:"Data utworzenia do"}),Object($.jsx)(G.a,{type:"date",placeholder:"Data utworzenia do",id:"filter-operat-created-date-time-to",name:"filter-operat-created-date-time-to",onChange:function(e){d(e.target.value)},value:l}),Object($.jsx)(W.a,{onClick:function(){o(""),d(""),t({createdDateTimeFrom:"",createdDateTimeTo:""})},children:"Wyczy\u015b\u0107"}),Object($.jsx)(W.a,{type:"submit",color:"success",children:"Filtruj"})]})})})},po=function(e){var t=e.setIsIdHidden,r=e.isIdHidden,n=e.label;return Object($.jsx)(io.a,{children:Object($.jsx)(V.a,{sm:{size:10},children:Object($.jsx)(io.a,{children:Object($.jsxs)(so.a,{for:"show-operat-id",sm:10,onClick:function(){t(!r)},children:[Object($.jsx)(G.a,{name:"show-operat-id",id:"show-operat-id",type:"checkbox",checked:!r,onChange:function(){t(!r)}}),n]})})})})},jo="operatsPage";var bo=Object(cr.b)({operats:Cr(),operatTypes:Jr(),operatOrder:Object(cr.a)(Tr,(function(e){return e.operatOrder}))});var Oo=Object(d.c)(bo,(function(e){return{handleLoadOperats:function(){return e(Er())},handleRemoveOperat:function(){return e({type:ur})},handleSetActiveOperat:function(t){return e(function(e){return{type:pr,payload:e}}(t))},handleCreateOperat:function(t,r,n){return e(Rr(t,r,n))},handleSelectOperatType:function(t){return e(function(e){return{type:br,payload:e}}(t))},handleSetPageNumber:function(t){return e(function(e){return{type:Or,payload:e}}(t))},handleLoadOperatOrder:function(){return e({type:hr})},handleSendPdf:function(t,r,n){return e(function(e,t,r){return{type:gr,id:e,emails:t,sendToPrincipal:r}}(t,r,n))},handleUploadOwnGeneratedOperat:function(t,r){return e(function(e,t){return{type:xr,id:e,file:t}}(t,r))},handleUploadSignedOperat:function(t,r){return e(function(e,t){return{type:wr,id:e,file:t}}(t,r))},handleSetOperatFilters:function(t){return e({type:yr,payload:t})},handleSetOperatSortParameters:function(t){return e({type:vr,payload:t})}}})),ho=Object(Nr.c)(Oo,c.memo)((function(e){vc({key:jo,reducer:Sr}),ao({key:jo,saga:Jc});var t=Object(p.a)("common").t,r=Object(j.f)(),n=Object(d.e)((function(e){return e.global.user})),a=Object(c.useState)(!0),o=Object(A.a)(a,2),i=o[0],s=o[1],l=Object(c.useState)(!1),b=Object(A.a)(l,2),O=b[0],h=b[1],f=Object(c.useState)(!1),m=Object(A.a)(f,2),g=m[0],x=m[1],y=n.userType===Y.ADMIN;Object(c.useEffect)((function(){new URLSearchParams(r.location.search).get("pageNumber")||e.handleSetPageNumber("1")}),[]),Object(c.useEffect)((function(){e.handleLoadOperats()}),[r.location.search,e.operats.filters,e.operats.sortDirection,e.operats.sortFieldName]);var v={onSort:function(t,r){e.handleSetOperatSortParameters(t)},sortFunc:function(e,t,r,n,a,c){},sort:!0},w=[{dataField:"id",text:"ID",hidden:i},{dataField:"inProcess",text:t("history.table.headers.inProgress"),editable:!1,headerStyle:{width:"15%"},align:"center",headerAlign:"center",formatter:function(e,t){return Object($.jsx)("label",{children:Object($.jsx)(G.a,{type:"checkbox",defaultChecked:t.inProcess})})}},{dataField:"isTest",text:"Test",headerAlign:"center",align:"center",editable:!1,hidden:!y,formatter:function(e,t){return Object($.jsx)("div",{children:Object($.jsx)(G.a,{type:"checkbox",disabled:!0,checked:t.isTest})})}},Object(u.a)(Object(u.a)({dataField:"createdDateTime",text:t("history.table.headers.applicationDate"),align:"center",headerAlign:"center",editable:!1},v),{},{sort:!0,formatter:function(e,t){return Object($.jsx)("div",{children:e.split("T")[0]})},headerStyle:function(e,t){return{width:"15%",textAlign:"center"}}}),Object(u.a)(Object(u.a)({dataField:"name"},v),{},{sort:!0,text:t("history.table.headers.informations"),headerAlign:"center",align:"center",editable:!1}),{dataField:"author",sort:!1,text:t("history.table.headers.author"),headerAlign:"center",align:"center",editable:!1}];return Object($.jsx)("div",{className:"content",children:Object($.jsxs)("div",{className:"container",children:[y&&Object($.jsx)(po,{setIsIdHidden:function(e){return s(e)},isIdHidden:i,label:t("history.showOperatId")}),Object($.jsxs)(B.a,{children:[Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{onClick:function(){return x((function(e){return!e}))},children:t("history.table.buttons.createOperat")}),Object($.jsx)(D.a,{isOpen:g,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:Object($.jsx)(lo,{operatTypes:e.operatTypes.operatTypes,handleCreateOperat:e.handleCreateOperat,orderId:Z.EMPTY_GUID})})})})]}),Object($.jsxs)(V.a,{md:"12",children:[Object($.jsx)(W.a,{color:"success",onClick:function(){return h((function(e){return!e}))},children:t("history.table.buttons.filters")}),Object($.jsx)(D.a,{isOpen:O,children:Object($.jsx)(uo,{handleSetOperatFilters:e.handleSetOperatFilters})}),Object($.jsx)(ar.a,{count:localStorage.getItem("pageCount"),color:"primary",page:new URLSearchParams(r.location.search).get("pageNumber")?parseInt(new URLSearchParams(r.location.search).get("pageNumber")):1,onChange:function(t,n){var a=new URLSearchParams(r.location.search);a.set("pageNumber",n.toString()),r.push({pathname:"/history",search:a.toString()}),e.handleSetPageNumber(n.toString()),e.handleLoadOperats()}}),e.operats.loading?Object($.jsx)(ae,{}):Object($.jsx)(M.a,{bootstrap4:!0,keyField:"id",data:e.operats.operats,columns:w,striped:!0,hover:!0,condensed:!0,bordered:!1,expandRow:{onlyOneExpanding:!0,onExpand:function(t,r,n,a){e.handleSetActiveOperat(t)},renderer:function(t){return Object($.jsx)(nr,{row:t,history:e.history,handleRemoveOperat:e.handleRemoveOperat,handleLoadOperats:e.handleLoadOperats,handleLoadOperatOrder:e.handleLoadOperatOrder,operatOrder:e.operatOrder,handleSendPdf:e.handleSendPdf,handleSetActiveOperat:e.handleSetActiveOperat,handleUploadOwnGeneratedOperat:e.handleUploadOwnGeneratedOperat,handleUploadSignedOperat:e.handleUploadSignedOperat})}}})]})]})]})})})),fo=r(254),mo=r(234),go=r(235),xo=r(167);function yo(e){var t=Object(c.useState)({lat:52.2492292821819,lng:21.0120537940507}),r=Object(A.a)(t,2),n=r[0],a=r[1],o=Object(c.useState)(!1),i=Object(A.a)(o,2),s=i[0],l=i[1];Object(c.useEffect)((function(){0!==e.locationInfo.latlng.lat?(a({lat:e.locationInfo.latlng.lat,lng:e.locationInfo.latlng.lng}),l(!0)):navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){a({lat:e.coords.latitude,lng:e.coords.longitude}),l(!0)}),(function(){return l(!0)})):l(!0)}),[e.locationInfo.latlng.lat,e.locationInfo.latlng.lng]);var d=function(t,r){return""!==e.locationInfo.address?function(t,r){var n="".concat(e.locationInfo.address," ").concat(e.locationInfo.locationPostCode),a=new r.Geocoder,c=new r.InfoWindow;a.geocode({address:n}).then((function(n){var a=n.results;if(a[0]){t.setZoom(11),t.setCenter(a[0].geometry.location);var o=new r.Marker({draggable:!0,map:t,position:a[0].geometry.location});return u(o),c.setContent(a[0].formatted_address),c.open(t,o),e.setCoords({lat:o.position.lat(),lng:o.position.lng()}),o}}))}(t,r):function(t,r){var a=new t.InfoWindow,c=new t.Marker({position:n,map:r,draggable:!0});return u(c),a.setContent("Przeci\u0105gnij mnie"),a.open(r,c),e.setCoords({lat:c.position.lat(),lng:c.position.lng()}),c}(r,t)};return Object($.jsxs)("div",{children:[Object($.jsx)("div",{style:{display:"flex"},children:Object($.jsx)(W.a,{onClick:e.close,color:"danger",className:"mb-3",style:{marginLeft:"auto",fontWeight:"bold",fontSize:"16px"},children:"X"})}),Object($.jsx)("div",{style:{height:"75vh",width:"75vh"},children:s&&Object($.jsx)(xo.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADB2C_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_AUTHORITY_DOMAIN:"aoperatpl.b2clogin.com",REACT_APP_ADB2C_EDIT_PROFILE_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_EDIT_PROFILE_POLICY:"b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_FORGOT_PASSWORD_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_FORGOT_PASSWORD_POLICY:"b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_KNOWN_AUTHORITIES:"aoperatpl.b2clogin.com",REACT_APP_ADB2C_LOGIN_SCOPES:"",REACT_APP_ADB2C_POST_LOGOUT_REDIRECT_URI:"/",REACT_APP_ADB2C_REDIRECT_URI:"/",REACT_APP_ADB2C_SIGNUP_SIGNIN_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_SIGNUP_SIGNIN_POLICY:"b2c_1_aoperatfrontendsignupsignin1",REACT_APP_API_URL:"https://aoperatbackend-prod.azurewebsites.net",REACT_APP_GOOGLE_API_URL:"https://maps.googleapis.com/maps/api/js?key="}).REACT_APP_GOOGLE_API_KEY},defaultCenter:n,defaultZoom:11,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=e.map,r=e.maps;return d(t,r)}})})]});function u(t){t.addListener("mouseup",(function(){e.setCoords({lat:t.position.lat(),lng:t.position.lng()})}))}}function vo(e){return Object($.jsx)("div",{style:{height:"75vh",width:"75vh"},children:Object($.jsx)(xo.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADB2C_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_AUTHORITY_DOMAIN:"aoperatpl.b2clogin.com",REACT_APP_ADB2C_EDIT_PROFILE_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_EDIT_PROFILE_POLICY:"b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_FORGOT_PASSWORD_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_FORGOT_PASSWORD_POLICY:"b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_KNOWN_AUTHORITIES:"aoperatpl.b2clogin.com",REACT_APP_ADB2C_LOGIN_SCOPES:"",REACT_APP_ADB2C_POST_LOGOUT_REDIRECT_URI:"/",REACT_APP_ADB2C_REDIRECT_URI:"/",REACT_APP_ADB2C_SIGNUP_SIGNIN_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_SIGNUP_SIGNIN_POLICY:"b2c_1_aoperatfrontendsignupsignin1",REACT_APP_API_URL:"https://aoperatbackend-prod.azurewebsites.net",REACT_APP_GOOGLE_API_URL:"https://maps.googleapis.com/maps/api/js?key="}).REACT_APP_GOOGLE_API_KEY},defaultCenter:e.cords,defaultZoom:11,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){return function(t,r){return new r.Marker({position:e.cords,map:t})}(t.map,t.maps)}})})}var wo=function(e){var t=Object(p.a)("common").t,r=e.row.latitudeLongitude.split(","),n=r.length>1&&{lat:parseFloat(r[0]),lng:parseFloat(r[1])};return Object($.jsx)($.Fragment,{children:Object($.jsx)(fo.a,{toggler:"#orderData",children:Object($.jsx)(H.a,{children:Object($.jsxs)(K.a,{children:[Object($.jsx)("div",{children:Object($.jsxs)("p",{children:[Object($.jsxs)("b",{children:[t("common.orderInfo.description"),":"]})," ",e.row.description]})}),Object($.jsx)("div",{children:Object($.jsxs)("p",{children:[Object($.jsxs)("b",{children:[t("common.orderInfo.address"),":"]})," ",e.row.location]})}),Object($.jsx)("div",{children:Object($.jsxs)("p",{children:[Object($.jsxs)("b",{children:[t("common.orderInfo.orderSubject"),":"]})," ",e.row.orderSubject]})}),Object($.jsx)("div",{children:Object($.jsxs)("p",{children:[Object($.jsxs)("b",{children:[t("common.orderInfo.valuationScope"),":"]})," ",e.row.valuationScope]})}),Object($.jsx)("div",{children:Object($.jsxs)("p",{children:[Object($.jsxs)("b",{children:[t("common.orderInfo.landRegisterNumber"),":"]})," ",e.row.ekw]})}),Object($.jsx)("div",{children:Object($.jsxs)("p",{children:[Object($.jsxs)("b",{children:[t("common.orderInfo.propertyIdentification"),":"]})," ",e.row.propertyIdentification]})}),Object($.jsx)(W.a,{className:"long-btn",id:"UncontrolledPopoverMAP",type:"button",color:"success",children:"Poka\u017c map\u0119"}),Object($.jsx)(mo.a,{placement:"right",target:"UncontrolledPopoverMAP",trigger:"legacy",children:Object($.jsx)(go.a,{children:"0"!==r[0]?Object($.jsx)(vo,{cords:n}):Object($.jsx)("div",{children:"Nie podano wsp\xf3\u0142rzednych"})})})]})})})})};function ko(e){return{type:Ha,payload:e}}function So(e){return{type:Ya,payload:e}}function To(e){return{type:Za,payload:e}}var Po=function(e){var t=Object(c.useState)(null),r=Object(A.a)(t,2),n=r[0],a=r[1],o=Object(p.a)("common").t,i=Object(d.e)((function(e){return e.global.user})),s=Object(d.d)(),l=i.userType===Y.ADMIN;Object(c.useEffect)((function(){s(ue(q.LOADING,{message:"loadingData",translate:!0})),At.getUserType(e.id).then((function(t){t===Y.OPERATOR&&Ne.getOperatorData(e.id).then((function(e){e.role=Y.OPERATOR,a(e),s(pe())})).catch((function(e){})),t===Y.CLIENT&&Ut.getClientData(e.id).then((function(e){e.role=Y.CLIENT,a(e),s(pe())})).catch((function(e){})),t===Y.ADMIN&&It.getAdminDataById(e.id).then((function(e){e.role=Y.ADMIN,a(e),s(pe())})).catch((function(e){})),""===t&&s(pe())})).catch((function(e){})).finally((function(){return s(pe())}))}),[e.id,s]);var u,j,b=function(e,t){return t&&Object($.jsx)("div",{children:e+": "+t})};return Object($.jsx)("div",{children:n?Object($.jsxs)("div",{children:[l&&b(o("common.userInfo.role"),n.role),l&&b("Id",n.id),(u=o("common.userInfo.mail"),j=n.mail,j&&Object($.jsxs)("div",{children:[u+": ",Object($.jsx)("a",{href:"mailto:"+j,children:j})]})),b(o("common.userInfo.phone"),n.phone),b(o("common.userInfo.nameWithTitle"),n.nameWithTitle),b(o("common.userInfo.address"),n.address.replaceAll("undefined, ","").replaceAll("undefined","")),Object($.jsx)("div",{children:Object($.jsx)(W.a,{color:"info",onClick:function(){s(ko(n)),s(To(!0))},children:o("common.userInfo.sendMessage")})})]}):Object($.jsx)("div",{children:o("common.userInfo.noPayerInfo")})})},Co=function(e){var t=Object(p.a)("common").t,r=Object(c.useState)(""),n=Object(A.a)(r,2),a=n[0],o=n[1],i=Object(c.useState)(""),s=Object(A.a)(i,2),l=s[0],d=s[1];return Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:Object($.jsx)(oo.a,{id:"new-offer",onSubmit:function(t){t.preventDefault(),e.onSubmit(),e.hide()},children:Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-6",children:Object($.jsxs)("div",{className:"justify-content-center",children:[Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"exampleNumber",children:t("common.userInfo.description")}),Object($.jsx)(G.a,{type:"textarea",name:"description",id:"description",placeholder:t("common.userInfo.orderDescription")})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"exampleNumber",children:t("common.userInfo.offeredPrice")}),Object($.jsx)(G.a,{type:"number",id:"exampleNumber",name:"exampleNumber",min:10,max:9999999,onKeyPress:function(e){return Oe.validatePositiveNumbers(e,/^[0-9]{0,10}$/)},placeholder:t("common.userInfo.offeredPrice"),onChange:function(e){(e.target.value.startsWith("-")||e.target.value<0||""===e.target.value)&&(e.target.value=""),e.target.value>=0&&o(e.target.value)},required:!0})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"exampleDate",children:t("common.userInfo.endDate")}),Object($.jsx)(G.a,{type:"date",name:"date",id:"exampleDate",placeholder:"date placeholder",onChange:function(e){d(e.target.value)},required:!0})]})]})}),Object($.jsx)("div",{className:"col-4 d-flex justify-content-center align-items-center",children:Object($.jsx)(W.a,{color:"success",disabled:""===a||""===l,children:t("common.userInfo.makeAnOffer")})})]})})})})},Ao=r(160),Eo=r.n(Ao),_o=function(e){var t=e.handleSetPropositionFilters,r=Object(c.useState)(""),n=Object(A.a)(r,2),a=n[0],o=n[1],i=Object(c.useState)(""),s=Object(A.a)(i,2),l=s[0],d=s[1],u=Object(c.useState)(""),p=Object(A.a)(u,2),j=p[0],b=p[1],O=Object(c.useState)(""),h=Object(A.a)(O,2),f=h[0],m=h[1];return Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:Object($.jsxs)(oo.a,{onSubmit:function(e){e.preventDefault(),t({upTillDateFrom:a,upTillDateTo:l,priceFrom:j,priceTo:f})},children:[Object($.jsx)("label",{for:"order-proposition-price-from",children:"Cena od"}),Object($.jsx)(G.a,{type:"number",placeholder:"Cena od",id:"order-proposition-price-from",name:"order-proposition-price-from",onChange:function(e){b(e.target.value)},value:j}),Object($.jsx)("label",{for:"order-proposition-price-to",children:"Cena do"}),Object($.jsx)(G.a,{type:"number",placeholder:"Cena do",id:"order-proposition-price-to",name:"order-proposition-price-to",onChange:function(e){m(e.target.value)},value:f}),Object($.jsx)("label",{for:"order-proposition-up-till-date-from",children:"Termin uko\u0144czenia od"}),Object($.jsx)(G.a,{type:"date",placeholder:"Termin uko\u0144czenia od",id:"order-proposition-up-till-date-from",name:"order-proposition-up-till-date-from",onChange:function(e){o(e.target.value)},value:a}),Object($.jsx)("label",{for:"order-proposition-up-till-date-to",children:"Termin uko\u0144czenia do"}),Object($.jsx)(G.a,{type:"date",placeholder:"Termin uko\u0144czenia do",id:"order-proposition-up-till-date-to",name:"order-proposition-up-till-date-to",onChange:function(e){d(e.target.value)},value:l}),Object($.jsx)(W.a,{onClick:function(){o(""),d(""),b(""),m(""),t({upTillDateFrom:"",upTillDateTo:"",priceFrom:"",priceTo:""})},children:"Wyczy\u015b\u0107"}),Object($.jsx)(W.a,{type:"submit",color:"success",children:"Filtruj"})]})})})},Ro=function(e,t,r,n,a){var c=t.some((function(e){return"reserved"===e.reservationStatus.toLowerCase()})),o="reserved"===e.reservationStatus.toLowerCase(),i=r[0].idTokenClaims.oid,s=n===r[0].idTokenClaims.oid;return!(!a||o||e.operatorId!==i)||(s?c?!o:o:a?!(o&&e.operatorId===i):c&&!o||e.operatorId!==i)};var Io=function(e){var t=Object(c.useState)(!0),r=Object(A.a)(t,2),n=r[0],a=r[1],o=Object(c.useState)(!1),i=Object(A.a)(o,2),s=i[0],l=i[1],O=Object(b.e)().accounts,h=Object(d.e)((function(e){return e.global.user})),f=h.userType===Y.ADMIN,m=h.userType===Y.OPERATOR,g=Object(p.a)("common").t,x=Object(j.f)(),y={onSort:function(t,r){e.handleSetPropositionsSortParameters(t)},sortFunc:function(e,t,r,n,a,c){},sort:!0};Object(c.useEffect)((function(){e.handleLoadPropositions()}),[e.propositions.sortFieldName,e.propositions.sortDirection,e.propositions.filters]);var v=[{dataField:"id",text:"ID",hidden:n},Object(u.a)(Object(u.a)({dataField:"description",text:g("market.table.headers.description"),editable:!1},y),{},{sort:!0,align:"center",headerAlign:"center"}),Object(u.a)(Object(u.a)({dataField:"price",text:g("market.table.headers.price"),editable:!1},y),{},{sort:!0,align:"center",headerAlign:"center"}),{dataField:"reservationStatus",text:g("market.table.headers.status"),editable:!1,align:"center",headerAlign:"center",formatter:function(e,t){return Object($.jsx)("div",{children:"unknown"===t.reservationStatus.toLowerCase()?"":t.reservationStatus})}},Object(u.a)(Object(u.a)({dataField:"upTillDate",text:g("market.table.headers.upTillDate"),align:"center",headerAlign:"center"},y),{},{formatter:function(e,t){return Object($.jsx)("div",{children:e&&e.split("T")[0]})},headerStyle:function(e,t){return{width:"16%",textAlign:"center"}}}),{text:"rzeczoznawca",align:"center",headerAlign:"center",editable:!0,formatter:function(e,t){return Object($.jsx)(W.a,{color:"primary",onClick:function(){x.push({pathname:"/users-profile",search:"?operatorId="+t.operatorId})},children:"Profil rzeczoznawcy"})}},{text:"ocena rzeczoznawcy",align:"center",headerAlign:"center",editable:!0,formatter:function(e,t){return t.avgOperatorRating?Object($.jsxs)("div",{className:"d-flex justify-content-center",id:"avg-rating-"+t.id,children:[Object($.jsx)(Eo.a,{count:5,edit:!1,isHalf:!0,value:Math.ceil(t.avgOperatorRating),size:24,activeColor:"#ffd700"}),Object($.jsx)(ce.a,{flip:!0,target:"avg-rating-"+t.id,children:t.avgOperatorRating.toFixed(3)})]}):"Brak danych"}},{text:g("market.table.headers.accept-resign"),align:"center",headerAlign:"center",editable:!0,formatter:function(t,r){return Object($.jsx)(W.a,{disabled:Ro(r,e.propositions.propositions,O,e.activeOrder.clientId,m),color:"reserved"===r.reservationStatus.toLowerCase()?"danger":"success",onClick:function(){e.handleSetPropositionId(r.id),"unknown"===r.reservationStatus.toLowerCase()||"unreserved"===r.reservationStatus.toLowerCase()?e.handleReserveOrderAndProposition():e.handleUnreserveProposition()},children:"reserved"===r.reservationStatus.toLowerCase()?g("market.table.buttons.resign"):g("market.table.buttons.accept")})}}];return Object($.jsxs)("div",{className:"content",children:[Object($.jsx)(W.a,{onClick:function(){return l((function(e){return!e}))},color:"success",children:"Filtry"}),Object($.jsx)(D.a,{isOpen:s,children:Object($.jsx)(_o,{handleSetPropositionFilters:e.handleSetPropositionFilters})}),f&&Object($.jsx)(po,{setIsIdHidden:a,label:g("market.showPropositionId"),isIdHidden:n}),e.propositions.loading?Object($.jsx)(ae,{}):Object($.jsx)(M.a,{bootstrap4:!0,keyField:"id",data:e.propositions.propositions,columns:v,striped:!0,hover:!0,bordered:!1})]})};var No=function(e){var t=Object(d.e)((function(e){return e.global.user})),r=Object(c.useState)(!1),n=Object(A.a)(r,2),a=n[0],o=n[1],i=Object(c.useState)(!1),s=Object(A.a)(i,2),l=s[0],u=s[1],j=Object(c.useState)(!1),O=Object(A.a)(j,2),h=O[0],f=O[1],m=Object(p.a)("common").t,g=Object(b.e)().accounts;return Object($.jsxs)("div",{children:[(Y.ADMIN===t.userType||t.userType===Y.OPERATOR&&g[0].idTokenClaims.oid!==e.activeOrder.clientId)&&Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{color:"primary",className:"long-btn",onClick:function(){f(!h)},style:{marginBottom:"1rem"},children:m("market.table.buttons.submittOffer")})," ",Object($.jsx)(D.a,{isOpen:h,children:h&&Object($.jsx)(Co,{onSubmit:e.handleSaveProposition,hide:function(){return f(!1)}})})]}),Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{className:"long-btn proposition-list-toggler",color:"secondary",style:{marginBottom:"1rem"},onClick:function(){o(!a)},children:m("market.table.buttons.submittedOffers")}),Object($.jsx)(D.a,{isOpen:a,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:a&&Object($.jsx)(Io,{handleReserveOrderAndProposition:e.handleReserveOrderAndProposition,handleUnreserveProposition:e.handleUnreserveProposition,handleSetPropositionId:e.handleSetPropositionId,propositions:e.propositions,handleLoadPropositions:e.handleLoadPropositions,activeOrder:e.activeOrder,handleSetPropositionsSortParameters:e.handleSetPropositionsSortParameters,handleSetPropositionFilters:e.handleSetPropositionFilters})})})})]}),g[0].idTokenClaims.oid!==e.activeOrder.clientId&&Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{color:"info",className:"long-btn",onClick:function(){u(!l)},style:{marginBottom:"1rem"},children:m("market.table.buttons.payerInformation")}),Object($.jsx)(D.a,{isOpen:l,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:l&&Object($.jsx)(Po,{id:e.activeOrder.clientId})})})})]})]})},zo=r(118),Do=r(243),Fo=r(253),Lo=r(122),Uo=r.n(Lo),Mo=function(e,t){var r="";""!==(e=e.toUpperCase())&&e||(r+="Numer ksi\u0119gi wieczystej nie mo\u017ce by\u0107 pusty. ");var n=e.split("/");if(3!==n.length)return r+="Nieprawid\u0142owa liczba sekcji numeru ksi\u0119gi wieczystej, powinny by\u0107 3 oddzielone znakiem /. ";4===n[0].length&&8===n[1].length&&1===n[2].length||(r+="Nieprawid\u0142owa d\u0142ugo\u015b\u0107 kt\xf3rej\u015b z sekcji numeru ksi\u0119gi wieczystej. "),t.regions.includes(n[0])||(r+="Nie ma takiego kodu Wydzia\u0142u Ksi\u0105g Wieczystych S\u0105du Rejonowego. ");for(var a=0,c=0,o=0;o<n[0].length;o++)a+=t.weights[n[0][o]]*t.multipliers[c++];for(var i=0;i<n[1].length;i++)a+=t.weights[n[1][i]]*t.multipliers[c++];return isNaN(parseInt(n[1]))&&(r+="Druga sekcja numeru ksi\u0119gi wieczystej powinna by\u0107 dan\u0105 liczbow\u0105. "),isNaN(parseInt(n[2]))?r+="Cyfra kontrolna numeru ksi\u0119gi wieczystej powinna by\u0107 dan\u0105 liczbow\u0105. ":(a%10!==parseInt(n[2])&&(r+="Niepoprawna suma kontrolna przy uzupe\u0142nianiu ksi\u0119gi wieczystej. "),r)},Go=function(e){var t=Object(p.a)("common").t,r=Object(c.useState)({name:"",description:"",address:"",requiresZbpList:!1,latitudeLongitude:{lat:0,lng:0},locationPostCode:"",shouldBeValidated:!1,orderSubject:"",valuationScope:"",landRegisterCode:"",propertyIdentification:"",isEkwInvalid:!1,ekwErrorMessage:""}),n=Object(A.a)(r,2),a=n[0],o=n[1],i=Object(c.useState)(!1),s=Object(A.a)(i,2),l=s[0],d=s[1],j=function(e){var t=Object(u.a)(Object(u.a)({},a),{},Object(co.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value));o(t)};return Object($.jsxs)("div",{children:[Object($.jsxs)(oo.a,{onSubmit:function(t){return function(t){t.preventDefault();var r=""!==a.landRegisterCode?Mo(a.landRegisterCode,e.ekwData):"",n=""!==r,c=Object(u.a)(Object(u.a)({},a),{},{isEkwInvalid:n,ekwErrorMessage:r});o(c),n||e.onSubmit(c)}(t)},id:"new-order-form",children:[Object($.jsx)("input",{type:"hidden",value:"".concat(a.latitudeLongitude.lat,",").concat(a.latitudeLongitude.lng),name:"latlng-value"}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"order-name",children:t("market.table.headers.name")}),Object($.jsx)(G.a,{type:"text",name:"name",id:"order-name",value:a.name,onChange:j,required:!0}),Object($.jsx)(ce.a,{placement:"top",target:"order-name",children:t("market.newOrder.namePlaceholder")})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"description",children:t("market.table.headers.description")}),Object($.jsx)(G.a,{type:"textarea",name:"description",id:"description",value:a.description,onChange:j}),Object($.jsx)(ce.a,{placement:"top",target:"description",children:t("market.newOrder.descriptionPlaceholder")})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"postal-code",children:t("market.newOrder.postalCode")}),Object($.jsx)(Uo.a,{mask:"99-999",value:a.locationPostCode,onChange:j,children:function(e){return Object($.jsx)(G.a,Object(u.a)(Object(u.a)({},e),{},{type:"text",name:"locationPostCode",id:"new-order-postal-code",pattern:"\\d{2}-\\d{3}$",required:!0}))}})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"address",children:t("common.userInfo.address")}),Object($.jsx)(G.a,{type:"text",name:"address",id:"address",value:a.address,onChange:j}),Object($.jsx)(ce.a,{placement:"top",target:"address",children:t("market.newOrder.addressPlaceholder")})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(W.a,{onClick:function(){return d(!0)},className:"long-btn",id:"UncontrolledPopoverMAP",type:"button",color:"success",children:"Dodaj lokalizacj\u0119 na mapie"}),Object($.jsx)(zo.a,{isOpen:l,toggle:function(){return d(!l)},placement:"right",target:"UncontrolledPopoverMAP",trigger:"legacy",children:Object($.jsx)(go.a,{children:Object($.jsx)(yo,{close:function(){return d(!1)},locationInfo:{address:a.address,locationPostCode:a.locationPostCode,latlng:a.latitudeLongitude},setCoords:function(e){var t=Object(u.a)(Object(u.a)({},a),{},{latitudeLongitude:e});o(t)}})})})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"order-subject",children:"Co chcesz wyceni\u0107?"}),Object($.jsxs)(G.a,{type:"select",id:"order-subject",name:"orderSubject",style:{lineHeight:"1.0"},value:a.orderSubject,onChange:j,autoComplete:"off",required:!0,children:[Object($.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Wybierz..."}),[{value:"Lokal mieszkalny",label:"Lokal mieszkalny"},{value:"Grunt niezabudowany",label:"Grunt niezabudowany"}].map((function(e){return Object($.jsx)("option",{value:e.value,children:e.label},e.label)}))]})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"valuation-scope",children:"Zakres wyceny"}),Object($.jsxs)(G.a,{type:"select",id:"valuation-scope",name:"valuationScope",style:{lineHeight:"1.0"},value:a.valuationScope,onChange:j,autoComplete:"off",required:!0,children:[Object($.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Wybierz..."}),[{value:"Na potrzeby sprzeda\u017cy",label:"Na potrzeby sprzeda\u017cy"},{value:"Prawo u\u017cytkowania wieczystego do gruntu",label:"Prawo u\u017cytkowania wieczystego do gruntu"}].map((function(e){return Object($.jsx)("option",{value:e.value,children:e.label},e.label)}))]})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"order-land-register-code",children:"Nr ksi\u0119gi wieczystej (pole bedzie tylko widoczne dla rzeczoznawcy wykonuj\u0105cego) - pole opcjonalne"}),Object($.jsx)(Uo.a,{mask:"aa9a/99999999/9",value:a.landRegisterCode,name:"landRegisterCode",onChange:j,invalid:a.isEkwInvalid,children:function(e){return Object($.jsx)(G.a,Object(u.a)(Object(u.a)({},e),{},{type:"text",style:{textTransform:"uppercase"},id:"order-land-register-code"}))}}),Object($.jsx)(Do.a,{children:Object($.jsx)("div",{dangerouslySetInnerHTML:{__html:a.ekwErrorMessage}})})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"property-identification",children:"Identyfikacja nieruchomo\u015bci np. numer nieruchomo\u015bci. Pole to b\u0119dzie widoczne tylko dla rzeczoznawcy wykonuj\u0105cego - pole opcjonalne"}),Object($.jsx)(G.a,{id:"property-identification",name:"propertyIdentification",type:"text",value:a.propertyIdentification,onChange:j})]}),Object($.jsx)(io.a,{children:Object($.jsx)(V.a,{sm:{size:10},children:Object($.jsx)(io.a,{children:Object($.jsxs)(so.a,{for:"requires-zbp-list",sm:10,children:[Object($.jsx)(G.a,{type:"checkbox",name:"requiresZbpList",id:"requires-zbp-list",checked:a.requiresZbpList,onChange:j}),t("market.table.headers.requiresZbpList")]})})})}),Object($.jsx)(io.a,{children:Object($.jsx)(V.a,{sm:{size:10},children:Object($.jsx)(io.a,{children:Object($.jsxs)(so.a,{for:"aoperatValidation",sm:10,children:[Object($.jsx)(G.a,{type:"checkbox",name:"shouldBeValidated",id:"aoperat-validation",checked:a.shouldBeValidated,onChange:j}),t("market.table.headers.aoperatValidation")]})})})}),Object($.jsx)(W.a,{type:"submit",color:"success",disabled:""===a.name||""===a.locationPostCode||""===a.orderSubject||""===a.valuationScope,children:t("common.add")})]}),e.saveOrder.error&&Object($.jsx)(Fo.a,{color:"danger",children:Object($.jsx)("div",{dangerouslySetInnerHTML:{__html:e.saveOrder.error.message}})}),e.saveOrder.loading&&Object($.jsx)(ae,{})]})},Bo=r(83),Wo=r.n(Bo);var Ho=function(e){var t=Object(d.d)(),r=Object(c.useState)({}),n=Object(A.a)(r,2),a=n[0],o=n[1],i=Object(c.useState)(!1),s=Object(A.a)(i,2),l=s[0],u=s[1],p=Object(j.f)(),b=Object(c.useRef)(null);return Object($.jsxs)("div",{children:[Object($.jsx)(Wo.a,{ref:b}),Object($.jsxs)("div",{children:[Object($.jsx)("div",{children:Object($.jsxs)(G.a,{type:"select",className:"dark-select",id:"operat-type-select",value:a.id?a.id:"",onChange:function(t){o(e.operatTypes.find((function(e){return e.id===t.target.value})))},style:{width:"272px"},placeholder:"wybierz typ operatu",children:[Object($.jsx)("option",{value:"",disabled:!0,children:"Wybierz rodzaj operatu"}),e.operatTypes.map((function(e){return Object($.jsx)("option",{value:e.id,children:e.name},e.id)}))]})}),Object($.jsx)("div",{className:"d-flex justify-content-between",children:Object($.jsx)(W.a,{style:{width:"272px",marginBottom:"1rem"},color:"primary",onClick:function(){return function(e){var r=Date.now(),n=new Date(r),c={name:"".concat(e.name+", "+a.name+" : "+n.toLocaleString()),orderId:e.id,operatorId:e.operators[0],operatTypeId:a.id,isTest:!1};c.orderId!==Z.EMPTY_GUID&&c.operatorId!==Z.EMPTY_GUID?(t(Rr(c,a.parameters,!1)),p.push("/history")):t(ue(q.ERROR_MESSAGE,{message:"createOperatFailed",translate:!0}))}(e.activeOrder)},disabled:a==={},children:"Stw\xf3rz operat"})}),Object($.jsx)(W.a,{style:{width:"272px",marginBottom:"1rem"},color:"info",onClick:function(){return u(!l)},children:"informacje o zleceniodawcy"}),Object($.jsx)(D.a,{isOpen:l,style:{marginTop:"1rem"},children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:l&&Object($.jsx)(Po,{id:e.activeOrder.clientId})})})})]})]})};var Ko=function(e){var t=Object(d.d)(),r=Object(b.e)().accounts,n=Object(d.e)((function(e){return e.global.user})),a=Object(j.f)(),o=Object(c.useState)(!1),i=Object(A.a)(o,2),s=i[0],l=i[1],u=Object(c.useState)(!1),p=Object(A.a)(u,2),O=p[0],h=p[1],f=function(){return n.userType===Y.ADMIN},m=function(){return n.userType===Y.CLIENT};return Object($.jsxs)("div",{children:[(m()&&e.activeOrder.clientId===n.user.id||f())&&Object($.jsx)(W.a,{color:"primary",className:"long-btn",id:"payButton",style:{marginBottom:"1rem"},onClick:function(){m()&&t(ue(q.PAY_FOR_OPERAT,{orderId:e.activeOrder.id})),f()&&e.handlePayForOperat()},children:"zap\u0142a\u0107"}),Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{color:"secondary",className:"long-btn proposition-list-toggler",onClick:function(){return h(!O)},style:{marginBottom:"1rem"},children:"wys\u0142ane oferty"}),Object($.jsx)(D.a,{isOpen:O,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:O&&Object($.jsx)(Io,{handleReserveOrderAndProposition:e.handleReserveOrderAndProposition,handleUnreserveProposition:e.handleUnreserveProposition,handleSetPropositionId:e.handleSetPropositionId,propositions:e.propositions,handleLoadPropositions:e.handleLoadPropositions,activeOrder:e.activeOrder,handleSetPropositionsSortParameters:e.handleSetPropositionsSortParameters,handleSetPropositionFilters:e.handleSetPropositionFilters})})})})]}),r[0].idTokenClaims.oid!==e.activeOrder.clientId&&Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{color:"info",className:"long-btn",onClick:function(){return l(!s)},style:{marginBottom:"1rem"},children:"informacje o zleceniodawcy"}),Object($.jsx)(D.a,{isOpen:s,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:s&&Object($.jsx)(Po,{id:e.activeOrder.clientId})})})})]}),!m&&Object($.jsx)("div",{children:Object($.jsx)(W.a,{color:"info",style:{width:"272px",marginBottom:"1rem"},onClick:function(){e.activeOrder.operators&&a.push({pathname:"/users-profile",search:"?operatorId="+e.activeOrder.operators[0]})},children:"Dane o rzeczoznawcy"})})]})},Vo=r(256),qo=function(e){var t=e.onSubmit,r=e.operat,n=Object(c.useState)(5),a=Object(A.a)(n,2),o=a[0],i=a[1],s=Object(c.useState)(""),l=Object(A.a)(s,2),d=l[0],u=l[1],p=Object(c.useState)(!1),j=Object(A.a)(p,2),b=j[0],O=j[1];Object(c.useEffect)((function(){return ge.getOperatReview(r.id).then((function(e){e.length>0&&(i(e[0].rating),u(e[0].comment))})).catch((function(e){console.log(e)})).finally((function(){return setTimeout(O(!0),500)})),function(){i(5),u(""),O(!1)}}),[r.id]);return Object($.jsx)("div",{children:b?Object($.jsxs)(oo.a,{onSubmit:function(e){return t(e,o)},children:[Object($.jsx)("h4",{children:"Twoja opinia o operacie:"}),Object($.jsx)(io.a,{children:Object($.jsx)(G.a,{type:"textarea",name:"review-comment",id:"review-comment",placeholder:"Komentarz",value:d,onChange:function(e){return u(e.target.value)},required:!0})}),Object($.jsx)(Eo.a,{count:5,value:o,edit:!0,onChange:function(e){return i(e)},size:24,id:"review-rating-stars",name:"review-rating-stars",activeColor:"#ffd700"}),Object($.jsx)(W.a,{color:"success",children:"Zapisz recenzj\u0119"})]}):Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{sm:"12",md:{size:3,offset:5},children:Object($.jsx)(Vo.a,{color:"primary",style:{width:"8rem",height:"8rem"},animation:"border",variant:"info",children:" "})})})})},Yo=function(){var e=Object(h.a)(Object(O.a)().mark((function e(t,r,n,a,c){var o,i;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o=t.target.elements["review-comment"].value,c(ue(q.LOADING,{message:"addReview",translate:!0})),i={comment:o,rating:r,operatorId:n.operators[0],clientId:n.clientId,operatId:a},ge.postReview(i).catch((function(e){return console.log(e)})).finally((function(){return c(pe())}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a,c){return e.apply(this,arguments)}}();var Jo=function(e){var t=Object(d.e)((function(e){return e.global.user})),r=t.userType===Y.ADMIN,n=t.userType===Y.OPERATOR,a=t.userType===Y.CLIENT,o=Object(c.useState)(!1),i=Object(A.a)(o,2),s=i[0],l=i[1],b=Object(c.useState)(!1),f=Object(A.a)(b,2),m=f[0],g=f[1],x=Object(d.d)(),y=Object(c.useState)(null),v=Object(A.a)(y,2),w=v[0],k=v[1],S=Object(j.f)(),T=Object(p.a)("common").t,P=function(){var t=Object(h.a)(Object(O.a)().mark((function t(){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x(ue(q.LOADING,{message:"downloadOperat",translate:!0,t:T})),Vt.getFiles(e.activeOrder.clientId).then((function(t){var r,n=Object(_.a)(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(a.item2.includes(e.activeOrder.id+".pdf"))return x(pe()),void window.open(a.item2,"_blank")}}catch(c){n.e(c)}finally{n.f()}x(pe()),x(ue(q.ERROR_MESSAGE,{message:"downloadOperatFailed",translate:!0}))})).catch((function(e){x(ue(q.ERROR_MESSAGE,{message:"downloadOperatFailed",translate:!0}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){ge.getByOrderId(e.activeOrder.id).then((function(e){k(e)}))}),[e.activeOrder]),Object($.jsxs)($.Fragment,{children:[Object($.jsx)(W.a,{style:{width:"272px",marginBottom:"1rem"},color:"primary",onClick:Object(h.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Pobierz operat"}),Object($.jsx)("br",{}),(a||r)&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(W.a,{color:"info",style:{width:"272px",marginBottom:"1rem"},onClick:function(){S.push({pathname:"/users-profile",search:"?operatorId="+e.activeOrder.operators[0]})},children:"Dane o rzeczoznawcy"}),Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{style:{width:"272px",marginBottom:"1rem"},color:"info",onClick:function(){return l(!s)},children:"Napisz do rzeczoznawcy"}),Object($.jsx)(D.a,{isOpen:s,style:{marginTop:"1rem"},children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:s&&Object($.jsx)(Po,{id:e.activeOrder.operators[0]})})})})]})]}),(n||r)&&Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{style:{width:"272px",marginBottom:"1rem"},color:"info",onClick:function(){return g(!m)},children:"informacje o zleceniodawcy"}),Object($.jsx)(D.a,{isOpen:m,style:{marginTop:"1rem"},children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:m&&Object($.jsx)(Po,{id:e.activeOrder.clientId})})})})]}),Object($.jsxs)(V.a,{sm:{size:4},children:[(a||r)&&Object($.jsxs)(io.a,{children:[Object($.jsx)(G.a,{id:"checkbox2",type:"checkbox",onChange:Object(h.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.isObstructed){e.next=4;break}e.t0=!0,e.next=7;break;case 4:return e.next=6,ie()({title:Object($.jsx)($.Fragment,{children:"Czy operat zosta\u0142 zakwestionowany przez s\u0105d?"}),message:"Zakwestionowane operaty s\u0105 widoczne w statystyce rzeczoznawc\xf3w i wp\u0142ywaj\u0105 na ocen\u0119 koncow\u0105 pracy rzeczoznawcy",confirmText:"Zakwestionuj",cancelText:"Anuluj",confirmColor:"success",cancelColor:"link text-primary"});case 6:e.t0=e.sent;case 7:e.t0&&(x(ue(q.LOADING,{message:"sendData",translate:!0})),ge.obstructOperat(w.id).then((function(){k(Object(u.a)(Object(u.a)({},w),{},{isObstructed:!w.isObstructed}))})).finally((function(){return x(pe())})));case 9:case"end":return e.stop()}}),e)}))),checked:w&&w.isObstructed})," ",Object($.jsx)(so.a,{children:"Operat zakwestionowany"})]}),(n||r)&&Object($.jsxs)(so.a,{children:["Operat zakwestionowany: ",w&&w.isObstructed?"Tak":"Nie"]})]}),w&&(a||r)&&Object($.jsx)(qo,{operat:w,onSubmit:function(t,r){return Yo(t,r,e.activeOrder,w.id,x)}})]})},Zo=function(e){var t=e.handleSetOrderFilters,r=Object(p.a)("common").t,n=Object(c.useState)(""),a=Object(A.a)(n,2),o=a[0],i=a[1];return Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:Object($.jsxs)(oo.a,{onSubmit:function(e){e.preventDefault(),t({locationPostCode:o})},children:[Object($.jsx)("label",{for:"filter-locationPostCode",children:r("market.filters.postalCode")}),Object($.jsx)(G.a,{placeholder:"",id:"filter-locationPostCode",name:"filter-locationPostCode",onChange:function(e){i(e.target.value)},value:o}),Object($.jsx)(W.a,{onClick:function(){i(""),t({locationPostCode:""})},children:r("market.table.buttons.clearFilters")}),Object($.jsx)(W.a,{color:"success",children:r("market.table.buttons.applyFilters")})]})})})},Xo=function(e){return e.marketPage||An},Qo=function(){return Object(cr.a)(Xo,(function(e){return e.orders}))},$o=function(){return Object(cr.a)(Xo,(function(e){return e.activeOrder}))},ei=function(){return Object(cr.a)(Xo,(function(e){return e.propositionId}))},ti=function(){return Object(cr.a)(Xo,(function(e){return e.propositions}))};function ri(){return{type:rn}}function ni(e){return{type:an,payload:e}}function ai(){return{type:dn}}function ci(e){return{type:un,payload:e}}function oi(){return{type:pn}}function ii(e){return{type:jn,payload:e}}function si(e){return{type:gn,payload:e}}var li=r(301),di=["address","landRegisterCode","latitudeLongitude"],ui=Object(O.a)().mark(yi),pi=Object(O.a)().mark(wi),ji=Object(O.a)().mark(ki),bi=Object(O.a)().mark(Si),Oi=Object(O.a)().mark(Ti),hi=Object(O.a)().mark(Pi),fi=Object(O.a)().mark(Ci),mi=Object(O.a)().mark(Ai),gi=Object(O.a)().mark(Ei),xi=Object(O.a)().mark(_i);function yi(){var e,t,r,n,a;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(wc.e)(Qo());case 2:return e=c.sent,t="/Order/user?pageNumber=".concat(e.pageNumber),e.filters&&(t+="&locationPostCode=".concat(e.filters.locationPostCode)),e.sortFieldName&&(t+="&fieldName=".concat(e.sortFieldName,"&direction=").concat(e.sortDirection)),c.next=8,Object(wc.a)(he);case 8:return r=c.sent,n={method:"GET",headers:r},c.prev=10,c.next=13,Object(wc.a)(Pc,t,n);case 13:return a=c.sent,c.next=16,Object(wc.c)(ni(a));case 16:c.next=22;break;case 18:return c.prev=18,c.t0=c.catch(10),c.next=22,Object(wc.c)((o=c.t0,{type:cn,payload:o}));case 22:case"end":return c.stop()}var o}),ui,null,[[10,18]])}function vi(e){var t=e.payload;return Object(O.a)().mark((function e(){var r,n,a,c,o,i,s,l,d;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.address,n=t.landRegisterCode,a=t.latitudeLongitude,c=Object(li.a)(t,di),e.next=3,Object(wc.e)(Yr());case 3:return o=e.sent,i=Object(u.a)({location:r,ekw:n,clientId:o.user.id,latitudeLongitude:"".concat(a.lat,",").concat(a.lng)},c),s="/Order",e.next=8,Object(wc.a)(he,"json");case 8:return l=e.sent,d={method:"POST",headers:l,body:JSON.stringify(i)},e.prev=10,e.next=13,Object(wc.a)(Ec,s,d);case 13:return e.next=15,Object(wc.c)({type:sn});case 15:return e.next=17,Object(wc.c)(ri());case 17:return e.next=19,Object(wc.c)(ue(q.CONFIRM_SUCCESS,{message:"Zlecenie zosta\u0142o stworzone"}));case 19:e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(10),e.next=25,Object(wc.c)((p=e.t0,{type:ln,payload:p}));case 25:case"end":return e.stop()}var p}),e,null,[[10,21]])}))()}function wi(){var e,t,r,n,a;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(wc.e)($o());case 2:return e=c.sent,t="/Order/id/".concat(e.id),c.next=6,Object(wc.a)(he);case 6:return r=c.sent,n={method:"GET",headers:r},c.prev=8,c.next=11,Object(wc.a)(Pc,t,n);case 11:return a=c.sent,c.next=14,Object(wc.c)(ci(a));case 14:c.next=18;break;case 16:c.prev=16,c.t0=c.catch(8);case 18:case"end":return c.stop()}}),pi,null,[[8,16]])}function ki(){var e,t,r,n,a,c;return Object(O.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(wc.e)($o());case 2:return e=o.sent,o.next=5,Object(wc.e)(ti());case 5:return t=o.sent,r="/OrderProposition/orderId/".concat(e.id,"/by-user?pageNumber=1"),t.sortFieldName&&(r+="&fieldName=".concat(t.sortFieldName,"&direction=").concat(t.sortDirection)),t.filters&&(""!==t.filters.priceFrom&&(r+="&priceFrom=".concat(t.filters.priceFrom)),""!==t.filters.priceTo&&(r+="&priceTo=".concat(t.filters.priceTo)),""!==t.filters.upTillDateFrom&&(r+="&upTillDateFrom=".concat(t.filters.upTillDateFrom)),""!==t.filters.upTillDateTo&&(r+="&upTillDateTo=".concat(t.filters.upTillDateTo))),o.next=11,Object(wc.a)(he);case 11:return n=o.sent,a={method:"GET",headers:n},o.prev=13,o.next=16,Object(wc.a)(Ec,r,a);case 16:return c=o.sent,o.next=19,Object(wc.c)(ii(c));case 19:o.next=25;break;case 21:return o.prev=21,o.t0=o.catch(13),o.next=25,Object(wc.c)((i=o.t0,{type:bn,payload:i}));case 25:case"end":return o.stop()}var i}),ji,null,[[13,21]])}function Si(){var e,t,r,n,a,c,o,i;return Object(O.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(wc.e)($o());case 2:return e=s.sent,s.next=5,Object(wc.e)(Yr());case 5:return t=s.sent,r=document.querySelector("#new-offer"),n=new FormData(r),a={orderId:e.id,description:""!==n.get("description")?n.get("description"):"".concat(n.get("exampleNumber").value," PLN do dnia ").concat(n.get("date").value),operatorId:t.user.id,price:n.get("exampleNumber"),upTillDate:n.get("date")},c="/OrderProposition?pageNumber=1",s.next=12,Object(wc.a)(he,"json");case 12:return o=s.sent,i={method:"POST",headers:o,body:JSON.stringify(a)},s.prev=14,s.next=17,Object(wc.c)(ue(q.LOADING,{message:"savingOrderProposition",translate:!0}));case 17:return s.next=19,Object(wc.a)(Ec,c,i);case 19:return s.next=21,Object(wc.c)(oi());case 21:return s.next=23,Object(wc.c)(pe());case 23:case 30:s.next=34;break;case 25:if(s.prev=25,s.t0=s.catch(14),"object"!==typeof s.t0||!Object.prototype.hasOwnProperty.call(s.t0,"response")||403!==s.t0.response.status){s.next=32;break}return s.next=30,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"orderRequiresZbpList",translate:!0}));case 32:return s.next=34,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"saveOrderPropositionFailed",translate:!0}));case 34:case"end":return s.stop()}}),bi,null,[[14,25]])}function Ti(){var e,t;return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(wc.e)(ei());case 2:return e=r.sent,t="/OrderProposition/id/".concat(e,"/reserve"),r.next=6,Object(wc.a)(Pi,t);case 6:case"end":return r.stop()}}),Oi)}function Pi(e){var t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(wc.a)(he);case 2:return t=a.sent,r={method:"PUT",headers:t},a.prev=4,a.next=7,Object(wc.a)(Ec,e,r);case 7:return n=a.sent,a.next=10,Object(wc.c)(si(n));case 10:return a.next=12,Object(wc.c)(ai());case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(4),console.log(a.t0);case 17:case"end":return a.stop()}}),hi,null,[[4,14]])}function Ci(){var e,t;return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(wc.e)(ei());case 2:return e=r.sent,t="/OrderProposition/id/".concat(e,"/unreserve"),r.next=6,Object(wc.a)(Pi,t);case 6:case"end":return r.stop()}}),fi)}function Ai(){var e,t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(wc.e)($o());case 2:return e=a.sent,t="/Order/id/".concat(e.id),a.next=6,Object(wc.a)(he);case 6:return r=a.sent,n={method:"DELETE",headers:r},a.prev=8,a.next=11,Object(wc.a)(Ec,t,n);case 11:return a.next=13,Object(wc.c)(ri());case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(8),console.log(a.t0);case 18:case"end":return a.stop()}}),mi,null,[[8,15]])}function Ei(){var e,t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(wc.e)($o());case 2:return e=a.sent,t="/Order/id/".concat(e.id,"/pay"),a.next=6,Object(wc.a)(he);case 6:return r=a.sent,n={method:"PUT",headers:r},a.prev=8,a.next=11,Object(wc.c)(ue(q.LOADING,{message:"payingForOperat",translate:!0}));case 11:return a.next=13,Object(wc.a)(Ec,t,n);case 13:return a.next=15,Object(wc.c)(ri());case 15:return a.next=17,Object(wc.c)(pe());case 17:a.next=24;break;case 19:return a.prev=19,a.t0=a.catch(8),console.log(a.t0),a.next=24,Object(wc.c)(pe());case 24:case"end":return a.stop()}}),gi,null,[[8,19]])}function _i(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wc.f)(rn,yi);case 2:return e.next=4,Object(wc.f)(on,vi);case 4:return e.next=6,Object(wc.f)(dn,wi);case 6:return e.next=8,Object(wc.f)(pn,ki);case 8:return e.next=10,Object(wc.f)(On,Si);case 10:return e.next=12,Object(wc.f)(hn,Ti);case 12:return e.next=14,Object(wc.f)(fn,Ci);case 14:return e.next=16,Object(wc.f)(xn,Ai);case 16:return e.next=18,Object(wc.f)(Cn,Ei);case 18:case"end":return e.stop()}}),xi)}function Ri(){return{type:zr}}function Ii(e){return{type:Dr,payload:e}}function Ni(e){return{type:Lr,id:e}}function zi(e){return{type:Mr,payload:e}}function Di(){return{type:Gr}}function Fi(){return{type:Wr}}var Li="marketPage";var Ui=Object(cr.b)({orders:Qo(),saveOrder:Object(cr.a)(Xo,(function(e){return e.saveOrder})),operatTypes:Jr(),activeOrder:$o(),user:Yr(),propositions:ti(),ekwData:Object(cr.a)(qr,(function(e){return e.ekw}))});var Mi=Object(d.c)(Ui,(function(e){return{loadOrders:function(){return e(ri())},handleSaveOrder:function(t){return e(function(e){return{type:on,payload:e}}(t))},handleSetPropositionId:function(t){return e(function(e){return{type:mn,payload:e}}(t))},handleReserveOrderAndProposition:function(){return e({type:hn})},handleUnreserveProposition:function(){return e({type:fn})},handleSetOrdersPageNumber:function(t){return e(function(e){return{type:nn,payload:e}}(t))},handleLoadPropositions:function(){return e(oi())},handleSaveProposition:function(){return e({type:On})},handleSetActiveOrder:function(t){e(function(e){return{type:yn,payload:e}}(t)),e({type:Pn})},handleRemoveOrder:function(){return e({type:xn})},handleReplaceOrder:function(){return e(ai())},handleLoadOperatTypes:function(){return e(Ri())},handleLoadUser:function(t){return e(Ni(t))},handleSetOrderSortParameters:function(t){e(function(e,t){return{type:wn,fieldName:e,sortDirection:t}}(t)),e(ri())},handleSetOrderFilters:function(t){return e({type:kn,payload:t})},handleSetPropositionsSortParameters:function(t){return e({type:Sn,payload:t})},handleSetPropositionFilters:function(t){return e({type:Tn,payload:t})},handlePayForOperat:function(){return e({type:Cn})},handleLoadEkwData:function(){return e(Di())},handleLoadPublicSettings:function(){return e(Fi())}}})),Gi=Object(Nr.c)(Mi,c.memo)((function(e){vc({key:Li,reducer:En}),ao({key:Li,saga:_i});var t=Object(p.a)("common").t,r=Object(d.e)((function(e){return e.global.user})),n=Object(c.useState)(!1),a=Object(A.a)(n,2),o=a[0],i=a[1],s=Object(c.useRef)(null),l=Object(b.e)().accounts,O=Object(c.useState)(!1),h=Object(A.a)(O,2),f=h[0],m=h[1],g=Object(c.useState)(!0),x=Object(A.a)(g,2),y=x[0],v=x[1],w=Object(c.useState)(!1),k=Object(A.a)(w,2),S=k[0],T=k[1],P=r.userType===Y.ADMIN,C=r.userType===Y.CLIENT,E={onSort:function(t,r){e.handleSetOrderSortParameters(t)},sortFunc:function(e,t,r,n,a,c){},sort:!0},_=function(t){switch(t.status){case"announced":return Object($.jsx)(No,{handleRemoveOrder:e.handleRemoveOrder,activeOrder:e.activeOrder,handleReserveOrderAndProposition:e.handleReserveOrderAndProposition,handleUnreserveProposition:e.handleUnreserveProposition,handleSetPropositionId:e.handleSetPropositionId,propositions:e.propositions,handleSaveProposition:e.handleSaveProposition,handleLoadPropositions:e.handleLoadPropositions,user:e.user,handleSetPropositionsSortParameters:e.handleSetPropositionsSortParameters,handleSetPropositionFilters:e.handleSetPropositionFilters});case"reserved":return Object($.jsx)(Ko,{activeOrder:e.activeOrder,handleReserveOrderAndProposition:e.handleReserveOrderAndProposition,handleUnreserveProposition:e.handleUnreserveProposition,handleSetPropositionId:e.handleSetPropositionId,propositions:e.propositions,handleLoadPropositions:e.handleLoadPropositions,handleReplaceOrder:e.handleReplaceOrder,handleSetPropositionsSortParameters:e.handleSetPropositionsSortParameters,handleSetPropositionFilters:e.handleSetPropositionFilters,handlePayForOperat:e.handlePayForOperat});case"paid":return Object($.jsxs)($.Fragment,{children:[(C||P)&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(W.a,{color:"info",style:{width:"272px",marginBottom:"1rem"},onClick:function(){e.activeOrder.operators&&F.push({pathname:"/users-profile",search:"?operatorId="+e.activeOrder.operators[0]})},children:"Profil rzeczoznawcy"}),Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{style:{width:"272px",marginBottom:"1rem"},color:"info",onClick:function(){return T(!S)},children:"Napisz do rzeczoznawcy"}),Object($.jsx)(D.a,{isOpen:S,style:{marginTop:"1rem"},children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:S&&Object($.jsx)(Po,{id:e.activeOrder.operators[0]})})})})]})]}),!C&&t.operators[0]===l[0].idTokenClaims.oid&&Object($.jsx)(Ho,{activeOrder:e.activeOrder,operatTypes:e.operatTypes.operatTypes})]});case"signed":return Object($.jsx)(Jo,{activeOrder:e.activeOrder})}},R=Object(c.useState)(""),I=Object(A.a)(R,2),N=I[0],z=I[1],F=Object(j.f)();return Object(c.useEffect)((function(){new URLSearchParams(F.location.search).get("pageNumber")||e.handleSetOrdersPageNumber("1")}),[]),Object(c.useEffect)((function(){e.loadOrders()}),[e.orders.filters]),Object(c.useEffect)((function(){var t=new URLSearchParams(F.location.search);t.get("pageNumber")&&e.handleSetOrdersPageNumber(t.get("pageNumber")),t.get("id")&&z(t.get("id"))}),[F.location.search]),Object($.jsx)("div",{className:"content",children:Object($.jsxs)("div",{className:"container",children:[Object($.jsx)(W.a,{color:"primary",onClick:function(){i(!o)},innerRef:s,children:t("market.table.buttons.newOrder")}),Object($.jsx)(D.a,{isOpen:o,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:Object($.jsx)(Go,{saveOrder:e.saveOrder,onSubmit:e.handleSaveOrder,ekwData:e.ekwData})})})}),Object($.jsx)("br",{}),Object($.jsx)(W.a,{color:"success",onClick:function(){return m(!f)},children:t("market.table.buttons.filters")}),Object($.jsx)(D.a,{isOpen:f,children:Object($.jsx)(Zo,{handleSetOrderFilters:e.handleSetOrderFilters})}),P&&Object($.jsx)(po,{setIsIdHidden:v,label:t("market.showOrderId"),isIdHidden:y}),Object($.jsx)(B.a,{children:Object($.jsxs)(V.a,{md:"12",children:[Object($.jsx)(ar.a,{count:localStorage.getItem("pageCount"),color:"primary",page:new URLSearchParams(F.location.search).get("pageNumber")?parseInt(new URLSearchParams(F.location.search).get("pageNumber")):1,onChange:function(t,r){var n=new URLSearchParams(F.location.search);n.set("pageNumber",r.toString()),F.push({pathname:"/market",search:n.toString()}),e.handleSetOrdersPageNumber(r.toString()),e.loadOrders()}}),e.orders.loading?Object($.jsx)(ae,{}):Object($.jsx)(M.a,{bootstrap4:!0,keyField:"id",data:e.orders.orders,columns:[{dataField:"id",text:"ID",hidden:y},{dataField:"inProcess",text:t("market.table.headers.inProgress"),editable:!1,align:"center",sort:!0,headerAlign:"center",formatter:function(e,t){return Object($.jsx)(G.a,{type:"checkbox",checked:"inprogress"===t.status.toLowerCase(),disabled:!0})},headerStyle:function(e,t){return{width:"10%",textAlign:"center"}}},Object(u.a)(Object(u.a)({dataField:"createdDateTime",text:t("market.table.headers.applicationDate"),align:"center",headerAlign:"center",editable:!1},E),{},{formatter:function(e,t){return Object($.jsx)("div",{id:t.id,children:e.split("T")[0]})},headerStyle:function(e,t){return{width:"15%",textAlign:"center"}}}),Object(u.a)(Object(u.a)({dataField:"name",text:t("market.table.headers.name"),align:"center",headerAlign:"center"},E),{},{editable:!1,formatter:function(e,t){return Object($.jsxs)("div",{children:[Object($.jsx)("div",{id:"title-".concat(t.id),children:e.length>30?e.substring(0,30)+"...":e}),Object($.jsx)(ce.a,{placement:"top",target:"title-".concat(t.id),children:e})]})}}),Object(u.a)(Object(u.a)({dataField:"locationPostCode",text:t("market.table.headers.postCode"),align:"center",headerAlign:"center"},E),{},{editable:!1,formatter:function(e){return Object($.jsx)("div",{children:e})}}),{dataField:"status",text:t("market.table.headers.status"),align:"center",headerAlign:"center",editable:!1,formatter:function(e){return Object($.jsx)("div",{children:t("market.table.statuses.".concat(e))})}}],striped:!0,hover:!0,condensed:!0,bordered:!1,expandRow:{onlyOneExpanding:!0,expanded:[N],renderer:function(n){return Object($.jsxs)("div",{style:{wordBreak:"break-all"},children:[Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{className:"long-btn",color:"success",id:"orderData",style:{marginBottom:"1rem"},children:t("market.table.buttons.orderData")}),Object($.jsx)(wo,{row:n})]}),_(n),Object($.jsx)("br",{}),(r.userType===Y.CLIENT||r.userType===Y.ADMIN)&&"paid"!==n.status.toLowerCase()&&"signed"!==n.status.toLowerCase()&&Object($.jsx)(W.a,{className:"long-btn",color:"danger",disabled:!Y.ADMIN===r.userType&&e.activeOrder.clientId!==e.user.user.id,onClick:function(){return se("Czy na pewno chcesz usun\u0105\u0107 zlecenie?","Ostrze\u017cenie",(function(){return e.handleRemoveOrder()}))},children:t("market.table.buttons.deleteOrder")})]})},onExpand:function(t){N===t.id?z(""):z(t.id);var r=new URLSearchParams(F.location.search);r.set("id",t.id),F.push({pathname:"/market",search:r.toString()}),e.handleSetActiveOrder(t)}}})]})})]})})}));function Bi(e,t){return{type:ra,payload:{id:e,files:t}}}function Wi(e){return{type:ia,payload:{id:e}}}function Hi(e){return{type:$n,payload:e}}function Ki(e){return{type:oa,payload:e}}function Vi(e){return{type:ta,payload:e}}function qi(e,t,r,n){return{type:ma,payload:{value:e,id:t,idx:r,listIdx:n,del:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"false"}}}function Yi(e,t,r,n){return{type:ga,payload:{value:e,id:t,idx:r,listIdx:n,del:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"false"}}}function Ji(){return{type:Yn}}function Zi(e,t){return{type:Jn,payload:{id:t.id,operatInfo:t,files:e,operatTypeId:t.operatTypeId}}}function Xi(e,t){et.getFile(t).then((function(t){e({type:ha,payload:{weights:t.weights}})})).then((function(){e(pe())}))}function Qi(e){var t={id:Object(Pa.a)()};return e.forEach((function(e){t[e]="Data"===e?Ga(new Date):""})),t}function $i(e,t){return t.map((function(t){var r=t.split(";").map((function(e){return e.replaceAll("\r","")})),n=Object.assign.apply({},e.map((function(e,t){return Object(co.a)({},e,r[t])})));return Object(u.a)({id:Object(Pa.a)()},n)}))}function es(e){for(var t=e.split("\n"),r=[],n=t[0].split(",")[0].split(";"),a=1;a<t.length;a++){for(var c={},o=t[a].split(";"),i=0;i<n.length;i++)c[n[i].trim()]=o[i];c.id=Object(Pa.a)(),r.push(c)}return r}function ts(e,t,r){return{type:ba,id:e,columnToChange:t,newValue:r}}function rs(e,t,r){return{type:fa,payload:{name:e,dataField:t,newValue:r}}}function ns(e,t,r,n){return{type:ya,payload:{rowIndex:e,rate:t,dataField:r,newValue:n}}}var as,cs,os=r(161),is=r.n(os),ss=r(123),ls=r.n(ss),ds=["title","titleId"];function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},us.apply(this,arguments)}function ps(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function js(e,t){var r=e.title,n=e.titleId,a=ps(e,ds);return c.createElement("svg",us({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-exclamation-circle",viewBox:"0 0 16 16",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,as||(as=c.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"})),cs||(cs=c.createElement("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})))}var bs=c.forwardRef(js);r.p;var Os=function(e){var t=e.operat,r=e.operatTypeParams,n=Object(p.a)("common").t,a=Object(d.d)(),o=Object(d.e)((function(e){return e.operat})),i=Object(c.useState)([]),s=Object(A.a)(i,2),l=s[0],j=s[1],b=Object(c.useState)(),f=Object(A.a)(b,2),m=f[0],g=f[1],x=[].concat(Object(Ze.a)(r&&r.csvColumns.map((function(e){return e.dataField}))),Object(Ze.a)(o.weights&&o.weights.map((function(e){return e.name})))),y=Object(c.useRef)(null),v={headerAlign:"center",align:"center",editable:!0,sort:!0},w=function(){return[{dataField:"id",text:"ID",hidden:!0},{text:"B\u0142\u0119dy",editable:!1,formatter:function(e,t){return t&&Object.entries(t).some((function(e){var t=Object(A.a)(e,2),r=t[0],n=t[1];return(void 0===n||null===n||""===n)&&x.includes(r)}))?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(bs,{style:{width:"20px",height:"20px"},id:"row-errors-".concat(t.id),fill:"red"}),Object($.jsx)(ce.a,{placement:"top",target:"row-errors-".concat(t.id),children:Object($.jsx)("p",{children:"Uzupe\u0142nij wszystkie pola w rz\u0119dzie"})})]}):Object($.jsx)("div",{})}}].concat(Object(Ze.a)(r&&r.csvColumns.map((function(e){return Object(u.a)(Object(u.a)({dataField:e.dataField,text:e.text},v),{},{editorRenderer:function(t,r,n,c,o,i){return function(e,t,r,n,c,o,i,s){return Object($.jsx)(C,Object(u.a)(Object(u.a)({},e),{},{value:t,type:i,onUpdate:function(e){return a(ts(r.id,s,e))}}))}(t,r,n,0,0,0,e.type,e.dataField)}})}))),Object(Ze.a)(o.weights&&o.weights.map((function(e){return Object(u.a)(Object(u.a)({dataField:e.name,text:"Warto\u015b\u0107 oceny "+e.description},v),{},{editorRenderer:function(t,r,n,c,o,i){return function(e,t,r,n,c,o,i,s,l){return Object($.jsx)(P,Object(u.a)(Object(u.a)({},e),{},{value:t,rangeLow:i,rangeHigh:s,onUpdate:function(e){return a(ts(r.id,l,e))}}))}(t,r,n,0,0,0,e.range[0],e.range[1],e.name)}})}))))};Object(c.useEffect)((function(){var e=o.files.csv;e&&Object.keys(e).length>0&&(a(ue(q.LOADING,{message:"loadingData",translate:!0})),function(e,t){et.getFile(t).then((function(t){e({type:qn,payload:{csv:es(t)}})})).then((function(){e(pe())}))}(a,e.item2));var t=o.files.weights;t&&(Object.keys(t).length>0?(a(ue(q.LOADING,{})),Xi(a,t.item2)):a(Ki(r.weights)))}),[o.files.csv]);var k=is()({mode:"click"}),S=ss.CSVExport.ExportCSVButton,T=function(e){var t=e.slice(e.indexOf("\n")+1).split("\n").filter((function(e){return""!==e})),r=x.length,n=e.split("\n")[0].split(";").map((function(e){return e.trim()})).filter((function(e){return""!==e})),c=w().filter((function(e){return"ID"!==e.text&&"B\u0142\u0119dy"!==e.text})).map((function(e){return e.dataField})).filter((function(e){return!n.includes(e.trim())}));r!==n.length||c.length>0?E(r,n.length,c):a(function(e,t){return{type:aa,payload:{newRows:$i(e,t)}}}(x,t))};function P(e){var t=Object(c.useState)(e.value),r=Object(A.a)(t,2),n=r[0],a=r[1];return Object($.jsx)(G.a,{value:n,type:"number",onKeyPress:function(e){e.charCode>=48&&e.charCode<=57||e.preventDefault()},onChange:function(t){return a((function(r){return t.target.value>=e.rangeLow&&t.target.value<=e.rangeHigh?t.target.value:r}))},min:e.rangeLow,max:e.rangeHigh,onBlur:function(){e.onUpdate(n)}})}function C(e){var t=Object(c.useState)(e.value),r=Object(A.a)(t,2),n=r[0],a=r[1];return"number"===e.type?Object($.jsx)(G.a,{value:n,type:e.type,onKeyPress:function(e){e.charCode>=48&&e.charCode<=57||44===e.charCode||46===e.charCode||e.preventDefault()},onChange:function(e){return a((function(t){return e.target.value>=0?e.target.value:t}))},min:0,onBlur:function(){e.onUpdate(n)}}):Object($.jsx)(G.a,{value:n,type:e.type,onChange:function(e){return a(e.target.value)},onBlur:function(){e.onUpdate(n)}})}var E=function(){var e=Object(h.a)(Object(O.a)().mark((function e(t,r,a){var c;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),c=Object($.jsxs)($.Fragment,{children:[Object($.jsx)("p",{children:"B\u0142\u0105d w pliku CSV."}),Object($.jsxs)("p",{children:["Liczba wymaganych kolumn: ",t,"."]}),Object($.jsxs)("p",{children:["Liczba kolumn w pliku: ",r,"."]}),Object($.jsx)("p",{children:a.length>0?"Liczba brakuj\u0105cych kolumn: ".concat(a.length):""}),a.length>0?Object($.jsxs)("p",{children:["Brakuj\u0105ce kolumny to: ",a.join(", ")]}):""]}),e.next=4,ie()({title:Object($.jsx)($.Fragment,{children:n("history.table.confirm.warning")}),message:c,confirmText:"Wr\xf3\u0107",cancelText:"",confirmColor:"danger",cancelColor:"link text-primary"});case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),_=function(e,t){t.data;var r=t.cellEdit,n=r.rowId,c=r.dataField,o=r.newValue;a(ts(n,c,o))};return Object($.jsx)($.Fragment,{children:Object($.jsx)(H.a,{children:Object($.jsxs)(K.a,{children:[Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsx)("div",{className:"container",children:Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{md:"12",children:Object($.jsx)(H.a,{children:Object($.jsx)(ls.a,{keyField:"id",data:o.csv,columns:w(),exportCSV:{onlyExportSelection:!0,exportAll:!0},children:function(e){return Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{color:"success",onClick:function(){a(function(e){return{type:Ta,columnKeys:e}}(x))},children:"Wy\u015blij dane"}),Object($.jsx)(W.a,{color:"info",onClick:function(){a({type:Xn,payload:{newRow:Qi(x)}})},children:"Dodaj transakcj\u0119"}),Object($.jsx)(W.a,{color:"info",onClick:function(){a({type:Qn,payload:{rows:l}}),j([])},children:"Usu\u0144 zaznaczone linie"}),Object($.jsx)(S,Object(u.a)(Object(u.a)({},e.csvProps),{},{children:"Export do pliku"})),Object($.jsx)(W.a,{onClick:function(){return y.current.click()},children:m?"wybierz plik ["+m.name+"]":"wybierz plik"}),Object($.jsx)("input",{type:"file",id:"file",ref:y,style:{display:"none"},accept:".csv",onChange:function(e){g(e.target.files[0])}}),Object($.jsx)(W.a,{disabled:!m,onClick:function(e){e.preventDefault(),function(){var e=m,t=new FileReader;t.onload=function(e){var t=e.target.result;T(t)},t.readAsText(e)}()},children:"Importuj"}),Object($.jsx)(W.a,{color:"secondary",id:"copyInputArea",onClick:function(){a(ue(q.OPERATS_LIST_MODAL,{operat:t,dataType:"csv"}))},children:"kopiuj dane transakcyjne z innego operatu"}),Object($.jsx)("hr",{}),Object($.jsx)(M.a,Object(u.a)(Object(u.a)({wrapperClasses:"table-scroll"},e.baseProps),{},{remote:{cellEdit:!0},selectRow:{mode:"checkbox",clickToEdit:!1,clickToSelect:!1,onSelect:function(e,t,r,n){t&&j((function(t){return[].concat(Object(Ze.a)(t),[e.id])})),!t&&j(l.filter((function(t){return t!==e.id})))},onSelectAll:function(e,t){!e&&j([]),e&&j(t.map((function(e){return e.id})))}},tabIndexCell:!0,bootstrap4:!0,striped:!0,hover:!0,condensed:!0,bordered:!1,cellEdit:k,onTableChange:_}))]})}})})})})})]})})})};function hs(){var e=Object(c.useState)(!1),t=Object(A.a)(e,2),r=t[0],n=t[1],a=Object(d.e)((function(e){return e.operat}));return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(W.a,{style:{width:"16rem"},color:"info",onClick:function(){return n(!r)},children:"Informacje"}),Object($.jsx)(D.a,{isOpen:r,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:a.operatInfo&&Object.keys(a.operatInfo).map((function(e){return a.operatInfo[e]&&Object($.jsx)("p",{children:e+": "+a.operatInfo[e]})}))})})})]})}var fs=function(e){var t=Object(b.e)().accounts,r=Object(d.e)((function(e){return e.operat})),n=Object(d.e)((function(e){return e.global.ekw})),a=Object(c.useState)({}),o=Object(A.a)(a,2),i=o[0],s=o[1],l=Object(d.d)();Object(c.useEffect)((function(){var t=r.files.input;t&&(Object.keys(t).length>0?(l(ue(q.LOADING,{})),function(e,t,r){et.getFile(t,r).then((function(t){e({type:Kn,payload:{input:t.input}})})).then((function(){e(pe())}))}(l,t.item2,!1)):l(Hi(e.operatTypeParams.input))),0===Object.keys(t).length&&(j(),p())}),[r.operatTypeId,r.files,e.operatTypeParams,l]);var p=function(){var t=JSON.parse(JSON.stringify(e.operatTypeParams.input));if(e.order&&e.order.ekw&&""!==e.order.ekw)try{var r=t.findIndex((function(e){return"kw"===e.name})),n=t[r].findIndex((function(e){return"nr"===e.name}));t[r].data[n].value=e.order.ekw,l(Hi(t))}catch(a){console.log(a)}},j=function(){console.log(r);for(var n=JSON.parse(JSON.stringify(e.operatTypeParams.input)),a=0;a<n.length;a++)for(var c=0;c<n[a].data.length;c++)if(console.log(n[a].data[c]),"now()"===n[a].data[c].default&&"date"===n[a].data[c].type&&(n[a].data[c].value=Ga(new Date)),"author()"===n[a].data[c].value&&(n[a].data[c].value=[t[0].idTokenClaims.given_name,t[0].idTokenClaims.family_name].filter((function(e){return e})).join(" ")),"operatCreationDate()"===n[a].data[c].value&&(n[a].data[c].value=Ga(new Date(r.operat.createdDateTime))),("client()"===n[a].data[c].defaut||"client()"===n[a].data[c].value)&&r.input&&r.input.length>0){var o=r.input.find((function(e){return"kw"===e.name})).data.find((function(e){return"wlasciciel"===e.name}));""!==o.value&&(n[a].data[c].value=o.value)}l(Hi(n))},O=function(e,t,r){l(function(e,t,r){return{type:Hn,payload:{value:e,id:t,idx:r}}}(e,t,r))},h=Object(c.useRef)(null),f=function(e,t,r,n){switch(e.type){case"ekw":return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(W.a,{onClick:function(){return l((t=e.value,r=n.name,void Zt.get(t).then((function(e){return{type:la,payload:{code:t,name:r,ekw:e}}}))));var t,r},children:"Pobierz z ekw"}),Object($.jsx)(W.a,{href:(e.value,new URL("https://przegladarka-ekw.ms.gov.pl/eukw_prz/KsiegiWieczyste/wyszukiwanieKW").toString()),target:"_blank",children:"Przegl\u0105daj EKW"}),Object($.jsx)("br",{}),Object($.jsx)(Uo.a,{mask:"aa9a/99999999/9",value:e.value,onChange:function(e){O(e.target.value,r,t)},invalid:"undefined"!==typeof e.isValid&&!e.isValid,placeholder:e.description,children:function(r){return Object($.jsx)(G.a,Object(u.a)(Object(u.a)({},r),{},{type:e.type,style:{textTransform:"uppercase"},name:n.name+e.type+t,id:e.name+t}))}})]});case"list":return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(oo.a,{onSubmit:function(e){if(e.preventDefault(),i.hasOwnProperty(t.toString())&&""!==i[t.toString()]){l(qi(i[t.toString()],r,t,null,!1));var n=i;n[t.toString()]="",s(n),e.target.reset()}},children:[Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{children:e.label}),Object($.jsx)(G.a,{onChange:function(e){var r=i;r[t.toString()]=e.target.value,console.log(r),s(r)},type:"text",required:!0})]}),Object($.jsx)(W.a,{type:"submit",children:e.button})]}),Object($.jsx)("ul",{class:"list-group",children:e.value.map((function(e,n){return Object($.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",style:{overflowWrap:"anywhere"},children:[e,Object($.jsx)("span",{onClick:function(){l(qi(i[t.toString()],r,t,n,!0))},children:Object($.jsx)("i",{className:"nc-icon nc-simple-remove"})})]},n)}))})]});default:return Object($.jsx)(G.a,{type:e.type,name:n.name+e.type+t,id:e.name+t,placeholder:e.description,value:e.value,onChange:function(e){O(e.target.value,r,t)}})}};return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(Wo.a,{ref:h}),r.input&&r.input.length>0&&r.input.map((function(e,t){return Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{color:"info",id:e.name+"Area"+t,style:{width:"16rem"},children:e.text})," ",e.data.some((function(e){return e.hasOwnProperty("isValid")&&!e.isValid}))&&Object($.jsx)(bs,{fill:"red"}),Object($.jsx)(fo.a,{toggler:e.name+"Area"+t,children:e.data.map((function(r,n){return Object($.jsxs)(io.a,{row:!0,children:[Object($.jsx)(V.a,{md:"3",children:Object($.jsx)("p",{children:r.description})}),Object($.jsxs)(V.a,{sm:8,children:[f(r,n,t,e),r.tooltip&&""!==r.tooltip&&Object($.jsx)(ce.a,{placement:"top",target:r.name+n,children:r.tooltip})]})]},e.name+n)}))})]},e.name+"Area"+t)})),Object($.jsx)(W.a,{color:"success",id:"saveInputArea",onClick:function(){var e;(function(){var e=r.input.findIndex((function(e){return"kw"===e.name})),t=r.input[e].data.findIndex((function(e){return"nr"===e.name})),a=r.input[e].data[t],c=Mo(a.value,n);if(""!==c){var o=JSON.parse(JSON.stringify(r.input));return o[e].data[t].isValid=!1,l(Hi(o)),l(ue(q.ERROR_MESSAGE,{message:c})),!1}return!0})()&&l((e=r.id,{type:ja,id:e}))},style:{marginBottom:"1rem",width:"16rem"},children:"Wy\u015blij dane opisowe"}),Object($.jsx)(W.a,{color:"secondary",id:"copyInputArea",onClick:function(){l(ue(q.OPERATS_LIST_MODAL,{operat:e.operat,dataType:"params"}))},style:{marginBottom:"1rem"},children:"kopiuj dane opisowe z innego operatu"})]})},ms=r(104);var gs=function(e){var t=Object(u.a)({},{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:20,borderColor:"#c2b7b7",borderStyle:"dashed",color:"#0e0c0c",outline:"none"}),r=Object(d.d)(),n=Object(d.e)((function(e){return e.operat})),a=Object(c.useCallback)((function(t){var a=n.photo.data[e.id].data.filter((function(e){return!e.file}));0===a.length&&(a=n.photo.data[e.id].data.slice(0,t.length));for(var c=0;c<a.length;c++){if(c+1>t.length)return;var o=a[c].title,i=t[c].slice(0,t[c].size,"image/png"),s=new File([i],o,{type:"image/png"}),l={id:Object(Pa.a)(),title:o,url:URL.createObjectURL(t[c]),file:s};e.enableBtn(),r(Bi(e.id,l))}}),[r,n.photo.data,e]),o=Object(ms.a)({onDrop:a,multiple:!!e.multiple&&e.multiple}),i=o.getRootProps,s=o.getInputProps;return Object($.jsxs)("section",{className:"container",children:[Object($.jsxs)("div",Object(u.a)(Object(u.a)({},i({className:"dropzone",style:t})),{},{children:[Object($.jsx)("input",Object(u.a)({},s())),Object($.jsx)("p",{children:"Upu\u015b\u0107 lub kliknij aby wczytac plik zdj\u0119cia."})]})),Object($.jsx)("aside",{})]})},xs=r(214),ys=r(231),vs=r(232),ws=r(236),ks=r(237),Ss=r(238),Ts=r(101),Ps=r(142),Cs=r(143),As=r(117);var Es=function(e){var t=Object(c.useState)(e.currentIndex),r=Object(A.a)(t,2),n=r[0],a=r[1],o=Object(c.useState)(!1),i=Object(A.a)(o,2),s=i[0],l=i[1],u=Object(d.e)((function(e){return e.operat}));console.log(u);var p=function(){if(!s){var t=n===e.images.length-1?0:n+1;a(t)}},j=function(){if(!s){var t=0===n?e.images.length-1:n-1;a(t)}},b=e.images.map((function(e){var t;return Object($.jsx)(Ts.a,{onExiting:function(){return l(!0)},onExited:function(){return l(!1)},children:Object($.jsx)("div",{className:"d-flex justify-content-center",children:Object($.jsx)("img",{src:null!==(t=e.url)&&void 0!==t&&t.includes("blob.core.windows.net")?"".concat(e.url,"&date=").concat(u.randomString):e.url,alt:e.title,className:"img-fluid"})})},e.id)}));return Object($.jsxs)(Ps.a,{activeIndex:n,next:p,previous:j,children:[Object($.jsx)(Cs.a,{items:e.images,activeIndex:n,onClickHandler:function(e){s||a(e)}}),b,Object($.jsx)(As.a,{direction:"prev",directionText:"Previous",onClickHandler:j}),Object($.jsx)(As.a,{direction:"next",directionText:"Next",onClickHandler:p})]})};var _s=function(e){var t=Object(c.useState)(!1),r=Object(A.a)(t,2),n=r[0],a=r[1],o=Object(c.useState)(0),i=Object(A.a)(o,2),s=i[0],l=i[1],u=Object(d.e)((function(e){return e.operat})),p=e.hasOwnProperty("images")?e.images:[],j=e.hasOwnProperty("limit")?e.limit:6,b=p.slice(0,j),O=0!==p.length?p.length-j:0;console.log(b);var h=function(){a(!n)};return Object($.jsxs)(xs.a,{children:[Object($.jsx)(B.a,{children:Object($.jsxs)(V.a,{md:{size:10,offset:1},className:"thumbnail-gallery",children:[Object($.jsx)("h5",{className:"text-center my-3",children:"Galeria zdj\u0119\u0107 "}),Object($.jsx)(B.a,{children:b.map((function(e,t){var r;return Object($.jsx)(V.a,{md:"3",className:"my-2",onClick:function(){return l(t),void h()},children:Object($.jsxs)(H.a,{className:"image-card",children:[Object($.jsx)(ys.a,{src:null!==(r=e.url)&&void 0!==r&&r.includes("blob.core.windows.net")?"".concat(e.url,"&date=").concat(u.randomString):e.url}),Object($.jsx)("p",{children:e.title}),0!==O&&t===b-1?Object($.jsxs)(vs.a,{className:"overlay",children:[Object($.jsx)("h2",{className:"mb-0",children:O}),Object($.jsx)("small",{children:" More "})]}):null]})},t)}))})]})}),Object($.jsxs)(ws.a,{className:"modal-xl",isOpen:n,toggle:h,children:[Object($.jsx)(ks.a,{children:"Galeria zdj\u0119\u0107"}),Object($.jsx)(Ss.a,{children:Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{md:"12",children:Object($.jsx)(Es,{images:p,currentIndex:s})})})})]})]})},Rs=r(196);var Is=function(e){var t=Object(d.d)(),r=Object(d.e)((function(e){return e.operat})),n=Object(d.e)((function(e){return e.operat})),a=Object(p.a)("common").t,o=Object(c.useState)([]),i=Object(A.a)(o,2),s=i[0],l=i[1],j=Object(c.useCallback)((function(t){for(var r=e.operatTypeParams.photo.map((function(e){return Object(u.a)({},e)})),n=0;n<r.length;n++)r[n].data=r[n].data.map((function(e){var r=t.find((function(t){return t.item1===e.title}));return r?Object(u.a)(Object(u.a)({},e),{},{url:r.item2}):e}));return{data:r}}),[e.operatTypeParams]);Object(c.useEffect)((function(){var n=r.files.photo.map((function(e){return Object(u.a)({},e)}));n&&n.length>0?t(Vi(j(n))):t(Vi({data:e.operatTypeParams.photo}))}),[t,r.files,e.operatTypeParams,j]);var b=function(e){var n,a;l((function(t){return[].concat(Object(Ze.a)(t),[e])})),t((n=r.id,a=r.photo.data[e].data,{type:na,payload:{operatId:n,photos:a,photoGroupId:e}}))},f=function(e){return!r.photo.data[e].data.every((function(e){return e.hasOwnProperty("url")||e.hasOwnProperty("file")}))||!r.photo.data[e].data.some((function(e){return e.hasOwnProperty("file")}))||s.includes(e)},m=function(){var e=Object(h.a)(Object(O.a)().mark((function e(n){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l((function(e){return[].concat(Object(Ze.a)(e),[n])})),t(ue(q.LOADING,{message:"deleteFile",translate:!0})),r.photo.data[n].data.map(function(){var e=Object(h.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.removeSingleFile(r.id,t.title).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(Wi(n)),t(pe());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object($.jsx)(H.a,{children:Object($.jsxs)(K.a,{children:[Object($.jsx)(W.a,{color:"secondary",id:"copyInputArea",onClick:function(){t(ue(q.OPERATS_LIST_MODAL,{operat:e.operat,history:e.history,dataType:"photos"}))},style:{marginBottom:"1rem"},children:"kopiuj zdj\u0119cia z innego operatu"}),!!r.photo.data&&r.photo.data.map((function(c,o){return Object($.jsx)("div",{children:Object($.jsx)(H.a,{style:{boxShadow:"6px 6px 10px 2px rgb(0 0 0 / 15%)"},children:Object($.jsxs)(K.a,{children:[Object($.jsx)(W.a,{color:"info",id:c.name+"Area"+o,style:{marginBottom:"1rem",width:"14rem"},children:a(c.text)}),Object($.jsx)(W.a,{color:"success",id:c.name+"send"+o,style:{marginBottom:"1rem",width:"17rem"},onClick:function(){b(o)},disabled:f(o),children:"wy\u015blij ".concat(c.text)}),Object($.jsx)(W.a,{color:"danger",id:c.name+"send"+o,style:{marginBottom:"1rem",width:"16rem"},onClick:function(){m(o)},disabled:!r.photo.data[o].data.every((function(e){return e.hasOwnProperty("url")})),children:"usu\u0144 ".concat(c.text)}),"zdjecia_okolica"===c.name&&Object($.jsx)(W.a,{style:{marginBottom:"1rem",width:"14rem"},onClick:function(){var a=e.order.location;if(!a&&""!==a)try{a=n.input.find((function(e){return"adres"===e.name})).data.find((function(e){return"full"===e.name})).value}catch(c){console.log(c)}tr.get(a,"GoogleRoadmap").then((function(e){var n=r.photo.data[o].data.filter((function(e){return!e.file}));0===n.length&&(n=r.photo.data[o].data.slice(0,1));var a=n[0].title,c=e.slice(0,e.size,"image/png"),i=new File([c],a,{type:"image/png"}),s={id:Object(Pa.a)(),title:a,url:URL.createObjectURL(e),file:i};t(Bi(o,s)),Object(Rs.saveAs)(e,"file.png")}))},children:a("create.buttons.googleMaps")}),Object($.jsxs)(fo.a,{toggler:c.name+"Area"+o,children:[Object($.jsx)("br",{}),Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{sm:"12",md:{size:6,offset:3},children:Object($.jsx)(gs,{id:o,multiple:!0,enableBtn:function(){return l((function(e){return e.filter((function(e){return e!==o}))}))},fileNames:c.data.map((function(e){return e.title}))})})}),Object($.jsx)("br",{}),Object($.jsx)(_s,{images:c.data,limit:4})]}),Object($.jsx)("p",{children:c.description})]})})},c.name+"Area"+o)}))]})})},Ns=function(e){return e.operat||Ca},zs=function(){return Object(cr.a)(Ns,(function(e){return e.input}))},Ds=function(){return Object(cr.a)(Ns,(function(e){return e.id}))},Fs=function(){return Object(cr.a)(Ns,(function(e){return e.weights}))},Ls=function(){return Object(cr.a)(Ns,(function(e){return e.protocol}))},Us=function(){return Object(cr.a)(Ns,(function(e){return e.csv}))},Ms=Object(O.a)().mark(Ys),Gs=Object(O.a)().mark(Js),Bs=Object(O.a)().mark(Zs),Ws=Object(O.a)().mark(Xs),Hs=Object(O.a)().mark(Qs),Ks=Object(O.a)().mark($s),Vs=Object(O.a)().mark(tl),qs=Object(O.a)().mark(rl);function Ys(e){var t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(wc.c)(ue(q.LOADING,{message:"saveWeights",translate:!0}));case 2:return a.next=4,Object(wc.e)(Fs());case 4:if(t=a.sent,100===t.map((function(e){return e.participation})).reduce((function(e,t){return e+t}),0)){a.next=12;break}return a.next=9,Object(wc.c)(pe());case 9:return a.next=11,Object(wc.a)(Qe,"","Suma cech nieruchomo\u015bci musi by\u0107 r\xf3wna 100%","danger");case 11:return a.abrupt("return");case 12:return r=new FormData,n=new Blob([JSON.stringify({weights:t.map((function(e){return Object.prototype.hasOwnProperty.call(e,"range")?e:Object(u.a)(Object(u.a)({},e),{},{range:[0,e.ratings.length-1]})}))})],{type:"application/json"}),r.append("file",n,"weights.json"),a.next=17,Object(wc.a)(Zs,r,e.id);case 17:case"end":return a.stop()}}),Ms)}function Js(e){var t,r,n,a;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(wc.c)(ue(q.LOADING,{message:"saveCsv",translate:!0}));case 3:return c.next=5,Object(wc.e)(Pr());case 5:return t=c.sent,c.next=8,Object(wc.e)(Fs());case 8:return r=c.sent,c.next=11,Object(wc.e)(Us());case 11:if(n=c.sent,a=!0,e.columnKeys.forEach((function(e){n.some((function(t){return Object.prototype.hasOwnProperty.call(t,e)&&(""===t[e]||void 0===t[e]||null===t[e])}))&&(a=!1)})),a){c.next=18;break}return c.next=17,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"saveCsvValidationError",translate:!0}));case 17:return c.abrupt("return");case 18:return c.next=20,Object(wc.a)(et.sendCSVFile,n.map((function(e){return Object(u.a)({},e)})),t.id,r);case 20:return c.next=22,Object(wc.c)(pe());case 22:return c.next=24,Object(wc.c)(Ji());case 24:c.next=31;break;case 26:return c.prev=26,c.t0=c.catch(0),console.log(c.t0),c.next=31,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"saveCsvFailed",translate:!0}));case 31:case"end":return c.stop()}}),Gs,null,[[0,26]])}function Zs(e,t){var r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(wc.a)(he);case 2:return a.t0=a.sent,a.t1=e,r={method:"POST",headers:a.t0,body:a.t1},n="/OperatFiles/upload/".concat(t,"/convert"),a.prev=6,a.next=9,Object(wc.a)(Ec,n,r);case 9:return a.next=11,Object(wc.c)(pe());case 11:return a.next=13,Object(wc.c)(Ji());case 13:a.next=20;break;case 15:return a.prev=15,a.t2=a.catch(6),a.next=19,Object(wc.c)(pe());case 19:console.log(a.t2);case 20:case"end":return a.stop()}}),Bs,null,[[6,15]])}function Xs(e){var t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(wc.c)({type:pa});case 2:return a.next=4,Object(wc.c)(Ji());case 4:return a.next=6,Object(wc.c)(ue(q.LOADING,{message:"saveInputArea",translate:!0}));case 6:return a.next=8,Object(wc.e)(zs());case 8:return t=a.sent,r=new FormData,n=new Blob([JSON.stringify({input:t})],{type:"application/json"}),r.append("file",n,"params.json"),a.next=14,Object(wc.a)(Zs,r,e.id);case 14:case"end":return a.stop()}}),Ws)}function Qs(){var e,t,r;return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(wc.a)(he);case 2:return n.t0=n.sent,e={method:"POST",headers:n.t0},n.next=6,Object(wc.e)(Ds());case 6:return t=n.sent,r="/Operat/id/".concat(t,"/generate"),n.prev=8,n.next=11,Object(wc.c)(ue(q.LOADING,{message:"generateOperat",translate:!0}));case 11:return n.next=13,Object(wc.a)(Ec,r,e);case 13:return n.next=15,Object(wc.c)(pe());case 15:return n.next=17,Object(wc.a)(Qe,"","Operat zostal wygenerowany","success");case 17:case 24:n.next=28;break;case 19:if(n.prev=19,n.t1=n.catch(8),!Object.prototype.hasOwnProperty.call(n.t1,"response")||402!==n.t1.response.status){n.next=26;break}return n.next=24,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"unactiveSubscription",translate:!0}));case 26:return n.next=28,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"generateOperatFailed",translate:!0}));case 28:case"end":return n.stop()}}),Hs,null,[[8,19]])}function $s(){var e,t,r,n,a,c,o,i;return Object(O.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(wc.e)(Ds());case 3:return e=s.sent,s.next=6,Object(wc.c)(ue(q.LOADING,{message:"generateProtocol",translate:!0}));case 6:return s.next=8,Object(wc.e)(Ls());case 8:return t=s.sent,r=new FormData,n=new Blob([JSON.stringify({protocol:t})],{type:"application/json"}),r.append("file",n,"protocol.json"),s.next=14,Object(wc.a)(he);case 14:return s.t0=s.sent,s.t1=r,a={method:"POST",headers:s.t0,body:s.t1},c="/OperatFiles/upload/".concat(e,"/convert"),s.next=20,Object(wc.a)(Ec,c,a);case 20:return s.next=22,Object(wc.a)(he);case 22:return s.t2=s.sent,o={method:"POST",headers:s.t2},i="/Operat/id/".concat(e,"/generate/protocol"),s.next=27,Object(wc.a)(Ec,i,o);case 27:return s.next=29,Object(wc.c)(pe());case 29:return s.next=31,Object(wc.c)(Ji());case 31:return s.next=33,Object(wc.a)(Qe,"","Protok\xf3\u0142 zosta\u0142 wygenerowany","success");case 33:s.next=39;break;case 35:return s.prev=35,s.t3=s.catch(0),s.next=39,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"generateProtocolFailed",translate:!0}));case 39:case"end":return s.stop()}}),Ks,null,[[0,35]])}function el(e){var t=e.payload;return Object(O.a)().mark((function e(){var r,n,a,c;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wc.c)(ue(q.LOADING,{message:"sendPhotos",translate:!0}));case 2:if(0!==(r=t.photos.filter((function(e){return Object.prototype.hasOwnProperty.call(e,"file")}))).length){e.next=5;break}return e.abrupt("return");case 5:return n=new FormData,r.forEach((function(e,t){n.append("file".concat(t),e.file,e.file.name)})),a="/OperatFiles/upload2/".concat(t.operatId),e.next=10,Object(wc.a)(he);case 10:return e.t0=e.sent,e.t1=n,c={method:"POST",headers:e.t0,body:e.t1},e.prev=13,e.next=16,Object(wc.a)(Ec,a,c);case 16:return e.next=18,Object(wc.c)((o=t.photoGroupId,{type:sa,payload:{id:o}}));case 18:return e.next=20,Object(wc.c)(pe());case 20:return e.next=22,Object(wc.c)(Ji());case 22:e.next=28;break;case 24:return e.prev=24,e.t2=e.catch(13),e.next=28,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"sendPhotosFailed",translate:!0}));case 28:case"end":return e.stop()}var o}),e,null,[[13,24]])}))()}function tl(){var e,t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(wc.c)(ue(q.LOADING,{message:"Trwa prze\u0142adowanie operatu"}));case 2:return a.next=4,Object(wc.e)(Pr());case 4:return e=a.sent,a.next=7,Object(wc.a)(he);case 7:return a.t0=a.sent,t={method:"GET",headers:a.t0},r="/OperatFiles/id/".concat(e.id,"/formated"),a.prev=10,a.next=13,Object(wc.a)(Ec,r,t);case 13:return n=a.sent,a.next=16,Object(wc.c)(Zi(n,e));case 16:return a.next=18,Object(wc.c)(pe());case 18:a.next=25;break;case 20:return a.prev=20,a.t1=a.catch(10),console.log(a.t1),a.next=25,Object(wc.c)(pe());case 25:case"end":return a.stop()}}),Vs,null,[[10,20]])}function rl(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wc.g)(ja,Xs);case 2:return e.next=4,Object(wc.g)(ua,$s);case 4:return e.next=6,Object(wc.g)(da,Qs);case 6:return e.next=8,Object(wc.g)(na,el);case 8:return e.next=10,Object(wc.g)(Oa,Ys);case 10:return e.next=12,Object(wc.g)(Yn,tl);case 12:return e.next=14,Object(wc.g)(Ta,Js);case 14:case"end":return e.stop()}}),qs)}var nl=function(e){return e<0?0:e>100?100:e};function al(e){var t=Object(c.useState)(e.value),r=Object(A.a)(t,2),n=r[0],a=r[1];return[Object($.jsx)(G.a,{value:n,type:e.type,min:e.min,max:e.max,onChange:function(t){"number"===e.type?a(nl(t.target.value)):a(t.target.value)},onBlur:function(){"number"===e.type?e.onUpdate(parseInt(n)):e.onUpdate(n)}})]}var cl=function(e){var t=e.operatTypeParams,r=e.operat,n=Object(c.useState)(null),a=Object(A.a)(n,2),o=a[0],i=a[1],s=Object(c.useState)(0),l=Object(A.a)(s,2),j=l[0],b=l[1],O=Object(d.d)(),h=Object(d.e)((function(e){return e.operat})),f=Object(p.a)("common").t,m=[{dataField:"id",hidden:!0},{dataField:"rate",text:f("create.weights.ratingTableHeaders.value"),align:"center",headerAlign:"center",sort:!0,formatter:function(e,t,r,n){return Object($.jsxs)($.Fragment,{children:[Object($.jsx)("p",{id:"weight-value-".concat(r),children:e}),Object($.jsx)(ce.a,{placement:"top",target:"weight-value-".concat(r),children:"Najmniejsza warto\u015b\u0107 to najmniej korzystna ocena"})]})}},{dataField:"rateText",text:f("create.weights.ratingTableHeaders.rating"),align:"center",headerAlign:"center",editorRenderer:function(e,t,r,n,a,c){return Object($.jsx)(al,Object(u.a)(Object(u.a)({},e),{},{value:t,type:"text",onUpdate:function(e){return O(ns(j,r.rate,"rateText",e))}}))},sort:!0},{dataField:"description",text:f("create.weights.ratingTableHeaders.description"),align:"center",headerAlign:"center",sort:!0,editable:!0,editorRenderer:function(e,t,r,n,a,c){return Object($.jsx)(al,Object(u.a)(Object(u.a)({},e),{},{value:t,type:"text",onUpdate:function(e){return O(ns(j,r.rate,"description",e))}}))}},{editable:!1,text:f("create.weights.ratingTableHeaders.selectRating"),align:"center",headerAlign:"center",sort:!0,formatter:function(e,t){return Object($.jsx)(W.a,{color:"info",onClick:function(e){O(rs(o.name,"rate",t.rate))},children:"Wybierz"})}}],g=Object(c.useState)([]),x=Object(A.a)(g,2),y=x[0],v=x[1],w=Object(c.useState)([]),k=Object(A.a)(w,2),S=k[0],T=k[1],P=function(e,t){return{mode:"checkbox",clickToEdit:!1,clickToSelect:!1,clickToExpand:!0,onSelect:e,onSelectAll:t}},C=[{dataField:"name",text:f("create.weights.weightTableHeaders.id"),hidden:!1},{dataField:"description",text:f("create.weights.weightTableHeaders.description"),editable:!0,align:"center",headerAlign:"center",sort:!0,editorRenderer:function(e,t,r,n,a,c){return Object($.jsx)(al,Object(u.a)(Object(u.a)({},e),{},{value:t,type:"text",onUpdate:function(e){return O(rs(r.name,"description",e))}}))}},{dataField:"justification",hidden:!0},{dataField:"participation",text:f("create.weights.weightTableHeaders.participation"),editable:!0,align:"center",headerAlign:"center",sort:!0,editorRenderer:function(e,t,r,n,a,c){return Object($.jsx)(al,Object(u.a)(Object(u.a)({},e),{},{value:t,type:"number",min:1,max:100,onUpdate:function(e){return O(rs(r.name,"participation",e))}}))}},{dateField:"rate",text:f("create.weights.weightTableHeaders.rating"),editable:!1,align:"center",headerAlign:"center",formatter:function(e,t){if(0===t.ratings.length)return"";var r=t.ratings.find((function(e){return e.rate===t.rate}));return r?r.rateText:""}}];Object(c.useEffect)((function(){var e=h.files.weights;e&&(Object.keys(e).length>0?(O(ue(q.LOADING,{})),Xi(O,e.item2)):O(Ki(t.weights)))}),[h.files.weights]);var E=is()({mode:"click",blurToSave:!0}),_=function(e,t){t.data;var r=t.cellEdit,n=r.rowId,a=r.dataField,c=r.newValue;O(rs(n,a,c))},R={renderer:function(e){return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(W.a,{color:"success",onClick:function(){return O({type:va,payload:{rowIndex:j}})},children:"Dodaj now\u0105 ocen\u0119"}),Object($.jsx)(W.a,{color:"info",onClick:function(){O({type:ka,payload:{indexes:S,rowIndex:j}}),T([])},children:"Usu\u0144 ocen\u0119"}),Object($.jsx)(io.a,{children:Object($.jsx)(M.a,{keyField:"id",remote:{cellEdit:!0},data:e.ratings,columns:m,selectRow:P((function(e,t,r,n){t&&T((function(t){return[].concat(Object(Ze.a)(t),[e.id])})),!t&&T(S.filter((function(t){return t!==e.id})))}),(function(e,t){!e&&T([]),e&&T(t.map((function(e){return e.name})))})),tabIndexCell:!0,bootstrap4:!0,striped:!0,hover:!0,condensed:!0,bordered:!1,cellEdit:E,onTableChange:_})}),"Uzasadnienie wyboru oceny",Object($.jsx)(G.a,{type:"textarea",value:e.justification,onChange:function(t){return O(rs(e.name,"justification",t.target.value))}})]})},onlyOneExpanding:!0,onExpand:function(e,t,r,n){i(e),b(r)}};return Object($.jsx)($.Fragment,{children:Object($.jsx)(H.a,{children:Object($.jsxs)(K.a,{children:[Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsx)("div",{className:"container",children:Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{md:"12",children:Object($.jsx)(H.a,{children:h.weights&&Object($.jsx)(ls.a,{keyField:"name",data:h.weights,columns:C,exportCSV:{onlyExportSelection:!0,exportAll:!0},children:function(e){return Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{color:"success",onClick:function(){var e;O((e=h.id,{type:Oa,id:e}))},children:"Wy\u015blij dane"}),Object($.jsx)(W.a,{color:"info",onClick:function(){O({type:wa,payload:{indexes:y}}),v([])},children:"Usu\u0144 cech\u0119 nieruchomo\u015bci"}),Object($.jsx)(W.a,{color:"info",id:"copyWeights",onClick:function(){O(ue(q.OPERATS_LIST_MODAL,{operat:r,dataType:"weights"}))},children:"kopiuj cechy nieruchomo\u015bci z innego operatu"}),Object($.jsx)(W.a,{color:"info",onClick:function(){O({type:xa})},children:"Dodaj now\u0105 cech\u0119 nieruchomo\u015bci"}),Object($.jsx)("hr",{}),Object($.jsx)(M.a,Object(u.a)(Object(u.a)({},e.baseProps),{},{remote:{cellEdit:!0},tabIndexCell:!0,bootstrap4:!0,striped:!0,hover:!0,selectRow:P((function(e,t,r,n){t&&v((function(t){return[].concat(Object(Ze.a)(t),[e.name])})),!t&&v(y.filter((function(t){return t!==e.name})))}),(function(e,t){!e&&v([]),e&&v(t.map((function(e){return e.name})))})),condensed:!0,bordered:!1,cellEdit:E,expandRow:R,onTableChange:_}))]})}})})})})})]})})})};var ol=function(e){var t=Object(b.e)().accounts,r=Object(d.e)((function(e){return e.operat})),n=Object(c.useState)({}),a=Object(A.a)(n,2),o=a[0],i=a[1],s=Object(c.useRef)(),l=Object(c.useRef)(),p=Object(d.d)();Object(c.useEffect)((function(){var t,n=r.files.protocol;n&&(Object.keys(n).length>0?(p(ue(q.LOADING,{})),function(e,t,r){et.getFile(t,r).then((function(t){e({type:Vn,payload:{protocol:t.protocol}})})).then((function(){e(pe())}))}(p,n.item2,!1)):p((t=e.operatTypeParams.protocol,{type:ea,payload:t}))),0===Object.keys(n).length&&(O(),j())}),[r.operatTypeId,r.files,e.operatTypeParams,p]);var j=function(){var t=JSON.parse(JSON.stringify(e.operatTypeParams.input));if(e.order&&e.order.ekw&&""!==e.order.ekw)try{var r=t.findIndex((function(e){return"kw"===e.name})),n=t[r].findIndex((function(e){return"nr"===e.name}));t[r].data[n].value=e.order.ekw,p(Hi(t))}catch(a){}},O=function(){for(var r=JSON.parse(JSON.stringify(e.operatTypeParams.input)),n=0;n<r.length;n++)for(var a=0;a<r[n].data.length;a++)"now()"===r[n].data[a].default&&"date"===r[n].data[a].type&&(r[n].data[a].value=Ga(new Date)),"author()"===r[n].data[a].value&&(r[n].data[a].value=[t[0].idTokenClaims.given_name,t[0].idTokenClaims.family_name].filter((function(e){return e})).join(" "));p(Hi(r))},h=function(e,t,r){p(function(e,t,r){return{type:ca,payload:{value:e,id:t,idx:r}}}(e,t,r))},f=Object(c.useRef)(null);function m(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c={type:e.type,name:n.name+e.type+t,id:e.name+t,placeholder:e.description,value:e.value,onChange:function(e){h(e.target.value,r,t)}};return a&&(c=Object(u.a)(Object(u.a)({},c),{},{ref:a})),Object($.jsx)(G.a,Object(u.a)({},c))}var g=function(e,t,r,n){return"list"===e.type?Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(oo.a,{onSubmit:function(e){if(e.preventDefault(),o.hasOwnProperty(t.toString())&&""!==o[t.toString()]){p(Yi(o[t.toString()],r,t,null,!1));var n=o;n[t.toString()]="",i(n),e.target.reset()}},children:[Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{children:e.label}),Object($.jsx)(G.a,{onChange:function(e){var r=o;r[t.toString()]=e.target.value,i(r)},type:"text",required:!0})]}),Object($.jsx)(W.a,{type:"submit",children:e.button})]}),Object($.jsx)("ul",{class:"list-group",children:e.value.map((function(e,n){return Object($.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",style:{overflowWrap:"anywhere"},children:[e,Object($.jsx)("span",{onClick:function(){p(Yi(o[t.toString()],r,t,n,!0))},children:Object($.jsx)("i",{className:"nc-icon nc-simple-remove"})})]},n)}))})]}):"start_time"===e.name?m(e,t,r,n,s):"end_time"===e.name?m(e,t,r,n,l):m(e,t,r,n)};return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(Wo.a,{ref:f}),r.protocol&&r.protocol.length>0&&r.protocol.map((function(e,t){return Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{color:"info",id:e.name+"Area"+t,style:{width:"16rem"},children:e.text})," ",e.data.some((function(e){return e.hasOwnProperty("isValid")&&!e.isValid}))&&Object($.jsx)(bs,{fill:"red"}),Object($.jsx)(fo.a,{toggler:e.name+"Area"+t,children:e.data.map((function(r,n){return Object($.jsxs)(io.a,{row:!0,children:[Object($.jsx)(V.a,{md:"3",children:Object($.jsx)("p",{children:r.description})}),Object($.jsxs)(V.a,{sm:8,children:[g(r,n,t,e),r.tooltip&&""!==r.tooltip&&Object($.jsx)(ce.a,{placement:"top",target:r.name+n,children:r.tooltip})]})]},e.name+n)}))})]},e.name+"Area"+t)})),Object($.jsx)(W.a,{color:"success",id:"generateProtocol",style:{marginBottom:"1rem",width:"16rem"},onClick:function(){if(s.current.props.value&&l.current.props.value){var e=s.current.props.value.split(":"),t=Object(A.a)(e,2),r=t[0],n=t[1],a=l.current.props.value.split(":"),c=Object(A.a)(a,2),o=c[0],i=c[1];if(parseInt(r)>parseInt(o)||parseInt(r)===parseInt(o)&&parseInt(n)>=parseInt(i))return void p(ue(q.CONFIRM_ERROR,{message:"Godzina rozpocz\u0119cia czynno\u015bci rzeczoznawcy nie mo\u017ce by\u0107 taka sama lub p\xf3\u017aniejsza ni\u017c godzina zako\u0144czenia."}))}p({type:ua})},children:"Generuj protok\xf3\u0142"})]})};var il=function(e){vc({key:"operat",reducer:Aa}),ao({key:"operat",saga:rl});var t=Object(d.d)(),r=Object(d.e)((function(e){return e.global.user})),n=Object(d.e)((function(e){return e.operat})),a=Object(c.useState)({}),o=Object(A.a)(a,2),i=o[0],s=o[1],l=Object(c.useState)([]),u=Object(A.a)(l,2),b=u[0],O=u[1],h=Object(c.useState)(0),f=Object(A.a)(h,2),m=f[0],g=f[1],x=Object(p.a)("common").t,y=Object(j.g)();Object(c.useEffect)((function(){var e=new URLSearchParams(y.search);return ge.get(e.get("id")).then((function(e){Ke.getSingleOrder(e.orderId).then((function(e){return s(e)})),t({type:Sa,payload:e}),St.getTypeParams(e.operatTypeId).then((function(e){O(e);var r=e.photo.map((function(e){return e.data.length})).reduce((function(e,t){return e+t}),0);g(r),Array.isArray(e)&&t({type:Zn,payload:e={input:[],csvColumns:[],photo:[]}}),t(pe()),t(Ji())}))})).catch((function(e){})),function(){t({type:Wn})}}),[t,y.search]);var v=Object(c.useState)(!1),w=Object(A.a)(v,2),k=w[0],S=w[1],T=Object(c.useState)(!1),P=Object(A.a)(T,2),C=P[0],E=P[1],_=Object(c.useState)(!1),R=Object(A.a)(_,2),I=R[0],N=R[1],z=Object(c.useState)(!1),F=Object(A.a)(z,2),L=F[0],U=F[1],M=Object(c.useState)(!1),G=Object(A.a)(M,2),B=G[0],V=G[1],q=r.userType===Y.ADMIN,J=!!n.files.csv&&(n.files.input.item1&&n.files.weights.item1&&n.files.csv.item1&&(n.files.photo.length===m||n.photo.data&&n.photo.data.every((function(e){return e.data.every((function(e){return e.hasOwnProperty("url")&&!e.hasOwnProperty("file")}))}))));return Object($.jsxs)("div",{className:"content",children:[q&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(hs,{}),Object($.jsx)("br",{})]}),Object($.jsx)(W.a,{style:{width:"16rem"},color:"success",onClick:function(){return t({type:da})},disabled:!J,children:x("create.buttons.generate")}),!J&&Object($.jsxs)($.Fragment,{children:[" ",Object($.jsx)(bs,{style:{width:"20px",height:"20px"},id:"cannot-generate-info",fill:"red"}),Object($.jsx)(ce.a,{placement:"top",target:"cannot-generate-info",children:Object($.jsx)("div",{dangerouslySetInnerHTML:{__html:function(){var e="";return n.files.csv?(n.files.input.item1||(e+="Brak danych opisowych<br /> \n"),n.files.csv.item1||(e+="Brak cen transakcyjnych<br /> \n"),0!==n.files.photo.length&&n.files.photo.length===m||(e+="Brak zdj\u0119\u0107<br /> \n"),n.files.weights.item1||(e+="Brak cech nieruchomo\u015bci<br /> \n"),e):""}()}})})]}),Object($.jsx)("br",{}),Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{color:"info",onClick:function(){return S(!k)},disabled:!b.input,style:{marginBottom:"1rem",width:"16rem"},children:x("create.buttons.description")}),Object($.jsx)(D.a,{isOpen:k,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:k&&Object($.jsx)(fs,{operatTypeParams:b,operat:n.operat,order:i})})})})]}),Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{disabled:0===b.length,color:"info",onClick:function(){return V((function(e){return!e}))},style:{marginBottom:"1rem",width:"16rem"},children:x("create.buttons.weights")}),Object($.jsx)(D.a,{isOpen:B,children:B&&Object($.jsx)(cl,{operatTypeParams:b,operat:n.operat,order:i})})]}),Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{disabled:0===b.length,color:"info",onClick:function(){return E(!C)},style:{marginBottom:"1rem",width:"16rem"},children:x("create.buttons.csvFiles")}),Object($.jsx)(D.a,{isOpen:C,children:C&&Object($.jsx)(Os,{operatTypeParams:b,operat:n.operat})})]}),Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{disabled:0===b.length,color:"info",onClick:function(){return N(!I)},style:{marginBottom:"1rem",width:"16rem"},children:x("create.buttons.photos")}),Object($.jsx)(D.a,{isOpen:I,children:I&&Object($.jsx)(Is,{operatTypeParams:b,operat:n.operat,order:i})})]}),Object($.jsxs)("div",{children:[Object($.jsx)(W.a,{disabled:0===b.length,color:"info",onClick:function(){return U(!L)},style:{marginBottom:"1rem",width:"16rem"},children:x("create.buttons.protocol")}),Object($.jsx)(D.a,{isOpen:L,children:L&&Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:Object($.jsx)(ol,{operatTypeParams:b,operat:n.operat,order:i})})})})]})]})},sl=r(221),ll=r(250),dl=r(251),ul=r(240);var pl=function(e){var t=Object(u.a)({},{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:20,borderColor:"#c2b7b7",borderStyle:"dashed",color:"#0e0c0c",outline:"none"}),r=Object(d.d)(),n=Object(c.useState)([]),a=Object(A.a)(n,2),o=a[0],i=a[1],s=Object(b.e)().accounts,l=function(){var e=Object(h.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie()({title:Object($.jsx)($.Fragment,{children:"Ostrze\u017cenie"}),message:"Tw\xf3j plik jest za du\u017cy.",cancelText:"OK"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p="do wys\u0142ania",j="wys\u0142any",f=Object(c.useCallback)((function(t){t.length>0?i((function(r){return r.length<e.maxLength?[].concat(Object(Ze.a)(r),[{id:Object(Pa.a)(),file:t[0],condition:p}]):Object(Ze.a)(r)})):l()}),[p,e.maxLength]),m=Object(ms.a)({onDrop:f,multiple:!1,accept:e.acceptedExt,minSize:0,maxSize:512e4}),g=m.getRootProps,x=m.getInputProps,y=function(e,t){ht.sendOperatorFile(s[0].idTokenClaims.oid,e,t).then((function(t){return function(e,t){"Too many files to send"!==e[0]?(i(o.map((function(e){return e.id===t.id&&(e.condition=j),e}))),r(pe())):r(ue(q.TOO_MUCH_OPERATOR_FILES,{}))}(t,e)}))},v=function(){return o.map((function(t,n){return Object($.jsx)("tbody",{children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{scope:"row",children:n+1}),Object($.jsx)("td",{children:t.file.name}),Object($.jsx)("td",{children:t.condition}),Object($.jsxs)("td",{children:[Object($.jsx)(W.a,{color:"primary",onClick:function(){!function(t){switch(r(ue(q.LOADING,{message:"loadingData",translate:!0})),e.fileType){case"stamp":y(t,"stamp.png");break;case"pdf":y(t);break;case"diploma":y(t,"diploma.pdf");break;case"oc":y(t,"oc.pdf")}}(t)},disabled:t.condition===j,children:"Wy\u015blij"}),"    ",Object($.jsx)(W.a,{color:"warning",onClick:function(){i(o.filter((function(e){return e.id!==t.id})))},children:"Usu\u0144"})]})]})},n)}))};return Object($.jsxs)("div",{children:[Object($.jsxs)("section",{className:"container",children:[Object($.jsxs)("div",Object(u.a)(Object(u.a)({},g({className:"dropzone",style:t})),{},{children:[Object($.jsx)("input",Object(u.a)({},x())),Object($.jsx)("p",{children:"Upu\u015b\u0107 lub kliknij aby wczytac pliki."}),Object($.jsxs)("p",{children:["Akceptowane formaty pliku to: ",Object($.jsx)("b",{children:e.acceptedExt.replaceAll(".","").toLowerCase()}),"."]}),Object($.jsx)("p",{children:"Maksymalna wielko\u015b\u0107 pliku to 5 MB."})]})),Object($.jsx)("aside",{})]}),o.length>0&&Object($.jsxs)(ul.a,{children:[Object($.jsx)("thead",{children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{children:"#"}),Object($.jsx)("th",{children:"nazwa pliku"}),Object($.jsx)("th",{children:"Status"}),Object($.jsx)("th",{children:"Akcja"})]})}),v()]})]})};var jl=function(e){var t=Object(b.e)().accounts,r=Object(c.useState)([]),n=Object(A.a)(r,2),a=n[0],o=n[1],i=Object(d.d)(),s=function(){var e=Object(h.a)(Object(O.a)().mark((function e(r){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie()({title:Object($.jsx)($.Fragment,{children:"Ostrze\u017cenie"}),message:"Czy na pewno chcesz usun\u0105\u0107 plik ".concat(r.item1),confirmText:"Usu\u0144",confirmColor:"danger",cancelColor:"link text-primary"});case 2:e.sent&&(i(ue(q.LOADING,{message:"deleteFile",translate:!0})),ht.removeOperatorFileByName(t[0].idTokenClaims.oid,r.item1).then((function(){o(a.filter((function(e){return e.item1!==r.item1}))),i(pe())})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){i(ue(q.LOADING,{message:"loadingData",translate:!0})),ht.getOperatorFiles(t[0].idTokenClaims.oid).then((function(e){o(e),i(pe())}))}),[t,i]),Object($.jsx)($.Fragment,{children:a.length>0&&Object($.jsxs)(ul.a,{children:[Object($.jsx)("thead",{children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{children:"#"}),Object($.jsx)("th",{children:"nazwa pliku"}),Object($.jsx)("th",{children:"Akcja"})]})}),a.map((function(e,t){return Object($.jsx)("tbody",{children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{scope:"row",children:t+1}),Object($.jsx)("td",{children:e.item1}),Object($.jsxs)("td",{children:[Object($.jsx)(W.a,{color:"primary",onClick:function(){ht.getFileBlob(e.item2,e.item1)},children:"pobierz"}),"    ",Object($.jsx)(W.a,{color:"warning",onClick:function(){s(e)},children:"Usu\u0144"})]})]})},t)}))]})})};var bl=function(e){var t=Object(p.a)("common").t,r=Object(c.useState)(!1),n=Object(A.a)(r,2),a=n[0],o=n[1],i=Object(c.useState)(!1),s=Object(A.a)(i,2),l=s[0],d=s[1],u=Object(c.useState)(!1),j=Object(A.a)(u,2),b=j[0],O=j[1],h=Object(c.useState)(!1),f=Object(A.a)(h,2),m=f[0],g=f[1],x=Object(c.useState)(!1),y=Object(A.a)(x,2),v=y[0],w=y[1];return Object($.jsx)($.Fragment,{children:Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{md:"8",children:Object($.jsx)(H.a,{children:Object($.jsxs)(K.a,{children:[Object($.jsx)(W.a,{color:"primary",onClick:function(){return o(!a)},children:t("userProfile.buttons.sendFiles")}),Object($.jsx)(D.a,{isOpen:a,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:Object($.jsx)(pl,{acceptedExt:".pdf, .pem",fileType:"pdf",maxLength:100})})})}),Object($.jsx)(W.a,{color:"primary",onClick:function(){return d(!l)},children:t("userProfile.buttons.sendStamp")}),Object($.jsx)(D.a,{isOpen:l,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:Object($.jsx)(pl,{acceptedExt:".png, .jpg",fileType:"stamp",maxLength:1})})})}),Object($.jsx)(W.a,{color:"primary",onClick:function(){return O(!b)},children:t("userProfile.buttons.sendDiploma")}),Object($.jsx)(D.a,{isOpen:b,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:Object($.jsx)(pl,{acceptedExt:".pdf",fileType:"diploma",maxLength:1})})})}),Object($.jsx)(W.a,{color:"primary",onClick:function(){return g(!m)},children:t("userProfile.buttons.sendLiabilityInsurance")}),Object($.jsx)(D.a,{isOpen:m,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:Object($.jsx)(pl,{acceptedExt:".pdf",fileType:"oc",maxLength:1})})})}),Object($.jsx)(W.a,{color:"primary",id:"showFiles",onClick:function(){return w(!v)},children:t("userProfile.buttons.showUploadedFiles")}),Object($.jsx)(D.a,{toggler:"#showFiles",isOpen:v,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:v&&Object($.jsx)(jl,{})})})})]})})})})})},Ol=r(230),hl=r(233),fl={licenceNumber:0,inZbpList:!1,mail:"",address:"",id:"",name:"",nameWithTitle:"",degree:"",firstName:"",lastName:"",description:"",phone:""};var ml=function(e){var t=Object(b.e)().accounts,r=Object(p.a)("common").t,n=Object(d.e)((function(e){return e.global.user})),a=Object(d.d)(),o=Object(c.useState)(fl),i=Object(A.a)(o,2),s=i[0],l=i[1],j=Object(c.useState)({city:s.address.split(",")[2],postalCode:s.address.split(",")[1],street:s.address.split(",")[0]}),O=Object(A.a)(j,2),h=O[0],f=O[1],m=n.userType===Y.OPERATOR,g=n.userType===Y.ADMIN,x=n.userType===Y.CLIENT;return Object(c.useEffect)((function(){g&&It.getAdminDataById(t[0].idTokenClaims.oid).then((function(e){y(e)})),m&&Ne.getOperatorData(t[0].idTokenClaims.oid).then((function(e){y(e)})),x&&Ut.getClientData(t[0].idTokenClaims.oid).then((function(e){y(e)}))}),[t,g,m,x]),Object($.jsxs)($.Fragment,{children:[" ",Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{md:"8",children:Object($.jsxs)(H.a,{className:"card-user",children:[Object($.jsx)(Ol.a,{children:Object($.jsx)(hl.a,{tag:"h5",children:r("userProfile.profileEdition")})}),Object($.jsx)(K.a,{children:Object($.jsxs)("div",{children:[Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{className:"pl-1",md:"6",children:Object($.jsxs)(io.a,{children:[Object($.jsx)("label",{htmlFor:"exampleInputEmail1",children:r("userProfile.userEmail")}),Object($.jsx)(G.a,{placeholder:"Email",type:"email",value:s.mail,readOnly:!0})]})})}),Object($.jsxs)(B.a,{children:[Object($.jsx)(V.a,{className:"pr-1",md:"6",children:Object($.jsxs)(io.a,{children:[Object($.jsx)("label",{children:r("userProfile.userName")}),Object($.jsx)(G.a,{placeholder:"",type:"text",value:s.name,onChange:function(e){return l((function(t){return Object(u.a)(Object(u.a)({},t),{},{name:e.target.value})}))}})]})}),Object($.jsx)(V.a,{className:"pl-1",md:"6",children:Object($.jsxs)(io.a,{children:[Object($.jsx)("label",{htmlFor:"phone",children:r("userProfile.phoneNumber")}),Object($.jsx)(G.a,{placeholder:"",type:"phone",value:s.phone,onChange:function(e){return l((function(t){return Object(u.a)(Object(u.a)({},t),{},{phone:e.target.value})}))}})]})})]}),Object($.jsxs)(B.a,{children:[Object($.jsx)(V.a,{className:"pr-1",md:"6",children:Object($.jsxs)(io.a,{children:[Object($.jsx)("label",{children:r("userProfile.userFirstName")}),Object($.jsx)(G.a,{value:s.firstName,placeholder:"Imi\u0119",type:"text",onChange:function(e){return l((function(t){return Object(u.a)(Object(u.a)({},t),{},{firstName:e.target.value})}))}})]})}),Object($.jsx)(V.a,{className:"pl-1",md:"6",children:Object($.jsxs)(io.a,{children:[Object($.jsx)("label",{children:r("userProfile.userLastName")}),Object($.jsx)(G.a,{value:s.lastName,placeholder:"Nazwisko",type:"text",onChange:function(e){return l((function(t){return Object(u.a)(Object(u.a)({},t),{},{lastName:e.target.value})}))}})]})})]}),!x&&Object($.jsxs)(B.a,{children:[Object($.jsx)(V.a,{className:"pr-1",md:"6",children:Object($.jsxs)(io.a,{children:[Object($.jsx)("label",{children:r("userProfile.userDegree")}),Object($.jsx)(G.a,{onChange:function(e){return l((function(t){return Object(u.a)(Object(u.a)({},t),{},{degree:e.target.value})}))},value:s.degree,placeholder:"tytu\u0142 naukowy",type:"text"})]})}),Object($.jsx)(V.a,{className:"pr-1",md:"6",children:Object($.jsxs)(io.a,{children:[Object($.jsx)("label",{children:r("userProfile.userLicenceNumber")}),Object($.jsx)(G.a,{value:s.licenceNumber,type:"number",defaultValue:"Nr Licencji",onChange:function(e){(e.target.value.startsWith("-")||e.target.value<0||""===e.target.value)&&(e.target.value=""),e.target.value>=0&&l((function(t){return Object(u.a)(Object(u.a)({},t),{},{licenceNumber:parseInt(e.target.value)})}))}})]})})]}),!x&&Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{md:"12",children:Object($.jsxs)(io.a,{children:[Object($.jsx)("label",{children:r("userProfile.aboutMe")}),Object($.jsx)(G.a,{defaultValue:s.description,type:"textarea",onChange:function(e){return l((function(t){return Object(u.a)(Object(u.a)({},t),{},{description:e.target.value})}))}})]})})}),!x&&Object($.jsx)(B.a,{children:!x&&Object($.jsx)(V.a,{md:"12",children:Object($.jsx)(io.a,{children:Object($.jsxs)(io.a,{children:[Object($.jsx)(G.a,{style:{marginRight:"5px"},type:"checkbox",name:"zbpList",id:"zbpList",checked:s.inZbpList,onClick:function(){l((function(e){return Object(u.a)(Object(u.a)({},e),{},{inZbpList:!s.inZbpList})}))}}),Object($.jsx)("label",{for:"zbpList",children:r("userProfile.inZbpList")})]})})})}),Object($.jsx)(B.a,{children:Object($.jsx)("div",{className:"update ml-auto mr-auto",children:Object($.jsx)(W.a,{className:"btn-round",color:"primary",type:"submit",onClick:function(){!function(){a(ue(q.LOADING,{message:"saveUserData",translate:!0}));var e=JSON.parse(JSON.stringify(s));e.address="".concat(h.street,",").concat(h.city,",").concat(h.postalCode),g&&It.updateUserInfo(e).then((function(){return a(pe())}));m&&Ne.updateOper(e).then((function(){return a(pe())}));x&&Ut.updateClient(e).then((function(){return a(pe())}))}()},children:r("userProfile.buttons.update")})})})]})})]})})})]});function y(e){l(e),f({city:e.address.split(",")[1],postalCode:e.address.split(",")[2],street:e.address.split(",")[0]})}},gl=r(141),xl=r(225),yl=r(224),vl=r(226),wl=r.p+"static/media/damir-bosnjak.efcaca50.jpg";var kl=function(e){var t=e.headers,r=e.data,n=e.style,a=e.className,c=e.deleteAction;return Object($.jsxs)(ul.a,{style:n,className:a,children:[Object($.jsx)("thead",{children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{children:"#"}),t.map((function(e,t){return Object($.jsx)("th",{children:e},t)}))]})}),Object($.jsx)("tbody",{children:r.map((function(e,t){return Object($.jsxs)("tr",{children:[Object($.jsx)("th",{scope:"row",children:t+1}),Object.entries(e).map((function(e,t){return"id"!==e[0]&&Object($.jsx)("td",{children:e[1]},t)})),c&&Object($.jsx)("td",{children:Object($.jsx)(W.a,{color:"danger",onClick:function(){return c(e.id)},children:"Usu\u0144"})})]},t+e.title)}))})]})};var Sl=function(e){var t,r=Object(b.e)().accounts,n=Object(c.useState)(""),a=Object(A.a)(n,2),o=a[0],i=a[1],s=Object(j.g)();return Object($.jsx)($.Fragment,{children:Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{md:"12",children:Object($.jsxs)(H.a,{className:"card-user",children:[Object($.jsx)("div",{className:"image",children:Object($.jsx)("img",{alt:"...",src:wl})}),Object($.jsx)(K.a,{children:Object($.jsxs)("div",{className:"author",children:[Object($.jsxs)("a",{href:"/users-profile",onClick:function(e){return e.preventDefault()},children:[Object($.jsx)("img",{alt:"...",className:"avatar border-gray",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAG2YAABzjgAA+swAAIT6AAB5gQAA/RMAADBtAAASKQ0eJk4AAAMAUExURevr7Jydn5manJucnuPj5JiZm9vb3PT09MvLzMLCw5GSlPr6+qeoqdXV1tHR0rW1trW2uKusrbi4urO0tLq6vKiqq7e4uLW2tqGipLm6ury8vr6+vr+/wLu8vM7OztDQ0cjJytjY2dTU1aipqqqrrMXGxqanqKmqq6Wmp9LT062usKSlprS0ta2trra2t6ytrqWmqK2ur66vsK6ur7CwsbOztK+vsK+wsbKys7GxsqOkpqOkpZ6foampq6qqrJ2eoKenqaysraKjpZqbnbi4uaKjpKSlp5eYmqioqqurrKChory8vKGio6amqKCho7Gys7CxsrGysrKzs5+gop+gobS1tbq6u7e3uLCxsbKztLi4uJWWmJaXmba3t7i5ub29vZWXmZSWmLq6upOVl5SVl7m5up6foLq7u7u7vJqcnZOUlpeZm5aYmpKUlry8vZKTlpGTlZCRlJCRk6ytr9bX197e3q+vsb2+v8DAweDh4bOztebm5ujp6e/v756eoP///4CAgIGBgYKCgoODg4SEhIWFhYaGhoeHh4iIiImJiYqKiouLi4yMjI2NjY6Ojo+Pj5CQkJGRkZKSkpOTk5SUlJWVlZaWlpeXl5iYmJmZmZqampubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb6+vr+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3t/f3+Dg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f7+/v///zfARREAAAeqSURBVHja7N3xVxJZFMBxQAQVilzPSTslBxcDdwdtBQRBDQUFBYNMDTcoNLAMM7QD23JozvvX94cJZBhQZ+bdO2/26F/Q59wv8K48JwP5n/wY7iH3kHvIPYT6D89bLBazfiF8Y+T09PT09MOHzc3Nd+8yeoTwb99+/PjkSbfj8eN83qYPSCOTOTs7O3veEP69UkcegEIdMpPJCI6zz5/f9p9HPp9//97KMsTwLZO5o2Nh4RmrkHrpmxzHwsICzyLEWSq1IXd1TE6aWYNYSqVSqSRzHpOTDsdDliC2ksBQ4HA4zOxA6iURRJ7DccizAbE9fVpyNXhlXTkcjsNDHxMQKyGEWBV35Tg89Pl8rKTVUtHVoc/n89mYgPBK3686Dt8EIcQwMzOjKUTF+1XHMbG0tLT095s3y8vL77WCqHq/Ehy+Lsdybm9aC4irRKGrLkcut7cXiUTQIS1588jfPo/cXiQSibxGhtTpdyU4kCElyq/zXMdx9AwT0qI+j1zbEQwiQmyUX+fXXR0Fg0EXGsQK1dXRUTAYDIbRIJBdBYNhNIgFsqtgOBx2IkFguwqHQyEcSAu2q3AICwLcVSjEh1oYEPCuQgbix4A4obsK+QmPAwHtKhTy+3+gvEacsF2F/H5/wIAIAevK7/cHAhgQgPNuzzwCgcAiFgSoK3/bgQWhuUdJuwosYkGgu1pcnDdgQCju5wPmMY8CAeyqPY/5+To8BKErPAjY50fb8QIHAnIu6Z7HCxwI0Lmk24ECge8KB4LQ1YuNDYS3X4SuNjbGESAIXW2M40DAuxofH0c4ayF0hQNB6AoJAt8VDgShq/GdHQwIYFfteezMIkCgzrsiBwZkhPp+LulqFgXyB/X9XDoPFEgTviscCE99P+/+/PjlwIAQ6vu5dB4vX2JAALvaaTu8OBCoc0m7q5deHAjYuaQzD68fAwJ3Luk4vC4MyAh4V17vAwxIE7orr9fLY0AIdFde7xpBg8B09cuBCAHtyrvmxoLAdrXm/h0DUgfvas3tdvPQEBdCV2632+3eHgWFwL9ftR12+yYg5CfIfi7pyu3ettvtdkAI2B4lnYfdbndBQiD28wGO9XUwiAFmP5e8zu0CxGOFgrgQu1pf93hcUJA84HlX/DoXIDkoCNB+3r8rj8fjgYIA7ef9u4KGoHXl8XheAUKAzyXdXXlezcFBwM8lXV29moODoHY1BwfB7QoSgtoVIARuj+rXFTAEtCvxPJKPoCBm1K6SyZ9gx3jorrodc0kObh/B7CrJzQJCELviZA1EJsQAtp9LuwKFENA9SjwPbhoSYgbbzwVGl0PeQGT/gg5sP+/tipuFhRCkruQORD5kFPa8qzAsJb/Ehj3v/uqKM8NDSANmPxd11cD5fgS8K5Q/3yOE2L7l9vYWALpKPuI4jsP7M3DhB+JcovyBbmoeJ0K/K45oASG0u0py09pAND7v0oM0qe7nSU4zCKG7R2kJofw5yGsFcVLcz1UOROXztah2pSWE6vkqatUO0qS2n3McFyXaQYiP2h6l0qH6qYCU9nMuGmUBon6P4qLRh9pCrJS6UjsQ9Q+cXKKwR3HRaPQfrSGESlfRFaI5pK7284OKg8aDiyl0tcIEpKV4j6LooPIoaYParlZ4NiBE2X5+7fiXMAIh6rpaIcxAeDVdUXHQem78A/n7ecfRYAlCphXsURTnQfG/JJC/RwkO9iCy9yjBEWcNoqyrlTiTEPldxZmEKOgqHt9iDyL782MlHo9vsQeRtZ9fO5iDyNyjOg72IIq62tqaYg0ib4+6drAJkd3VFJMQBV1NTe2yC5HTFZOQO+9R3fPYZQ4iu6spwcEq5PY9StTV7m6WLYjtVFlXu9nsCDMQi9+ruKtsNptOp9N/WTWHmJ/I2s8l88im0+n0/v7+Qc6mHcSiZI8a4Dg4OFhdVXGnRjHks9I9StpVx7G6uvrpU8yJCHmudD+/cR6CIxaLxR5gQJT/3ufOjljMaDQ6ASHN18q+P5fRVcdhNBqNQ9tWAEhL+ffnCuZhNBqNQ0NDQ0N+qpCmyu85lTu+fEkkEnYLDcio6u/PFXbVcSQSiYTJ5FQFeU7le0518xAcJpPJNKMMUqL0/Tk1h2l4eHh4RB6kPkHlHvKA827HsS/bMXx+nvqtdUcItfvt9OcxfH6eSqVSqa8/boU06d2/AnR8LRaLN0Pq9O6339aVckfqa7FYLB7fBKF0DxlhHsXj42PjQEgIqqspCEehUBgA8dG5347S1fFxoVAo2PpCWrrqqlAoFE5OWn0gBr11VTg5Oan0gdC63w45j1Svo2KVQujdQ8bq6qRSqVQkkAlq95DxuqpUKmUJhNb9dsyuKpVyeVQC0WNX5XK52gOx6LKrcrlabYghE5Tut+N2VS5Xq3YxhNo9ZNyuqtXqhQhipXS/HburavVCDKkzvUcN7qp60QPZ1GtXFxc1EYTV/fwaMmgetV4Iu/v5jV3VarW6CML2fj64q1qt9mc3hPX9fPA8ape9ED3sUX3mcXl5KYboY4/q5xgTQdjfz/t31QvRb1djYz0QvXYlhbC/n/ftqgeinz1KMo8eiG72KKlDBNHPHtXbVT+ILrsaG7vqgei0q6ur770QfXZ19V2A/DcAHpmC7NcZ4/wAAAAASUVORK5CYII="}),s.search?Object($.jsx)("h5",{className:"title",children:e.operatorProfileData.operator&&e.operatorProfileData.operator.name}):Object($.jsxs)("div",{children:[Object($.jsx)("h5",{className:"title"}),Object($.jsxs)("h5",{className:"title",children:[r[0].idTokenClaims.given_name," ",r[0].idTokenClaims.family_name]}),Object($.jsx)("h5",{className:"title"})]})]}),s.search&&Object($.jsxs)("div",{children:[e.operatorProfileData.operator.description&&""!==e.operatorProfileData.operator.description&&Object($.jsx)("cite",{children:e.operatorProfileData.operator.description}),Object($.jsxs)(gl.a,{open:o,toggle:function(e){return i(e===o?"":e)},children:[Object($.jsxs)(xl.a,{children:[Object($.jsx)(yl.a,{targetId:"1",children:"Dyplom"}),Object($.jsx)(vl.a,{accordionId:"1",children:""===e.operatorProfileData.diploma||"string"!==typeof e.operatorProfileData.diploma?"operator nie wgra\u0142 dyplomu do systemu":Object($.jsx)("img",{src:e.operatorProfileData.diploma,alt:"dyplom"})})]}),Object($.jsxs)(xl.a,{children:[Object($.jsx)(yl.a,{targetId:"2",children:"Przebyte szkolenia"}),Object($.jsx)(vl.a,{accordionId:"2",children:e.operatorProfileData.trainings.length>0?Object($.jsx)(kl,{headers:["Tytu\u0142","Adres url"],data:e.operatorProfileData.trainings}):"Brak danych"})]}),Object($.jsxs)(xl.a,{children:[Object($.jsx)(yl.a,{targetId:"3",children:"Kontakt"}),Object($.jsx)(vl.a,{accordionId:"3",children:Object($.jsx)("ul",{style:{textAlign:"left",fontSize:"1.5rem"},children:e.operatorProfileData.operator&&Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("li",{children:["Adres e-mail: ",Object($.jsx)("a",{href:"mailto:"+e.operatorProfileData.operator.mail,children:e.operatorProfileData.operator.mail})]}),Object($.jsxs)("li",{children:["Nr telefonu: ",e.operatorProfileData.operator.phone]})]})})})]}),Object($.jsxs)(xl.a,{children:[Object($.jsx)(yl.a,{targetId:"4",children:"Opinie zleceniodawc\xf3w"}),Object($.jsx)(vl.a,{accordionId:"4",children:e.operatorProfileData.reviews.length>0?Object($.jsx)(kl,{headers:["Data","Komentarz","Ocena"],data:null===(t=e.operatorProfileData.reviews)||void 0===t?void 0:t.map((function(e){return{createdDateTime:Ga(e.createdDateTime),comment:e.comment,rating:"".concat(e.rating,"/5")}}))}):"Brak danych"})]}),Object($.jsxs)(xl.a,{children:[Object($.jsx)(yl.a,{targetId:"5",children:"Pozosta\u0142e dane"}),Object($.jsxs)(vl.a,{accordionId:"5",style:{textAlign:"left",fontSize:"1rem"},children:[function(){if(!e.operatorProfileData.operator)return null;var t="Operator "+e.operatorProfileData.operator.name+" "+(e.operatorProfileData.operator.inZbpList?"":"nie ")+"jest zapisany do listy rzeczoznawc\xf3w ZBP.";return Object($.jsx)("p",{children:t})}(),"Liczba wykonanych operat\xf3w: ",e.operatorProfileData.operatCount]})]})]})]})]})})]})})})})},Tl=r(8),Pl=r.n(Tl),Cl=function(e){var t=e.onSubmit;return Object($.jsx)("div",{children:Object($.jsxs)(oo.a,{onSubmit:function(e){e.preventDefault(),t()},id:"operator-training-form",children:[Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"training-title",children:"Tytu\u0142 szkolenia"}),Object($.jsx)(G.a,{type:"text",name:"training-title",id:"training-title",placeholder:"Tytu\u0142 szkolenia",required:!0})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"training-url",children:"Adres url"}),Object($.jsx)(G.a,{type:"text",name:"training-url",id:"training-url",placeholder:"Adres url",required:!0})]}),Object($.jsx)(W.a,{color:"success",children:"Dodaj szkolenie"})]})})};var Al=function(e){var t=Object(p.a)("common").t;return Object(c.useEffect)((function(){e.handleLoadTrainings()}),[]),Object($.jsx)($.Fragment,{children:Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{md:"8",children:Object($.jsx)(H.a,{children:Object($.jsxs)(K.a,{children:[Object($.jsx)(W.a,{color:"success",id:"show-operator-training-form-btn",style:{width:"11rem"},children:t("userProfile.buttons.createTraining")}),Object($.jsx)(fo.a,{toggler:"#show-operator-training-form-btn",children:Object($.jsx)(H.a,{style:{boxShadow:"6px 6px 10px 2px rgb(0 0 0 / 15%)"},children:Object($.jsx)(K.a,{children:Object($.jsx)(Cl,{onSubmit:e.handleAddTraining})})})}),Object($.jsx)("br",{}),Object($.jsx)(W.a,{color:"success",id:"show-operator-trainings-btn",style:{width:"11rem"},children:t("userProfile.buttons.showTrainings")}),Object($.jsx)(fo.a,{toggler:"#show-operator-trainings-btn",children:Object($.jsx)(H.a,{style:{boxShadow:"6px 6px 10px 2px rgb(0 0 0 / 15%)"},children:Object($.jsx)(K.a,{children:e.trainings.trainings&&(0===e.trainings.trainings.length?"Brak szkole\u0144":Object($.jsx)(kl,{headers:["Tytu\u0142","Adres"],data:e.trainings.trainings,deleteAction:function(t){return e.handleRemoveTraining(t)}}))})})})]})})})})})};function El(){return{type:In}}function _l(e){return{type:Nn,payload:e}}function Rl(e){return{type:Ln,payload:e}}var Il=function(e){return e.user||Gn},Nl=Object(O.a)().mark(Ul),zl=Object(O.a)().mark(Ml),Dl=Object(O.a)().mark(Gl),Fl=Object(O.a)().mark(Bl),Ll=Object(O.a)().mark(Wl);function Ul(){var e,t,r,n,a,c;return Object(O.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(wc.e)(Yr());case 2:return e=o.sent,t=e.user.id,r="/Operator/".concat(t,"/training"),o.next=7,Object(wc.a)(he);case 7:return n=o.sent,a={method:"GET",headers:n},o.prev=9,o.next=12,Object(wc.a)(Pc,r,a);case 12:return c=o.sent,o.next=15,Object(wc.c)(_l(c));case 15:o.next=21;break;case 17:return o.prev=17,o.t0=o.catch(9),o.next=21,Object(wc.c)((i=o.t0,{type:zn,payload:i}));case 21:case"end":return o.stop()}var i}),Nl,null,[[9,17]])}function Ml(e){var t,r,n,a,c,o,i,s,l,d;return Object(O.a)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,u.next=3,Object(wc.a)(he);case 3:return r=u.sent,n={method:"GET",headers:r},u.prev=5,u.next=8,Object(wc.c)(ue(q.LOADING,{message:"loadUserData",translate:!0}));case 8:return u.next=10,Object(wc.a)(Pc,"/User/id/".concat(t),n);case 10:return a=u.sent,u.next=13,Object(wc.a)(Pc,"/Operat/".concat(t,"/count"),n);case 13:return c=u.sent,u.next=16,Object(wc.a)(Pc,"/Operator/".concat(t,"/review"),n);case 16:return o=u.sent,u.next=19,Object(wc.a)(Pc,"/Operator/".concat(t,"/training"),n);case 19:return i=u.sent,u.next=22,Object(wc.a)(Pc,"/OperatorFiles/id/".concat(t,"/filename/diploma.pdf"),n);case 22:s=u.sent,u.t0=a,u.next="client"===u.t0?26:"operator"===u.t0?28:"admin"===u.t0?30:32;break;case 26:return l="/Client/id/".concat(t),u.abrupt("break",33);case 28:return l="/Operator/id/".concat(t),u.abrupt("break",33);case 30:return l="/Admin/id/".concat(t),u.abrupt("break",33);case 32:throw Error("Invalid user type");case 33:return u.next=35,Object(wc.a)(Pc,l,n);case 35:return d=u.sent,u.next=38,Object(wc.c)({type:Fn,payload:{operatCount:c,reviews:o,trainings:i,diploma:s,operator:d}});case 38:return u.next=40,Object(wc.c)(pe());case 40:u.next=48;break;case 42:return u.prev=42,u.t1=u.catch(5),u.next=46,Object(wc.c)(Rl(u.t1));case 46:return u.next=48,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"loadUserDataFailed",translate:!0}));case 48:case"end":return u.stop()}}),zl,null,[[5,42]])}function Gl(){var e,t,r,n,a,c,o;return Object(O.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e=document.querySelector("#operator-training-form"),i.next=3,Object(wc.e)(Yr());case 3:return t=i.sent,r=new FormData(e),n={operatorId:t.user.id,title:r.get("training-title"),url:r.get("training-url")},a="/Operator/training",i.next=9,Object(wc.a)(he,"json");case 9:return c=i.sent,o={method:"POST",headers:c,body:JSON.stringify(n)},i.prev=11,i.next=14,Object(wc.a)(Pc,a,o);case 14:return i.next=16,Object(wc.c)(El());case 16:i.next=21;break;case 18:i.prev=18,i.t0=i.catch(11),console.log(i.t0);case 21:case"end":return i.stop()}}),Dl,null,[[11,18]])}function Bl(e){var t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t="/Operator/training/".concat(e.id),a.next=3,Object(wc.a)(he);case 3:return r=a.sent,n={method:"DELETE",headers:r},a.prev=5,a.next=8,Object(wc.a)(Pc,t,n);case 8:return a.next=10,Object(wc.c)(El());case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(5),console.log(a.t0);case 15:case"end":return a.stop()}}),Fl,null,[[5,12]])}function Wl(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wc.f)(In,Ul);case 2:return e.next=4,Object(wc.f)(Dn,Ml);case 4:return e.next=6,Object(wc.f)(Un,Gl);case 6:return e.next=8,Object(wc.f)(Mn,Bl);case 8:case"end":return e.stop()}}),Ll)}var Hl="user";var Kl=Object(cr.b)({trainings:Object(cr.a)(Il,(function(e){return e.trainings})),operatorProfileData:Object(cr.a)(Il,(function(e){return e.operatorProfileData}))});var Vl=Object(d.c)(Kl,(function(e){return{handleLoadTrainings:function(){return e(El())},handleLoadOperatorProfileData:function(t){return e(function(e){return{type:Dn,payload:e}}(t))},handleAddTraining:function(){return e({type:Un})},handleRemoveTraining:function(t){return e(function(e){return{type:Mn,id:e}}(t))}}})),ql=Object(Nr.c)(Vl,c.memo)((function(e){vc({key:Hl,reducer:Bn}),ao({key:Hl,saga:Wl});var t=Object(p.a)("common").t,r=Object(d.e)((function(e){return e.global.user})),n=Object(c.useState)("1"),a=Object(A.a)(n,2),o=a[0],i=a[1],s=Object(j.g)();Object(c.useEffect)((function(){if(s.search){var t=new URLSearchParams(s.search).get("operatorId");e.handleLoadOperatorProfileData(t)}}),[s.search]);var l=r.userType===Y.CLIENT,u=function(e,t){return Object($.jsx)(L.a,{children:Object($.jsx)(sl.a,{className:Pl()({active:o===e}),onClick:function(){var t;o!==(t=e)&&i(t)},children:t})})};return Object($.jsx)($.Fragment,{children:Object($.jsxs)("div",{className:"content",children:[Object($.jsxs)(F.a,{tabs:!0,children:[u("1",t("userProfile.userProfile")),!s.search&&Object($.jsxs)($.Fragment,{children:[u("2",t("userProfile.profileEdition")),!l&&u("3",t("userProfile.files")),!l&&u("4",t("userProfile.trainings"))]})]}),Object($.jsxs)(ll.a,{activeTab:o,children:[Object($.jsx)(dl.a,{tabId:"1",children:Object($.jsx)(Sl,{handleLoadOperatorProfileData:e.handleLoadOperatorProfileData,operatorProfileData:e.operatorProfileData})}),Object($.jsx)(dl.a,{tabId:"2",children:Object($.jsx)(ml,{})}),!l&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(dl.a,{tabId:"3",children:Object($.jsx)(bl,{})}),Object($.jsx)(dl.a,{tabId:"4",children:Object($.jsx)(Al,{handleLoadTrainings:e.handleLoadTrainings,handleLoadOperatorProfileData:e.handleLoadOperatorProfileData,operatorProfileData:e.operatorProfileData,trainings:e.trainings,handleAddTraining:e.handleAddTraining,handleRemoveTraining:e.handleRemoveTraining})})]})]})]})})})),Yl=r(77),Jl=r(288),Zl=r(223),Xl=r(222),Ql=function(e){return e.usersPage||Ua},$l=function(){return Object(cr.a)(Ql,(function(e){return e.userType}))},ed=function(){return Object(cr.a)(Ql,(function(e){return e.users}))};function td(){return{type:Ea}}function rd(e){return{type:Ra,payload:e}}var nd=Object(O.a)().mark(id),ad=Object(O.a)().mark(sd),cd=Object(O.a)().mark(ld),od=Object(O.a)().mark(dd);function id(){var e,t,r,n,a,c;return Object(O.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(wc.e)($l());case 2:return e=o.sent,o.next=5,Object(wc.e)(ed());case 5:t=o.sent,o.t0=e,o.next=o.t0===Y.CLIENT?9:o.t0===Y.OPERATOR?11:o.t0===Y.ADMIN?13:15;break;case 9:return r="/User/promote/clients",o.abrupt("break",18);case 11:return r="/User/promote/operators",o.abrupt("break",18);case 13:return r="/User/promote/admins",o.abrupt("break",18);case 15:return o.next=17,Object(wc.c)(rd("Incorrect user type"));case 17:return o.abrupt("return");case 18:return r+="?pageNumber=".concat(t.pageNumber,"&pageSize=5"),r+="&name=".concat(t.filters.name,"&mail=").concat(t.filters.mail),t.sortFieldName&&(r+="&fieldName=".concat(t.sortFieldName,"&direction=").concat(t.sortDirection)),n={Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},a={method:"GET",headers:n},o.prev=23,o.next=26,Object(wc.a)(Pc,r,a);case 26:return c=o.sent,o.next=29,Object(wc.c)({type:_a,payload:c});case 29:o.next=35;break;case 31:return o.prev=31,o.t1=o.catch(23),o.next=35,Object(wc.c)(rd(o.t1));case 35:case"end":return o.stop()}}),nd,null,[[23,31]])}function sd(e){var t,r,n,a;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(wc.e)($l());case 2:t=c.sent,c.t0=t,c.next=c.t0===Y.CLIENT?6:c.t0===Y.OPERATOR?8:10;break;case 6:return r="/Operator/promote/clientid/".concat(e.userId),c.abrupt("break",11);case 8:return r="/Admin/promote/operatorid/".concat(e.userId),c.abrupt("break",11);case 10:return c.abrupt("return");case 11:return n={Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},a={method:"PUT",headers:n},c.prev=13,c.next=16,Object(wc.a)(Pc,r,a);case 16:return c.next=18,Object(wc.c)(td());case 18:c.next=22;break;case 20:c.prev=20,c.t1=c.catch(13);case 22:case"end":return c.stop()}}),ad,null,[[13,20]])}function ld(e){var t,r,n,a;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(wc.e)($l());case 2:t=c.sent,c.t0=t,c.next=c.t0===Y.CLIENT?6:c.t0===Y.OPERATOR?8:10;break;case 6:return r="/Client/id/".concat(e.userId),c.abrupt("break",11);case 8:return r="/Operator/id/".concat(e.userId),c.abrupt("break",11);case 10:return c.abrupt("return");case 11:return n={Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},a={method:"DELETE",headers:n},c.prev=13,c.next=16,Object(wc.a)(Pc,r,a);case 16:return c.next=18,Object(wc.c)(td());case 18:c.next=22;break;case 20:c.prev=20,c.t1=c.catch(13);case 22:case"end":return c.stop()}}),cd,null,[[13,20]])}function dd(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wc.g)(Ea,id);case 2:return e.next=4,Object(wc.g)(Na,sd);case 4:return e.next=6,Object(wc.g)(za,ld);case 6:case"end":return e.stop()}}),od)}var ud=function(e){var t=e.handleSetUserFilters,r=Object(c.useState)(""),n=Object(A.a)(r,2),a=n[0],o=n[1],i=Object(c.useState)(""),s=Object(A.a)(i,2),l=s[0],d=s[1];return Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:Object($.jsxs)(oo.a,{onSubmit:function(e){e.preventDefault(),t({name:a,mail:l})},children:[Object($.jsx)(G.a,{placeholder:"Nazwa u\u017cytkownika",id:"filter-username",name:"filter-username",onChange:function(e){o(e.target.value)},value:a}),Object($.jsx)(G.a,{placeholder:"Email u\u017cytkownika",id:"filter-user-email",name:"filter-user-email",onChange:function(e){d(e.target.value)},value:l}),Object($.jsx)(W.a,{onClick:function(){o(""),d(""),t({name:"",mail:""})},children:"Wyczy\u015b\u0107"}),Object($.jsx)(W.a,{type:"submit",color:"success",children:"Filtruj"})]})})})},pd="usersPage";var jd=Object(cr.b)({userType:$l(),users:ed()});var bd=Object(d.c)(jd,(function(e){return{handleSetUserType:function(t){return e({type:Ia,payload:t})},handleLoadUsers:function(){return e(td())},handlePromoteUser:function(t){return e(function(e){return{type:Na,userId:e}}(t))},handleDeleteUser:function(t){return e(function(e){return{type:za,userId:e}}(t))},handleSetUsersPageNumber:function(t){return e({type:Fa,payload:t})},handleSetUserFilters:function(t){return e({type:La,payload:t})},handleSetUsersSortParameters:function(t){return e({type:Da,payload:t})}}})),Od=Object(Nr.c)(bd,c.memo)((function(e){vc({key:pd,reducer:Ma}),ao({key:pd,saga:dd});var t=Object(j.f)(),r=Object(c.useState)(!1),n=Object(A.a)(r,2),a=n[0],o=n[1],i=Object(c.useState)(!1),s=Object(A.a)(i,2),l=s[0],d=s[1],p=[{label:"Klient",value:"client"},{label:"Operator",value:"operator"},{label:"Administrator",value:"admin"}];function b(){switch(e.userType){case"client":return"Operator";case"operator":return"Administrator";default:return""}}var f=function(){var t=Object(h.a)(Object(O.a)().mark((function t(r,n){var a;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=b(),t.next=3,ie()({title:Object($.jsx)($.Fragment,{children:"Ostrze\u017cenie"}),message:Object($.jsxs)($.Fragment,{children:["Czy na pewno chcesz wypromowa\u0107 u\u017cytkownika ",n," do roli ",Object($.jsx)("b",{children:a})]}),confirmText:"Tak",confirmColor:"info",cancelColor:"link text-primary",cancelText:"nie"});case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:e.handlePromoteUser(r);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),m=function(){var t=Object(h.a)(Object(O.a)().mark((function t(r,n){var a,c;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=null===(a=p.find((function(t){return t.value===e.userType})))||void 0===a?void 0:a.label,t.next=3,ie()({title:Object($.jsx)($.Fragment,{children:"Ostrze\u017cenie"}),message:Object($.jsxs)($.Fragment,{children:["Czy na pewno chcesz usun\u0105\u0107 u\u017cytkownika ",n," z grupy ",Object($.jsx)("b",{children:c})]}),confirmText:"Tak",confirmColor:"info",cancelColor:"link text-primary",cancelText:"nie"});case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:e.handleDeleteUser(r);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){e.handleSetUsersPageNumber("1")}),[]);var g={onSort:function(t,r){e.handleSetUsersSortParameters(t)},sortFunc:function(e,t,r,n,a,c){},sort:!0};return Object(c.useEffect)((function(){e.handleLoadUsers()}),[e.userType,e.users.pageNumber,e.users.filters,e.users.sortFieldName,e.users.sortDirection]),Object($.jsx)("div",{className:"content",children:Object($.jsxs)("div",{className:"container",children:[Object($.jsx)(W.a,{color:"success",onClick:function(){return d((function(e){return!e}))},children:"Filtry"}),Object($.jsx)(D.a,{isOpen:l,children:Object($.jsx)(ud,{handleSetUserFilters:e.handleSetUserFilters})}),Object($.jsxs)(Yl.a,{isOpen:a,toggle:function(){return o(!a)},children:[Object($.jsx)(ar.a,{count:localStorage.getItem("pageCount"),color:"primary",page:new URLSearchParams(t.location.search).get("pageNumber")?parseInt(new URLSearchParams(t.location.search).get("pageNumber")):1,onChange:function(r,n){var a=new URLSearchParams(t.location.search);a.set("pageNumber",n.toString()),t.push({pathname:"/users-promotion",search:a.toString()}),e.handleSetUsersPageNumber(n)}}),Object($.jsxs)(Jl.a,{caret:!0,children:["Wybierz rodzaj u\u017cytkownika [",p.map((function(t){return t.value===e.userType?t.label:""})),"]"]}),Object($.jsx)(Zl.a,{children:p.map((function(t){return Object($.jsx)(Xl.a,{onClick:function(){e.handleSetUserType(t.value)},children:t.label},t.value)}))})]}),Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{md:"12",children:e.users.loading?Object($.jsx)(ae,{}):Object($.jsx)(M.a,{bootstrap4:!0,keyField:"id",data:e.users.users,columns:[{dataField:"id",text:"ID",hidden:!1},Object(u.a)(Object(u.a)({dataField:"name",text:"Nazwa"},g),{},{editable:!1,align:"center",headerAlign:"center"}),Object(u.a)(Object(u.a)({dataField:"mail",text:"Adres e-mail"},g),{},{editable:!1,align:"center",headerAlign:"center"}),e.userType!==Y.CLIENT&&{text:"Profil u\u017cytkownika",align:"center",headerAlign:"center",formatter:function(e,r){return Object($.jsx)(W.a,{color:"primary",onClick:function(){return t.push({pathname:"/users-profile",search:"?operatorId="+r.id})},children:"Profil u\u017cytkownika"})}},{text:"Promocja",align:"center",headerAlign:"center",formatter:function(e,t){return Object($.jsx)(W.a,{disabled:!t.canPromote,color:"success",onClick:function(){return f(t.id,t.name)},children:"Promocja"})}},{text:"Usun",align:"center",headerAlign:"center",formatter:function(t,r){return Object($.jsx)(W.a,{disabled:"admin"===e.userType,color:"danger",onClick:function(){return m(r.id,r.name)},children:"Usu\u0144"})}}],striped:!0,hover:!0,condensed:!0,bordered:!1})})})]})})}));var hd=function(){var e=Object(b.e)().instance;return Object(c.useEffect)((function(){e.logout()}),[e]),Object($.jsx)($.Fragment,{})},fd=function(e){return e.subscriptions||pc},md=function(){return Object(cr.a)(fd,(function(e){return e.operatorsInfo}))};function gd(){return{type:rc}}function xd(e){return{type:ac,payload:e}}function yd(e){return{type:dc,payload:e}}var vd=Object(O.a)().mark(Cd),wd=Object(O.a)().mark(Ad),kd=Object(O.a)().mark(Ed),Sd=Object(O.a)().mark(_d),Td=Object(O.a)().mark(Rd),Pd=Object(O.a)().mark(Id);function Cd(){var e,t,r,n,a;return Object(O.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(wc.e)(md());case 2:return e=c.sent,t={Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},r={method:"GET",headers:t},n="/Subscription/operators-info",n+="?pageNumber=".concat(e.pageNumber,"&pageSize=5"),e.filters&&(n+="&name=".concat(e.filters.name,"&mail=").concat(e.filters.mail)),e.sortFieldName&&(n+="&fieldName=".concat(e.sortFieldName,"&direction=").concat(e.sortDirection)),c.prev=9,c.next=12,Object(wc.a)(Ec,n,r);case 12:return a=c.sent,c.next=15,Object(wc.c)({type:nc,payload:a});case 15:c.next=21;break;case 17:return c.prev=17,c.t0=c.catch(9),c.next=21,Object(wc.c)(xd(c.t0));case 21:case"end":return c.stop()}}),vd,null,[[9,17]])}function Ad(e){var t,r;return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"/Subscription/by-repo",t={Authorization:"Bearer ".concat(localStorage.getItem("idToken")),"Content-type":"application/json"},r={method:"PUT",headers:t,body:JSON.stringify(e.payload)},n.next=5,Object(wc.a)(_d,"/Subscription/by-repo",r);case 5:case"end":return n.stop()}}),wd)}function Ed(e){var t,r;return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"/Subscription",t={Authorization:"Bearer ".concat(localStorage.getItem("idToken")),"Content-type":"application/json"},r={method:"POST",headers:t,body:JSON.stringify(e.payload)},n.next=5,Object(wc.a)(_d,"/Subscription",r);case 5:case"end":return n.stop()}}),kd)}function _d(e,t){return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(wc.c)(ue(q.LOADING,{message:"saveSubscription",translate:!0}));case 2:return r.prev=2,r.next=5,Object(wc.a)(Ec,e,t);case 5:return r.next=7,Object(wc.c)(ue(q.CREATE_SUBSCRIPTION_SUCCESSFUL));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(2),r.next=13,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"saveSubscriptionFailed",translate:!0}));case 13:case"end":return r.stop()}}),Sd,null,[[2,9]])}function Rd(){var e,t,r;return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="/Subscription/monthly-reset",t={Authorization:"Bearer ".concat(localStorage.getItem("idToken"))},r={method:"PATCH",headers:t},n.next=5,Object(wc.c)(ue(q.LOADING,{message:"resetingSubscriptions",translate:!0}));case 5:return n.prev=5,n.next=8,Object(wc.a)(Ec,e,r);case 8:return n.next=10,Object(wc.c)(pe());case 10:return n.next=12,Object(wc.c)(ue(q.RESET_SUBSCRIPTIONS_SUCCESSFUL));case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(5),n.next=18,Object(wc.c)(ue(q.ERROR_MESSAGE,{message:"resetSubscriptionsFailed",translate:!0}));case 18:case"end":return n.stop()}}),Td,null,[[5,14]])}function Id(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wc.g)(rc,Cd);case 2:return e.next=4,Object(wc.g)(lc,Ad);case 4:return e.next=6,Object(wc.g)(dc,Ed);case 6:return e.next=8,Object(wc.g)(uc,Rd);case 8:case"end":return e.stop()}}),Pd)}var Nd={margin:"5px"},zd={margin:"5px",float:"right"};var Dd=function(e){var t=e.subscription,r=e.handleUpdateSubscription,n=Object(c.useState)({isActive:t.isActive,canRenew:t.canRenew,nrOfOperats:t.nrOfOperats,maxNrOfOperats:t.maxNrOfOperats,nrOfGenerations:t.nrOfGenerations,maxNrOfGenerations:t.maxNrOfGenerations}),a=Object(A.a)(n,2),o=a[0],i=a[1],s=function(e){var t=Object(u.a)(Object(u.a)({},o),{},Object(co.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value));i(t)};return Object($.jsx)("div",{children:Object($.jsxs)(oo.a,{id:"update-subscription-form",onSubmit:function(e){e.preventDefault(),function(){var e=Object(u.a)({id:t.id,createdDateTime:t.createdDateTime},o);r(e)}()},children:[Object($.jsxs)(B.a,{children:[Object($.jsxs)(V.a,{children:[Object($.jsx)(so.a,{for:"subscription-is-active",children:Object($.jsx)("b",{children:"Aktywna:"})}),Object($.jsx)(G.a,{style:Nd,id:"subscription-is-active",name:"isActive",type:"checkbox",checked:o.isActive,onChange:s})]}),Object($.jsxs)(V.a,{children:[Object($.jsx)(so.a,{for:"subscription-can-renew",children:Object($.jsx)("b",{children:"Odnowi si\u0119 w nast\u0119pnym miesi\u0105cu:"})}),Object($.jsx)(G.a,{style:Nd,id:"subscription-can-renew",name:"canRenew",type:"checkbox",checked:o.canRenew,onChange:s})]})]}),Object($.jsxs)(B.a,{children:[Object($.jsxs)(V.a,{children:[Object($.jsx)(so.a,{for:"subscription-nr-of-operats",children:Object($.jsx)("b",{children:"Liczba stworzonych operat\xf3w:"})}),Object($.jsx)(G.a,{style:Nd,id:"subscription-nr-of-operats",name:"nrOfOperats",type:"number",step:"1",min:"0",value:o.nrOfOperats,onChange:s})]}),Object($.jsxs)(V.a,{children:[Object($.jsx)(so.a,{for:"subscription-max-nr-of-operats",children:Object($.jsx)("b",{children:"Limit tworzenia operat\xf3w:"})}),Object($.jsx)(G.a,{style:Nd,id:"subscription-max-nr-of-operats",name:"maxNrOfOperats",type:"number",step:"1",min:"1",value:o.maxNrOfOperats,onChange:s})]})]}),Object($.jsxs)(B.a,{children:[Object($.jsxs)(V.a,{children:[Object($.jsx)(so.a,{for:"subscription-nr-of-generations",children:Object($.jsx)("b",{children:"Liczba wygenerowanych pdf:"})}),Object($.jsx)(G.a,{style:Nd,id:"subscription-nr-of-generations",name:"nrOfGenerations",type:"number",step:"1",min:"0",value:o.nrOfGenerations,onChange:s})]}),Object($.jsxs)(V.a,{children:[Object($.jsx)(so.a,{for:"subscription-max-nr-of-generations",children:Object($.jsx)("b",{children:"Limit generowania pdf:"})}),Object($.jsx)(G.a,{style:Nd,id:"subscription-max-nr-of-generations",name:"maxNrOfGenerations",type:"number",step:"1",min:"1",value:o.maxNrOfGenerations,onChange:s})]})]}),Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{color:"success",type:"submit",style:zd,children:"Zapisz"})})})]})})},Fd="subscriptions";var Ld=Object(cr.b)({operatorsInfo:md(),currentOperator:Object(cr.a)(fd,(function(e){return e.currentOperator}))});var Ud=Object(d.c)(Ld,(function(e){return{handleLoadOperatorsInfo:function(){return e(gd())},handleSetSubscriptionPageNumber:function(t){return e({type:cc,payload:t})},handleSetOperatorsInfoSortParameter:function(t){return e({type:oc,payload:t})},handleSetOperatorsInfoFilters:function(t){return e({type:ic,payload:t})},handleSetCurrentOperator:function(t,r){return e({type:sc,payload:{id:t,name:r}})},handleUpdateSubscription:function(t){return e({type:lc,payload:t})},handleCreateSubscription:function(t){return e(yd(t))},handleResetSubscriptions:function(){return e(ue(q.CONFIRM_RESET_SUBSCRIPTIONS))}}})),Md=Object(Nr.c)(Ud,c.memo)((function(e){vc({key:Fd,reducer:jc}),ao({key:Fd,saga:Id});var t=Object(d.d)(),r=Object(j.f)(),n=Object(c.useState)(!1),a=Object(A.a)(n,2),o=a[0],i=a[1],s={onSort:function(t,r){e.handleSetOperatorsInfoSortParameter(t)},sortFunc:function(e,t,r,n,a,c){},sort:!0},l=[{dataField:"id",text:"ID"},Object(u.a)({dataField:"name",text:"Nazwa"},s),Object(u.a)({dataField:"mail",text:"Adres e-mail"},s),Object(u.a)(Object(u.a)({dataField:"nrOfOperats",text:"Stworzone operaty"},s),{},{formatter:function(e,t){return void 0!==t.nrOfOperats&&void 0!==t.maxNrOfOperats?Object($.jsx)("p",{children:"".concat(t.nrOfOperats,"/").concat(t.maxNrOfOperats)}):Object($.jsx)("div",{})}}),Object(u.a)(Object(u.a)({dataField:"nrOfGenerations",text:"Wygenerowane pdfy"},s),{},{formatter:function(e,t){return void 0!==t.nrOfGenerations&&void 0!==t.maxNrOfGenerations?Object($.jsx)("p",{children:"".concat(t.nrOfGenerations,"/").concat(t.maxNrOfGenerations)}):Object($.jsx)("div",{})}}),{text:"Utw\xf3rz subskrypcj\u0119",formatter:function(r,n){return Object($.jsx)(W.a,{color:"primary",disabled:n.hasSubscription,onClick:function(){e.handleSetCurrentOperator(n.id,n.name),t(ue(q.CREATE_SUBSCRIPTION_FORM))},children:" Utw\xf3rz"})}}];return Object(c.useEffect)((function(){e.handleSetSubscriptionPageNumber("1")}),[]),Object(c.useEffect)((function(){e.handleLoadOperatorsInfo()}),[e.operatorsInfo.pageNumber,e.operatorsInfo.filters,e.operatorsInfo.sortFieldName,e.operatorsInfo.sortDirection]),Object($.jsx)("div",{className:"content",children:Object($.jsx)("div",{className:"container",children:Object($.jsxs)(V.a,{md:"12",children:[Object($.jsx)(W.a,{color:"success",onClick:function(){return i((function(e){return!e}))},children:"Filtry"}),Object($.jsx)(D.a,{isOpen:o,children:Object($.jsx)(ud,{handleSetUserFilters:e.handleSetOperatorsInfoFilters})}),Object($.jsx)(W.a,{color:"danger",onClick:function(){return e.handleResetSubscriptions()},children:"Resetuj subscrypcje"}),Object($.jsx)(ar.a,{count:localStorage.getItem("pageCount"),color:"primary",page:new URLSearchParams(r.location.search).get("pageNumber")?parseInt(new URLSearchParams(r.location.search).get("pageNumber")):e.operatorsInfo.pageNumber,onChange:function(t,n){var a=new URLSearchParams(r.location.search);a.set("pageNumber",n.toString()),r.push({pathname:"/subscriptions",search:a.toString()}),e.handleSetSubscriptionPageNumber(n)}}),e.operatorsInfo.loading?Object($.jsx)(ae,{}):Object($.jsx)(M.a,{bootstrap4:!0,keyField:"id",columns:l,data:e.operatorsInfo.data,striped:!0,hover:!0,condensed:!0,bordered:!1,expandRow:{nonExpandable:e.operatorsInfo.data.filter((function(e){return!1===e.hasSubscription})).map((function(e){return e.id})),expandColumnPosition:"right",showExpandColumn:!0,expandByColumnOnly:!0,expandColumnRenderer:function(e){e.expanded,e.rowKey;var t=e.expandable;return Object($.jsx)(W.a,{disabled:!t,children:"Edytuj"})},expandHeaderColumnRenderer:function(e){return e.isAnyExpands,"Edytuj"},renderer:function(t){var r={id:t.id,isActive:t.isActive,canRenew:t.canRenew,nrOfOperats:t.nrOfOperats,maxNrOfOperats:t.maxNrOfOperats,nrOfGenerations:t.nrOfGenerations,maxNrOfGenerations:t.maxNrOfGenerations,createdDateTime:t.createdDateTime};return Object($.jsx)(Dd,{subscription:r,handleUpdateSubscription:e.handleUpdateSubscription})}}})]})})})})),Gd=r(314),Bd=r(200),Wd=r(95),Hd=r(303),Kd={en:{common:r(304)},pl:{common:Hd}};Bd.a.use(Wd.e).init({resources:Kd,lng:"pl",interpolation:{escapeValue:!1}});var Vd=Bd.a,qd=r.p+"static/media/home-user.f773195c.md",Yd=r.p+"static/media/home-operator.e8f78279.md",Jd=r.p+"static/media/home-admin.3dc5a8c3.md",Zd=r.p+"static/media/home-user.31d6cfe0.md",Xd=r.p+"static/media/home-operator.31d6cfe0.md",Qd=r.p+"static/media/home-admin.2b25eefe.md";function $d(e){return{type:hc,payload:e}}var eu=Object(O.a)().mark(cu),tu=Object(O.a)().mark(ou);function ru(e){if("pl"===Vd.language)switch(e){case"admin":return Jd;case"operator":return Yd;default:return qd}if("en"===Vd.language)switch(e){case"admin":return Qd;case"operator":return Xd;default:return Zd}}function nu(e){return au.apply(this,arguments)}function au(){return(au=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return r=e.sent,e.next=5,r.text();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(){var e,t,r;return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(wc.e)(Yr());case 3:return e=n.sent,t=ru(e.userType),n.next=7,Object(wc.a)(nu,t);case 7:return r=n.sent,n.next=10,Object(wc.c)({type:Oc,payload:r});case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(wc.c)($d(n.t0));case 16:case"end":return n.stop()}}),eu,null,[[0,12]])}function ou(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wc.g)(bc,cu);case 2:case"end":return e.stop()}}),tu)}var iu=function(e){return e.homePage||fc},su=r(315),lu="homePage";var du=Object(cr.b)({pageContent:Object(cr.a)(iu,(function(e){return e.pageContent}))});var uu=Object(d.c)(du,(function(e){return{handleLoadPageContent:function(){return e({type:bc})}}})),pu=Object(Nr.c)(uu,c.memo)((function(e){vc({key:lu,reducer:mc}),ao({key:lu,saga:ou});var t=Object(p.a)().i18n;return Object(c.useEffect)((function(){e.handleLoadPageContent()}),[t.language]),Object($.jsx)("div",{className:"content",children:Object($.jsx)("div",{className:"container",children:e.pageContent.loading?Object($.jsx)(ae,{}):Object($.jsx)(Gd.a,{remarkPlugins:[su.a],children:e.pageContent.content})})})})),ju=function(e){return[{path:"/market",name:e("market.route.marketplace"),icon:"nc-icon nc-cart-simple",component:Gi},{path:"/history",name:e("history.history"),icon:"fa fa-file-signature",component:ho},{path:"/create",component:il},{path:"/users-profile",name:e("userProfile.userProfile"),icon:"nc-icon nc-single-02",component:ql},{path:"/users-promotion",name:e("users.users"),icon:"fa fa-users",component:Od},{path:"/subscriptions",name:e("subscriptions.subscriptions"),icon:"fa fa-credit-card",component:Md},{path:"/logout",component:hd},{path:"http://feedback.aoperat.pl/",name:e("externalUrls.feedback"),icon:"fa fa-brain",external:!0},{path:"/",component:pu}]},bu=function(e){return[{path:"/market",name:e("market.route.myOrders"),icon:"nc-icon nc-cart-simple",component:Gi},{path:"/users-profile",name:e("userProfile.userProfile"),icon:"nc-icon nc-single-02",component:ql},{path:"/logout",component:hd},{path:"http://feedback.aoperat.pl/",name:e("externalUrls.feedback"),icon:"fa fa-brain",external:!0},{path:"https://forms.office.com/r/wzhM9Jrsxy",name:e("externalUrls.promoteToOperatorForm"),icon:"nc-icon nc-single-copy-04",external:!0},{path:"/",component:pu}]};function Ou(e){return[{path:"/market",name:e("market.route.marketplace"),icon:"nc-icon nc-cart-simple",component:Gi},{path:"/history",name:e("history.history"),icon:"fa fa-file-signature",component:ho},{path:"/create",component:il},{path:"/users-profile",name:e("userProfile.userProfile"),icon:"nc-icon nc-single-02",component:ql},{path:"/logout",component:hd},{path:"http://feedback.aoperat.pl/",name:e("externalUrls.feedback"),icon:"fa fa-brain",external:!0},{path:"/",component:pu}]}var hu=function(e){var t=Object(b.e)().instance,r=Object(d.e)((function(e){return e.global.user})),n=Object(d.d)();return Object(c.useEffect)((function(){if(""===r.userType){var e=t.getActiveAccount();Ut.getAdminDataById(e.idTokenClaims.oid).then((function(t){if(!t){var r={id:e.idTokenClaims.oid,name:e.name,mail:e.idTokenClaims.emails[0],address:"".concat(e.idTokenClaims.streetAddress,", ").concat(e.idTokenClaims.postalCode,", ").concat(e.idTokenClaims.city),firstname:e.idTokenClaims.given_name,lastname:e.idTokenClaims.family_name,phone:e.idTokenClaims.extension_Numertelefonu};n(ue(q.LOADING,{newClient:r,message:"Trwa tworzenie u\u017cytkownika"})),Ut.createNewClient(r).then((function(){n(Ni(r.id)),n(pe())})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}))}}),[r.userType,t,n,e.history]),Object($.jsx)("div",{})},fu=function(e){return[{path:"/",name:"",icon:"nc-icon nc-single-02",component:hu}]};var mu=function(e){var t=Object(c.useState)(!1),r=Object(A.a)(t,2),n=r[0],a=r[1],o=Object(c.useRef)(null);return Object($.jsxs)("div",{children:[Object($.jsx)(Wo.a,{ref:o}),Object($.jsxs)(Yl.a,{nav:!0,isOpen:n,toggle:function(e){a(!n)},children:[Object($.jsxs)(Jl.a,{caret:!0,nav:!0,children:[Object($.jsx)("i",{className:"nc-icon nc-bell-55"}),Object($.jsx)("p",{children:Object($.jsx)("span",{className:"d-lg-none d-md-block",children:"Wiadomo\u015bci"})})]}),Object($.jsx)(Zl.a,{right:!0})]})]})};var gu=function(e){var t=Object(c.useState)(!1),r=Object(A.a)(t,2),n=r[0],a=r[1],o=Object(b.e)().instance,i=Object(p.a)("common").t;return Object($.jsx)("div",{children:Object($.jsxs)(Yl.a,{nav:!0,isOpen:n,toggle:function(e){a(!n)},children:[Object($.jsxs)(Jl.a,{caret:!0,nav:!0,children:[Object($.jsx)("i",{className:"nc-icon nc-settings-gear-65"}),Object($.jsx)("p",{children:Object($.jsx)("span",{className:"d-lg-none d-md-block",children:"Konto"})})]}),Object($.jsx)(Zl.a,{right:!0,children:Object($.jsx)(Xl.a,{tag:"a",onClick:function(){!function(e){try{be.push("/"),console.log("Trying to logout");var t=e.logout();console.log(t)}catch(r){console.log(r)}}(o)},children:i("settingsHamburgerMenu.logout")})})]})})};var xu=function(e){var t=Object(d.e)((function(e){return e.global.user}));return Object($.jsxs)("div",{children:[false,"  ",false," ",t.user.name]})};var yu,vu,wu=function(){var e=Object(c.useState)(Vd.language),t=Object(A.a)(e,2),r=t[0],n=t[1];return Object($.jsx)("div",{children:Object($.jsxs)("select",{class:"form-select-lg",id:"input-select-language",type:"select",selec:!0,value:r,onChange:function(e){switch(e.target.value){case"Pl":n("Pl"),Vd.changeLanguage("pl");break;case"En":n("En"),Vd.changeLanguage("en")}},children:[Object($.jsx)("option",{value:"Pl",children:"PL"}),Object($.jsx)("option",{value:"En",children:"EN"})]})})},ku=function(e){Object(g.a)(r,e);var t=Object(x.a)(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this,e)).state={isOpen:!1,dropdownOpen:!1,color:"transparent"},n.toggle=n.toggle.bind(Object(R.a)(n)),n.sidebarToggle=o.a.createRef(),n}return Object(m.a)(r,[{key:"toggle",value:function(){this.state.isOpen?this.setState({color:"transparent"}):this.setState({color:"dark"}),this.setState({isOpen:!this.state.isOpen})}},{key:"getRouting",value:function(){switch(this.props.userType){case"admin":return ju(this.props.t);case"operator":return Ou(this.props.t);case"client":return bu(this.props.t);default:return fu(this.props.t)}}},{key:"getBrand",value:function(){var e,t="",r=this.getRouting().filter((function(e,t){return"/"!==e.path})),n=Object(_.a)(r);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(-1!==window.location.href.indexOf(a.path)){t=a.name;break}}}catch(c){n.e(c)}finally{n.f()}return t}},{key:"openSidebar",value:function(){document.documentElement.classList.toggle("nav-open"),this.sidebarToggle.current.classList.toggle("toggled")}},{key:"updateColor",value:function(){window.innerWidth<993&&this.state.isOpen?this.setState({color:"dark"}):this.setState({color:"transparent"})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateColor.bind(this))}},{key:"componentDidUpdate",value:function(e){window.innerWidth<993&&e.history.location.pathname!==e.location.pathname&&-1!==document.documentElement.className.indexOf("nav-open")&&(document.documentElement.classList.toggle("nav-open"),this.sidebarToggle.current.classList.toggle("toggled"))}},{key:"render",value:function(){var e=this;return Object($.jsxs)(I.a,{color:-1!==this.props.location.pathname.indexOf("full-screen-maps")?"dark":this.state.color,expand:"lg",className:-1!==this.props.location.pathname.indexOf("full-screen-maps")?"navbar-absolute fixed-top":"navbar-absolute fixed-top "+("transparent"===this.state.color?"navbar-transparent ":""),children:[Object($.jsx)("div",{children:Object($.jsxs)("div",{className:"navbar-wrapper",children:[Object($.jsx)("div",{className:"navbar-toggle",children:Object($.jsxs)("button",{type:"button",ref:this.sidebarToggle,className:"navbar-toggler",onClick:function(){return e.openSidebar()},children:[Object($.jsx)("span",{className:"navbar-toggler-bar bar1"}),Object($.jsx)("span",{className:"navbar-toggler-bar bar2"}),Object($.jsx)("span",{className:"navbar-toggler-bar bar3"})]})}),Object($.jsx)(N.a,{children:this.getBrand()})]})}),Object($.jsxs)(z.a,{onClick:this.toggle,children:[Object($.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"}),Object($.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"}),Object($.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"})]}),Object($.jsxs)(D.a,{isOpen:this.state.isOpen,navbar:!0,className:"justify-content-end",children:[Object($.jsx)(N.a,{children:Object($.jsx)(wu,{})}),Object($.jsx)(N.a,{href:"/users-profile",children:Object($.jsx)(xu,{})}),Object($.jsxs)(F.a,{navbar:!0,children:[Object($.jsx)(L.a,{children:Object($.jsxs)(l.b,{to:"/users-profile",className:"nav-link btn-magnify",children:[Object($.jsx)("i",{className:"nc-icon nc-layout-11"}),Object($.jsx)("p",{children:Object($.jsx)("span",{className:"d-lg-none d-md-block",children:"Profil"})})]})}),Object($.jsx)(mu,{}),Object($.jsx)(gu,{})]})]})]})}}]),r}(o.a.Component),Su=function(e){Object(g.a)(r,e);var t=Object(x.a)(r);function r(){return Object(f.a)(this,r),t.apply(this,arguments)}return Object(m.a)(r,[{key:"render",value:function(){return Object($.jsx)("footer",{className:"footer"+(this.props.default?" footer-default":""),children:Object($.jsx)(xs.a,{fluid:!!this.props.fluid})})}}]),r}(o.a.Component),Tu=Su,Pu=r.p+"static/media/logo.9c70eda3.svg",Cu=function(e){Object(g.a)(r,e);var t=Object(x.a)(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this,e)).activeRoute.bind(Object(R.a)(n)),n.sidebar=o.a.createRef(),n}return Object(m.a)(r,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"componentDidMount",value:function(){navigator.platform.indexOf("Win")>-1&&(yu=new E.a(this.sidebar.current,{suppressScrollX:!0,suppressScrollY:!1}))}},{key:"componentWillUnmount",value:function(){navigator.platform.indexOf("Win")>-1&&yu.destroy()}},{key:"render",value:function(){var e=this;return Object($.jsxs)("div",{className:"sidebar","data-color":this.props.bgColor,"data-active-color":this.props.activeColor,children:[Object($.jsxs)("div",{className:"logo",children:[Object($.jsx)(l.c,{to:"/",className:"simple-text logo-mini",children:Object($.jsx)("div",{className:"logo-img",children:Object($.jsx)("img",{src:Pu,alt:"react-logo"})})}),Object($.jsx)(l.c,{to:"/",className:"simple-text logo-normal",children:"AOPERAT"})]}),Object($.jsx)("div",{className:"sidebar-wrapper",ref:this.sidebar,children:Object($.jsx)(F.a,{children:this.props.routes.filter((function(e,t){return"/"!==e.path})).map((function(t,r){return t.name&&(t.external?Object($.jsx)("li",{children:Object($.jsxs)("a",{href:t.path,target:"blank",className:"nav-link",children:[Object($.jsx)("i",{className:t.icon}),Object($.jsx)("p",{children:t.name})]})}):Object($.jsx)("li",{className:e.activeRoute(t.path)+(t.pro?" active-pro":""),children:Object($.jsxs)(l.c,{to:t.path,className:"nav-link",activeClassName:"active",children:[Object($.jsx)("i",{className:t.icon}),Object($.jsx)("p",{children:t.name})]})},r))}))})})]})}}]),r}(o.a.Component),Au=r(313),Eu=function(e){Object(g.a)(r,e);var t=Object(x.a)(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this,e)).toggleColorPicker=function(){n.setState({isColorPickerOpen:!n.state.isColorPickerOpen})},n.state={classes:"dropdown",isColorPickerOpen:!1},n.handleClick=n.handleClick.bind(Object(R.a)(n)),n}return Object(m.a)(r,[{key:"handleClick",value:function(){"dropdown"===this.state.classes?this.setState({classes:"dropdown show"}):this.setState({classes:"dropdown"})}},{key:"render",value:function(){var e=this;return Object($.jsx)("div",{className:"fixed-plugin",style:{marginBottom:"78vh"},children:Object($.jsxs)("div",{className:this.state.classes,children:[Object($.jsx)("div",{onClick:this.handleClick,children:Object($.jsx)("i",{className:"fa fa-cog fa-2x"})}),Object($.jsxs)("ul",{className:"dropdown-menu show",children:[this.state.isColorPickerOpen&&Object($.jsx)(Au.a,{triangle:"hide",hidden:!0,color:this.props.mainBgColor,onBlur:function(){return e.setState({isColorPickerOpen:!1})},onChangeComplete:function(t){return e.props.handleMainBgClick(t.hex)}}),Object($.jsx)("li",{className:"header-title",children:this.props.labels&&this.props.labels.mainBg&&""!==this.props.labels.mainBg?this.props.labels.mainBg:"G\u0142\xf3wne t\u0142o"}),Object($.jsx)("li",{className:"adjustments-line",children:Object($.jsxs)("div",{className:"badge-colors text-center",children:[Object($.jsx)("span",{className:"#f4f3ef"===this.props.mainBgColor?"badge filter badge-dark active":"badge filter badge-dark",style:{backgroundColor:"#f4f3ef"},"data-color":"#f4f3ef",onClick:function(){e.props.handleMainBgClick("#f4f3ef"),e.setState({isColorPickerOpen:!1})}}),Object($.jsx)("span",{className:"#f4f3ef"!==this.props.mainBgColor?"badge filter badge-light active":"badge filter badge-light",style:{backgroundColor:"#f4f3ef"!==this.props.mainBgColor?this.props.mainBgColor:"white"},onClick:function(){e.toggleColorPicker()}})]})}),Object($.jsx)("li",{className:"header-title",children:this.props.labels&&this.props.labels.menuBg&&""!==this.props.labels.menuBg?this.props.labels.menuBg:"Kolor t\u0142a w menu"}),Object($.jsx)("li",{className:"adjustments-line",children:Object($.jsxs)("div",{className:"badge-colors text-center",children:[Object($.jsx)("span",{className:"black"===this.props.bgColor?"badge filter badge-dark active":"badge filter badge-dark",style:{backgroundColor:"#2c2c2c"},"data-color":"black",onClick:function(){e.props.handleBgClick("black")}}),Object($.jsx)("span",{className:"white"===this.props.bgColor?"badge filter badge-light active":"badge filter badge-light","data-color":"white",onClick:function(){e.props.handleBgClick("white")}})]})}),Object($.jsx)("li",{className:"header-title",children:this.props.labels&&this.props.labels.activeColor&&""!==this.props.labels.activeColor?this.props.labels.activeColor:"Kolor zaznaczania w menu"}),Object($.jsx)("li",{className:"adjustments-line",children:Object($.jsxs)("div",{className:"badge-colors text-center",children:[Object($.jsx)("span",{className:"primary"===this.props.activeColor?"badge filter badge-primary active":"badge filter badge-primary","data-color":"primary",onClick:function(){e.props.handleActiveClick("primary")}}),Object($.jsx)("span",{className:"info"===this.props.activeColor?"badge filter badge-info active":"badge filter badge-info","data-color":"info",onClick:function(){e.props.handleActiveClick("info")}}),Object($.jsx)("span",{className:"success"===this.props.activeColor?"badge filter badge-success active":"badge filter badge-success","data-color":"success",onClick:function(){e.props.handleActiveClick("success")}}),Object($.jsx)("span",{className:"warning"===this.props.activeColor?"badge filter badge-warning active":"badge filter badge-warning","data-color":"warning",onClick:function(){e.props.handleActiveClick("warning")}}),Object($.jsx)("span",{className:"danger"===this.props.activeColor?"badge filter badge-danger active":"badge filter badge-danger","data-color":"danger",onClick:function(){e.props.handleActiveClick("danger")}})]})})]})]})})}}]),r}(c.Component),_u=function(){var e=Object(c.useState)(!1),t=Object(A.a)(e,2),r=t[0],n=t[1],a=function(){return document.querySelector("#wrapper")};Object(c.useEffect)((function(){return a().addEventListener("scroll",o),function(){var e;null===(e=a())||void 0===e||e.removeEventListener("scroll",o)}}),[]);var o=function(){var e=a().scrollTop;e>300?n(!0):e<=300&&n(!1)};return Object($.jsx)("div",{className:"fixed-plugin",style:{marginBottom:"12vh",color:"#FFFFFF",display:r?"inline":"none"},children:Object($.jsx)("div",{children:Object($.jsxs)("div",{onClick:function(){a().scrollTop=0},children:[Object($.jsx)("i",{className:"fa fa-arrow-up fa-2x"})," ",Object($.jsx)("br",{}),"Do g\xf3ry"]})})})};var Ru=function(e){var t=Object(d.d)(),r=Object(b.e)().accounts,n=Object(c.useState)("black"),a=Object(A.a)(n,2),i=a[0],s=a[1],l=Object(c.useState)("#f4f3ef"),f=Object(A.a)(l,2),m=f[0],g=f[1],x=Object(c.useState)("success"),y=Object(A.a)(x,2),v=y[0],w=y[1],k=o.a.createRef(),S=Object(c.useState)([]),T=Object(A.a)(S,2),P=T[0],C=T[1],_=Object(d.e)((function(e){return e.global.user})),R=Object(p.a)("common"),I=R.t,N=R.i18n,z=Object(c.useState)({mainBg:"",menuBg:"",activeColor:""}),D=Object(A.a)(z,2),F=D[0],L=D[1];Object(c.useEffect)(Object(h.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:return t(Di()),t(Fi()),t(Ri()),""===_.userType&&t(Ni(r[0].idTokenClaims.oid)),navigator.platform.indexOf("Win")>-1&&(vu=new E.a("#wrapper")),U(),e.abrupt("return",(function(){navigator.platform.indexOf("Win")>-1&&vu.destroy()}));case 9:case"end":return e.stop()}}),e)}))),[]),Object(c.useEffect)((function(){U();var e={mainBg:I("fixedPlugin.mainBg"),menuBg:I("fixedPlugin.menuBg"),activeColor:I("fixedPlugin.activeColor")};L(e)}),[_.userType,N.language]);var U=function(){switch(_.userType){case"admin":C(ju(I));break;case"operator":C(Ou(I));break;case"client":C(bu(I));break;default:C(fu())}};return Object($.jsxs)("div",{className:"wrapper",id:"wrapper",style:{backgroundColor:m},children:[Object($.jsx)(Cu,Object(u.a)(Object(u.a)({},e),{},{userType:_.userType,routes:P,bgColor:i,activeColor:v})),Object($.jsxs)("div",{className:"main-panel",ref:k,style:{backgroundColor:m},children:[Object($.jsx)(ku,Object(u.a)(Object(u.a)({},e),{},{userType:_.userType,routes:P,t:I})),Object($.jsx)(j.c,{children:P.map((function(e,t){var r=e.component;return Object($.jsx)(j.a,{path:e.path,children:Object($.jsx)(r,{})},t)}))}),Object($.jsx)(Tu,{fluid:!0})]}),Object($.jsx)(Eu,{labels:F,bgColor:i,activeColor:v,mainBgColor:m,handleActiveClick:function(e){w(e)},handleBgClick:function(e){s(e)},handleMainBgClick:function(e){g(e)}}),Object($.jsx)(_u,{})]})};var Iu=function(e){var t=Object(b.e)().instance,r=Object(b.d)();return Object(c.useEffect)((function(){if(!r)try{t.loginRedirect().then((function(e){t.setActiveAccount(e.account),console.log(e)}))}catch(e){console.log(e)}}),[t,r]),Object($.jsx)($.Fragment,{})},Nu="https://aoperatbackend-prod.azurewebsites.net",zu={generateCertificate:function(e){return Du.apply(this,arguments)}};function Du(){return(Du=Object(h.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("json");case 2:return e.t0=e.sent,e.t1=JSON.stringify(t),r={method:"POST",headers:e.t0,body:e.t1},e.next=7,window.fetch("".concat(Nu,"/Certificate/generate"),r).then(Fu);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e){return e.text().then((function(t){var r=t&&JSON.parse(t);return e.ok?r:Promise.reject(r||e.statusText)}))}var Lu=function(e){var t=Object(b.e)().accounts,r=Object(d.d)(),n=Object(c.useState)(""),a=Object(A.a)(n,2),o=a[0],i=a[1],s=Object(c.useState)(""),l=Object(A.a)(s,2),u=l[0],p=l[1];return Object($.jsx)("div",{children:Object($.jsxs)(oo.a,{onSubmit:function(e){return function(e){var n,a;e.preventDefault();var c=(null!==(n=t[0].idTokenClaims.given_name)&&void 0!==n?n:"")+" "+(null!==(a=t[0].idTokenClaims.family_name)&&void 0!==a?a:""),i={operatorId:t[0].idTokenClaims.oid,nameLastName:c,certificatePassword:o,certificateSignDate:new Date};r(ue(q.LOADING,{message:"generateCertificate",translate:!0})),zu.generateCertificate(i).then((function(){r(pe())})).catch((function(e){return r(ue(q.ERROR_MESSAGE,{message:e}))}))}(e)},children:[Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"certificatePassword",children:"Has\u0142o do certyfikatu"}),Object($.jsx)(G.a,{type:"password",name:"certificatePassword",id:"certificatePassword",value:o,onChange:function(e){i(e.target.value)},required:!0})]}),Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"certificatePassword",children:"Powt\xf3rz has\u0142o"}),Object($.jsx)(G.a,{type:"password",name:"repeatPassword",id:"repeatPassword",value:u,onChange:function(e){p(e.target.value)},required:!0})]}),Object($.jsx)(W.a,{disabled:0===o.length||o!==u,style:{width:"100%"},color:"success",children:"Wygeneruj certyfikat"})]})})},Uu=r(239),Mu=r(241),Gu=r(252),Bu=function(){var e=Object(d.d)();return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Nie ma danych do wy\u015bwietlenia"}),pp(e)]})},Wu=function(){var e=Object(d.d)();return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Twoja Oferta zosta\u0142a wys\u0142ana"}),up(e)]})},Hu=function(){var e=Object(d.d)();return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Posiadasz za du\u017co plik\xf3w na swoim koncie"}),up(e)]})},Ku=function(){var e=Object(d.d)();return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Podczas promocji u\u017cytkownika wyst\u0105pi\u0142 b\u0142\u0105d, prawdopodnie u\u017cytkownik zosta\u0142 ju\u017c wypromowany."}),pp(e)]})},Vu=function(){var e=Object(d.d)();return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Operat zosta\u0142 pomy\u015blnie wys\u0142any"}),pp(e)]})},qu=function(){var e=Object(d.d)();return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Wybierz spos\xf3b w jaki chcesz podpisa\u0107 operat"}),jp(e)]})},Yu=function(){var e=Object(d.d)(),t=Object(d.e)((function(e){return e.operat.operat})),r=Object(c.useState)(""),n=Object(A.a)(r,2),a=n[0],o=n[1];return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Wybierz spos\xf3b w jaki chcesz podpisa\u0107 operat"}),Object($.jsxs)(Ss.a,{children:[Object($.jsxs)(B.a,{children:[Object($.jsx)(V.a,{children:Object($.jsx)(io.a,{children:Object($.jsx)(G.a,{type:"password",name:"certificatePassword",id:"certificatePassword",value:a,placeholder:"Has\u0142o do certyfikatu",onChange:function(e){return o(e.target.value)}})})}),Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{onClick:function(){e(ue(q.LOADING,{message:J})),ge.signPdf(t.id,{password:a}).then((function(){e(Er()),e(pe())})).catch((function(t){console.log(t),e(ue(q.ERROR_MESSAGE,{message:"signOperatFailed",translate:!0}))}))},style:{marginTop:"0px"},color:"success",children:"Podpisz operat"})})]}),Object($.jsx)(B.a,{children:Object($.jsxs)(V.a,{children:["Je\u017celi nie posiadasz certyfikatu:"," ",Object($.jsx)(W.a,{color:"link",onClick:function(){return e(ue(q.NEW_CERTIFICATE,{}))},children:"Przejd\u017a do generowania certyfikatu"})]})}),Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{color:"link",onClick:function(){return e(ue(q.SIGN_OPERAT,{}))},children:"Powr\xf3t"})})})]})]})},Ju=function(){var e=Object(d.d)();return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Generowanie nowego certyfikatu"}),Object($.jsxs)(Ss.a,{children:[Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{children:Object($.jsx)(Lu,{})})}),Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{children:Object($.jsx)(W.a,{style:{width:"100%"},onClick:function(){return e(ue(q.OWN_CERTIFICATE,{}))},children:"Anuluj"})})})]})]})},Zu=function(){var e=Object(d.e)((function(e){return e.modal.data})),t=Object(d.d)(),r=Object(p.a)("common").t;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:r&&r("modal.headers.error")}),Object($.jsx)(Ss.a,{children:!0===e.translate&&r?r("modal.messages.".concat(e.message)):e.message}),pp(t)]})},Xu=function(){var e=Object(p.a)("common").t,t=Object(d.e)((function(e){return e.modal.data}));return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:t.translate?e("modal.messages."+t.message):t.message}),dp()]})},Qu=function(){var e=Object(c.useState)([]),t=Object(A.a)(e,2),r=t[0],n=t[1],a=Object(d.d)(),o=Object(d.e)((function(e){return e.modal.data})),i=o.operat,s=Object(d.e)((function(e){return e.operat.operatTypeId}));Object(c.useEffect)(Object(h.a)(Object(O.a)().mark((function e(){var t,r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/Operat/my?pageNumber=1&pageSize=9999999&operatTypeId=".concat(s),e.next=3,he();case 3:e.t0=e.sent,r={method:"GET",headers:e.t0},Pc(t,r).then((function(e){return n(e)})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)}))),[]);var l=Object($.jsx)(Mu.a,{style:{overflow:"scroll",maxHeight:"67vh"},children:r.map((function(e){return Object($.jsxs)(Gu.a,{action:!0,onClick:Object(h.a)(Object(O.a)().mark((function t(){var r;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie()({title:"Ostrze\u017cenie",message:"Czy na pewno chcesz skopiowa\u0107 dane z tego operatu? Dane zostan\u0105 nadpisane",confirmText:"Kopiuj",cancelText:"Wr\xf3\u0107",confirmColor:"success",cancelColor:"link text-primary"});case 2:if(!t.sent){t.next=17;break}r=function(){a(pe()),a(Ji())},a(ue(q.LOADING,{message:"Trwa kopiowanie danych z operatu"})),t.t0=o.dataType,t.next="params"===t.t0?9:"csv"===t.t0?11:"photos"===t.t0?13:"weights"===t.t0?15:17;break;case 9:return et.copyOperatParams(e.id,i.id).then((function(){r()})),t.abrupt("break",17);case 11:return et.copyOperatCsv(e.id,i.id).then((function(){r()})),t.abrupt("break",17);case 13:return et.copyOperatPhotos(e.id,i.id).then((function(){r()})),t.abrupt("break",17);case 15:return et.copyOperatWeights(e.id,i.id).then((function(){r()})),t.abrupt("break",17);case 17:case"end":return t.stop()}}),t)}))),tag:"a",children:[Object($.jsxs)("p",{children:["Tytu\u0142: ",e.name]}),Object($.jsxs)("p",{children:["Data stworzenia: ",e.createdDateTime.split("T")[0]]})]},e.id)}))});return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Wybierz operat, z kt\xf3rego chcesz skopiowa\u0107 dane"}),Object($.jsx)(Ss.a,{children:r.length>0?l:"Brak operat\xf3w, z kt\xf3rych mo\u017cna by skopiowa\u0107 dane"}),pp(a,!0)]})},$u=function(){var e=Object(d.d)(),t=Object(c.useState)(""),r=Object(A.a)(t,2),n=r[0],a=r[1],o=Object(c.useState)([]),i=Object(A.a)(o,2),s=i[0],l=i[1],u=Object(c.useState)(!1),p=Object(A.a)(u,2),j=p[0],b=p[1],O=Object(d.e)((function(e){return e.modal.data}));return console.log(O),Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Wy\u015blij operat"}),Object($.jsxs)(Ss.a,{children:[Object($.jsxs)(oo.a,{onSubmit:function(e){e.preventDefault(),s.includes(n)||(a(""),l((function(e){return Object(Ze.a)(e).concat(n)})))},children:[Object($.jsxs)(io.a,{children:[Object($.jsx)(so.a,{for:"operat-email",children:"Podaj adres email"}),Object($.jsx)(G.a,{value:n,onChange:function(e){return a(e.target.value)},type:"email",name:"operat-email",required:!0})]}),O.operat.orderId!==Z.EMPTY_GUID&&Object($.jsx)(io.a,{row:!0,style:{marginLeft:"1em"},children:Object($.jsxs)(V.a,{children:[Object($.jsx)(G.a,{id:"checkbox2",type:"checkbox",checked:j,onChange:function(){return b((function(e){return!e}))}})," ",Object($.jsx)(so.a,{onClick:function(){return b((function(e){return!e}))},children:"Wys\u0142a\u0107 do zleceniodawcy?"})]})}),Object($.jsx)(W.a,{type:"submit",children:"Dodaj adres email"})]}),Object($.jsx)("ul",{class:"list-group",children:s.map((function(e,t){return Object($.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[e,Object($.jsx)("span",{onClick:function(){return l((function(t){return t.filter((function(t){return t!==e}))}))},children:Object($.jsx)("i",{className:"nc-icon nc-simple-remove"})})]},t)}))}),Object($.jsx)(W.a,{color:"success",disabled:0===s.length&&!1===j,onClick:function(){return O.sendFunction(O.operat.id,s,j)},children:"Wy\u015blij"})]}),pp(e,!0)]})},ep=function(){var e=Object(d.d)(),t=Object(d.e)((function(e){return e.modal.data})),r=Object(d.e)((function(e){return e.global.publicSettings})),n=t.orderId.split("-")[0];return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Op\u0142ata za operat"}),Object($.jsx)(Ss.a,{children:Object($.jsx)(B.a,{children:Object($.jsxs)(V.a,{children:["Tyty\u0142 przelewu: ",Object($.jsx)("b",{children:n}),Object($.jsx)("br",{}),"Nr konta: ",r.bankAccount,Object($.jsx)("br",{}),"Pe\u0142na nazwa firmy: ",r.companyName,Object($.jsx)("br",{}),"Adres: ",r.companyAddress]})})}),pp(e,!0)]})},tp=function(){var e=Object(d.d)(),t=Object(c.useState)(20),r=Object(A.a)(t,2),n=r[0],a=r[1],o=Object(c.useState)(200),i=Object(A.a)(o,2),s=i[0],l=i[1],u=Object(d.e)((function(e){return e.subscriptions.currentOperator}));function p(){return(p=Object(h.a)(Object(O.a)().mark((function t(){var r;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r={id:u.id,maxNrOfOperats:n,maxNrOfGenerations:s},e(yd(r));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Utw\xf3rz subskrypcj\u0119"}),Object($.jsxs)(oo.a,{id:"create-subscription-form",onSubmit:function(e){e.preventDefault(),function(){p.apply(this,arguments)}()},children:[Object($.jsxs)(Ss.a,{children:[Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{children:Object($.jsx)("h5",{children:"Operator"})})}),Object($.jsx)(B.a,{children:Object($.jsxs)(V.a,{children:[Object($.jsxs)("p",{children:[Object($.jsx)("b",{children:"Id:\xa0"}),u.id]}),Object($.jsxs)("p",{children:[Object($.jsx)("b",{children:"Nazwa:\xa0"}),u.name]})]})}),Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{children:Object($.jsx)("h5",{children:"Ustawienia subskrypcji"})})}),Object($.jsxs)(B.a,{children:[Object($.jsxs)(V.a,{children:[Object($.jsx)(so.a,{for:"subscription-max-nr-of-operats",children:Object($.jsx)("b",{children:"Limit tworzenia operat\xf3w:"})}),Object($.jsx)(G.a,{id:"subscription-max-nr-of-operats",type:"number",step:"1",min:"1",value:n,onChange:function(e){a(parseInt(e.target.value))}})]}),Object($.jsxs)(V.a,{children:[Object($.jsx)(so.a,{for:"subscription-max-nr-of-generations",children:Object($.jsx)("b",{children:"Limit tworzenia operat\xf3w:"})}),"ErrorMessage",Object($.jsx)(G.a,{id:"subscription-max-nr-of-generations",type:"number",step:"1",min:"1",value:s,onChange:function(e){l(parseInt(e.target.value))}})]})]})]}),Object($.jsxs)(Uu.a,{children:[Object($.jsx)(W.a,{color:"info",type:"submit",children:"Utw\xf3rz"}),Object($.jsx)(W.a,{color:"danger",onClick:function(){e(pe())},children:"Anuluj"})]})]})]})},rp=function(){var e=Object(d.d)(),t=Object(p.a)("common").t;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:t("modal.messages.subscriptionSaved")}),bp(e)]})},np=function(){var e=Object(d.d)(),t=Object(p.a)("common").t;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:t("modal.messages.confirmResetSubscriptions")}),Object($.jsxs)(Uu.a,{children:[Object($.jsx)(W.a,{color:"info",onClick:function(){e(pe()),e({type:uc})},children:"Ok"}),Object($.jsx)(W.a,{color:"danger",onClick:function(){e(pe())},children:"Anuluj"})]})]})},ap=function(){var e=Object(d.d)(),t=Object(p.a)("common").t;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:t("modal.messages.resetSubscriptionsSuccessful")}),bp(e)]})},cp=function(){var e=Object(d.d)(),t=Object(c.useState)(!0),r=Object(A.a)(t,2),n=r[0],a=r[1],o=Object(c.useState)([]),i=Object(A.a)(o,2),s=i[0],l=i[1],p=Object(c.useState)(!1),j=Object(A.a)(p,2),b=j[0],f=j[1],m=Object(c.useState)(!1),g=Object(A.a)(m,2),x=g[0],y=g[1],v=Object(c.useState)([]),w=Object(A.a)(v,2),k=w[0],S=w[1],T=Object(d.e)((function(e){return e.modal.data}));Object(c.useEffect)((function(){function e(){return(e=Object(h.a)(Object(O.a)().mark((function e(){var t,r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),t="/OperatFiles/id/".concat(T.id),e.next=4,he("json");case 4:e.t0=e.sent,r={method:"GET",headers:e.t0},Pc(t,r).then((function(e){var t=e.filter((function(e){return e.item1.includes("attachment")})).map((function(e){return{item1:e.item1.replace("attachment/",""),item2:e.item2}}));S(t)})).catch((function(e){})).finally((function(){a(!1)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[T.id]);var P=function(){var e=Object(h.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie()({title:Object($.jsx)($.Fragment,{children:"Ostrze\u017cenie"}),message:"Minimum jeden z plik\xf3w jest za du\u017cy.",buttonsComponent:function(e){var t=e.onClose;return Object($.jsx)("div",{children:Object($.jsx)(W.a,{color:"info",onClick:function(){return t(!0)},children:"Ok"})})}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(h.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie()({title:Object($.jsx)($.Fragment,{children:"Ostrze\u017cenie"}),message:"Limit plik\xf3w przekroczony.",buttonsComponent:function(e){var t=e.onClose;return Object($.jsx)("div",{children:Object($.jsx)(W.a,{color:"info",onClick:function(){return t(!0)},children:"Ok"})})}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){return s.map((function(e,t){return Object($.jsx)("tbody",{children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{scope:"row",children:t+1}),Object($.jsx)("td",{children:e.file.name}),Object($.jsx)("td",{children:Object($.jsx)(W.a,{color:"danger",onClick:function(){var t=s.filter((function(t){return t.id!==e.id}));l(t)},children:"Usu\u0144"})})]})},t)}))};function _(){return(_=Object(h.a)(Object(O.a)().mark((function t(){var r,n,a,c;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(ue(q.LOADING,{message:"Trwa wysy\u0142anie za\u0142\u0105cznik\xf3w"})),r=s.map((function(e){return e.file})),(n=new FormData).append("includeoc",b),n.append("includediploma",x),r.forEach((function(e){return n.append("additionalattachments",e)})),a="/OperatFiles/id/".concat(T.id,"/upload-attachments"),t.next=9,he();case 9:t.t0=t.sent,t.t1=n,c={method:"POST",headers:t.t0,body:t.t1},Pc(a,c).then((function(t){e(ue(q.CONFIRM_SUCCESS,{message:"Za\u0142\u0105czniki zosta\u0142y przes\u0142ane."}))})).catch((function(t){e(ue(q.CONFIRM_ERROR,{message:t.message}))}));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var R=Object(c.useCallback)((function(e,t,r,n,a,c){if(t.length>0)P();else if(e.length>0){var o=r.length;o+=n.filter((function(e){return!r.some((function(t){return t.item1===e.file.name}))})).length,!r.some((function(e){return"oc.pdf"===e.item1}))&&a&&(o+=1),!r.some((function(e){return"diploma.pdf"===e.item1}))&&c&&(o+=1);var i=e.filter((function(e){return!r.some((function(t){return t.item1===e.name}))}));if((o+=i.length)>20)return void C();var s=i.map((function(e){return{id:Object(Pa.a)(),file:e}}));l((function(e){return[].concat(Object(Ze.a)(e),Object(Ze.a)(s))}))}}),[]),I=Object(u.a)({},{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:20,borderColor:"#c2b7b7",borderStyle:"dashed",color:"#0e0c0c",outline:"none"}),N=Object(ms.a)({onDrop:function(e,t,r){return R(e,t,k,s,b,x)},multiple:!0,accept:".pdf",minSize:0,maxSize:5242880}),z=N.getRootProps,D=N.getInputProps;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Prze\u015blij za\u0142\u0105czniki"}),n?Object($.jsx)(ae,{}):Object($.jsxs)(Ss.a,{children:[Object($.jsx)("h5",{children:"Standardowe za\u0142\u0105czniki"}),Object($.jsxs)(B.a,{children:[Object($.jsxs)(V.a,{children:[Object($.jsx)(so.a,{for:"input-oc",children:"Za\u0142\u0105cz ubezpieczenie OC: "}),Object($.jsx)(G.a,{id:"input-oc",type:"checkbox",style:{marginLeft:"5px"},checked:b,onChange:function(e){var t=k.length+s.filter((function(e){return!k.some((function(t){return t.item1===e.file.name}))})).length,r=b||k.some((function(e){return"oc.pdf"===e.item1}))?t:t+1;!1===b&&r>20||f(!b)}})]}),Object($.jsxs)(V.a,{children:[Object($.jsx)(so.a,{for:"input-diploma",children:"Za\u0142\u0105cz dyplom:"}),Object($.jsx)(G.a,{id:"input-diploma",type:"checkbox",style:{marginLeft:"5px"},checked:x,onChange:function(e){var t=k.length+s.filter((function(e){return!k.some((function(t){return t.item1===e.file.name}))})).length,r=x||k.some((function(e){return"diploma.pdf"===e.item1}))?t:t+1;!1===x&&r>20||y(!x)}})]})]}),Object($.jsxs)(V.a,{children:[Object($.jsx)("h5",{style:{marginTop:"15px"},children:"Dodatkowe za\u0142\u0105czniki"}),Object($.jsxs)("div",Object(u.a)(Object(u.a)({},z({style:I})),{},{children:[Object($.jsx)("input",Object(u.a)({},D())),Object($.jsxs)("div",{children:[Object($.jsx)("p",{children:"Upu\u015b\u0107 lub kliknij aby wczytac pliki."}),Object($.jsxs)("p",{children:["Akceptowane formaty plik\xf3w to: ",Object($.jsx)("b",{children:"pdf"}),"."]}),Object($.jsx)("p",{children:"Maksymalna wielko\u015b\u0107 pliku to 5 MB."})]})]}))]}),s&&s.length>0&&Object($.jsxs)(V.a,{children:[Object($.jsx)("h5",{style:{marginTop:"15px"},children:"Pliki do wys\u0142ania"}),Object($.jsxs)(ul.a,{children:[Object($.jsx)("thead",{children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{children:"#"}),Object($.jsx)("th",{children:"Nazwa pliku"}),Object($.jsx)("th",{})]})}),E()]})]})]}),Object($.jsxs)(Uu.a,{children:[Object($.jsx)(W.a,{color:"info",onClick:function(){return _.apply(this,arguments)},children:"Wy\u015blij"}),Object($.jsx)(W.a,{color:"danger",onClick:function(){e(pe())},children:"Anuluj"})]})]})},op=function(){var e=Object(d.d)(),t=Object(c.useState)(!1),r=Object(A.a)(t,2),n=r[0],a=r[1],o=Object(d.e)((function(e){return e.modal.data}));function i(){return(i=Object(h.a)(Object(O.a)().mark((function t(){var r,n;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/Operat/id/".concat(o.id,"/join-attachments"),t.next=3,he();case 3:t.t0=t.sent,n={method:"POST",headers:t.t0},e(ue(q.LOADING,{message:"Trwa \u0142\u0105czenie plik\xf3w"})),Pc(r,n).then((function(t){e(ue(q.CONFIRM_SUCCESS,{message:"Pliki zosta\u0142y po\u0142\u0105czone z operatem."}))})).catch((function(t){e(ue(q.CONFIRM_ERROR,{message:t.message}))}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:"Zarz\u0105dzaj za\u0142\u0105cznikami"}),Object($.jsxs)(Ss.a,{children:[Object($.jsx)(B.a,{children:Object($.jsx)(W.a,{color:"info",onClick:function(){e(ue(q.ADD_ATTACHMENTS,{id:o.id}))},style:{width:"100%"},children:"Prze\u015blij za\u0142\u0105czniki"})}),Object($.jsx)(B.a,{children:Object($.jsx)(W.a,{color:"info",onClick:function(){return a(!n)},children:"Poka\u017c przes\u0142ane za\u0142\u0105czniki"})}),Object($.jsx)(B.a,{children:Object($.jsx)(D.a,{isOpen:n,children:Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{children:n&&Object($.jsx)(Op,{id:o.id})})})})}),Object($.jsx)(B.a,{children:Object($.jsx)(W.a,{color:"info",onClick:function(){return i.apply(this,arguments)},children:"Po\u0142\u0105cz pliki"})})]}),Object($.jsx)(Uu.a,{children:Object($.jsx)(W.a,{color:"danger",onClick:function(){e(pe())},children:"Anuluj"})})]})},ip=function(){var e=Object(d.d)(),t=Object(d.e)((function(e){return e.modal.data}));return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:" Sukces "}),Object($.jsxs)(Ss.a,{children:[" ",t.message]}),Object($.jsx)(Uu.a,{children:Object($.jsx)(W.a,{color:"info",onClick:function(){e(pe())},children:"Ok"})})]})},sp=function(){var e=Object(d.d)(),t=Object(d.e)((function(e){return e.modal.data}));return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ks.a,{children:" B\u0142\u0105d "}),Object($.jsxs)(Ss.a,{children:[" ",t.message," "]}),Object($.jsx)(Uu.a,{children:Object($.jsx)(W.a,{color:"info",onClick:function(){e(pe())},children:"Ok"})})]})},lp=function(e){return Object($.jsx)(B.a,{children:Object($.jsx)(V.a,{sm:"12",md:{size:3,offset:4},children:Object($.jsx)(Vo.a,{color:"primary",style:e,animation:"border",variant:"info",children:" "})})})},dp=function(){return Object($.jsx)(Ss.a,{children:lp({width:"8rem",height:"8rem"})})},up=function(e){return Object($.jsxs)(Ss.a,{children:[" ",lp({width:"6rem",height:"6rem"}),pp(e)]})},pp=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object($.jsx)(Uu.a,{children:Object($.jsx)(W.a,{color:"info",onClick:function(){e(pe())},children:t?"anuluj":"ok"})})},jp=function(e){return Object($.jsxs)(Uu.a,{children:[Object($.jsx)(W.a,{color:"info",href:"https://moj.gov.pl/nforms/signer/upload?xFormsAppName=SIGNER",target:"blank",children:"Profil zaufany"}),Object($.jsx)(W.a,{color:"info",onClick:function(){return e(ue(q.OWN_CERTIFICATE))},children:"W\u0142asny certyfikat"}),Object($.jsx)(W.a,{color:"danger",onClick:function(){e(pe())},children:"Anuluj"})]})};function bp(e){return Object($.jsx)(Uu.a,{children:Object($.jsx)(W.a,{color:"info",onClick:function(){e(pe()),e(gd())},children:"Ok"})})}function Op(e){var t=e.id,r=Object(c.useState)([]),n=Object(A.a)(r,2),a=n[0],o=n[1],i=Object(c.useState)(!0),s=Object(A.a)(i,2),l=s[0],d=s[1];Object(c.useEffect)((function(){function e(){return(e=Object(h.a)(Object(O.a)().mark((function e(){var r,n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),r="/OperatFiles/id/".concat(t),e.next=4,he("json");case 4:e.t0=e.sent,n={method:"GET",headers:e.t0},Pc(r,n).then((function(e){var t=e.filter((function(e){return e.item1.includes("attachment")})).map((function(e){return{item1:e.item1.replace("attachment/",""),item2:e.item2}}));o(t)})).catch((function(e){})).finally((function(){d(!1)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var u=function(){return a.map((function(e,t){return Object($.jsx)("tbody",{children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{scope:"row",children:t+1}),Object($.jsx)("td",{children:e.item1}),Object($.jsx)("td",{children:Object($.jsx)(W.a,{color:"danger",onClick:function(){return function(e){return p.apply(this,arguments)}(e.item1)},children:"Usu\u0144"})}),Object($.jsx)("td",{children:Object($.jsx)(W.a,{color:"info",onClick:function(){return function(e){ht.getFileBlob(e.item2,e.item1)}(e)},children:"Pobierz"})})]})},t)}))};function p(){return(p=Object(h.a)(Object(O.a)().mark((function e(r){var n,c;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),n="/OperatFiles/id/".concat(t,"/attachment/filename/").concat(r),e.next=4,he();case 4:e.t0=e.sent,c={method:"DELETE",headers:e.t0},Pc(n,c).then((function(e){var t=a.filter((function(e){return e.item1!==r}));o(t)})).catch((function(e){})).finally((function(){d(!1)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object($.jsx)($.Fragment,{children:l?Object($.jsx)(ae,{}):a&&Object($.jsxs)(ul.a,{children:[Object($.jsx)("thead",{children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{children:"#"}),Object($.jsx)("th",{children:"Nazwa pliku"}),Object($.jsx)("th",{})]})}),u()]})})}var hp=function(e){return e.modal||_n},fp=Object(cr.b)({showModal:Object(cr.a)(hp,(function(e){return e.showModal})),type:Object(cr.a)(hp,(function(e){return e.type})),data:Object(cr.a)(hp,(function(e){return e.data}))});var mp=Object(d.c)(fp,(function(e){return{handleShowLoadingScreen:function(){return e(ue())},handleHideLoadingScreen:function(){return e(pe())}}})),gp=Object(Nr.c)(mp,c.memo)((function(e){vc({key:"modal",reducer:Rn});return Object($.jsx)("div",{children:Object($.jsx)(ws.a,{isOpen:e.showModal,children:function(){switch(e.type){case q.SHOW_NO_DATA:return Object($.jsx)(Bu,{});case q.CONFIRM_SEND_PROPOSITION:return Object($.jsx)(Wu,{});case q.TOO_MUCH_OPERATOR_FILES:return Object($.jsx)(Hu,{});case q.PROMOTE_USER_ERROR:return Object($.jsx)(Ku,{});case q.SEND_OPERAT_CONFIRMATION:return Object($.jsx)(Vu,{});case q.SIGN_OPERAT:return Object($.jsx)(qu,{});case q.OWN_CERTIFICATE:return Object($.jsx)(Yu,{});case q.NEW_CERTIFICATE:return Object($.jsx)(Ju,{});case q.ERROR_MESSAGE:return Object($.jsx)(Zu,{});case q.LOADING:return Object($.jsx)(Xu,{});case q.OPERATS_LIST_MODAL:return Object($.jsx)(Qu,{});case q.SEND_OPERAT_MODAL:return Object($.jsx)($u,{});case q.PAY_FOR_OPERAT:return Object($.jsx)(ep,{});case q.CREATE_SUBSCRIPTION_FORM:return Object($.jsx)(tp,{});case q.CREATE_SUBSCRIPTION_SUCCESSFUL:return Object($.jsx)(rp,{});case q.CONFIRM_RESET_SUBSCRIPTIONS:return Object($.jsx)(np,{});case q.RESET_SUBSCRIPTIONS_SUCCESSFUL:return Object($.jsx)(ap,{});case q.ADD_ATTACHMENTS:return Object($.jsx)(cp,{});case q.ATTACHMENTS_OPTIONS:return Object($.jsx)(op,{});case q.CONFIRM_SUCCESS:return Object($.jsx)(ip,{});case q.CONFIRM_ERROR:return Object($.jsx)(sp,{})}}()})})})),xp=Object(O.a)().mark(Sp),yp=Object(O.a)().mark(Tp),vp=Object(O.a)().mark(Pp),wp=Object(O.a)().mark(Cp),kp=Object(O.a)().mark(Ap);function Sp(){var e,t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e="/OperatType",a.next=3,Object(wc.a)(he);case 3:return t=a.sent,r={method:"GET",headers:t},a.prev=5,a.next=8,Object(wc.a)(Pc,e,r);case 8:return n=a.sent,a.next=11,Object(wc.c)(Ii(n));case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(5),a.next=17,Object(wc.c)((c=a.t0,{type:Fr,payload:c}));case 17:case"end":return a.stop()}var c}),xp,null,[[5,13]])}function Tp(e){var t,r,n,a,c,o;return Object(O.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.id,i.next=3,Object(wc.a)(he);case 3:return r=i.sent,n={method:"GET",headers:r},a="",i.prev=6,i.next=9,Object(wc.a)(Pc,"/User/id/".concat(t),n);case 9:c=i.sent,i.t0=c,i.next="admin"===i.t0?13:"client"===i.t0?15:"operator"===i.t0?17:19;break;case 13:return a="/Admin/id/".concat(t),i.abrupt("break",19);case 15:return a="/Client/id/".concat(t),i.abrupt("break",19);case 17:return a="/Operator/id/".concat(t),i.abrupt("break",19);case 19:if(""!==a){i.next=24;break}return i.next=22,Object(wc.c)(zi("user not found"));case 22:i.next=33;break;case 24:return i.next=26,Object(wc.c)(ue(q.LOADING,{message:"loadingData",translate:!0}));case 26:return i.next=28,Object(wc.a)(Ec,a,n);case 28:return o=i.sent,i.next=31,Object(wc.c)({type:Ur,payload:{user:o,userType:c}});case 31:return i.next=33,Object(wc.c)(pe());case 33:i.next=41;break;case 35:return i.prev=35,i.t1=i.catch(6),i.next=39,Object(wc.c)(pe());case 39:return i.next=41,Object(wc.c)(zi(i.t1));case 41:case"end":return i.stop()}}),yp,null,[[6,35]])}function Pp(){var e,t,r,n,a,c,o,i;return Object(O.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e="/LandRegister/regions",t="/LandRegister/weights",r="/LandRegister/multipliers",s.next=5,Object(wc.a)(he);case 5:return n=s.sent,a={method:"GET",headers:n},s.prev=7,s.next=10,Object(wc.a)(Pc,e,a);case 10:return c=s.sent,s.next=13,Object(wc.a)(Pc,t,a);case 13:return o=s.sent,s.next=16,Object(wc.a)(Pc,r,a);case 16:return i=s.sent,s.next=19,Object(wc.c)({type:Br,payload:{regions:c,weights:o,multipliers:i}});case 19:s.next=24;break;case 21:s.prev=21,s.t0=s.catch(7),console.log(s.t0);case 24:case"end":return s.stop()}}),vp,null,[[7,21]])}function Cp(){var e,t,r,n;return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e="/Info/PublicSettings",a.next=3,Object(wc.a)(he);case 3:return t=a.sent,r={method:"GET",headers:t},a.prev=5,a.next=8,Object(wc.a)(Pc,e,r);case 8:return n=a.sent,a.next=11,Object(wc.c)({type:Hr,payload:n});case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(5),console.log(a.t0);case 16:case"end":return a.stop()}}),wp,null,[[5,13]])}function Ap(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wc.f)(zr,Sp);case 2:return e.next=4,Object(wc.f)(Lr,Tp);case 4:return e.next=6,Object(wc.f)(Gr,Pp);case 6:return e.next=8,Object(wc.f)(Wr,Cp);case 8:case"end":return e.stop()}}),kp)}r(523);var Ep=r(247),_p=r(249),Rp=r(248),Ip=r(227),Np=r(316),zp=r(578),Dp=r(15),Fp=function(e){return e.chat||$a},Lp=Object(O.a)().mark(Mp),Up=Object(O.a)().mark(Gp);function Mp(e){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(wc.c)(ko(e.user));case 2:return t.next=4,Object(wc.c)(So(e.user.id));case 4:return t.next=6,Object(wc.c)(To(!0));case 6:case"end":return t.stop()}}),Lp)}function Gp(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wc.g)(Qa,Mp);case 2:case"end":return e.stop()}}),Up)}var Bp="chat",Wp=Object(cr.b)({connection:Object(cr.a)(Fp,(function(e){return e.connection})),messages:Object(cr.a)(Fp,(function(e){return e.messages})),currentlyChatWith:Object(cr.a)(Fp,(function(e){return e.currentlyChatWith})),conversations:Object(cr.a)(Fp,(function(e){return e.conversations})),chatIsOpen:Object(cr.a)(Fp,(function(e){return e.chatIsOpen}))});var Hp=Object(d.c)(Wp,(function(e){return{handleLoadMessagesWithUser:function(t,r,n){return e(function(e,t,r){return{type:Wa,userId:e,messages:t,monthNames:r}}(t,r,n))},handleSetMessagesWithUser:function(t,r){return e(function(e,t){return{type:Va,userId:e,message:t}}(t,r))},handleSetConnection:function(t){return e({type:Ka,payload:t})},handleSetCurrentlyChatWith:function(t){return e(ko(t))},handleLoadConversations:function(t){return e({type:qa,payload:t})},handleMarkConversationAsRead:function(t){return e(So(t))},handleMarkConversationAsUnread:function(t){return e(function(e){return{type:Ja,payload:e}}(t))},handleSetChatIsOpen:function(t){return e(To(t))},handleToggleMessageVisible:function(t,r){return e(function(e,t){return{type:Xa,userId:e,messageId:t}}(t,r))},handleMarkMessagesAsSeen:function(t){return e(function(e){return{type:"MARK_MESSAGES_AS_SEEN",userId:e}}(t))},handleOpenChat:function(t,r){return e(function(e,t){return{type:Qa,user:e,connection:t}}(t,r))}}})),Kp=Object(Nr.c)(Hp,c.memo)((function(e){vc({key:Bp,reducer:tc}),ao({key:Bp,saga:Gp});var t=Object(b.e)().accounts,r=Object(p.a)("common").t,n=Object(c.useState)(!1),a=Object(A.a)(n,2),o=a[0],i=a[1],s=Object(c.useState)([]),l=Object(A.a)(s,2)[1],d=Object(c.useState)({}),u=Object(A.a)(d,2),j=u[0],f=u[1];function m(){return g.apply(this,arguments)}function g(){return(g=Object(h.a)(Object(O.a)().mark((function n(){var a;return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(a=(new zp.a).withUrl("https://aoperatbackend-prod.azurewebsites.net/chat").withAutomaticReconnect().configureLogging(Dp.a.Information).build()).on("ReceiveMessage",(function(t,n){var a={date:Ba(new Date,r("months",{returnObjects:!0})),id:Object(Pa.a)(),author:"them",data:{text:n},type:"text"};Qe("","Otrzyma\u0142e\u015b now\u0105 wiadomo\u015b\u0107, sprawd\u017a czat.","success"),e.handleSetMessagesWithUser(t,a),e.handleMarkConversationAsUnread(t)})),a.on("LoadMessages",(function(t,n){e.handleLoadMessagesWithUser(t,n,r("months",{returnObjects:!0}))})),a.on("SawMessages",(function(t){return e.handleMarkMessagesAsSeen(t)})),a.on("LoadConversations",(function(t){e.handleLoadConversations(t)})),a.onclose((function(t){e.handleSetConnection({})})),n.next=9,a.start();case 9:return n.next=11,a.invoke("JoinRoom",t[0].idTokenClaims.oid);case 11:f(a),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})))).apply(this,arguments)}Object(c.useEffect)((function(){function e(){return(e=Object(h.a)(Object(O.a)().mark((function e(){var t;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return e.next=4,he("json");case 4:e.t0=e.sent,t={method:"GET",headers:e.t0},fetch("https://aoperatbackend-prod.azurewebsites.net/Client?pageNumber=1&pageSize=999999",t).then((function(e){return e.json()})).then((function(e){return l(e)})).catch((function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var x=function(){var t=Object(h.a)(Object(O.a)().mark((function t(n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.invoke("SendPrivateMessage",e.currentlyChatWith.id,n.data.text?n.data.text:n.data.emoji);case 3:n.date=Ba(new Date,r("months",{returnObjects:!0})),n.id=Object(Pa.a)(),n.status="sent",e.handleSetMessagesWithUser(e.currentlyChatWith.id,n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}();Object(c.useEffect)(Object(h.a)(Object(O.a)().mark((function t(){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.currentlyChatWith.id){t.next=2;break}return t.abrupt("return");case 2:if(!1!==e.chatIsOpen){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,j.invoke("GetMessagesBetween2Users",e.currentlyChatWith.id);case 7:return t.next=9,j.invoke("SeeMessages",e.currentlyChatWith.id);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])}))),[e.chatIsOpen]);var y=function(){var t=Object(h.a)(Object(O.a)().mark((function t(r){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.handleOpenChat(r,j),i(!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(Ep.a,{toggle:function(){return i((function(e){return!e}))},isOpen:o,children:[Object($.jsx)(_p.a,{toggle:function(){return i((function(e){return!e}))},children:r("chat.conversations")}),Object($.jsx)(Rp.a,{children:Object($.jsx)(Mu.a,{className:"list-group-hover",style:{cursor:"pointer"},children:e.conversations&&e.conversations.map((function(e){return Object($.jsxs)(Gu.a,{className:"justify-content-between",style:{fontWeight:e.unread?"bold":"normal"},onClick:Object(h.a)(Object(O.a)().mark((function t(){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e.client);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),children:[e.client.name+" ",e.unread&&Object($.jsx)(Ip.a,{pill:!0,color:"primary",children:r("chat.new")})]},e.client.id)}))})})]}),Object($.jsx)(Np.a,{isOpen:e.chatIsOpen,handleClick:function(){e.chatIsOpen?e.handleSetChatIsOpen(!1):i(!0)},onMessageWasSent:function(){var e=Object(h.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),agentProfile:{teamName:e.currentlyChatWith.name&&e.currentlyChatWith.name},newMessagesCount:e.conversations?e.conversations.filter((function(e){return e.unread})).length:0,onMessageClick:function(t){e.handleToggleMessageVisible(e.currentlyChatWith.id,t.id)},messageList:Object.prototype.hasOwnProperty.call(e.messages,e.currentlyChatWith.id)&&e.messages[e.currentlyChatWith.id],showEmoji:!0})]})})),Vp=r(317),qp=r(128),Yp="global",Jp=function(e){var t=Object(b.e)().instance;vc({key:Yp,reducer:Vr}),ao({key:Yp,saga:Ap});var r=Object(p.a)("common").t;Object(c.useEffect)((function(){var r=t.addEventCallback((function(r){if(r.eventType===v.a.LOGIN_FAILURE&&(r.error&&r.error.errorMessage.indexOf("AADB2C90118")>-1&&(r.interactionType===w.g.Redirect?t.loginRedirect(T.forgotPassword):r.interactionType===w.g.Popup&&t.loginPopup(T.forgotPassword).catch((function(e){}))),r.error&&r.error.errorMessage.indexOf("AADB2C90091")>-1&&(r.interactionType===w.g.Redirect?t.loginRedirect(T.signUpSignIn):r.interactionType===w.g.Popup&&t.loginPopup(T.signUpSignIn).catch((function(e){})))),r.eventType===v.a.LOGIN_SUCCESS&&null!==r&&void 0!==r&&r.payload){var n=e.pca.getAllAccounts();if(n.length>0&&(e.pca.setActiveAccount(n[0]),e.handleLoadUser(n[0].idTokenClaims.oid),e.handleLoadEkwData(),e.handleLoadPublicSettings(),e.handleLoadOperatTypes()),r.payload.idTokenClaims.tfp===S.forgotPassword)return window.alert("Password has been reset successfully. \nPlease sign-in with your new password"),t.logout()}}));return function(){r&&t.removeEventCallback(r)}}),[t]);return Object($.jsxs)("div",{className:"App",children:[Object($.jsxs)(qp.b,{enableDeclineButton:!0,flipButtons:!0,onAccept:function(){var e;Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADB2C_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_AUTHORITY_DOMAIN:"aoperatpl.b2clogin.com",REACT_APP_ADB2C_EDIT_PROFILE_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_EDIT_PROFILE_POLICY:"b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_FORGOT_PASSWORD_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_FORGOT_PASSWORD_POLICY:"b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_KNOWN_AUTHORITIES:"aoperatpl.b2clogin.com",REACT_APP_ADB2C_LOGIN_SCOPES:"",REACT_APP_ADB2C_POST_LOGOUT_REDIRECT_URI:"/",REACT_APP_ADB2C_REDIRECT_URI:"/",REACT_APP_ADB2C_SIGNUP_SIGNIN_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_SIGNUP_SIGNIN_POLICY:"b2c_1_aoperatfrontendsignupsignin1",REACT_APP_API_URL:"https://aoperatbackend-prod.azurewebsites.net",REACT_APP_GOOGLE_API_URL:"https://maps.googleapis.com/maps/api/js?key="}).REACT_APP_GOOGLE_ANALYTICS_ID&&(e=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADB2C_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_AUTHORITY_DOMAIN:"aoperatpl.b2clogin.com",REACT_APP_ADB2C_EDIT_PROFILE_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_EDIT_PROFILE_POLICY:"b2c_1_aoperatfrontendeditprofile1",REACT_APP_ADB2C_FORGOT_PASSWORD_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_FORGOT_PASSWORD_POLICY:"b2c_1_aoperatfrontendforgotpassword1",REACT_APP_ADB2C_KNOWN_AUTHORITIES:"aoperatpl.b2clogin.com",REACT_APP_ADB2C_LOGIN_SCOPES:"",REACT_APP_ADB2C_POST_LOGOUT_REDIRECT_URI:"/",REACT_APP_ADB2C_REDIRECT_URI:"/",REACT_APP_ADB2C_SIGNUP_SIGNIN_AUTHORITY:"https://aoperatpl.b2clogin.com/aoperatpl.onmicrosoft.com/b2c_1_aoperatfrontendsignupsignin1",REACT_APP_ADB2C_SIGNUP_SIGNIN_POLICY:"b2c_1_aoperatfrontendsignupsignin1",REACT_APP_API_URL:"https://aoperatbackend-prod.azurewebsites.net",REACT_APP_GOOGLE_API_URL:"https://maps.googleapis.com/maps/api/js?key="}).REACT_APP_GOOGLE_ANALYTICS_ID,Vp.a(e))},onDecline:function(){qp.a.remove("_ga"),qp.a.remove("_gat"),qp.a.remove("_gid")},declineButtonText:r("cookies.declineButtonText"),buttonText:r("cookies.acceptButtonText"),buttonClasses:"btn",declineButtonClasses:"btn",buttonStyle:{color:"#FFFFFF",backgroundColor:"#6bd098"},declineButtonStyle:{color:"#FFFFFF",backgroundColor:"#ef8157"},children:[r("cookies.consentText")," ",Object($.jsx)("a",{href:"https://aoperat.pl/privacy-policy#cookie-section",rel:"noreferrer",target:"_blank",children:r("cookies.learnMoreText")})]}),Object($.jsx)(b.a,{children:Object($.jsx)(Zp,{})}),Object($.jsx)(b.c,{children:Object($.jsx)(Iu,{})})]})};function Zp(e){var t=Object(b.e)().instance,r=Object(p.a)("common").t;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(j.c,{children:Object($.jsx)(j.a,{path:"/",render:function(e){return Object($.jsx)(Ru,Object(u.a)(Object(u.a)({t:r},e),{},{account:t.getActiveAccount()}))}})}),Object($.jsx)(gp,{}),Object($.jsx)(Kp,{})]})}var Xp=Object(cr.b)({user:Yr()});var Qp=Object(d.c)(Xp,(function(e){return{handleLoadOperatTypes:function(){return e(Ri())},handleLoadEkwData:function(){return e(Di())},handleLoadPublicSettings:function(){return e(Fi())},handleLoadUser:function(t){return e(Ni(t))}}})),$p=Object(Nr.c)(Qp,c.memo)((function(e){vc({key:Yp,reducer:Vr}),ao({key:Yp,saga:Ap});var t=Object(j.f)(),r=new y(t);return e.pca.setNavigationClient(r),Object($.jsxs)(b.b,{instance:e.pca,children:[Object($.jsx)(Xe.ReactNotifications,{}),Object($.jsx)(Jp,{pca:e.pca,handleLoadUser:e.handleLoadUser,handleLoadOperatTypes:e.handleLoadOperatTypes,handleLoadPublicSettings:e.handleLoadPublicSettings,handleLoadEkwData:e.handleLoadEkwData})]})})),ej=r(575),tj=r(577),rj=r(287),nj=r(318);var aj=new tj.a(P),cj=aj.getAllAccounts();cj.length>0&&aj.setActiveAccount(cj[0]);var oj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=Nr.c,n=Object(nj.a)({}),a=[n,Object(rj.a)(t)],c=[Nr.a.apply(void 0,a)],o=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),i=Object(Nr.d)(gc(),o||e,r.apply(void 0,c));return i.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(r){}}(i.getState())})),i.runSaga=n.run,i.injectedReducers={},i.injectedSagas={},{store:i}}({},tn),ij=oj.store,sj=function(){return Object($.jsx)(d.a,{store:ij,children:Object($.jsx)(o.a.StrictMode,{children:Object($.jsx)(ej.a,{i18n:Vd,children:Object($.jsx)(l.a,{children:Object($.jsx)($p,{pca:aj})})})})})};s.a.render(Object($.jsx)(sj,{}),document.getElementById("root"))}},[[538,1,2]]]);
//# sourceMappingURL=main.226a8dba.chunk.js.map